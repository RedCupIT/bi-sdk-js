(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["coresdk"] = factory();
	else
		root["coresdk"] = factory();
})(self, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/backoffController.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-datafile-manager/lib/backoffController.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * Copyright 2019-2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
var config_1 = __webpack_require__(/*! ./config */ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/config.js");
function randomMilliseconds() {
    return Math.round(Math.random() * 1000);
}
var BackoffController = /** @class */ (function () {
    function BackoffController() {
        this.errorCount = 0;
    }
    BackoffController.prototype.getDelay = function () {
        if (this.errorCount === 0) {
            return 0;
        }
        var baseWaitSeconds = config_1.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(config_1.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length - 1, this.errorCount)];
        return baseWaitSeconds * 1000 + randomMilliseconds();
    };
    BackoffController.prototype.countError = function () {
        if (this.errorCount < config_1.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length - 1) {
            this.errorCount++;
        }
    };
    BackoffController.prototype.reset = function () {
        this.errorCount = 0;
    };
    return BackoffController;
}());
exports["default"] = BackoffController;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/browserDatafileManager.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-datafile-manager/lib/browserDatafileManager.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/**
 * Copyright 2019-2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
var browserRequest_1 = __webpack_require__(/*! ./browserRequest */ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/browserRequest.js");
var httpPollingDatafileManager_1 = __importDefault(__webpack_require__(/*! ./httpPollingDatafileManager */ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/httpPollingDatafileManager.js"));
var BrowserDatafileManager = /** @class */ (function (_super) {
    __extends(BrowserDatafileManager, _super);
    function BrowserDatafileManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BrowserDatafileManager.prototype.makeGetRequest = function (reqUrl, headers) {
        return browserRequest_1.makeGetRequest(reqUrl, headers);
    };
    BrowserDatafileManager.prototype.getConfigDefaults = function () {
        return {
            autoUpdate: false,
        };
    };
    return BrowserDatafileManager;
}(httpPollingDatafileManager_1.default));
exports["default"] = BrowserDatafileManager;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/browserRequest.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-datafile-manager/lib/browserRequest.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * Copyright 2019-2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
var config_1 = __webpack_require__(/*! ./config */ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/config.js");
var js_sdk_logging_1 = __webpack_require__(/*! @optimizely/js-sdk-logging */ "./node_modules/@optimizely/js-sdk-logging/lib/index.js");
var logger = js_sdk_logging_1.getLogger('DatafileManager');
var GET_METHOD = 'GET';
var READY_STATE_DONE = 4;
function parseHeadersFromXhr(req) {
    var allHeadersString = req.getAllResponseHeaders();
    if (allHeadersString === null) {
        return {};
    }
    var headerLines = allHeadersString.split('\r\n');
    var headers = {};
    headerLines.forEach(function (headerLine) {
        var separatorIndex = headerLine.indexOf(': ');
        if (separatorIndex > -1) {
            var headerName = headerLine.slice(0, separatorIndex);
            var headerValue = headerLine.slice(separatorIndex + 2);
            if (headerValue.length > 0) {
                headers[headerName] = headerValue;
            }
        }
    });
    return headers;
}
function setHeadersInXhr(headers, req) {
    Object.keys(headers).forEach(function (headerName) {
        var header = headers[headerName];
        req.setRequestHeader(headerName, header);
    });
}
function makeGetRequest(reqUrl, headers) {
    var req = new XMLHttpRequest();
    var responsePromise = new Promise(function (resolve, reject) {
        req.open(GET_METHOD, reqUrl, true);
        setHeadersInXhr(headers, req);
        req.onreadystatechange = function () {
            if (req.readyState === READY_STATE_DONE) {
                var statusCode = req.status;
                if (statusCode === 0) {
                    reject(new Error('Request error'));
                    return;
                }
                var headers_1 = parseHeadersFromXhr(req);
                var resp = {
                    statusCode: req.status,
                    body: req.responseText,
                    headers: headers_1,
                };
                resolve(resp);
            }
        };
        req.timeout = config_1.REQUEST_TIMEOUT_MS;
        req.ontimeout = function () {
            logger.error('Request timed out');
        };
        req.send();
    });
    return {
        responsePromise: responsePromise,
        abort: function () {
            req.abort();
        },
    };
}
exports.makeGetRequest = makeGetRequest;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/config.js":
/*!************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-datafile-manager/lib/config.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * Copyright 2019-2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DEFAULT_UPDATE_INTERVAL = 5 * 60 * 1000; // 5 minutes
exports.MIN_UPDATE_INTERVAL = 1000;
exports.DEFAULT_URL_TEMPLATE = "https://cdn.optimizely.com/datafiles/%s.json";
exports.DEFAULT_AUTHENTICATED_URL_TEMPLATE = "https://config.optimizely.com/datafiles/auth/%s.json";
exports.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT = [0, 8, 16, 32, 64, 128, 256, 512];
exports.REQUEST_TIMEOUT_MS = 60 * 1000; // 1 minute


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/eventEmitter.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-datafile-manager/lib/eventEmitter.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * Copyright 2019-2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
var EventEmitter = /** @class */ (function () {
    function EventEmitter() {
        this.listeners = {};
        this.listenerId = 1;
    }
    EventEmitter.prototype.on = function (eventName, listener) {
        var _this = this;
        if (!this.listeners[eventName]) {
            this.listeners[eventName] = {};
        }
        var currentListenerId = String(this.listenerId);
        this.listenerId++;
        this.listeners[eventName][currentListenerId] = listener;
        return function () {
            if (_this.listeners[eventName]) {
                delete _this.listeners[eventName][currentListenerId];
            }
        };
    };
    EventEmitter.prototype.emit = function (eventName, arg) {
        var listeners = this.listeners[eventName];
        if (listeners) {
            Object.keys(listeners).forEach(function (listenerId) {
                var listener = listeners[listenerId];
                listener(arg);
            });
        }
    };
    EventEmitter.prototype.removeAllListeners = function () {
        this.listeners = {};
    };
    return EventEmitter;
}());
exports["default"] = EventEmitter;
// TODO: Create a typed event emitter for use in TS only (not JS)


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/httpPollingDatafileManager.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-datafile-manager/lib/httpPollingDatafileManager.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/**
 * Copyright 2019-2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
var js_sdk_logging_1 = __webpack_require__(/*! @optimizely/js-sdk-logging */ "./node_modules/@optimizely/js-sdk-logging/lib/index.js");
var js_sdk_utils_1 = __webpack_require__(/*! @optimizely/js-sdk-utils */ "./node_modules/@optimizely/js-sdk-utils/lib/index.js");
var eventEmitter_1 = __importDefault(__webpack_require__(/*! ./eventEmitter */ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/eventEmitter.js"));
var config_1 = __webpack_require__(/*! ./config */ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/config.js");
var backoffController_1 = __importDefault(__webpack_require__(/*! ./backoffController */ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/backoffController.js"));
var logger = js_sdk_logging_1.getLogger('DatafileManager');
var UPDATE_EVT = 'update';
function isValidUpdateInterval(updateInterval) {
    return updateInterval >= config_1.MIN_UPDATE_INTERVAL;
}
function isSuccessStatusCode(statusCode) {
    return statusCode >= 200 && statusCode < 400;
}
var noOpKeyValueCache = {
    get: function () {
        return Promise.resolve('');
    },
    set: function () {
        return Promise.resolve();
    },
    contains: function () {
        return Promise.resolve(false);
    },
    remove: function () {
        return Promise.resolve();
    },
};
var HttpPollingDatafileManager = /** @class */ (function () {
    function HttpPollingDatafileManager(config) {
        var _this = this;
        var configWithDefaultsApplied = __assign(__assign({}, this.getConfigDefaults()), config);
        var datafile = configWithDefaultsApplied.datafile, _a = configWithDefaultsApplied.autoUpdate, autoUpdate = _a === void 0 ? false : _a, sdkKey = configWithDefaultsApplied.sdkKey, _b = configWithDefaultsApplied.updateInterval, updateInterval = _b === void 0 ? config_1.DEFAULT_UPDATE_INTERVAL : _b, _c = configWithDefaultsApplied.urlTemplate, urlTemplate = _c === void 0 ? config_1.DEFAULT_URL_TEMPLATE : _c, _d = configWithDefaultsApplied.cache, cache = _d === void 0 ? noOpKeyValueCache : _d;
        this.cache = cache;
        this.cacheKey = 'opt-datafile-' + sdkKey;
        this.isReadyPromiseSettled = false;
        this.readyPromiseResolver = function () { };
        this.readyPromiseRejecter = function () { };
        this.readyPromise = new Promise(function (resolve, reject) {
            _this.readyPromiseResolver = resolve;
            _this.readyPromiseRejecter = reject;
        });
        if (datafile) {
            this.currentDatafile = datafile;
            if (!sdkKey) {
                this.resolveReadyPromise();
            }
        }
        else {
            this.currentDatafile = '';
        }
        this.isStarted = false;
        this.datafileUrl = js_sdk_utils_1.sprintf(urlTemplate, sdkKey);
        this.emitter = new eventEmitter_1.default();
        this.autoUpdate = autoUpdate;
        if (isValidUpdateInterval(updateInterval)) {
            this.updateInterval = updateInterval;
        }
        else {
            logger.warn('Invalid updateInterval %s, defaulting to %s', updateInterval, config_1.DEFAULT_UPDATE_INTERVAL);
            this.updateInterval = config_1.DEFAULT_UPDATE_INTERVAL;
        }
        this.currentTimeout = null;
        this.currentRequest = null;
        this.backoffController = new backoffController_1.default();
        this.syncOnCurrentRequestComplete = false;
    }
    HttpPollingDatafileManager.prototype.get = function () {
        return this.currentDatafile;
    };
    HttpPollingDatafileManager.prototype.start = function () {
        if (!this.isStarted) {
            logger.debug('Datafile manager started');
            this.isStarted = true;
            this.backoffController.reset();
            this.setDatafileFromCacheIfAvailable();
            this.syncDatafile();
        }
    };
    HttpPollingDatafileManager.prototype.stop = function () {
        logger.debug('Datafile manager stopped');
        this.isStarted = false;
        if (this.currentTimeout) {
            clearTimeout(this.currentTimeout);
            this.currentTimeout = null;
        }
        this.emitter.removeAllListeners();
        if (this.currentRequest) {
            this.currentRequest.abort();
            this.currentRequest = null;
        }
        return Promise.resolve();
    };
    HttpPollingDatafileManager.prototype.onReady = function () {
        return this.readyPromise;
    };
    HttpPollingDatafileManager.prototype.on = function (eventName, listener) {
        return this.emitter.on(eventName, listener);
    };
    HttpPollingDatafileManager.prototype.onRequestRejected = function (err) {
        if (!this.isStarted) {
            return;
        }
        this.backoffController.countError();
        if (err instanceof Error) {
            logger.error('Error fetching datafile: %s', err.message, err);
        }
        else if (typeof err === 'string') {
            logger.error('Error fetching datafile: %s', err);
        }
        else {
            logger.error('Error fetching datafile');
        }
    };
    HttpPollingDatafileManager.prototype.onRequestResolved = function (response) {
        if (!this.isStarted) {
            return;
        }
        if (typeof response.statusCode !== 'undefined' && isSuccessStatusCode(response.statusCode)) {
            this.backoffController.reset();
        }
        else {
            this.backoffController.countError();
        }
        this.trySavingLastModified(response.headers);
        var datafile = this.getNextDatafileFromResponse(response);
        if (datafile !== '') {
            logger.info('Updating datafile from response');
            this.currentDatafile = datafile;
            this.cache.set(this.cacheKey, datafile);
            if (!this.isReadyPromiseSettled) {
                this.resolveReadyPromise();
            }
            else {
                var datafileUpdate = {
                    datafile: datafile,
                };
                this.emitter.emit(UPDATE_EVT, datafileUpdate);
            }
        }
    };
    HttpPollingDatafileManager.prototype.onRequestComplete = function () {
        if (!this.isStarted) {
            return;
        }
        this.currentRequest = null;
        if (!this.isReadyPromiseSettled && !this.autoUpdate) {
            // We will never resolve ready, so reject it
            this.rejectReadyPromise(new Error('Failed to become ready'));
        }
        if (this.autoUpdate && this.syncOnCurrentRequestComplete) {
            this.syncDatafile();
        }
        this.syncOnCurrentRequestComplete = false;
    };
    HttpPollingDatafileManager.prototype.syncDatafile = function () {
        var _this = this;
        var headers = {};
        if (this.lastResponseLastModified) {
            headers['if-modified-since'] = this.lastResponseLastModified;
        }
        logger.debug('Making datafile request to url %s with headers: %s', this.datafileUrl, function () { return JSON.stringify(headers); });
        this.currentRequest = this.makeGetRequest(this.datafileUrl, headers);
        var onRequestComplete = function () {
            _this.onRequestComplete();
        };
        var onRequestResolved = function (response) {
            _this.onRequestResolved(response);
        };
        var onRequestRejected = function (err) {
            _this.onRequestRejected(err);
        };
        this.currentRequest.responsePromise
            .then(onRequestResolved, onRequestRejected)
            .then(onRequestComplete, onRequestComplete);
        if (this.autoUpdate) {
            this.scheduleNextUpdate();
        }
    };
    HttpPollingDatafileManager.prototype.resolveReadyPromise = function () {
        this.readyPromiseResolver();
        this.isReadyPromiseSettled = true;
    };
    HttpPollingDatafileManager.prototype.rejectReadyPromise = function (err) {
        this.readyPromiseRejecter(err);
        this.isReadyPromiseSettled = true;
    };
    HttpPollingDatafileManager.prototype.scheduleNextUpdate = function () {
        var _this = this;
        var currentBackoffDelay = this.backoffController.getDelay();
        var nextUpdateDelay = Math.max(currentBackoffDelay, this.updateInterval);
        logger.debug('Scheduling sync in %s ms', nextUpdateDelay);
        this.currentTimeout = setTimeout(function () {
            if (_this.currentRequest) {
                _this.syncOnCurrentRequestComplete = true;
            }
            else {
                _this.syncDatafile();
            }
        }, nextUpdateDelay);
    };
    HttpPollingDatafileManager.prototype.getNextDatafileFromResponse = function (response) {
        logger.debug('Response status code: %s', response.statusCode);
        if (typeof response.statusCode === 'undefined') {
            return '';
        }
        if (response.statusCode === 304) {
            return '';
        }
        if (isSuccessStatusCode(response.statusCode)) {
            return response.body;
        }
        return '';
    };
    HttpPollingDatafileManager.prototype.trySavingLastModified = function (headers) {
        var lastModifiedHeader = headers['last-modified'] || headers['Last-Modified'];
        if (typeof lastModifiedHeader !== 'undefined') {
            this.lastResponseLastModified = lastModifiedHeader;
            logger.debug('Saved last modified header value from response: %s', this.lastResponseLastModified);
        }
    };
    HttpPollingDatafileManager.prototype.setDatafileFromCacheIfAvailable = function () {
        var _this = this;
        this.cache.get(this.cacheKey).then(function (datafile) {
            if (_this.isStarted && !_this.isReadyPromiseSettled && datafile !== '') {
                logger.debug('Using datafile from cache');
                _this.currentDatafile = datafile;
                _this.resolveReadyPromise();
            }
        });
    };
    return HttpPollingDatafileManager;
}());
exports["default"] = HttpPollingDatafileManager;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/index.browser.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-datafile-manager/lib/index.browser.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * Copyright 2019-2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
var browserDatafileManager_1 = __webpack_require__(/*! ./browserDatafileManager */ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/browserDatafileManager.js");
exports.HttpPollingDatafileManager = browserDatafileManager_1.default;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/eventDispatcher.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/eventDispatcher.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/eventProcessor.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/eventProcessor.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendEventNotification = exports.getQueue = exports.validateAndGetBatchSize = exports.validateAndGetFlushInterval = exports.DEFAULT_BATCH_SIZE = exports.DEFAULT_FLUSH_INTERVAL = void 0;
var eventQueue_1 = __webpack_require__(/*! ./eventQueue */ "./node_modules/@optimizely/js-sdk-event-processor/lib/eventQueue.js");
var js_sdk_logging_1 = __webpack_require__(/*! @optimizely/js-sdk-logging */ "./node_modules/@optimizely/js-sdk-logging/lib/index.js");
var js_sdk_utils_1 = __webpack_require__(/*! @optimizely/js-sdk-utils */ "./node_modules/@optimizely/js-sdk-utils/lib/index.js");
exports.DEFAULT_FLUSH_INTERVAL = 30000; // Unit is ms - default flush interval is 30s
exports.DEFAULT_BATCH_SIZE = 10;
var logger = js_sdk_logging_1.getLogger('EventProcessor');
function validateAndGetFlushInterval(flushInterval) {
    if (flushInterval <= 0) {
        logger.warn("Invalid flushInterval " + flushInterval + ", defaulting to " + exports.DEFAULT_FLUSH_INTERVAL);
        flushInterval = exports.DEFAULT_FLUSH_INTERVAL;
    }
    return flushInterval;
}
exports.validateAndGetFlushInterval = validateAndGetFlushInterval;
function validateAndGetBatchSize(batchSize) {
    batchSize = Math.floor(batchSize);
    if (batchSize < 1) {
        logger.warn("Invalid batchSize " + batchSize + ", defaulting to " + exports.DEFAULT_BATCH_SIZE);
        batchSize = exports.DEFAULT_BATCH_SIZE;
    }
    batchSize = Math.max(1, batchSize);
    return batchSize;
}
exports.validateAndGetBatchSize = validateAndGetBatchSize;
function getQueue(batchSize, flushInterval, sink, batchComparator) {
    var queue;
    if (batchSize > 1) {
        queue = new eventQueue_1.DefaultEventQueue({
            flushInterval: flushInterval,
            maxQueueSize: batchSize,
            sink: sink,
            batchComparator: batchComparator,
        });
    }
    else {
        queue = new eventQueue_1.SingleEventQueue({ sink: sink });
    }
    return queue;
}
exports.getQueue = getQueue;
function sendEventNotification(notificationCenter, event) {
    if (notificationCenter) {
        notificationCenter.sendNotifications(js_sdk_utils_1.NOTIFICATION_TYPES.LOG_EVENT, event);
    }
}
exports.sendEventNotification = sendEventNotification;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/eventQueue.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/eventQueue.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * Copyright 2019, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DefaultEventQueue = exports.SingleEventQueue = void 0;
var js_sdk_logging_1 = __webpack_require__(/*! @optimizely/js-sdk-logging */ "./node_modules/@optimizely/js-sdk-logging/lib/index.js");
var logger = js_sdk_logging_1.getLogger('EventProcessor');
var Timer = /** @class */ (function () {
    function Timer(_a) {
        var timeout = _a.timeout, callback = _a.callback;
        this.timeout = Math.max(timeout, 0);
        this.callback = callback;
    }
    Timer.prototype.start = function () {
        this.timeoutId = setTimeout(this.callback, this.timeout);
    };
    Timer.prototype.refresh = function () {
        this.stop();
        this.start();
    };
    Timer.prototype.stop = function () {
        if (this.timeoutId) {
            clearTimeout(this.timeoutId);
        }
    };
    return Timer;
}());
var SingleEventQueue = /** @class */ (function () {
    function SingleEventQueue(_a) {
        var sink = _a.sink;
        this.sink = sink;
    }
    SingleEventQueue.prototype.start = function () {
        // no-op
    };
    SingleEventQueue.prototype.stop = function () {
        // no-op
        return Promise.resolve();
    };
    SingleEventQueue.prototype.enqueue = function (event) {
        this.sink([event]);
    };
    return SingleEventQueue;
}());
exports.SingleEventQueue = SingleEventQueue;
var DefaultEventQueue = /** @class */ (function () {
    function DefaultEventQueue(_a) {
        var flushInterval = _a.flushInterval, maxQueueSize = _a.maxQueueSize, sink = _a.sink, batchComparator = _a.batchComparator;
        this.buffer = [];
        this.maxQueueSize = Math.max(maxQueueSize, 1);
        this.sink = sink;
        this.batchComparator = batchComparator;
        this.timer = new Timer({
            callback: this.flush.bind(this),
            timeout: flushInterval,
        });
        this.started = false;
    }
    DefaultEventQueue.prototype.start = function () {
        this.started = true;
        // dont start the timer until the first event is enqueued
    };
    DefaultEventQueue.prototype.stop = function () {
        this.started = false;
        var result = this.sink(this.buffer);
        this.buffer = [];
        this.timer.stop();
        return result;
    };
    DefaultEventQueue.prototype.enqueue = function (event) {
        if (!this.started) {
            logger.warn('Queue is stopped, not accepting event');
            return;
        }
        // If new event cannot be included into the current batch, flush so it can
        // be in its own new batch.
        var bufferedEvent = this.buffer[0];
        if (bufferedEvent && !this.batchComparator(bufferedEvent, event)) {
            this.flush();
        }
        // start the timer when the first event is put in
        if (this.buffer.length === 0) {
            this.timer.refresh();
        }
        this.buffer.push(event);
        if (this.buffer.length >= this.maxQueueSize) {
            this.flush();
        }
    };
    DefaultEventQueue.prototype.flush = function () {
        this.sink(this.buffer);
        this.buffer = [];
        this.timer.stop();
    };
    return DefaultEventQueue;
}());
exports.DefaultEventQueue = DefaultEventQueue;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/events.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/events.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.areEventContextsEqual = void 0;
function areEventContextsEqual(eventA, eventB) {
    var contextA = eventA.context;
    var contextB = eventB.context;
    return (contextA.accountId === contextB.accountId &&
        contextA.projectId === contextB.projectId &&
        contextA.clientName === contextB.clientName &&
        contextA.clientVersion === contextB.clientVersion &&
        contextA.revision === contextB.revision &&
        contextA.anonymizeIP === contextB.anonymizeIP &&
        contextA.botFiltering === contextB.botFiltering);
}
exports.areEventContextsEqual = areEventContextsEqual;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/index.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/**
 * Copyright 2019-2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./events */ "./node_modules/@optimizely/js-sdk-event-processor/lib/events.js"), exports);
__exportStar(__webpack_require__(/*! ./eventProcessor */ "./node_modules/@optimizely/js-sdk-event-processor/lib/eventProcessor.js"), exports);
__exportStar(__webpack_require__(/*! ./eventDispatcher */ "./node_modules/@optimizely/js-sdk-event-processor/lib/eventDispatcher.js"), exports);
__exportStar(__webpack_require__(/*! ./managed */ "./node_modules/@optimizely/js-sdk-event-processor/lib/managed.js"), exports);
__exportStar(__webpack_require__(/*! ./pendingEventsDispatcher */ "./node_modules/@optimizely/js-sdk-event-processor/lib/pendingEventsDispatcher.js"), exports);
__exportStar(__webpack_require__(/*! ./v1/buildEventV1 */ "./node_modules/@optimizely/js-sdk-event-processor/lib/v1/buildEventV1.js"), exports);
__exportStar(__webpack_require__(/*! ./v1/v1EventProcessor */ "./node_modules/@optimizely/js-sdk-event-processor/lib/v1/v1EventProcessor.js"), exports);


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/managed.js":
/*!************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/managed.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/pendingEventsDispatcher.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/pendingEventsDispatcher.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LocalStoragePendingEventsDispatcher = exports.PendingEventsDispatcher = void 0;
/**
 * Copyright 2019, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var js_sdk_logging_1 = __webpack_require__(/*! @optimizely/js-sdk-logging */ "./node_modules/@optimizely/js-sdk-logging/lib/index.js");
var pendingEventsStore_1 = __webpack_require__(/*! ./pendingEventsStore */ "./node_modules/@optimizely/js-sdk-event-processor/lib/pendingEventsStore.js");
var js_sdk_utils_1 = __webpack_require__(/*! @optimizely/js-sdk-utils */ "./node_modules/@optimizely/js-sdk-utils/lib/index.js");
var logger = js_sdk_logging_1.getLogger('EventProcessor');
var PendingEventsDispatcher = /** @class */ (function () {
    function PendingEventsDispatcher(_a) {
        var eventDispatcher = _a.eventDispatcher, store = _a.store;
        this.dispatcher = eventDispatcher;
        this.store = store;
    }
    PendingEventsDispatcher.prototype.dispatchEvent = function (request, callback) {
        this.send({
            uuid: js_sdk_utils_1.generateUUID(),
            timestamp: js_sdk_utils_1.getTimestamp(),
            request: request,
        }, callback);
    };
    PendingEventsDispatcher.prototype.sendPendingEvents = function () {
        var _this = this;
        var pendingEvents = this.store.values();
        logger.debug('Sending %s pending events from previous page', pendingEvents.length);
        pendingEvents.forEach(function (item) {
            try {
                _this.send(item, function () { });
            }
            catch (e) { }
        });
    };
    PendingEventsDispatcher.prototype.send = function (entry, callback) {
        var _this = this;
        this.store.set(entry.uuid, entry);
        this.dispatcher.dispatchEvent(entry.request, function (response) {
            _this.store.remove(entry.uuid);
            callback(response);
        });
    };
    return PendingEventsDispatcher;
}());
exports.PendingEventsDispatcher = PendingEventsDispatcher;
var LocalStoragePendingEventsDispatcher = /** @class */ (function (_super) {
    __extends(LocalStoragePendingEventsDispatcher, _super);
    function LocalStoragePendingEventsDispatcher(_a) {
        var eventDispatcher = _a.eventDispatcher;
        return _super.call(this, {
            eventDispatcher: eventDispatcher,
            store: new pendingEventsStore_1.LocalStorageStore({
                // TODO make this configurable
                maxValues: 100,
                key: 'fs_optly_pending_events',
            }),
        }) || this;
    }
    return LocalStoragePendingEventsDispatcher;
}(PendingEventsDispatcher));
exports.LocalStoragePendingEventsDispatcher = LocalStoragePendingEventsDispatcher;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/pendingEventsStore.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/pendingEventsStore.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LocalStorageStore = void 0;
/**
 * Copyright 2019, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var js_sdk_utils_1 = __webpack_require__(/*! @optimizely/js-sdk-utils */ "./node_modules/@optimizely/js-sdk-utils/lib/index.js");
var js_sdk_logging_1 = __webpack_require__(/*! @optimizely/js-sdk-logging */ "./node_modules/@optimizely/js-sdk-logging/lib/index.js");
var logger = js_sdk_logging_1.getLogger('EventProcessor');
var LocalStorageStore = /** @class */ (function () {
    function LocalStorageStore(_a) {
        var key = _a.key, _b = _a.maxValues, maxValues = _b === void 0 ? 1000 : _b;
        this.LS_KEY = key;
        this.maxValues = maxValues;
    }
    LocalStorageStore.prototype.get = function (key) {
        return this.getMap()[key] || null;
    };
    LocalStorageStore.prototype.set = function (key, value) {
        var map = this.getMap();
        map[key] = value;
        this.replace(map);
    };
    LocalStorageStore.prototype.remove = function (key) {
        var map = this.getMap();
        delete map[key];
        this.replace(map);
    };
    LocalStorageStore.prototype.values = function () {
        return js_sdk_utils_1.objectValues(this.getMap());
    };
    LocalStorageStore.prototype.clear = function () {
        this.replace({});
    };
    LocalStorageStore.prototype.replace = function (map) {
        try {
            // This is a temporary fix to support React Native which does not have localStorage.
            window.localStorage && localStorage.setItem(this.LS_KEY, JSON.stringify(map));
            this.clean();
        }
        catch (e) {
            logger.error(e);
        }
    };
    LocalStorageStore.prototype.clean = function () {
        var map = this.getMap();
        var keys = Object.keys(map);
        var toRemove = keys.length - this.maxValues;
        if (toRemove < 1) {
            return;
        }
        var entries = keys.map(function (key) { return ({
            key: key,
            value: map[key]
        }); });
        entries.sort(function (a, b) { return a.value.timestamp - b.value.timestamp; });
        for (var i = 0; i < toRemove; i++) {
            delete map[entries[i].key];
        }
        this.replace(map);
    };
    LocalStorageStore.prototype.getMap = function () {
        try {
            // This is a temporary fix to support React Native which does not have localStorage.
            var data = window.localStorage && localStorage.getItem(this.LS_KEY);
            if (data) {
                return JSON.parse(data) || {};
            }
        }
        catch (e) {
            logger.error(e);
        }
        return {};
    };
    return LocalStorageStore;
}());
exports.LocalStorageStore = LocalStorageStore;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/requestTracker.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/requestTracker.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * Copyright 2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
/**
 * RequestTracker keeps track of in-flight requests for EventProcessor using
 * an internal counter. It exposes methods for adding a new request to be
 * tracked, and getting a Promise representing the completion of currently
 * tracked requests.
 */
var RequestTracker = /** @class */ (function () {
    function RequestTracker() {
        this.reqsInFlightCount = 0;
        this.reqsCompleteResolvers = [];
    }
    /**
     * Track the argument request (represented by a Promise). reqPromise will feed
     * into the state of Promises returned by onRequestsComplete.
     * @param {Promise<void>} reqPromise
     */
    RequestTracker.prototype.trackRequest = function (reqPromise) {
        var _this = this;
        this.reqsInFlightCount++;
        var onReqComplete = function () {
            _this.reqsInFlightCount--;
            if (_this.reqsInFlightCount === 0) {
                _this.reqsCompleteResolvers.forEach(function (resolver) { return resolver(); });
                _this.reqsCompleteResolvers = [];
            }
        };
        reqPromise.then(onReqComplete, onReqComplete);
    };
    /**
     * Return a Promise that fulfills after all currently-tracked request promises
     * are resolved.
     * @return {Promise<void>}
     */
    RequestTracker.prototype.onRequestsComplete = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.reqsInFlightCount === 0) {
                resolve();
            }
            else {
                _this.reqsCompleteResolvers.push(resolve);
            }
        });
    };
    return RequestTracker;
}());
exports["default"] = RequestTracker;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/v1/buildEventV1.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/v1/buildEventV1.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.formatEvents = exports.buildConversionEventV1 = exports.buildImpressionEventV1 = exports.makeBatchedEventV1 = void 0;
var ACTIVATE_EVENT_KEY = 'campaign_activated';
var CUSTOM_ATTRIBUTE_FEATURE_TYPE = 'custom';
var BOT_FILTERING_KEY = '$opt_bot_filtering';
/**
 * Given an array of batchable Decision or ConversionEvent events it returns
 * a single EventV1 with proper batching
 *
 * @param {ProcessableEvent[]} events
 * @returns {EventV1}
 */
function makeBatchedEventV1(events) {
    var visitors = [];
    var data = events[0];
    events.forEach(function (event) {
        if (event.type === 'conversion' || event.type === 'impression') {
            var visitor = makeVisitor(event);
            if (event.type === 'impression') {
                visitor.snapshots.push(makeDecisionSnapshot(event));
            }
            else if (event.type === 'conversion') {
                visitor.snapshots.push(makeConversionSnapshot(event));
            }
            visitors.push(visitor);
        }
    });
    return {
        client_name: data.context.clientName,
        client_version: data.context.clientVersion,
        account_id: data.context.accountId,
        project_id: data.context.projectId,
        revision: data.context.revision,
        anonymize_ip: data.context.anonymizeIP,
        enrich_decisions: true,
        visitors: visitors,
    };
}
exports.makeBatchedEventV1 = makeBatchedEventV1;
function makeConversionSnapshot(conversion) {
    var tags = __assign({}, conversion.tags);
    delete tags['revenue'];
    delete tags['value'];
    var event = {
        entity_id: conversion.event.id,
        key: conversion.event.key,
        timestamp: conversion.timestamp,
        uuid: conversion.uuid,
    };
    if (conversion.tags) {
        event.tags = conversion.tags;
    }
    if (conversion.value != null) {
        event.value = conversion.value;
    }
    if (conversion.revenue != null) {
        event.revenue = conversion.revenue;
    }
    return {
        events: [event],
    };
}
function makeDecisionSnapshot(event) {
    var _a, _b;
    var layer = event.layer, experiment = event.experiment, variation = event.variation, ruleKey = event.ruleKey, flagKey = event.flagKey, ruleType = event.ruleType, enabled = event.enabled;
    var layerId = layer ? layer.id : null;
    var experimentId = (_a = experiment === null || experiment === void 0 ? void 0 : experiment.id) !== null && _a !== void 0 ? _a : '';
    var variationId = (_b = variation === null || variation === void 0 ? void 0 : variation.id) !== null && _b !== void 0 ? _b : '';
    var variationKey = variation ? variation.key : '';
    return {
        decisions: [
            {
                campaign_id: layerId,
                experiment_id: experimentId,
                variation_id: variationId,
                metadata: {
                    flag_key: flagKey,
                    rule_key: ruleKey,
                    rule_type: ruleType,
                    variation_key: variationKey,
                    enabled: enabled,
                },
            },
        ],
        events: [
            {
                entity_id: layerId,
                timestamp: event.timestamp,
                key: ACTIVATE_EVENT_KEY,
                uuid: event.uuid,
            },
        ],
    };
}
function makeVisitor(data) {
    var visitor = {
        snapshots: [],
        visitor_id: data.user.id,
        attributes: [],
    };
    data.user.attributes.forEach(function (attr) {
        visitor.attributes.push({
            entity_id: attr.entityId,
            key: attr.key,
            type: 'custom',
            value: attr.value,
        });
    });
    if (typeof data.context.botFiltering === 'boolean') {
        visitor.attributes.push({
            entity_id: BOT_FILTERING_KEY,
            key: BOT_FILTERING_KEY,
            type: CUSTOM_ATTRIBUTE_FEATURE_TYPE,
            value: data.context.botFiltering,
        });
    }
    return visitor;
}
/**
 * Event for usage with v1 logtier
 *
 * @export
 * @interface EventBuilderV1
 */
function buildImpressionEventV1(data) {
    var visitor = makeVisitor(data);
    visitor.snapshots.push(makeDecisionSnapshot(data));
    return {
        client_name: data.context.clientName,
        client_version: data.context.clientVersion,
        account_id: data.context.accountId,
        project_id: data.context.projectId,
        revision: data.context.revision,
        anonymize_ip: data.context.anonymizeIP,
        enrich_decisions: true,
        visitors: [visitor],
    };
}
exports.buildImpressionEventV1 = buildImpressionEventV1;
function buildConversionEventV1(data) {
    var visitor = makeVisitor(data);
    visitor.snapshots.push(makeConversionSnapshot(data));
    return {
        client_name: data.context.clientName,
        client_version: data.context.clientVersion,
        account_id: data.context.accountId,
        project_id: data.context.projectId,
        revision: data.context.revision,
        anonymize_ip: data.context.anonymizeIP,
        enrich_decisions: true,
        visitors: [visitor],
    };
}
exports.buildConversionEventV1 = buildConversionEventV1;
function formatEvents(events) {
    return {
        url: 'https://logx.optimizely.com/v1/events',
        httpVerb: 'POST',
        params: makeBatchedEventV1(events),
    };
}
exports.formatEvents = formatEvents;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-event-processor/lib/v1/v1EventProcessor.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-event-processor/lib/v1/v1EventProcessor.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LogTierV1EventProcessor = void 0;
/**
 * Copyright 2019-2020, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var js_sdk_logging_1 = __webpack_require__(/*! @optimizely/js-sdk-logging */ "./node_modules/@optimizely/js-sdk-logging/lib/index.js");
var eventProcessor_1 = __webpack_require__(/*! ../eventProcessor */ "./node_modules/@optimizely/js-sdk-event-processor/lib/eventProcessor.js");
var requestTracker_1 = __importDefault(__webpack_require__(/*! ../requestTracker */ "./node_modules/@optimizely/js-sdk-event-processor/lib/requestTracker.js"));
var events_1 = __webpack_require__(/*! ../events */ "./node_modules/@optimizely/js-sdk-event-processor/lib/events.js");
var buildEventV1_1 = __webpack_require__(/*! ./buildEventV1 */ "./node_modules/@optimizely/js-sdk-event-processor/lib/v1/buildEventV1.js");
var logger = js_sdk_logging_1.getLogger('LogTierV1EventProcessor');
var LogTierV1EventProcessor = /** @class */ (function () {
    function LogTierV1EventProcessor(_a) {
        var dispatcher = _a.dispatcher, _b = _a.flushInterval, flushInterval = _b === void 0 ? eventProcessor_1.DEFAULT_FLUSH_INTERVAL : _b, _c = _a.batchSize, batchSize = _c === void 0 ? eventProcessor_1.DEFAULT_BATCH_SIZE : _c, notificationCenter = _a.notificationCenter;
        this.dispatcher = dispatcher;
        this.notificationCenter = notificationCenter;
        this.requestTracker = new requestTracker_1.default();
        flushInterval = eventProcessor_1.validateAndGetFlushInterval(flushInterval);
        batchSize = eventProcessor_1.validateAndGetBatchSize(batchSize);
        this.queue = eventProcessor_1.getQueue(batchSize, flushInterval, this.drainQueue.bind(this), events_1.areEventContextsEqual);
    }
    LogTierV1EventProcessor.prototype.drainQueue = function (buffer) {
        var _this = this;
        var reqPromise = new Promise(function (resolve) {
            logger.debug('draining queue with %s events', buffer.length);
            if (buffer.length === 0) {
                resolve();
                return;
            }
            var formattedEvent = buildEventV1_1.formatEvents(buffer);
            _this.dispatcher.dispatchEvent(formattedEvent, function () {
                resolve();
            });
            eventProcessor_1.sendEventNotification(_this.notificationCenter, formattedEvent);
        });
        this.requestTracker.trackRequest(reqPromise);
        return reqPromise;
    };
    LogTierV1EventProcessor.prototype.process = function (event) {
        this.queue.enqueue(event);
    };
    LogTierV1EventProcessor.prototype.stop = function () {
        // swallow - an error stopping this queue shouldn't prevent this from stopping
        try {
            this.queue.stop();
            return this.requestTracker.onRequestsComplete();
        }
        catch (e) {
            logger.error('Error stopping EventProcessor: "%s"', e.message, e);
        }
        return Promise.resolve();
    };
    LogTierV1EventProcessor.prototype.start = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.queue.start();
                return [2 /*return*/];
            });
        });
    };
    return LogTierV1EventProcessor;
}());
exports.LogTierV1EventProcessor = LogTierV1EventProcessor;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-logging/lib/errorHandler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-logging/lib/errorHandler.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
/**
 * @export
 * @class NoopErrorHandler
 * @implements {ErrorHandler}
 */
var NoopErrorHandler = /** @class */ (function () {
    function NoopErrorHandler() {
    }
    /**
     * @param {Error} exception
     * @memberof NoopErrorHandler
     */
    NoopErrorHandler.prototype.handleError = function (exception) {
        // no-op
        return;
    };
    return NoopErrorHandler;
}());
exports.NoopErrorHandler = NoopErrorHandler;
var globalErrorHandler = new NoopErrorHandler();
/**
 * @export
 * @param {ErrorHandler} handler
 */
function setErrorHandler(handler) {
    globalErrorHandler = handler;
}
exports.setErrorHandler = setErrorHandler;
/**
 * @export
 * @returns {ErrorHandler}
 */
function getErrorHandler() {
    return globalErrorHandler;
}
exports.getErrorHandler = getErrorHandler;
/**
 * @export
 */
function resetErrorHandler() {
    globalErrorHandler = new NoopErrorHandler();
}
exports.resetErrorHandler = resetErrorHandler;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-logging/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-logging/lib/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", ({ value: true }));
/**
 * Copyright 2019, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
__export(__webpack_require__(/*! ./errorHandler */ "./node_modules/@optimizely/js-sdk-logging/lib/errorHandler.js"));
__export(__webpack_require__(/*! ./models */ "./node_modules/@optimizely/js-sdk-logging/lib/models.js"));
__export(__webpack_require__(/*! ./logger */ "./node_modules/@optimizely/js-sdk-logging/lib/logger.js"));


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-logging/lib/logger.js":
/*!***************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-logging/lib/logger.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
/**
 * Copyright 2019, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var errorHandler_1 = __webpack_require__(/*! ./errorHandler */ "./node_modules/@optimizely/js-sdk-logging/lib/errorHandler.js");
var js_sdk_utils_1 = __webpack_require__(/*! @optimizely/js-sdk-utils */ "./node_modules/@optimizely/js-sdk-utils/lib/index.js");
var models_1 = __webpack_require__(/*! ./models */ "./node_modules/@optimizely/js-sdk-logging/lib/models.js");
var stringToLogLevel = {
    NOTSET: 0,
    DEBUG: 1,
    INFO: 2,
    WARNING: 3,
    ERROR: 4,
};
function coerceLogLevel(level) {
    if (typeof level !== 'string') {
        return level;
    }
    level = level.toUpperCase();
    if (level === 'WARN') {
        level = 'WARNING';
    }
    if (!stringToLogLevel[level]) {
        return level;
    }
    return stringToLogLevel[level];
}
var DefaultLogManager = /** @class */ (function () {
    function DefaultLogManager() {
        this.defaultLoggerFacade = new OptimizelyLogger();
        this.loggers = {};
    }
    DefaultLogManager.prototype.getLogger = function (name) {
        if (!name) {
            return this.defaultLoggerFacade;
        }
        if (!this.loggers[name]) {
            this.loggers[name] = new OptimizelyLogger({ messagePrefix: name });
        }
        return this.loggers[name];
    };
    return DefaultLogManager;
}());
var ConsoleLogHandler = /** @class */ (function () {
    /**
     * Creates an instance of ConsoleLogger.
     * @param {ConsoleLogHandlerConfig} config
     * @memberof ConsoleLogger
     */
    function ConsoleLogHandler(config) {
        if (config === void 0) { config = {}; }
        this.logLevel = models_1.LogLevel.NOTSET;
        if (config.logLevel !== undefined && js_sdk_utils_1.isValidEnum(models_1.LogLevel, config.logLevel)) {
            this.setLogLevel(config.logLevel);
        }
        this.logToConsole = config.logToConsole !== undefined ? !!config.logToConsole : true;
        this.prefix = config.prefix !== undefined ? config.prefix : '[OPTIMIZELY]';
    }
    /**
     * @param {LogLevel} level
     * @param {string} message
     * @memberof ConsoleLogger
     */
    ConsoleLogHandler.prototype.log = function (level, message) {
        if (!this.shouldLog(level) || !this.logToConsole) {
            return;
        }
        var logMessage = this.prefix + " - " + this.getLogLevelName(level) + " " + this.getTime() + " " + message;
        this.consoleLog(level, [logMessage]);
    };
    /**
     * @param {LogLevel} level
     * @memberof ConsoleLogger
     */
    ConsoleLogHandler.prototype.setLogLevel = function (level) {
        level = coerceLogLevel(level);
        if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {
            this.logLevel = models_1.LogLevel.ERROR;
        }
        else {
            this.logLevel = level;
        }
    };
    /**
     * @returns {string}
     * @memberof ConsoleLogger
     */
    ConsoleLogHandler.prototype.getTime = function () {
        return new Date().toISOString();
    };
    /**
     * @private
     * @param {LogLevel} targetLogLevel
     * @returns {boolean}
     * @memberof ConsoleLogger
     */
    ConsoleLogHandler.prototype.shouldLog = function (targetLogLevel) {
        return targetLogLevel >= this.logLevel;
    };
    /**
     * @private
     * @param {LogLevel} logLevel
     * @returns {string}
     * @memberof ConsoleLogger
     */
    ConsoleLogHandler.prototype.getLogLevelName = function (logLevel) {
        switch (logLevel) {
            case models_1.LogLevel.DEBUG:
                return 'DEBUG';
            case models_1.LogLevel.INFO:
                return 'INFO ';
            case models_1.LogLevel.WARNING:
                return 'WARN ';
            case models_1.LogLevel.ERROR:
                return 'ERROR';
            default:
                return 'NOTSET';
        }
    };
    /**
     * @private
     * @param {LogLevel} logLevel
     * @param {string[]} logArguments
     * @memberof ConsoleLogger
     */
    ConsoleLogHandler.prototype.consoleLog = function (logLevel, logArguments) {
        switch (logLevel) {
            case models_1.LogLevel.DEBUG:
                console.log.apply(console, logArguments);
                break;
            case models_1.LogLevel.INFO:
                console.info.apply(console, logArguments);
                break;
            case models_1.LogLevel.WARNING:
                console.warn.apply(console, logArguments);
                break;
            case models_1.LogLevel.ERROR:
                console.error.apply(console, logArguments);
                break;
            default:
                console.log.apply(console, logArguments);
        }
    };
    return ConsoleLogHandler;
}());
exports.ConsoleLogHandler = ConsoleLogHandler;
var globalLogLevel = models_1.LogLevel.NOTSET;
var globalLogHandler = null;
var OptimizelyLogger = /** @class */ (function () {
    function OptimizelyLogger(opts) {
        if (opts === void 0) { opts = {}; }
        this.messagePrefix = '';
        if (opts.messagePrefix) {
            this.messagePrefix = opts.messagePrefix;
        }
    }
    /**
     * @param {(LogLevel | LogInputObject)} levelOrObj
     * @param {string} [message]
     * @memberof OptimizelyLogger
     */
    OptimizelyLogger.prototype.log = function (level, message) {
        var splat = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            splat[_i - 2] = arguments[_i];
        }
        this.internalLog(coerceLogLevel(level), {
            message: message,
            splat: splat,
        });
    };
    OptimizelyLogger.prototype.info = function (message) {
        var splat = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            splat[_i - 1] = arguments[_i];
        }
        this.namedLog(models_1.LogLevel.INFO, message, splat);
    };
    OptimizelyLogger.prototype.debug = function (message) {
        var splat = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            splat[_i - 1] = arguments[_i];
        }
        this.namedLog(models_1.LogLevel.DEBUG, message, splat);
    };
    OptimizelyLogger.prototype.warn = function (message) {
        var splat = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            splat[_i - 1] = arguments[_i];
        }
        this.namedLog(models_1.LogLevel.WARNING, message, splat);
    };
    OptimizelyLogger.prototype.error = function (message) {
        var splat = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            splat[_i - 1] = arguments[_i];
        }
        this.namedLog(models_1.LogLevel.ERROR, message, splat);
    };
    OptimizelyLogger.prototype.format = function (data) {
        return "" + (this.messagePrefix ? this.messagePrefix + ': ' : '') + js_sdk_utils_1.sprintf.apply(void 0, __spreadArrays([data.message], data.splat));
    };
    OptimizelyLogger.prototype.internalLog = function (level, data) {
        if (!globalLogHandler) {
            return;
        }
        if (level < globalLogLevel) {
            return;
        }
        globalLogHandler.log(level, this.format(data));
        if (data.error && data.error instanceof Error) {
            errorHandler_1.getErrorHandler().handleError(data.error);
        }
    };
    OptimizelyLogger.prototype.namedLog = function (level, message, splat) {
        var error;
        if (message instanceof Error) {
            error = message;
            message = error.message;
            this.internalLog(level, {
                error: error,
                message: message,
                splat: splat,
            });
            return;
        }
        if (splat.length === 0) {
            this.internalLog(level, {
                message: message,
                splat: splat,
            });
            return;
        }
        var last = splat[splat.length - 1];
        if (last instanceof Error) {
            error = last;
            splat.splice(-1);
        }
        this.internalLog(level, { message: message, error: error, splat: splat });
    };
    return OptimizelyLogger;
}());
var globalLogManager = new DefaultLogManager();
function getLogger(name) {
    return globalLogManager.getLogger(name);
}
exports.getLogger = getLogger;
function setLogHandler(logger) {
    globalLogHandler = logger;
}
exports.setLogHandler = setLogHandler;
function setLogLevel(level) {
    level = coerceLogLevel(level);
    if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {
        globalLogLevel = models_1.LogLevel.ERROR;
    }
    else {
        globalLogLevel = level;
    }
}
exports.setLogLevel = setLogLevel;
function getLogLevel() {
    return globalLogLevel;
}
exports.getLogLevel = getLogLevel;
/**
 * Resets all global logger state to it's original
 */
function resetLogger() {
    globalLogManager = new DefaultLogManager();
    globalLogLevel = models_1.LogLevel.NOTSET;
}
exports.resetLogger = resetLogger;


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-logging/lib/models.js":
/*!***************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-logging/lib/models.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
/**
 * Copyright 2019, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["NOTSET"] = 0] = "NOTSET";
    LogLevel[LogLevel["DEBUG"] = 1] = "DEBUG";
    LogLevel[LogLevel["INFO"] = 2] = "INFO";
    LogLevel[LogLevel["WARNING"] = 3] = "WARNING";
    LogLevel[LogLevel["ERROR"] = 4] = "ERROR";
})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));


/***/ }),

/***/ "./node_modules/@optimizely/js-sdk-utils/lib/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@optimizely/js-sdk-utils/lib/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
/**
 * Copyright 2019, Optimizely
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var uuid_1 = __webpack_require__(/*! uuid */ "./node_modules/uuid/index.js");
function generateUUID() {
    return uuid_1.v4();
}
exports.generateUUID = generateUUID;
function getTimestamp() {
    return new Date().getTime();
}
exports.getTimestamp = getTimestamp;
/**
 * Validates a value is a valid TypeScript enum
 *
 * @export
 * @param {object} enumToCheck
 * @param {*} value
 * @returns {boolean}
 */
function isValidEnum(enumToCheck, value) {
    var found = false;
    var keys = Object.keys(enumToCheck);
    for (var index = 0; index < keys.length; index++) {
        if (value === enumToCheck[keys[index]]) {
            found = true;
            break;
        }
    }
    return found;
}
exports.isValidEnum = isValidEnum;
function groupBy(arr, grouperFn) {
    var grouper = {};
    arr.forEach(function (item) {
        var key = grouperFn(item);
        grouper[key] = grouper[key] || [];
        grouper[key].push(item);
    });
    return objectValues(grouper);
}
exports.groupBy = groupBy;
function objectValues(obj) {
    return Object.keys(obj).map(function (key) { return obj[key]; });
}
exports.objectValues = objectValues;
function objectEntries(obj) {
    return Object.keys(obj).map(function (key) { return [key, obj[key]]; });
}
exports.objectEntries = objectEntries;
function find(arr, cond) {
    var found;
    for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
        var item = arr_1[_i];
        if (cond(item)) {
            found = item;
            break;
        }
    }
    return found;
}
exports.find = find;
function keyBy(arr, keyByFn) {
    var map = {};
    arr.forEach(function (item) {
        var key = keyByFn(item);
        map[key] = item;
    });
    return map;
}
exports.keyBy = keyBy;
function sprintf(format) {
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        args[_i - 1] = arguments[_i];
    }
    var i = 0;
    return format.replace(/%s/g, function () {
        var arg = args[i++];
        var type = typeof arg;
        if (type === 'function') {
            return arg();
        }
        else if (type === 'string') {
            return arg;
        }
        else {
            return String(arg);
        }
    });
}
exports.sprintf = sprintf;
/*
 * Notification types for use with NotificationCenter
 * Format is EVENT: <list of parameters to callback>
 *
 * SDK consumers can use these to register callbacks with the notification center.
 *
 *  @deprecated since 3.1.0
 *  ACTIVATE: An impression event will be sent to Optimizely
 *  Callbacks will receive an object argument with the following properties:
 *    - experiment {Object}
 *    - userId {string}
 *    - attributes {Object|undefined}
 *    - variation {Object}
 *    - logEvent {Object}
 *
 *  DECISION: A decision is made in the system. i.e. user activation,
 *  feature access or feature-variable value retrieval
 *  Callbacks will receive an object argument with the following properties:
 *    - type {string}
 *    - userId {string}
 *    - attributes {Object|undefined}
 *    - decisionInfo {Object|undefined}
 *
 *  LOG_EVENT: A batch of events, which could contain impressions and/or conversions,
 *  will be sent to Optimizely
 *  Callbacks will receive an object argument with the following properties:
 *    - url {string}
 *    - httpVerb {string}
 *    - params {Object}
 *
 *  OPTIMIZELY_CONFIG_UPDATE: This Optimizely instance has been updated with a new
 *  config
 *
 *  TRACK: A conversion event will be sent to Optimizely
 *  Callbacks will receive the an object argument with the following properties:
 *    - eventKey {string}
 *    - userId {string}
 *    - attributes {Object|undefined}
 *    - eventTags {Object|undefined}
 *    - logEvent {Object}
 *
 */
var NOTIFICATION_TYPES;
(function (NOTIFICATION_TYPES) {
    NOTIFICATION_TYPES["ACTIVATE"] = "ACTIVATE:experiment, user_id,attributes, variation, event";
    NOTIFICATION_TYPES["DECISION"] = "DECISION:type, userId, attributes, decisionInfo";
    NOTIFICATION_TYPES["LOG_EVENT"] = "LOG_EVENT:logEvent";
    NOTIFICATION_TYPES["OPTIMIZELY_CONFIG_UPDATE"] = "OPTIMIZELY_CONFIG_UPDATE";
    NOTIFICATION_TYPES["TRACK"] = "TRACK:event_key, user_id, attributes, event_tags, event";
})(NOTIFICATION_TYPES = exports.NOTIFICATION_TYPES || (exports.NOTIFICATION_TYPES = {}));


/***/ }),

/***/ "./node_modules/@optimizely/optimizely-sdk/dist/optimizely.browser.min.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@optimizely/optimizely-sdk/dist/optimizely.browser.min.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:!0}));var e,t=__webpack_require__(/*! @optimizely/js-sdk-logging */ "./node_modules/@optimizely/js-sdk-logging/lib/index.js"),r=__webpack_require__(/*! @optimizely/js-sdk-event-processor */ "./node_modules/@optimizely/js-sdk-event-processor/lib/index.js"),i=__webpack_require__(/*! @optimizely/js-sdk-utils */ "./node_modules/@optimizely/js-sdk-utils/lib/index.js"),n=(e=__webpack_require__(/*! murmurhash */ "./node_modules/murmurhash/murmurhash.js"))&&"object"==typeof e&&"default"in e?e.default:e,o=__webpack_require__(/*! @optimizely/js-sdk-datafile-manager */ "./node_modules/@optimizely/js-sdk-datafile-manager/lib/index.browser.js"),a=function(){return(a=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function s(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,n++)i[n]=o[a];return i}var u={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},l={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},E={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},I={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},c=i.NOTIFICATION_TYPES,f={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},_={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},d={RULE:"rule",EXPERIMENT:"experiment"},g={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},p={V2:"2",V3:"3",V4:"4"},O={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'},N=Object.freeze({__proto__:null,LOG_LEVEL:u,ERROR_MESSAGES:l,LOG_MESSAGES:E,CONTROL_ATTRIBUTES:I,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.9.1",NOTIFICATION_TYPES:c,DECISION_NOTIFICATION_TYPES:f,DECISION_SOURCES:_,AUDIENCE_EVALUATION_TYPES:d,FEATURE_VARIABLE_TYPES:g,DATAFILE_VERSIONS:p,DECISION_MESSAGES:O}),R="CONFIG_VALIDATOR",T=[p.V2,p.V3,p.V4],v=function(e){if("object"==typeof e&&null!==e){var t=e,r=t.errorHandler,n=t.eventDispatcher,o=t.logger;if(r&&"function"!=typeof r.handleError)throw new Error(i.sprintf(l.INVALID_ERROR_HANDLER,R));if(n&&"function"!=typeof n.dispatchEvent)throw new Error(i.sprintf(l.INVALID_EVENT_DISPATCHER,R));if(o&&"function"!=typeof o.log)throw new Error(i.sprintf(l.INVALID_LOGGER,R));return!0}throw new Error(i.sprintf(l.INVALID_CONFIG,R))},h=function(e){if(!e)throw new Error(i.sprintf(l.NO_DATAFILE_SPECIFIED,R));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(i.sprintf(l.INVALID_DATAFILE_MALFORMED,R))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===T.indexOf(e.version))throw new Error(i.sprintf(l.INVALID_DATAFILE_VERSION,R,e.version));return e};var y={handleError:function(){}},A=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},U={dispatchEvent:function(e,t){var r,i=e.params,n=e.url;"POST"===e.httpVerb?((r=new XMLHttpRequest).open("POST",n,!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t({statusCode:r.status})}catch(e){}},r.send(JSON.stringify(i))):(n+="?wxhr=true",i&&(n+="&"+A(i)),(r=new XMLHttpRequest).open("GET",n,!0),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t({statusCode:r.status})}catch(e){}},r.send())}},D=function(){function e(){}return e.prototype.log=function(){},e}();function S(e){return new t.ConsoleLogHandler(e)}var L,m,V=Object.freeze({__proto__:null,NoOpLogger:D,createLogger:S,createNoOpLogger:function(){return new D}});function C(e,t,r){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:r}}!function(e){e.BOOLEAN="boolean",e.DOUBLE="double",e.INTEGER="integer",e.STRING="string",e.JSON="json"}(L||(L={})),(m=exports.OptimizelyDecideOption||(exports.OptimizelyDecideOption={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",m.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",m.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",m.INCLUDE_REASONS="INCLUDE_REASONS",m.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var F=function(){function e(e){var t,r=e.optimizely,i=e.userId,n=e.attributes;this.optimizely=r,this.userId=i,this.attributes=null!==(t=a({},n))&&void 0!==t?t:{},this.forcedDecisionsMap={}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return a({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var r,i=e.flagKey,n=null!==(r=e.ruleKey)&&void 0!==r?r:I.FORCED_DECISION_NULL_RULE_KEY,o={variationKey:t.variationKey};return this.forcedDecisionsMap[i]||(this.forcedDecisionsMap[i]={}),this.forcedDecisionsMap[i][n]=o,!0},e.prototype.getForcedDecision=function(e){return this.findForcedDecision(e)},e.prototype.removeForcedDecision=function(e){var t,r=null!==(t=e.ruleKey)&&void 0!==t?t:I.FORCED_DECISION_NULL_RULE_KEY,i=e.flagKey,n=!1;this.forcedDecisionsMap.hasOwnProperty(i)&&(this.forcedDecisionsMap[i].hasOwnProperty(r)&&(delete this.forcedDecisionsMap[i][r],n=!0),0===Object.keys(this.forcedDecisionsMap[i]).length&&delete this.forcedDecisionsMap[i]);return n},e.prototype.removeAllForcedDecisions=function(){return this.forcedDecisionsMap={},!0},e.prototype.findForcedDecision=function(e){var t,r=null!==(t=e.ruleKey)&&void 0!==t?t:I.FORCED_DECISION_NULL_RULE_KEY,i=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var n=this.forcedDecisionsMap[i];if(n.hasOwnProperty(r))return{variationKey:n[r].variationKey}}return null},e.prototype.cloneUserContext=function(){var t=new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=a({},this.forcedDecisionsMap)),t},e}(),M=["and","or","not"];function P(e,t){if(Array.isArray(e)){var r=e[0],i=e.slice(1);switch("string"==typeof r&&-1===M.indexOf(r)&&(r="or",i=e),r){case"and":return function(e,t){var r=!1;if(Array.isArray(e)){for(var i=0;i<e.length;i++){var n=P(e[i],t);if(!1===n)return!1;null===n&&(r=!0)}return!r||null}return null}(i,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var r=P(e[0],t);return null===r?null:!r}return null}(i,t);default:return function(e,t){var r=!1;if(Array.isArray(e)){for(var i=0;i<e.length;i++){var n=P(e[i],t);if(!0===n)return!0;null===n&&(r=!0)}return!!r&&null}return null}(i,t)}}return t(e)}var b=function(){function e(t,r){var i,n;this.sdkKey=null!==(i=t.sdkKey)&&void 0!==i?i:"",this.environmentKey=null!==(n=t.environmentKey)&&void 0!==n?n:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var o=(t.featureFlags||[]).reduce((function(e,t){return e[t.id]=t.variables,e}),{}),a=e.getExperimentsMapById(t,o);this.experimentsMap=e.getExperimentsKeyMap(a),this.featuresMap=e.getFeaturesMap(t,o,a),this.datafile=r}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],r=[];return(e.typedAudiences||[]).forEach((function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),r.push(e.id)})),(e.audiences||[]).forEach((function(e){-1===r.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})})),t},e.getSerializedAudiences=function(t,r){var i="";if(t){var n="";t.forEach((function(t){var o="";if(t instanceof Array)o="("+(o=e.getSerializedAudiences(t,r))+")";else if(M.indexOf(t)>-1)n=t.toUpperCase();else{var a=r[t]?r[t].name:t;i||"NOT"===n?(n=""===n?"OR":n,i=""===i?n+' "'+r[t].name+'"':i.concat(" "+n+' "'+a+'"')):i='"'+a+'"'}""!==o&&(""!==i||"NOT"===n?(n=""===n?"OR":n,i=""===i?n+" "+o:i.concat(" "+n+" "+o)):i=i.concat(o))}))}return i},e.getExperimentAudiences=function(t,r){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,r.audiencesById):""},e.mergeFeatureVariables=function(e,t,r,i,n){var o=(e[r]||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{});return(i||[]).forEach((function(e){var r=t[e.id],i={id:e.id,key:r.key,type:r.type,value:n?e.value:r.defaultValue};o[r.key]=i})),o},e.getVariationsMap=function(t,r,i,n){return t.reduce((function(t,o){var a=e.mergeFeatureVariables(r,i,n,o.variables,o.featureEnabled);return t[o.key]={id:o.id,key:o.key,featureEnabled:o.featureEnabled,variablesMap:a},t}),{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce((function(e,t){return t.variables.forEach((function(t){e[t.id]=t})),e}),{})},e.getDeliveryRules=function(t,r,i,n){var o=e.getVariableIdMap(t);return n.map((function(n){return{id:n.id,key:n.key,audiences:e.getExperimentAudiences(n,t),variationsMap:e.getVariationsMap(n.variations,r,o,i)}}))},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach((function(e){e.experiments.forEach((function(e){t.push(e.id)}))})),t},e.getExperimentsMapById=function(t,r){var i=e.getVariableIdMap(t),n=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce((function(o,a){if(-1===n.indexOf(a.id)){var s=t.experimentFeatureMap[a.id],u="";s&&s.length>0&&(u=s[0]);var l=e.getVariationsMap(a.variations,r,i,u.toString());o[a.id]={id:a.id,key:a.key,audiences:e.getExperimentAudiences(a,t),variationsMap:l}}return o}),{})},e.getExperimentsKeyMap=function(e){var t={};for(var r in e){var i=e[r];t[i.key]=i}return t},e.getFeaturesMap=function(t,r,i){var n={};return t.featureFlags.forEach((function(o){var a={},s=[];o.experimentIds.forEach((function(e){var t=i[e];t&&(a[t.key]=t),s.push(i[e])}));var u=(o.variables||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{}),l=[],E=t.rolloutIdMap[o.rolloutId];E&&(l=e.getDeliveryRules(t,r,o.id,E.experiments)),n[o.key]={id:o.id,key:o.key,experimentRules:s,deliveryRules:l,experimentsMap:a,variablesMap:u}})),n},e}();var k=Math.pow(2,53);var B={assign:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,s([e],t));for(var i=Object(e),n=0;n<t.length;n++){var o=t[n];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&Math.abs(e)<=k},keyBy:function(e,t){return e?i.keyBy(e,(function(e){return e[t]})):{}},uuid:i.generateUUID,isNumber:function(e){return"number"==typeof e}},K="PROJECT_CONFIG";var x=function(e,t){void 0===t&&(t=null);var r,n,o,a,s=(r=e,(a=B.assign({},r)).audiences=(r.audiences||[]).map((function(e){return B.assign({},e)})),a.experiments=(r.experiments||[]).map((function(e){return B.assign({},e)})),a.featureFlags=(r.featureFlags||[]).map((function(e){return B.assign({},e)})),a.groups=(r.groups||[]).map((function(e){var t=B.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return B.assign({},e)})),t})),a.rollouts=(r.rollouts||[]).map((function(e){var t=B.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return B.assign({},e)})),t})),a.environmentKey=null!==(n=r.environmentKey)&&void 0!==n?n:"",a.sdkKey=null!==(o=r.sdkKey)&&void 0!==o?o:"",a);return s.__datafileStr=null===t?JSON.stringify(e):t,(s.audiences||[]).forEach((function(e){e.conditions=JSON.parse(e.conditions)})),s.audiencesById=B.keyBy(s.audiences,"id"),B.assign(s.audiencesById,B.keyBy(s.typedAudiences,"id")),s.attributeKeyMap=B.keyBy(s.attributes,"key"),s.eventKeyMap=B.keyBy(s.events,"key"),s.groupIdMap=B.keyBy(s.groups,"id"),Object.keys(s.groupIdMap||{}).forEach((function(e){(s.groupIdMap[e].experiments||[]).forEach((function(t){s.experiments.push(B.assign(t,{groupId:e}))}))})),s.rolloutIdMap=B.keyBy(s.rollouts||[],"id"),i.objectValues(s.rolloutIdMap||{}).forEach((function(e){(e.experiments||[]).forEach((function(e){s.experiments.push(e),e.variationKeyMap=B.keyBy(e.variations,"key")}))})),s.experimentKeyMap=B.keyBy(s.experiments,"key"),s.experimentIdMap=B.keyBy(s.experiments,"id"),s.variationIdMap={},s.variationVariableUsageMap={},(s.experiments||[]).forEach((function(e){e.variationKeyMap=B.keyBy(e.variations,"key"),B.assign(s.variationIdMap,B.keyBy(e.variations,"id")),i.objectValues(e.variationKeyMap||{}).forEach((function(e){e.variables&&(s.variationVariableUsageMap[e.id]=B.keyBy(e.variables,"id"))}))})),s.experimentFeatureMap={},s.featureKeyMap=B.keyBy(s.featureFlags||[],"key"),i.objectValues(s.featureKeyMap||{}).forEach((function(e){e.variables.forEach((function(e){e.type===g.STRING&&e.subType===g.JSON&&(e.type=g.JSON,delete e.subType)})),e.variableKeyMap=B.keyBy(e.variables,"key"),(e.experimentIds||[]).forEach((function(t){s.experimentFeatureMap[t]?s.experimentFeatureMap[t].push(e.id):s.experimentFeatureMap[t]=[e.id]}))})),s.flagRulesMap={},(s.featureFlags||[]).forEach((function(e){var t=[];e.experimentIds.forEach((function(e){var r=s.experimentIdMap[e];r&&t.push(r)}));var r=s.rolloutIdMap[e.rolloutId];r&&t.push.apply(t,r.experiments),s.flagRulesMap[e.key]=t})),s.flagVariationsMap={},i.objectEntries(s.flagRulesMap||{}).forEach((function(e){var t=e[0],r=e[1],n=[];r.forEach((function(e){e.variations.forEach((function(e){i.find(n,(function(t){return t.id===e.id}))||n.push(e)}))})),s.flagVariationsMap[t]=n})),s},G=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(i.sprintf(l.INVALID_EXPERIMENT_ID,K,t));return r.layerId},w=function(e,t,r){var i=e.attributeKeyMap[t],n=0===t.indexOf("$opt_");return i?(n&&r.log(u.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),i.id):n?t:(r.log(u.DEBUG,l.UNRECOGNIZED_ATTRIBUTE,K,t),null)},j=function(e,t){var r=e.eventKeyMap[t];return r?r.id:null},H=function(e,t){var r=e.experimentKeyMap[t];if(!r)throw new Error(i.sprintf(l.INVALID_EXPERIMENT_KEY,K,t));return r.status},Y=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},X=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var r=e.experimentKeyMap[t];if(r)return r}throw new Error(i.sprintf(l.EXPERIMENT_KEY_NOT_IN_DATAFILE,K,t))},z=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(i.sprintf(l.INVALID_EXPERIMENT_ID,K,t));return r.trafficAllocation},J=function(e,t,r){if(e.experimentIdMap.hasOwnProperty(t)){var i=e.experimentIdMap[t];if(i)return i}return r.log(u.ERROR,l.INVALID_EXPERIMENT_ID,K,t),null},Z=function(e,t,r){if(!e)return null;var n=e.flagVariationsMap[t],o=i.find(n,(function(e){return e.key===r}));return o||null},W=function(e,t,r){if(e.featureKeyMap.hasOwnProperty(t)){var i=e.featureKeyMap[t];if(i)return i}return r.log(u.ERROR,l.FEATURE_NOT_IN_DATAFILE,K,t),null},q=function(e){return e.__datafileStr},$=function(e){var t;try{t=h(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(u.INFO,E.VALID_DATAFILE,K)}catch(e){return{configObj:null,error:e}}else e.logger.log(u.INFO,E.SKIPPING_JSON_VALIDATION,K);var r=[t];return"string"==typeof e.datafile&&r.push(e.datafile),{configObj:x.apply(void 0,r),error:null}},Q=function(e){return!!e.sendFlagDecisions},ee=t.getLogger();function te(e,t){return e instanceof Error?e.message:t||"Unknown error"}var re=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=new Error(i.sprintf(l.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:te(t)}),void ee.error(t)}var r=null;e.datafile&&(r=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:te(r,"Invalid datafile")})}catch(e){ee.error(e),this.readyPromise=Promise.resolve({success:!1,reason:te(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:te(e)}:{success:!0}}return{success:!1,reason:te(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:te(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=$({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:ee}),r=t.configObj,i=t.error;if(i)ee.error(i);else{var n=this.configObj?this.configObj.revision:"null";r&&n!==r.revision&&(this.configObj=r,this.optimizelyConfigObj=null,this.updateListeners.forEach((function(e){return e(r)})))}return i},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){var e,t;return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=(e=this.configObj,t=q(this.configObj),new b(e,t))),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var r=t.updateListeners.indexOf(e);r>-1&&t.updateListeners.splice(r,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}();var ie=Math.pow(2,32),ne=function(e){var t=[],r=e.experimentIdMap[e.experimentId].groupId;if(r){var n=e.groupIdMap[r];if(!n)throw new Error(i.sprintf(l.INVALID_GROUP_ID,"BUCKETER",r));if("random"===n.policy){var o=oe(n,e.bucketingId,e.userId,e.logger);if(null===o)return e.logger.log(u.INFO,E.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,r),t.push([E.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,r]),{result:null,reasons:t};if(o!==e.experimentId)return e.logger.log(u.INFO,E.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r),t.push([E.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r]),{result:null,reasons:t};e.logger.log(u.INFO,E.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r),t.push([E.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r])}}var a=""+e.bucketingId+e.experimentId,s=se(a);e.logger.log(u.DEBUG,E.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",s,e.userId),t.push([E.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",s,e.userId]);var I=ae(s,e.trafficAllocationConfig);return null===I||e.variationIdMap[I]?{result:I,reasons:t}:(I&&(e.logger.log(u.WARNING,E.INVALID_VARIATION_ID,"BUCKETER"),t.push([E.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},oe=function(e,t,r,i){var n=""+t+e.id,o=se(n);i.log(u.DEBUG,E.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,r);var a=e.trafficAllocation;return ae(o,a)},ae=function(e,t){for(var r=0;r<t.length;r++)if(e<t[r].endOfRange)return t[r].entityId;return null},se=function(e){try{var t=n.v3(e,1)/ie;return Math.floor(1e4*t)}catch(t){throw new Error(i.sprintf(l.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},ue=t.getLogger();function le(e){return/^\d+$/.test(e)}function Ee(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(t<0)&&(r<0||t<r)}function Ie(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(r<0)&&(t<0||r<t)}function ce(e){var t=e,r="";if(function(e){return/\s/.test(e)}(e))return ue.warn(E.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(Ee(e)?(t=e.substring(0,e.indexOf("-")),r=e.substring(e.indexOf("-")+1)):Ie(e)&&(t=e.substring(0,e.indexOf("+")),r=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof r)return null;var i=t.split(".").length-1;if(i>2)return ue.warn(E.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var n=t.split(".");if(n.length!=i+1)return ue.warn(E.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0,a=n;o<a.length;o++){if(!le(a[o]))return ue.warn(E.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null}return r&&n.push(r),n}var fe="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",_e=t.getLogger(),de=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],ge={};function pe(e){return"string"==typeof e||"boolean"==typeof e||B.isNumber(e)}function Oe(e,t){var r=e.value,i=typeof r,n=e.name,o=t[n],a=typeof o;return!pe(r)||B.isNumber(r)&&!B.isSafeInteger(r)?(_e.warn(E.UNEXPECTED_CONDITION_VALUE,fe,JSON.stringify(e)),null):null===o?(_e.debug(E.UNEXPECTED_TYPE_NULL,fe,JSON.stringify(e),n),null):pe(o)&&i===a?B.isNumber(o)&&!B.isSafeInteger(o)?(_e.warn(E.OUT_OF_BOUNDS,fe,JSON.stringify(e),n),null):r===o:(_e.warn(E.UNEXPECTED_TYPE,fe,JSON.stringify(e),a,n),null)}function Ne(e,t){var r=e.name,i=t[r],n=typeof i,o=e.value;return null!==o&&B.isSafeInteger(o)?null===i?(_e.debug(E.UNEXPECTED_TYPE_NULL,fe,JSON.stringify(e),r),!1):B.isNumber(i)?!!B.isSafeInteger(i)||(_e.warn(E.OUT_OF_BOUNDS,fe,JSON.stringify(e),r),!1):(_e.warn(E.UNEXPECTED_TYPE,fe,JSON.stringify(e),n,r),!1):(_e.warn(E.UNEXPECTED_CONDITION_VALUE,fe,JSON.stringify(e)),!1)}function Re(e,t){var r=e.name,i=t[r],n=typeof i,o=e.value;return"string"!=typeof o?(_e.warn(E.UNEXPECTED_CONDITION_VALUE,fe,JSON.stringify(e)),null):null===i?(_e.debug(E.UNEXPECTED_TYPE_NULL,fe,JSON.stringify(e),r),null):"string"!=typeof i?(_e.warn(E.UNEXPECTED_TYPE,fe,JSON.stringify(e),n,r),null):function(e,t){var r=ce(t),i=ce(e);if(!r||!i)return null;for(var n=r.length,o=0;o<i.length;o++){if(n<=o)return Ee(e)||Ie(e)?1:-1;if(le(r[o])){var a=parseInt(r[o]),s=parseInt(i[o]);if(a>s)return 1;if(a<s)return-1}else{if(r[o]<i[o])return Ee(e)&&!Ee(t)?1:-1;if(r[o]>i[o])return!Ee(e)&&Ee(t)?-1:1}}return Ee(t)&&!Ee(e)?-1:0}(o,i)}ge.exact=Oe,ge.exists=function(e,t){var r=t[e.name];return null!=r},ge.gt=function(e,t){var r=t[e.name],i=e.value;if(!Ne(e,t)||null===i)return null;return r>i},ge.ge=function(e,t){var r=t[e.name],i=e.value;if(!Ne(e,t)||null===i)return null;return r>=i},ge.lt=function(e,t){var r=t[e.name],i=e.value;if(!Ne(e,t)||null===i)return null;return r<i},ge.le=function(e,t){var r=t[e.name],i=e.value;if(!Ne(e,t)||null===i)return null;return r<=i},ge.substring=function(e,t){var r=e.name,i=t[e.name],n=typeof i,o=e.value;if("string"!=typeof o)return _e.warn(E.UNEXPECTED_CONDITION_VALUE,fe,JSON.stringify(e)),null;if(null===i)return _e.debug(E.UNEXPECTED_TYPE_NULL,fe,JSON.stringify(e),r),null;if("string"!=typeof i)return _e.warn(E.UNEXPECTED_TYPE,fe,JSON.stringify(e),n,r),null;return-1!==i.indexOf(o)},ge.semver_eq=function(e,t){var r=Re(e,t);if(null===r)return null;return 0===r},ge.semver_gt=function(e,t){var r=Re(e,t);if(null===r)return null;return r>0},ge.semver_ge=function(e,t){var r=Re(e,t);if(null===r)return null;return r>=0},ge.semver_lt=function(e,t){var r=Re(e,t);if(null===r)return null;return r<0},ge.semver_le=function(e,t){var r=Re(e,t);if(null===r)return null;return r<=0};var Te=Object.freeze({__proto__:null,evaluate:function(e,t){var r=e.match;if(void 0!==r&&-1===de.indexOf(r))return _e.warn(E.UNKNOWN_MATCH_TYPE,fe,JSON.stringify(e)),null;var i=e.name;return t.hasOwnProperty(i)||"exists"==r?(r&&ge[r]||Oe)(e,t):(_e.debug(E.MISSING_ATTRIBUTE_VALUE,fe,JSON.stringify(e),i),null)}}),ve=t.getLogger(),he=function(){function e(e){this.typeToEvaluatorMap=B.assign({},e,{custom_attribute:Te})}return e.prototype.evaluate=function(e,t,r){var i=this;if(void 0===r&&(r={}),!e||0===e.length)return!0;return!!P(e,(function(e){var n=t[e];if(n){ve.log(u.DEBUG,E.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(n.conditions));var o=P(n.conditions,i.evaluateConditionWithUserAttributes.bind(i,r)),a=null===o?"UNKNOWN":o.toString().toUpperCase();return ve.log(u.DEBUG,E.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a),o}return null}))},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var r=this.typeToEvaluatorMap[t.type];if(!r)return ve.log(u.WARNING,E.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return r.evaluate(t,e)}catch(e){ve.log(u.ERROR,l.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function ye(e){return"string"==typeof e&&""!==e}var Ae="DECISION_SERVICE",Ue=function(){function e(e){var t;this.audienceEvaluator=(t=e.UNSTABLE_conditionEvaluators,new he(t)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,t,r,i){void 0===i&&(i={});var n=r.getUserId(),o=r.getAttributes(),a=this.getBucketingId(n,o),s=[],l=t.key;if(!this.checkIfExperimentIsActive(e,l))return this.logger.log(u.INFO,E.EXPERIMENT_NOT_RUNNING,Ae,l),s.push([E.EXPERIMENT_NOT_RUNNING,Ae,l]),{result:null,reasons:s};var I=this.getForcedVariation(e,l,n);s.push.apply(s,I.reasons);var c=I.result;if(c)return{result:c,reasons:s};var f=this.getWhitelistedVariation(t,n);s.push.apply(s,f.reasons);var _=f.result;if(_)return{result:_.key,reasons:s};var g=i[exports.OptimizelyDecideOption.IGNORE_USER_PROFILE_SERVICE],p=this.resolveExperimentBucketMap(n,o);if(!g&&(_=this.getStoredVariation(e,t,n,p)))return this.logger.log(u.INFO,E.RETURNING_STORED_VARIATION,Ae,_.key,l,n),s.push([E.RETURNING_STORED_VARIATION,Ae,_.key,l,n]),{result:_.key,reasons:s};var O=this.checkIfUserIsInAudience(e,t,d.EXPERIMENT,o,"");if(s.push.apply(s,O.reasons),!O.result)return this.logger.log(u.INFO,E.USER_NOT_IN_EXPERIMENT,Ae,n,l),s.push([E.USER_NOT_IN_EXPERIMENT,Ae,n,l]),{result:null,reasons:s};var N=this.buildBucketerParams(e,t,a,n),R=ne(N);s.push.apply(s,R.reasons);var T=R.result;return T&&(_=e.variationIdMap[T]),_?(this.logger.log(u.INFO,E.USER_HAS_VARIATION,Ae,n,_.key,l),s.push([E.USER_HAS_VARIATION,Ae,n,_.key,l]),g||this.saveUserProfile(t,_,n,p),{result:_.key,reasons:s}):(this.logger.log(u.DEBUG,E.USER_HAS_NO_VARIATION,Ae,n,l),s.push([E.USER_HAS_NO_VARIATION,Ae,n,l]),{result:null,reasons:s})},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var r=this.getUserProfile(e)||{},i=t[I.STICKY_BUCKETING_KEY];return B.assign({},r.experiment_bucket_map,i)},e.prototype.checkIfExperimentIsActive=function(e,t){return function(e,t){return"Running"===H(e,t)}(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var r=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var i=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(i)?(this.logger.log(u.INFO,E.USER_FORCED_IN_VARIATION,Ae,t,i),r.push([E.USER_FORCED_IN_VARIATION,Ae,t,i]),{result:e.variationKeyMap[i],reasons:r}):(this.logger.log(u.ERROR,E.FORCED_BUCKETING_FAILED,Ae,i,t),r.push([E.FORCED_BUCKETING_FAILED,Ae,i,t]),{result:null,reasons:r})}return{result:null,reasons:r}},e.prototype.checkIfUserIsInAudience=function(e,t,r,n,o){var a=[],s=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(i.sprintf(l.INVALID_EXPERIMENT_ID,K,t));return r.audienceConditions||r.audienceIds}(e,t.id),I=e.audiencesById;this.logger.log(u.DEBUG,E.EVALUATING_AUDIENCES_COMBINED,Ae,r,o||t.key,JSON.stringify(s)),a.push([E.EVALUATING_AUDIENCES_COMBINED,Ae,r,o||t.key,JSON.stringify(s)]);var c=this.audienceEvaluator.evaluate(s,I,n);return this.logger.log(u.INFO,E.AUDIENCE_EVALUATION_RESULT_COMBINED,Ae,r,o||t.key,c.toString().toUpperCase()),a.push([E.AUDIENCE_EVALUATION_RESULT_COMBINED,Ae,r,o||t.key,c.toString().toUpperCase()]),{result:c,reasons:a}},e.prototype.buildBucketerParams=function(e,t,r,i){return{bucketingId:r,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:z(e,t.id),userId:i,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,r,i){if(i.hasOwnProperty(t.id)){var n=i[t.id],o=n.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[n.variation_id];this.logger.log(u.INFO,E.SAVED_VARIATION_NOT_FOUND,Ae,r,o,t.key)}return null},e.prototype.getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(u.ERROR,l.USER_PROFILE_LOOKUP_ERROR,Ae,e,t.message)}return null},e.prototype.saveUserProfile=function(e,t,r,i){if(this.userProfileService)try{i[e.id]={variation_id:t.id},this.userProfileService.save({user_id:r,experiment_bucket_map:i}),this.logger.log(u.INFO,E.SAVED_VARIATION,Ae,t.key,e.key,r)}catch(e){this.logger.log(u.ERROR,l.USER_PROFILE_SAVE_ERROR,Ae,r,e.message)}},e.prototype.getVariationForFeature=function(e,t,r,i){void 0===i&&(i={});var n=[],o=this.getVariationForFeatureExperiment(e,t,r,i);n.push.apply(n,o.reasons);var a=o.result;if(null!==a.variation)return{result:a,reasons:n};var s=this.getVariationForRollout(e,t,r);n.push.apply(n,s.reasons);var l=s.result,I=r.getUserId();return l.variation?(this.logger.log(u.DEBUG,E.USER_IN_ROLLOUT,Ae,I,t.key),n.push([E.USER_IN_ROLLOUT,Ae,I,t.key]),{result:l,reasons:n}):(this.logger.log(u.DEBUG,E.USER_NOT_IN_ROLLOUT,Ae,I,t.key),n.push([E.USER_NOT_IN_ROLLOUT,Ae,I,t.key]),{result:l,reasons:n})},e.prototype.getVariationForFeatureExperiment=function(e,t,r,i){void 0===i&&(i={});var n,o,a=[],s=null;if(t.experimentIds.length>0)for(o=0;o<t.experimentIds.length;o++){var l=J(e,t.experimentIds[o],this.logger);if(l&&(n=this.getVariationFromExperimentRule(e,t.key,l,r,i),a.push.apply(a,n.reasons),s=n.result)){var I=null;return(I=l.variationKeyMap[s])||(I=Z(e,t.key,s)),{result:{experiment:l,variation:I,decisionSource:_.FEATURE_TEST},reasons:a}}}else this.logger.log(u.DEBUG,E.FEATURE_HAS_NO_EXPERIMENTS,Ae,t.key),a.push([E.FEATURE_HAS_NO_EXPERIMENTS,Ae,t.key]);return{result:{experiment:null,variation:null,decisionSource:_.FEATURE_TEST},reasons:a}},e.prototype.getVariationForRollout=function(e,t,r){var i=[];if(!t.rolloutId)return this.logger.log(u.DEBUG,E.NO_ROLLOUT_EXISTS,Ae,t.key),i.push([E.NO_ROLLOUT_EXISTS,Ae,t.key]),{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:i};var n=e.rolloutIdMap[t.rolloutId];if(!n)return this.logger.log(u.ERROR,l.INVALID_ROLLOUT_ID,Ae,t.rolloutId,t.key),i.push([l.INVALID_ROLLOUT_ID,Ae,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:i};var o,a,s,I=n.experiments;if(0===I.length)return this.logger.log(u.ERROR,E.ROLLOUT_HAS_NO_EXPERIMENTS,Ae,t.rolloutId),i.push([E.ROLLOUT_HAS_NO_EXPERIMENTS,Ae,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:i};for(var c=0;c<I.length;){if(o=this.getVariationFromDeliveryRule(e,t.key,I,c,r),i.push.apply(i,o.reasons),s=o.result,a=o.skipToEveryoneElse,s)return{result:{experiment:e.experimentIdMap[I[c].id],variation:s,decisionSource:_.ROLLOUT},reasons:i};c=a?I.length-1:c+1}return{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:i}},e.prototype.getBucketingId=function(e,t){var r=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(I.BUCKETING_ID)&&("string"==typeof t[I.BUCKETING_ID]?(r=t[I.BUCKETING_ID],this.logger.log(u.DEBUG,E.VALID_BUCKETING_ID,Ae,r)):this.logger.log(u.WARNING,E.BUCKETING_ID_NOT_STRING,Ae)),r},e.prototype.findValidatedForcedDecision=function(e,t,r,i){var n,o=[],a=t.getForcedDecision({flagKey:r,ruleKey:i}),s=null,l=t.getUserId();return e&&a&&(n=a.variationKey,(s=Z(e,r,n))?i?(this.logger.log(u.INFO,E.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,n,r,i,l),o.push([E.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,n,r,i,l])):(this.logger.log(u.INFO,E.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,n,r,l),o.push([E.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,n,r,l])):i?(this.logger.log(u.INFO,E.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,r,i,l),o.push([E.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,r,i,l])):(this.logger.log(u.INFO,E.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,r,l),o.push([E.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,r,l]))),{result:s,reasons:o}},e.prototype.removeForcedVariation=function(e,t,r){if(!e)throw new Error(i.sprintf(l.INVALID_USER_ID,Ae));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(i.sprintf(l.USER_NOT_IN_FORCED_VARIATION,Ae,e));delete this.forcedVariationMap[e][t],this.logger.log(u.DEBUG,E.VARIATION_REMOVED_FOR_USER,Ae,r,e)},e.prototype.setInForcedVariationMap=function(e,t,r){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=r,this.logger.log(u.DEBUG,E.USER_MAPPED_TO_FORCED_VARIATION,Ae,r,t,e)},e.prototype.getForcedVariation=function(e,t,r){var i,n=[],o=this.forcedVariationMap[r];if(!o)return this.logger.log(u.DEBUG,E.USER_HAS_NO_FORCED_VARIATION,Ae,r),{result:null,reasons:n};try{var a=X(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(u.ERROR,l.IMPROPERLY_FORMATTED_EXPERIMENT,Ae,t),n.push([l.IMPROPERLY_FORMATTED_EXPERIMENT,Ae,t]),{result:null,reasons:n};i=a.id}catch(e){return this.logger.log(u.ERROR,e.message),n.push(e.message),{result:null,reasons:n}}var s=o[i];if(!s)return this.logger.log(u.DEBUG,E.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Ae,t,r),{result:null,reasons:n};var I=Y(e,s);return I?(this.logger.log(u.DEBUG,E.USER_HAS_FORCED_VARIATION,Ae,I,t,r),n.push([E.USER_HAS_FORCED_VARIATION,Ae,I,t,r])):this.logger.log(u.DEBUG,E.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Ae,t,r),{result:I,reasons:n}},e.prototype.setForcedVariation=function(e,t,r,i){if(null!=i&&!ye(i))return this.logger.log(u.ERROR,l.INVALID_VARIATION_KEY,Ae),!1;var n;try{var o=X(e,t);if(!o.hasOwnProperty("id"))return this.logger.log(u.ERROR,l.IMPROPERLY_FORMATTED_EXPERIMENT,Ae,t),!1;n=o.id}catch(e){return this.logger.log(u.ERROR,e.message),!1}if(null==i)try{return this.removeForcedVariation(r,n,t),!0}catch(e){return this.logger.log(u.ERROR,e.message),!1}var a=function(e,t,r){var i=e.experimentKeyMap[t];return i.variationKeyMap.hasOwnProperty(r)?i.variationKeyMap[r].id:null}(e,t,i);if(!a)return this.logger.log(u.ERROR,l.NO_VARIATION_FOR_EXPERIMENT_KEY,Ae,i,t),!1;try{return this.setInForcedVariationMap(r,n,a),!0}catch(e){return this.logger.log(u.ERROR,e.message),!1}},e.prototype.getVariationFromExperimentRule=function(e,t,r,i,n){void 0===n&&(n={});var o=[],a=this.findValidatedForcedDecision(e,i,t,r.key);o.push.apply(o,a.reasons);var s=a.result;if(s)return{result:s.key,reasons:o};var u=this.getVariation(e,r,i,n);return o.push.apply(o,u.reasons),{result:u.result,reasons:o}},e.prototype.getVariationFromDeliveryRule=function(e,t,r,i,n){var o=[],a=!1,s=r[i],l=this.findValidatedForcedDecision(e,n,t,s.key);o.push.apply(o,l.reasons);var I=l.result;if(I)return{result:I,reasons:o,skipToEveryoneElse:a};var c,f,_,g,p,O=n.getUserId(),N=n.getAttributes(),R=this.getBucketingId(O,N),T=i===r.length-1,v=T?"Everyone Else":i+1,h=null,y=this.checkIfUserIsInAudience(e,s,d.RULE,N,v);return o.push.apply(o,y.reasons),y.result?(this.logger.log(u.DEBUG,E.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Ae,O,v),o.push([E.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Ae,O,v]),f=this.buildBucketerParams(e,s,R,O),_=ne(f),o.push.apply(o,_.reasons),(c=_.result)&&(p=c,h=(g=e).variationIdMap.hasOwnProperty(p)?g.variationIdMap[p]:null),h?(this.logger.log(u.DEBUG,E.USER_BUCKETED_INTO_TARGETING_RULE,Ae,O,v),o.push([E.USER_BUCKETED_INTO_TARGETING_RULE,Ae,O,v])):T||(this.logger.log(u.DEBUG,E.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Ae,O,v),o.push([E.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Ae,O,v]),a=!0)):(this.logger.log(u.DEBUG,E.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Ae,O,v),o.push([E.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Ae,O,v])),{result:h,reasons:o,skipToEveryoneElse:a}},e}();function De(e,t){if(e.hasOwnProperty("revenue")){var r=e.revenue,i=void 0;return"string"==typeof r?(i=parseInt(r),isNaN(i)?(t.log(u.INFO,E.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",r),null):(t.log(u.INFO,E.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",i),i)):"number"==typeof r?(i=r,t.log(u.INFO,E.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",i),i):null}return null}function Se(e,t){if(e.hasOwnProperty("value")){var r=e.value,i=void 0;return"string"==typeof r?(i=parseFloat(r),isNaN(i)?(t.log(u.INFO,E.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",r),null):(t.log(u.INFO,E.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",i),i)):"number"==typeof r?(i=r,t.log(u.INFO,E.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",i),i):null}return null}function Le(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||B.isNumber(t)&&B.isSafeInteger(t))}var me="https://logx.optimizely.com/v1/events";function Ve(e){var t=e.attributes,r=e.userId,i=e.clientEngine,n=e.clientVersion,o=e.configObj,a=e.logger,s=!!o.anonymizeIP&&o.anonymizeIP,u=o.botFiltering,l={snapshots:[],visitor_id:r,attributes:[]},E={account_id:o.accountId,project_id:o.projectId,visitors:[l],revision:o.revision,client_name:i,client_version:n,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach((function(e){if(Le(e,t[e])){var r=w(o,e,a);r&&E.visitors[0].attributes.push({entity_id:r,key:e,type:"custom",value:t[e]})}})),"boolean"==typeof u&&E.visitors[0].attributes.push({entity_id:I.BOT_FILTERING,key:I.BOT_FILTERING,type:"custom",value:u}),E}function Ce(e){var t,r,i,n,o,a,s,u,l,E=Ve(e),I=(t=e.configObj,r=e.experimentId,i=e.variationId,n=e.ruleKey,o=e.ruleType,a=e.flagKey,s=e.enabled,u=r?G(t,r):null,l=i?Y(t,i):null,{decisions:[{campaign_id:u,experiment_id:r,variation_id:i,metadata:{flag_key:a,rule_key:n,rule_type:o,variation_key:l=l||"",enabled:s}}],events:[{entity_id:u,timestamp:B.currentTimestamp(),key:"campaign_activated",uuid:B.uuid()}]});return E.visitors[0].snapshots.push(I),{httpVerb:"POST",url:me,params:E}}function Fe(e){var t=Ve(e),r=function(e,t,r,i){var n={events:[]},o={entity_id:j(e,t),timestamp:B.currentTimestamp(),uuid:B.uuid(),key:t};if(i){var a=De(i,r);null!==a&&(o.revenue=a);var s=Se(i,r);null!==s&&(o.value=s),o.tags=i}return n.events.push(o),n}(e.configObj,e.eventKey,e.logger,e.eventTags);return t.visitors[0].snapshots=[r],{httpVerb:"POST",url:me,params:t}}function Me(e){var t,r;return null!==(r=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function Pe(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function be(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==r&&r}function ke(e){var t,r;return null!==(r=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==r?r:null}function Be(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.id)&&void 0!==r?r:null}var Ke=t.getLogger("EVENT_BUILDER");function xe(e,t){var r=[];return t&&Object.keys(t||{}).forEach((function(i){if(Le(i,t[i])){var n=w(e,i,Ke);n&&r.push({entityId:n,key:i,value:t[i]})}})),r}var Ge="USER_PROFILE_SERVICE_VALIDATOR";var we=function(){function e(e){var t,r=this,n=e.clientEngine;n||(e.logger.log(u.INFO,E.INVALID_CLIENT_ENGINE,"OPTIMIZELY",n),n="node-sdk"),this.clientEngine=n,this.clientVersion=e.clientVersion||"4.9.1",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var o=null!==(t=e.defaultDecideOptions)&&void 0!==t?t:[];Array.isArray(o)||(this.logger.log(u.DEBUG,E.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),o=[]);var a={};o.forEach((function(e){exports.OptimizelyDecideOption[e]?a[e]=!0:r.logger.log(u.WARNING,E.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})),this.defaultDecideOptions=a,this.projectConfigManager=function(e){return new re(e)}({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate((function(e){r.logger.log(u.INFO,E.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),r.notificationCenter.sendNotifications(c.OPTIMIZELY_CONFIG_UPDATE)}));var s,I=this.projectConfigManager.onReady(),f=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw new Error(i.sprintf(l.INVALID_USER_PROFILE_SERVICE,Ge,"Missing function 'lookup'"));if("function"!=typeof e.save)throw new Error(i.sprintf(l.INVALID_USER_PROFILE_SERVICE,Ge,"Missing function 'save'"));return!0}throw new Error(i.sprintf(l.INVALID_USER_PROFILE_SERVICE,Ge))})(e.userProfileService)&&(f=e.userProfileService,this.logger.log(u.INFO,E.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(e){this.logger.log(u.WARNING,e.message)}this.decisionService=(s={userProfileService:f,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new Ue(s)),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var _=this.eventProcessor.start();this.readyPromise=Promise.all([I,_]).then((function(e){return e[0]})),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},r))return this.notActivatingExperiment(e,t);var i=this.projectConfigManager.getConfig();if(!i)return null;try{var n=this.getVariation(e,t,r);if(null===n)return this.notActivatingExperiment(e,t);if(!function(e,t){return"Running"===H(e,t)}(i,e))return this.logger.log(u.DEBUG,E.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),n;var o=X(i,e),a={experiment:o,variation:o.variationKeyMap[n],decisionSource:_.EXPERIMENT};return this.sendImpressionEvent(a,"",t,!0,r),n}catch(r){return this.logger.log(u.ERROR,r.message),this.logger.log(u.INFO,E.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(r),null}}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,r,i,n){var o=this.projectConfigManager.getConfig();if(o){var a=function(e){var t=e.configObj,r=e.decisionObj,i=e.userId,n=e.flagKey,o=e.enabled,a=e.userAttributes,s=e.clientEngine,u=e.clientVersion,l=r.decisionSource,E=Me(r),I=ke(r),c=Pe(r),f=Be(r),_=null!==I?G(t,I):null;return{type:"impression",timestamp:B.currentTimestamp(),uuid:B.uuid(),user:{id:i,attributes:xe(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:s,clientVersion:u,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:_},experiment:{id:I,key:E},variation:{id:f,key:c},ruleKey:E,flagKey:n,ruleType:l,enabled:o}}({decisionObj:e,flagKey:t,enabled:i,userId:r,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o});this.eventProcessor.process(a),this.emitNotificationCenterActivate(e,t,r,i,n)}},e.prototype.emitNotificationCenterActivate=function(e,t,r,i,n){var o=this.projectConfigManager.getConfig();if(o){var a,s=e.decisionSource,u=Me(e),l=ke(e),E=Pe(e),I=Be(e);null!==l&&""!==E&&(a=o.experimentIdMap[l]);var f,_=Ce({attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:l,ruleKey:u,flagKey:t,ruleType:s,userId:r,enabled:i,variationId:I,logger:this.logger});a&&a.variationKeyMap&&""!==E&&(f=a.variationKeyMap[E]),this.notificationCenter.sendNotifications(c.ACTIVATE,{experiment:a,userId:r,attributes:n,variation:f,logEvent:_})}},e.prototype.track=function(e,t,r,i){try{if(!this.isValidInstance())return void this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},r,i))return;var n=this.projectConfigManager.getConfig();if(!n)return;if(!function(e,t){return e.eventKeyMap.hasOwnProperty(t)}(n,e))return this.logger.log(u.WARNING,E.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(u.WARNING,E.NOT_TRACKING_USER,"OPTIMIZELY",t);var o=function(e){var t=e.configObj,r=e.userId,i=e.userAttributes,n=e.clientEngine,o=e.clientVersion,a=e.eventKey,s=e.eventTags,u=j(t,a),l=s?De(s,Ke):null,E=s?Se(s,Ke):null;return{type:"conversion",timestamp:B.currentTimestamp(),uuid:B.uuid(),user:{id:r,attributes:xe(t,i)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:n,clientVersion:o,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:u,key:a},revenue:l,value:E,tags:s}}({eventKey:e,eventTags:i=this.filterEmptyValues(i),userId:t,userAttributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:n});this.logger.log(u.INFO,E.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(o),this.emitNotificationCenterTrack(e,t,r,i)}catch(e){this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(u.ERROR,E.NOT_TRACKING_USER,"OPTIMIZELY",t)}},e.prototype.emitNotificationCenterTrack=function(e,t,r,i){try{var n=this.projectConfigManager.getConfig();if(!n)return;var o=Fe({attributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:n,eventKey:e,eventTags:i,logger:this.logger,userId:t});this.notificationCenter.sendNotifications(c.TRACK,{eventKey:e,userId:t,attributes:r,eventTags:i,logEvent:o})}catch(e){this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},r))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var n=i.experimentKeyMap[e];if(!n)return this.logger.log(u.DEBUG,l.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var o=this.decisionService.getVariation(i,n,this.createUserContext(t,r)).result,a=(s=i,I=n.id,s.experimentFeatureMap.hasOwnProperty(I)?f.FEATURE_TEST:f.AB_TEST);return this.notificationCenter.sendNotifications(c.DECISION,{type:a,userId:t,attributes:r||{},decisionInfo:{experimentKey:e,variationKey:o}}),o}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}var s,I},e.prototype.setForcedVariation=function(e,t,r){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var i=this.projectConfigManager.getConfig();if(!i)return!1;try{return this.decisionService.setForcedVariation(i,e,t,r)}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var r=this.projectConfigManager.getConfig();if(!r)return null;try{return this.decisionService.getForcedVariation(r,e,t).result}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,r){try{if(e.hasOwnProperty("user_id")){var n=e.user_id;if("string"!=typeof n||null===n||"undefined"===n)throw new Error(i.sprintf(l.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach((function(t){if(!ye(e[t]))throw new Error(i.sprintf(l.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))})),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(i.sprintf(l.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach((function(t){if(void 0===e[t])throw new Error(i.sprintf(l.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))}))}(t),r&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(i.sprintf(l.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(r),!0}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){return this.logger.log(u.INFO,E.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},e.prototype.filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},r))return!1;var i=this.projectConfigManager.getConfig();if(!i)return!1;var n=W(i,e,this.logger);if(!n)return!1;var o={},a=this.createUserContext(t,r),s=this.decisionService.getVariationForFeature(i,n,a).result,l=s.decisionSource,I=Me(s),d=Pe(s),g=be(s);l===_.FEATURE_TEST&&(o={experimentKey:I,variationKey:d}),(l===_.FEATURE_TEST||l===_.ROLLOUT&&Q(i))&&this.sendImpressionEvent(s,n.key,t,g,r),!0===g?this.logger.log(u.INFO,E.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(u.INFO,E.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),g=!1);var p={featureKey:e,featureEnabled:g,source:s.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(c.DECISION,{type:f.FEATURE,userId:t,attributes:r||{},decisionInfo:p}),g}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var r=this;try{var n=[];if(!this.isValidInstance())return this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),n;if(!this.validateInputs({user_id:e}))return n;var o=this.projectConfigManager.getConfig();return o?(i.objectValues(o.featureKeyMap).forEach((function(i){r.isFeatureEnabled(i.key,e,t)&&n.push(i.key)})),n):n}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,r,i){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,r,i):(this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,r,i,n){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:i},n))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var a=W(o,e,this.logger);if(!a)return null;var s=function(e,t,r,i){var n=e.featureKeyMap[t];if(!n)return i.log(u.ERROR,l.FEATURE_NOT_IN_DATAFILE,K,t),null;var o=n.variableKeyMap[r];return o||(i.log(u.ERROR,l.VARIABLE_KEY_NOT_IN_DATAFILE,K,r,t),null)}(o,e,t,this.logger);if(!s)return null;if(r&&s.type!==r)return this.logger.log(u.WARNING,E.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",r,s.type),null;var I=this.createUserContext(i,n),d=this.decisionService.getVariationForFeature(o,a,I).result,g=be(d),p=this.getFeatureVariableValueFromVariation(e,g,d.variation,s,i),O={};return d.decisionSource===_.FEATURE_TEST&&null!==d.experiment&&null!==d.variation&&(O={experimentKey:d.experiment.key,variationKey:d.variation.key}),this.notificationCenter.sendNotifications(c.DECISION,{type:f.FEATURE_VARIABLE,userId:i,attributes:n||{},decisionInfo:{featureKey:e,featureEnabled:g,source:d.decisionSource,variableKey:t,variableValue:p,variableType:s.type,sourceInfo:O}}),p},e.prototype.getFeatureVariableValueFromVariation=function(e,t,r,i,n){var o=this.projectConfigManager.getConfig();if(!o)return null;var a=i.defaultValue;if(null!==r){var s=function(e,t,r,i){if(!t||!r)return null;if(!e.variationVariableUsageMap.hasOwnProperty(r.id))return i.log(u.ERROR,l.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,K,r.id),null;var n=e.variationVariableUsageMap[r.id][t.id];return n?n.value:null}(o,i,r,this.logger);null!==s?t?(a=s,this.logger.log(u.INFO,E.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,i.key,e)):this.logger.log(u.INFO,E.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,n,a):this.logger.log(u.INFO,E.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i.key,r.key)}else this.logger.log(u.INFO,E.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",n,i.key,e);return function(e,t,r){var i;switch(t){case g.BOOLEAN:"true"!==e&&"false"!==e?(r.log(u.ERROR,l.UNABLE_TO_CAST_VALUE,K,e,t),i=null):i="true"===e;break;case g.INTEGER:i=parseInt(e,10),isNaN(i)&&(r.log(u.ERROR,l.UNABLE_TO_CAST_VALUE,K,e,t),i=null);break;case g.DOUBLE:i=parseFloat(e),isNaN(i)&&(r.log(u.ERROR,l.UNABLE_TO_CAST_VALUE,K,e,t),i=null);break;case g.JSON:try{i=JSON.parse(e)}catch(n){r.log(u.ERROR,l.UNABLE_TO_CAST_VALUE,K,e,t),i=null}break;default:i=e}return i}(a,i.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,r,i){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,g.BOOLEAN,r,i):(this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,r,i){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,g.DOUBLE,r,i):(this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,r,i){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,g.INTEGER,r,i):(this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,r,i){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,g.STRING,r,i):(this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,r,i){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,g.JSON,r,i):(this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,r){var i=this;try{if(!this.isValidInstance())return this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},r))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;var o=W(n,e,this.logger);if(!o)return null;var a=this.createUserContext(t,r),s=this.decisionService.getVariationForFeature(n,o,a).result,l=be(s),I={};o.variables.forEach((function(r){I[r.key]=i.getFeatureVariableValueFromVariation(e,l,s.variation,r,t)}));var d={};return s.decisionSource===_.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(d={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(c.DECISION,{type:f.ALL_FEATURE_VARIABLES,userId:t,attributes:r||{},decisionInfo:{featureKey:e,featureEnabled:l,source:s.decisionSource,variableValues:I,sourceInfo:d}}),I}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach((function(t){var r=e.readyTimeouts[t];clearTimeout(r.readyTimeout),r.onClose()})),this.readyTimeouts={},t.then((function(){return{success:!0}}),(function(e){return{success:!1,reason:String(e)}}))}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,r,n=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),B.isSafeInteger(t)||(t=3e4);var o=new Promise((function(e){r=e})),a=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var s=setTimeout((function(){delete n.readyTimeouts[a],r({success:!1,reason:i.sprintf("onReady timeout expired after %s ms",t)})}),t);return this.readyTimeouts[a]={readyTimeout:s,onClose:function(){r({success:!1,reason:"Instance closed"})}},this.readyPromise.then((function(){clearTimeout(s),delete n.readyTimeouts[a],r({success:!0})})),Promise.race([this.readyPromise,o])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new F({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,t,r){var n,o,a,I,d=this;void 0===r&&(r=[]);var g,p=e.getUserId(),N=e.getAttributes(),R=this.projectConfigManager.getConfig(),T=[];if(!this.isValidInstance()||!R)return this.logger.log(u.INFO,E.INVALID_OBJECT,"OPTIMIZELY","decide"),C(t,e,[O.SDK_NOT_READY]);var v=R.featureKeyMap[t];if(!v)return this.logger.log(u.ERROR,l.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",t),C(t,e,[i.sprintf(O.FLAG_KEY_INVALID,t)]);var h=this.getAllDecideOptions(r),y=this.decisionService.findValidatedForcedDecision(R,e,t);T.push.apply(T,y.reasons);var A=y.result;if(A)g={experiment:null,variation:A,decisionSource:_.FEATURE_TEST};else{var U=this.decisionService.getVariationForFeature(R,v,e,h);T.push.apply(T,U.reasons),g=U.result}var D=g.decisionSource,S=null!==(o=null===(n=g.experiment)||void 0===n?void 0:n.key)&&void 0!==o?o:null,L=null!==(I=null===(a=g.variation)||void 0===a?void 0:a.key)&&void 0!==I?I:null,m=be(g);!0===m?this.logger.log(u.INFO,E.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",t,p):this.logger.log(u.INFO,E.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",t,p);var V={},F=!1;h[exports.OptimizelyDecideOption.EXCLUDE_VARIABLES]||v.variables.forEach((function(e){V[e.key]=d.getFeatureVariableValueFromVariation(t,m,g.variation,e,p)})),!h[exports.OptimizelyDecideOption.DISABLE_DECISION_EVENT]&&(D===_.FEATURE_TEST||D===_.ROLLOUT&&Q(R))&&(this.sendImpressionEvent(g,t,p,m,N),F=!0);var M=[];h[exports.OptimizelyDecideOption.INCLUDE_REASONS]&&(M=T.map((function(e){return i.sprintf.apply(void 0,s([e[0]],e.slice(1)))})));var P={flagKey:t,enabled:m,variationKey:L,ruleKey:S,variables:V,reasons:M,decisionEventDispatched:F};return this.notificationCenter.sendNotifications(c.DECISION,{type:f.FLAG,userId:p,attributes:N,decisionInfo:P}),{variationKey:L,enabled:m,variables:V,ruleKey:S,flagKey:t,userContext:e,reasons:M}},e.prototype.getAllDecideOptions=function(e){var t=this,r=a({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach((function(e){exports.OptimizelyDecideOption[e]?r[e]=!0:t.logger.log(u.WARNING,E.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})):this.logger.log(u.DEBUG,E.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),r},e.prototype.decideForKeys=function(e,t,r){var i=this;void 0===r&&(r=[]);var n={};if(!this.isValidInstance())return this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),n;if(0===t.length)return n;var o=this.getAllDecideOptions(r);return t.forEach((function(t){var a=i.decide(e,t,r);o[exports.OptimizelyDecideOption.ENABLED_FLAGS_ONLY]&&!a.enabled||(n[t]=a)})),n},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var r=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!r)return this.logger.log(u.ERROR,E.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var i=Object.keys(r.featureKeyMap);return this.decideForKeys(e,i,t)},e}(),je=function(e){return!("number"!=typeof e||!B.isSafeInteger(e))&&e>=1},He=function(e){return!("number"!=typeof e||!B.isSafeInteger(e))&&e>0},Ye=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},i.objectValues(c).forEach((function(e){t.notificationListeners[e]=[]})),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(i.objectValues(c).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var r=!1;if((this.notificationListeners[e]||[]).forEach((function(e){e.callback!==t||(r=!0)})),r)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var n=this.listenerId;return this.listenerId+=1,n}catch(e){return this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t=this;try{var r,i;if(Object.keys(this.notificationListeners).some((function(n){return(t.notificationListeners[n]||[]).every((function(t,o){return t.id!==e||(r=o,i=n,!1)})),void 0!==r&&void 0!==i})),void 0!==r&&void 0!==i)return this.notificationListeners[i].splice(r,1),!0}catch(e){this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{i.objectValues(c).forEach((function(t){e.notificationListeners[t]=[]}))}catch(e){this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var r=this;try{(this.notificationListeners[e]||[]).forEach((function(i){var n=i.callback;try{n(t)}catch(t){r.logger.log(u.ERROR,E.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}}))}catch(e){this.logger.log(u.ERROR,e.message),this.errorHandler.handleError(e)}},e}();var Xe={createEventProcessor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.LogTierV1EventProcessor.bind.apply(r.LogTierV1EventProcessor,s([void 0],e)))},LocalStoragePendingEventsDispatcher:r.LocalStoragePendingEventsDispatcher};function ze(e,t,r,i){var n={sdkKey:e};if((void 0===i||"object"==typeof i&&null!==i)&&B.assign(n,i),r){var a=$({datafile:r,jsonSchemaValidator:void 0,logger:t}),s=a.configObj,u=a.error;u&&t.error(u),s&&(n.datafile=q(s))}return new o.HttpPollingDatafileManager(n)}var Je=t.getLogger();t.setLogHandler(S()),t.setLogLevel(t.LogLevel.INFO);var Ze=!1,We=function(e){try{e.errorHandler&&t.setErrorHandler(e.errorHandler),e.logger&&(t.setLogHandler(e.logger),t.setLogLevel(t.LogLevel.NOTSET)),void 0!==e.logLevel&&t.setLogLevel(e.logLevel);try{v(e),e.isValidInstance=!0}catch(t){Je.error(t),e.isValidInstance=!1}var i=void 0;null==e.eventDispatcher?(i=new r.LocalStoragePendingEventsDispatcher({eventDispatcher:U}),Ze||(i.sendPendingEvents(),Ze=!0)):i=e.eventDispatcher;var n=e.eventBatchSize,o=e.eventFlushInterval;je(e.eventBatchSize)||(Je.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),n=10),He(e.eventFlushInterval)||(Je.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),o=1e3);var s=t.getErrorHandler(),u=new Ye({logger:Je,errorHandler:s}),l={dispatcher:i,flushInterval:o,batchSize:n,maxQueueSize:e.eventMaxQueueSize||1e4,notificationCenter:u},I=a(a({clientEngine:"javascript-sdk"},e),{eventProcessor:Xe.createEventProcessor(l),logger:Je,errorHandler:s,datafileManager:e.sdkKey?ze(e.sdkKey,Je,e.datafile,e.datafileOptions):void 0,notificationCenter:u}),c=new we(I);try{if("function"==typeof window.addEventListener){var f="onpagehide"in window?"pagehide":"unload";window.addEventListener(f,(function(){c.close()}),!1)}}catch(e){Je.error(E.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return c}catch(e){return Je.error(e),null}},qe=function(){Ze=!1},$e={logging:V,errorHandler:y,eventDispatcher:U,enums:N,setLogger:t.setLogHandler,setLogLevel:t.setLogLevel,createInstance:We,__internalResetRetryState:qe,OptimizelyDecideOption:exports.OptimizelyDecideOption};Object.defineProperty(exports, "setLogLevel", ({enumerable:!0,get:function(){return t.setLogLevel}})),Object.defineProperty(exports, "setLogger", ({enumerable:!0,get:function(){return t.setLogHandler}})),exports.__internalResetRetryState=qe,exports.createInstance=We,exports["default"]=$e,exports.enums=N,exports.errorHandler=y,exports.eventDispatcher=U,exports.logging=V;
//# sourceMappingURL=optimizely.browser.min.js.map


/***/ }),

/***/ "./node_modules/kmc-ffi/kmc.js":
/*!*************************************!*\
  !*** ./node_modules/kmc-ffi/kmc.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "kmc_get_key_type": () => (/* binding */ kmc_get_key_type),
/* harmony export */   "kmc_get_user_agent": () => (/* binding */ kmc_get_user_agent),
/* harmony export */   "kmc_get_app_instance_id": () => (/* binding */ kmc_get_app_instance_id),
/* harmony export */   "kmc_migrate_database": () => (/* binding */ kmc_migrate_database),
/* harmony export */   "kmc_import": () => (/* binding */ kmc_import),
/* harmony export */   "kmc_handle_url": () => (/* binding */ kmc_handle_url),
/* harmony export */   "kmc_embedded_public_oidc": () => (/* binding */ kmc_embedded_public_oidc),
/* harmony export */   "kmc_embedded_confidential_oidc": () => (/* binding */ kmc_embedded_confidential_oidc),
/* harmony export */   "kmc_export": () => (/* binding */ kmc_export),
/* harmony export */   "kmc_delete_profile": () => (/* binding */ kmc_delete_profile),
/* harmony export */   "kmc_create_profile": () => (/* binding */ kmc_create_profile),
/* harmony export */   "kmc_create_pkce": () => (/* binding */ kmc_create_pkce),
/* harmony export */   "kmc_cancel": () => (/* binding */ kmc_cancel),
/* harmony export */   "kmc_all_credentials": () => (/* binding */ kmc_all_credentials),
/* harmony export */   "kmc_delete_credential": () => (/* binding */ kmc_delete_credential),
/* harmony export */   "kmc_list_credentials": () => (/* binding */ kmc_list_credentials),
/* harmony export */   "kmc_url_type": () => (/* binding */ kmc_url_type),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _snippets_authlib_9e713a18f495db5f_src_store_credential_db_indexeddb_js_target_credstore_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./snippets/authlib-9e713a18f495db5f/src/store/credential/db/indexeddb/js/target/credstore.js */ "./node_modules/kmc-ffi/snippets/authlib-9e713a18f495db5f/src/store/credential/db/indexeddb/js/target/credstore.js");
/* harmony import */ var _snippets_common_9958b286e1acf929_inline0_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./snippets/common-9958b286e1acf929/inline0.js */ "./node_modules/kmc-ffi/snippets/common-9958b286e1acf929/inline0.js");
/* harmony import */ var _snippets_crypto_7439096d35d6fc1f_src_ecdsa_wasm_js_crypto_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./snippets/crypto-7439096d35d6fc1f/src/ecdsa_wasm/js/crypto.js */ "./node_modules/kmc-ffi/snippets/crypto-7439096d35d6fc1f/src/ecdsa_wasm/js/crypto.js");
/* harmony import */ var _snippets_hal_9eb4b9f0dfb51f2e_src_wasm_legacy_js_target_hal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./snippets/hal-9eb4b9f0dfb51f2e/src/wasm/legacy/js/target/hal.js */ "./node_modules/kmc-ffi/snippets/hal-9eb4b9f0dfb51f2e/src/wasm/legacy/js/target/hal.js");
/* harmony import */ var _snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./snippets/kmc-js-a8479199104cfb09/src/js/dist/kmc.js */ "./node_modules/kmc-ffi/snippets/kmc-js-a8479199104cfb09/src/js/dist/kmc.js");






let wasm;

const cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });

cachedTextDecoder.decode();

let cachegetUint8Memory0 = null;
function getUint8Memory0() {
    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== wasm.memory.buffer) {
        cachegetUint8Memory0 = new Uint8Array(wasm.memory.buffer);
    }
    return cachegetUint8Memory0;
}

function getStringFromWasm0(ptr, len) {
    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));
}

const heap = new Array(32).fill(undefined);

heap.push(undefined, null, true, false);

let heap_next = heap.length;

function addHeapObject(obj) {
    if (heap_next === heap.length) heap.push(heap.length + 1);
    const idx = heap_next;
    heap_next = heap[idx];

    heap[idx] = obj;
    return idx;
}

function getObject(idx) { return heap[idx]; }

function dropObject(idx) {
    if (idx < 36) return;
    heap[idx] = heap_next;
    heap_next = idx;
}

function takeObject(idx) {
    const ret = getObject(idx);
    dropObject(idx);
    return ret;
}

let WASM_VECTOR_LEN = 0;

const cachedTextEncoder = new TextEncoder('utf-8');

const encodeString = (typeof cachedTextEncoder.encodeInto === 'function'
    ? function (arg, view) {
    return cachedTextEncoder.encodeInto(arg, view);
}
    : function (arg, view) {
    const buf = cachedTextEncoder.encode(arg);
    view.set(buf);
    return {
        read: arg.length,
        written: buf.length
    };
});

function passStringToWasm0(arg, malloc, realloc) {

    if (realloc === undefined) {
        const buf = cachedTextEncoder.encode(arg);
        const ptr = malloc(buf.length);
        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);
        WASM_VECTOR_LEN = buf.length;
        return ptr;
    }

    let len = arg.length;
    let ptr = malloc(len);

    const mem = getUint8Memory0();

    let offset = 0;

    for (; offset < len; offset++) {
        const code = arg.charCodeAt(offset);
        if (code > 0x7F) break;
        mem[ptr + offset] = code;
    }

    if (offset !== len) {
        if (offset !== 0) {
            arg = arg.slice(offset);
        }
        ptr = realloc(ptr, len, len = offset + arg.length * 3);
        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);
        const ret = encodeString(arg, view);

        offset += ret.written;
    }

    WASM_VECTOR_LEN = offset;
    return ptr;
}

function isLikeNone(x) {
    return x === undefined || x === null;
}

let cachegetInt32Memory0 = null;
function getInt32Memory0() {
    if (cachegetInt32Memory0 === null || cachegetInt32Memory0.buffer !== wasm.memory.buffer) {
        cachegetInt32Memory0 = new Int32Array(wasm.memory.buffer);
    }
    return cachegetInt32Memory0;
}

let cachegetFloat64Memory0 = null;
function getFloat64Memory0() {
    if (cachegetFloat64Memory0 === null || cachegetFloat64Memory0.buffer !== wasm.memory.buffer) {
        cachegetFloat64Memory0 = new Float64Array(wasm.memory.buffer);
    }
    return cachegetFloat64Memory0;
}

function debugString(val) {
    // primitive types
    const type = typeof val;
    if (type == 'number' || type == 'boolean' || val == null) {
        return  `${val}`;
    }
    if (type == 'string') {
        return `"${val}"`;
    }
    if (type == 'symbol') {
        const description = val.description;
        if (description == null) {
            return 'Symbol';
        } else {
            return `Symbol(${description})`;
        }
    }
    if (type == 'function') {
        const name = val.name;
        if (typeof name == 'string' && name.length > 0) {
            return `Function(${name})`;
        } else {
            return 'Function';
        }
    }
    // objects
    if (Array.isArray(val)) {
        const length = val.length;
        let debug = '[';
        if (length > 0) {
            debug += debugString(val[0]);
        }
        for(let i = 1; i < length; i++) {
            debug += ', ' + debugString(val[i]);
        }
        debug += ']';
        return debug;
    }
    // Test for built-in
    const builtInMatches = /\[object ([^\]]+)\]/.exec(toString.call(val));
    let className;
    if (builtInMatches.length > 1) {
        className = builtInMatches[1];
    } else {
        // Failed to match the standard '[object ClassName]'
        return toString.call(val);
    }
    if (className == 'Object') {
        // we're a user defined class or Object
        // JSON.stringify avoids problems with cycles, and is generally much
        // easier than looping through ownProperties of `val`.
        try {
            return 'Object(' + JSON.stringify(val) + ')';
        } catch (_) {
            return 'Object';
        }
    }
    // errors
    if (val instanceof Error) {
        return `${val.name}: ${val.message}\n${val.stack}`;
    }
    // TODO we could test for more things here, like `Set`s and `Map`s.
    return className;
}

function makeMutClosure(arg0, arg1, dtor, f) {
    const state = { a: arg0, b: arg1, cnt: 1, dtor };
    const real = (...args) => {
        // First up with a closure we increment the internal reference
        // count. This ensures that the Rust closure environment won't
        // be deallocated while we're invoking it.
        state.cnt++;
        const a = state.a;
        state.a = 0;
        try {
            return f(a, state.b, ...args);
        } finally {
            if (--state.cnt === 0) {
                wasm.__wbindgen_export_2.get(state.dtor)(a, state.b);

            } else {
                state.a = a;
            }
        }
    };
    real.original = state;

    return real;
}
function __wbg_adapter_38(arg0, arg1, arg2) {
    wasm._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h27858a87ec431f1e(arg0, arg1, addHeapObject(arg2));
}

/**
* Returns the type of the key, "webauthn" or "subtle" for a specified credential.
* @param {string} handle
* @returns {Promise<any>}
*/
function kmc_get_key_type(handle) {
    const ret = wasm.kmc_get_key_type(addHeapObject(handle));
    return takeObject(ret);
}

/**
* @returns {Promise<any>}
*/
function kmc_get_user_agent() {
    const ret = wasm.kmc_get_user_agent();
    return takeObject(ret);
}

/**
* @returns {Promise<string>}
*/
function kmc_get_app_instance_id() {
    const ret = wasm.kmc_get_app_instance_id();
    return takeObject(ret);
}

/**
* @param {string | undefined} allowed_domains
*/
function kmc_migrate_database(allowed_domains) {
    wasm.kmc_migrate_database(isLikeNone(allowed_domains) ? 0 : addHeapObject(allowed_domains));
}

/**
* @param {string} token
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_import(token, cb) {
    const ret = wasm.kmc_import(addHeapObject(token), addHeapObject(cb));
    return takeObject(ret);
}

/**
* @param {string} url
* @param {any} allowed_domains
* @param {string} trusted_source
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_handle_url(url, allowed_domains, trusted_source, cb) {
    const ret = wasm.kmc_handle_url(addHeapObject(url), addHeapObject(allowed_domains), addHeapObject(trusted_source), addHeapObject(cb));
    return takeObject(ret);
}

/**
* @param {string} auth_url
* @param {string} token_url
* @param {string} client_id
* @param {string} redirect_uri
* @param {string | undefined} nonce
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_embedded_public_oidc(auth_url, token_url, client_id, redirect_uri, nonce, cb) {
    const ret = wasm.kmc_embedded_public_oidc(addHeapObject(auth_url), addHeapObject(token_url), addHeapObject(client_id), addHeapObject(redirect_uri), isLikeNone(nonce) ? 0 : addHeapObject(nonce), addHeapObject(cb));
    return takeObject(ret);
}

/**
* @param {string} auth_url
* @param {string} client_id
* @param {string} redirect_uri
* @param {string} scope
* @param {any} pkce_challenge
* @param {string | undefined} nonce
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_embedded_confidential_oidc(auth_url, client_id, redirect_uri, scope, pkce_challenge, nonce, cb) {
    const ret = wasm.kmc_embedded_confidential_oidc(addHeapObject(auth_url), addHeapObject(client_id), addHeapObject(redirect_uri), addHeapObject(scope), addHeapObject(pkce_challenge), isLikeNone(nonce) ? 0 : addHeapObject(nonce), addHeapObject(cb));
    return takeObject(ret);
}

/**
* @param {string} handle
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_export(handle, cb) {
    const ret = wasm.kmc_export(addHeapObject(handle), addHeapObject(cb));
    return takeObject(ret);
}

/**
* @param {string} handle
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_delete_profile(handle, cb) {
    const ret = wasm.kmc_delete_profile(addHeapObject(handle), addHeapObject(cb));
    return takeObject(ret);
}

/**
* @param {string} handle
* @param {string} name
* @param {string} image_url
* @param {string | undefined} enroll_uri
* @param {string | undefined} login_uri
* @param {string | undefined} desktop_login_url
* @param {string | undefined} device_gateway_url
* @param {string | undefined} migrate_addr
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_create_profile(handle, name, image_url, enroll_uri, login_uri, desktop_login_url, device_gateway_url, migrate_addr, cb) {
    const ret = wasm.kmc_create_profile(addHeapObject(handle), addHeapObject(name), addHeapObject(image_url), isLikeNone(enroll_uri) ? 0 : addHeapObject(enroll_uri), isLikeNone(login_uri) ? 0 : addHeapObject(login_uri), isLikeNone(desktop_login_url) ? 0 : addHeapObject(desktop_login_url), isLikeNone(device_gateway_url) ? 0 : addHeapObject(device_gateway_url), isLikeNone(migrate_addr) ? 0 : addHeapObject(migrate_addr), addHeapObject(cb));
    return takeObject(ret);
}

/**
* @returns {Promise<any>}
*/
function kmc_create_pkce() {
    const ret = wasm.kmc_create_pkce();
    return takeObject(ret);
}

/**
* @returns {Promise<any>}
*/
function kmc_cancel() {
    const ret = wasm.kmc_cancel();
    return takeObject(ret);
}

/**
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_all_credentials(cb) {
    const ret = wasm.kmc_all_credentials(addHeapObject(cb));
    return takeObject(ret);
}

/**
* @param {string} credential_id
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_delete_credential(credential_id, cb) {
    const ret = wasm.kmc_delete_credential(addHeapObject(credential_id), addHeapObject(cb));
    return takeObject(ret);
}

/**
* @param {Function} cb
* @returns {Promise<any>}
*/
function kmc_list_credentials(cb) {
    const ret = wasm.kmc_list_credentials(addHeapObject(cb));
    return takeObject(ret);
}

/**
* @param {string} url
* @returns {any}
*/
function kmc_url_type(url) {
    try {
        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);
        wasm.kmc_url_type(retptr, addHeapObject(url));
        var r0 = getInt32Memory0()[retptr / 4 + 0];
        var r1 = getInt32Memory0()[retptr / 4 + 1];
        var r2 = getInt32Memory0()[retptr / 4 + 2];
        if (r2) {
            throw takeObject(r1);
        }
        return takeObject(r0);
    } finally {
        wasm.__wbindgen_add_to_stack_pointer(16);
    }
}

function handleError(f, args) {
    try {
        return f.apply(this, args);
    } catch (e) {
        wasm.__wbindgen_exn_store(addHeapObject(e));
    }
}

function getArrayU8FromWasm0(ptr, len) {
    return getUint8Memory0().subarray(ptr / 1, ptr / 1 + len);
}
function __wbg_adapter_258(arg0, arg1, arg2, arg3) {
    wasm.wasm_bindgen__convert__closures__invoke2_mut__h3cc26d5c09b00dcf(arg0, arg1, addHeapObject(arg2), addHeapObject(arg3));
}

async function load(module, imports) {
    if (typeof Response === 'function' && module instanceof Response) {
        if (typeof WebAssembly.instantiateStreaming === 'function') {
            try {
                return await WebAssembly.instantiateStreaming(module, imports);

            } catch (e) {
                if (module.headers.get('Content-Type') != 'application/wasm') {
                    console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n", e);

                } else {
                    throw e;
                }
            }
        }

        const bytes = await module.arrayBuffer();
        return await WebAssembly.instantiate(bytes, imports);

    } else {
        const instance = await WebAssembly.instantiate(module, imports);

        if (instance instanceof WebAssembly.Instance) {
            return { instance, module };

        } else {
            return instance;
        }
    }
}

async function init(input) {
    if (typeof input === 'undefined') {
        input = new URL(/* asset import */ __webpack_require__(/*! kmc_bg.wasm */ "./node_modules/kmc-ffi/kmc_bg.wasm"), __webpack_require__.b);
    }
    const imports = {};
    imports.wbg = {};
    imports.wbg.__wbindgen_string_new = function(arg0, arg1) {
        const ret = getStringFromWasm0(arg0, arg1);
        return addHeapObject(ret);
    };
    imports.wbg.__wbindgen_object_clone_ref = function(arg0) {
        const ret = getObject(arg0);
        return addHeapObject(ret);
    };
    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {
        takeObject(arg0);
    };
    imports.wbg.__wbindgen_cb_drop = function(arg0) {
        const obj = takeObject(arg0).original;
        if (obj.cnt-- == 1) {
            obj.a = 0;
            return true;
        }
        const ret = false;
        return ret;
    };
    imports.wbg.__wbindgen_string_get = function(arg0, arg1) {
        const obj = getObject(arg1);
        const ret = typeof(obj) === 'string' ? obj : undefined;
        var ptr0 = isLikeNone(ret) ? 0 : passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);
        var len0 = WASM_VECTOR_LEN;
        getInt32Memory0()[arg0 / 4 + 1] = len0;
        getInt32Memory0()[arg0 / 4 + 0] = ptr0;
    };
    imports.wbg.__wbindgen_json_serialize = function(arg0, arg1) {
        const obj = getObject(arg1);
        const ret = JSON.stringify(obj === undefined ? null : obj);
        const ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);
        const len0 = WASM_VECTOR_LEN;
        getInt32Memory0()[arg0 / 4 + 1] = len0;
        getInt32Memory0()[arg0 / 4 + 0] = ptr0;
    };
    imports.wbg.__wbindgen_is_undefined = function(arg0) {
        const ret = getObject(arg0) === undefined;
        return ret;
    };
    imports.wbg.__wbindgen_json_parse = function(arg0, arg1) {
        const ret = JSON.parse(getStringFromWasm0(arg0, arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbindgen_is_falsy = function(arg0) {
        const ret = !getObject(arg0);
        return ret;
    };
    imports.wbg.__wbindgen_is_string = function(arg0) {
        const ret = typeof(getObject(arg0)) === 'string';
        return ret;
    };
    imports.wbg.__wbindgen_is_object = function(arg0) {
        const val = getObject(arg0);
        const ret = typeof(val) === 'object' && val !== null;
        return ret;
    };
    imports.wbg.__wbg_kmcopendb_0c15ab508c820158 = function() {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_open_db)();
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcgetcert_9d9058e60d2ec288 = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_get_cert)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcputcert_84f499cd9a009fed = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_put_cert)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcdeletecert_aa441281a012cdb3 = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_delete_cert)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcgeneratekey_511765beae970253 = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_generate_key)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmciskeywebauthnbacked_84c8f490e60b8e21 = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_is_key_webauthn_backed)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcsign_a1f9b36ba3bf96a1 = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_sign)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcpublickey_48e7a20de431dd34 = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_public_key)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcencrypt_b47fd84a2dd0d3ac = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_encrypt)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcdecrypt_850adb9a77b67169 = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_decrypt)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcdeletekey_7934c88601db8baa = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_delete_key)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcwriteprofile_95e66bc35f3057e8 = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_write_profile)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcwriteprofileid_a1c4524c6e454b4d = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_write_profile_id)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcupdateprofilemetadata_7dd39690d361aac1 = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_update_profile_metadata)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmchasprofile_f03472fe16f4bc09 = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_has_profile)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcgetprofile_04f002673b484dee = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_get_profile)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcgetallprofiles_0a96be1e897d44de = function(arg0) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_get_all_profiles)(takeObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcdeleteprofile_5baa32b96311cc6b = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_delete_profile)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcaddauthenticatorclientid_3e48bda48cf7a7f9 = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_add_authenticator_client_id)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcdeleteallauthenticatorclientids_c00ba8cbf9e43629 = function(arg0, arg1) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_delete_all_authenticator_client_ids)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcgetappsettings_2c607c976452a3de = function(arg0) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_get_app_settings)(takeObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcgetdeviceinfo_b4df9bf7e9cd2396 = function(arg0) {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_get_device_info)(takeObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_kmcgetuseragent_49d884f2eefd978a = function() {
        const ret = (0,_snippets_kmc_js_a8479199104cfb09_src_js_dist_kmc_js__WEBPACK_IMPORTED_MODULE_0__.kmc_get_user_agent)();
        return addHeapObject(ret);
    };
    imports.wbg.__wbindgen_is_null = function(arg0) {
        const ret = getObject(arg0) === null;
        return ret;
    };
    imports.wbg.__wbindgen_boolean_get = function(arg0) {
        const v = getObject(arg0);
        const ret = typeof(v) === 'boolean' ? (v ? 1 : 0) : 2;
        return ret;
    };
    imports.wbg.__wbindgen_number_get = function(arg0, arg1) {
        const obj = getObject(arg1);
        const ret = typeof(obj) === 'number' ? obj : undefined;
        getFloat64Memory0()[arg0 / 8 + 1] = isLikeNone(ret) ? 0 : ret;
        getInt32Memory0()[arg0 / 4 + 0] = !isLikeNone(ret);
    };
    imports.wbg.__wbg_get_2d1407dba3452350 = function(arg0, arg1) {
        const ret = getObject(arg0)[takeObject(arg1)];
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_set_f1a4ac8f3a605b11 = function(arg0, arg1, arg2) {
        getObject(arg0)[takeObject(arg1)] = takeObject(arg2);
    };
    imports.wbg.__wbg_openCredentialDb_cc10d612b35be06f = function() {
        const ret = (0,_snippets_authlib_9e713a18f495db5f_src_store_credential_db_indexeddb_js_target_credstore_js__WEBPACK_IMPORTED_MODULE_1__.openCredentialDb)();
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_closeCredentialDb_990ffb25601db93a = function(arg0) {
        (0,_snippets_authlib_9e713a18f495db5f_src_store_credential_db_indexeddb_js_target_credstore_js__WEBPACK_IMPORTED_MODULE_1__.closeCredentialDb)(getObject(arg0));
    };
    imports.wbg.__wbg_createCredential_ea09853c957d1070 = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_authlib_9e713a18f495db5f_src_store_credential_db_indexeddb_js_target_credstore_js__WEBPACK_IMPORTED_MODULE_1__.createCredential)(getObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_readCredentials_0473c2d197a9dbfe = function(arg0) {
        const ret = (0,_snippets_authlib_9e713a18f495db5f_src_store_credential_db_indexeddb_js_target_credstore_js__WEBPACK_IMPORTED_MODULE_1__.readCredentials)(getObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_updateCredential_09b30155ee0d2458 = function(arg0, arg1) {
        const ret = (0,_snippets_authlib_9e713a18f495db5f_src_store_credential_db_indexeddb_js_target_credstore_js__WEBPACK_IMPORTED_MODULE_1__.updateCredential)(getObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_deleteCredential_f247726b65bc30e9 = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_authlib_9e713a18f495db5f_src_store_credential_db_indexeddb_js_target_credstore_js__WEBPACK_IMPORTED_MODULE_1__.deleteCredential)(getObject(arg0), getStringFromWasm0(arg1, arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_randomFillSync_654a7797990fb8db = function() { return handleError(function (arg0, arg1, arg2) {
        getObject(arg0).randomFillSync(getArrayU8FromWasm0(arg1, arg2));
    }, arguments) };
    imports.wbg.__wbg_getRandomValues_fb6b088efb6bead2 = function() { return handleError(function (arg0, arg1) {
        getObject(arg0).getRandomValues(getObject(arg1));
    }, arguments) };
    imports.wbg.__wbg_process_70251ed1291754d5 = function(arg0) {
        const ret = getObject(arg0).process;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_versions_b23f2588cdb2ddbb = function(arg0) {
        const ret = getObject(arg0).versions;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_node_61b8c9a82499895d = function(arg0) {
        const ret = getObject(arg0).node;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_static_accessor_NODE_MODULE_33b45247c55045b0 = function() {
        const ret = module;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_require_2a93bc09fee45aca = function() { return handleError(function (arg0, arg1, arg2) {
        const ret = getObject(arg0).require(getStringFromWasm0(arg1, arg2));
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_crypto_2f56257a38275dbd = function(arg0) {
        const ret = getObject(arg0).crypto;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_msCrypto_d07655bf62361f21 = function(arg0) {
        const ret = getObject(arg0).msCrypto;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_FfiCreateKeyP256_327bc4d146b1632e = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_hal_9eb4b9f0dfb51f2e_src_wasm_legacy_js_target_hal_js__WEBPACK_IMPORTED_MODULE_2__.FfiCreateKeyP256)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_FfiQueryKeyP256_f5bd58d7f0252522 = function(arg0) {
        const ret = (0,_snippets_hal_9eb4b9f0dfb51f2e_src_wasm_legacy_js_target_hal_js__WEBPACK_IMPORTED_MODULE_2__.FfiQueryKeyP256)(takeObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_FfiDeleteKeyP256_485adf050eb23e22 = function(arg0) {
        const ret = (0,_snippets_hal_9eb4b9f0dfb51f2e_src_wasm_legacy_js_target_hal_js__WEBPACK_IMPORTED_MODULE_2__.FfiDeleteKeyP256)(takeObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_FfiVerifyExistingKeyP256_8204a97ec9b8f5fc = function(arg0) {
        const ret = (0,_snippets_hal_9eb4b9f0dfb51f2e_src_wasm_legacy_js_target_hal_js__WEBPACK_IMPORTED_MODULE_2__.FfiVerifyExistingKeyP256)(takeObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_FfiSignWithP256_0deaba0ebd5a6dcb = function(arg0, arg1) {
        const ret = (0,_snippets_hal_9eb4b9f0dfb51f2e_src_wasm_legacy_js_target_hal_js__WEBPACK_IMPORTED_MODULE_2__.FfiSignWithP256)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_FfiPublicBitsP256_c4d857f47dd452d5 = function(arg0) {
        const ret = (0,_snippets_hal_9eb4b9f0dfb51f2e_src_wasm_legacy_js_target_hal_js__WEBPACK_IMPORTED_MODULE_2__.FfiPublicBitsP256)(takeObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_String_c4052d6424160ac1 = function(arg0, arg1) {
        const ret = String(getObject(arg1));
        const ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);
        const len0 = WASM_VECTOR_LEN;
        getInt32Memory0()[arg0 / 4 + 1] = len0;
        getInt32Memory0()[arg0 / 4 + 0] = ptr0;
    };
    imports.wbg.__wbg_get_f7833d6ec572e462 = function(arg0, arg1) {
        const ret = getObject(arg0)[takeObject(arg1)];
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_set_fbb49ad265f9dee8 = function(arg0, arg1, arg2) {
        getObject(arg0)[takeObject(arg1)] = takeObject(arg2);
    };
    imports.wbg.__wbg_ecdsageneratekeypair_edaf8ac094978593 = function(arg0) {
        const ret = (0,_snippets_crypto_7439096d35d6fc1f_src_ecdsa_wasm_js_crypto_js__WEBPACK_IMPORTED_MODULE_3__.ecdsa_generate_key_pair)(takeObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_ecdsaimportkey_32ec19de54ff9e22 = function(arg0, arg1, arg2, arg3) {
        const ret = (0,_snippets_crypto_7439096d35d6fc1f_src_ecdsa_wasm_js_crypto_js__WEBPACK_IMPORTED_MODULE_3__.ecdsa_import_key)(takeObject(arg0), takeObject(arg1), takeObject(arg2), takeObject(arg3));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_ecdsasign_0bc4242d048360c0 = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_crypto_7439096d35d6fc1f_src_ecdsa_wasm_js_crypto_js__WEBPACK_IMPORTED_MODULE_3__.ecdsa_sign)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_ecdsaverify_a91e7aa3ad495d6d = function(arg0, arg1, arg2, arg3) {
        const ret = (0,_snippets_crypto_7439096d35d6fc1f_src_ecdsa_wasm_js_crypto_js__WEBPACK_IMPORTED_MODULE_3__.ecdsa_verify)(takeObject(arg0), takeObject(arg1), takeObject(arg2), takeObject(arg3));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_keyexport_c8a6f2f55abf5481 = function(arg0, arg1) {
        const ret = (0,_snippets_crypto_7439096d35d6fc1f_src_ecdsa_wasm_js_crypto_js__WEBPACK_IMPORTED_MODULE_3__.key_export)(takeObject(arg0), takeObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_rsaimportkey_4b6778ef963f6efc = function(arg0, arg1, arg2, arg3) {
        const ret = (0,_snippets_crypto_7439096d35d6fc1f_src_ecdsa_wasm_js_crypto_js__WEBPACK_IMPORTED_MODULE_3__.rsa_import_key)(takeObject(arg0), takeObject(arg1), takeObject(arg2), takeObject(arg3));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_rsaverify_15a6c31972526405 = function(arg0, arg1, arg2) {
        const ret = (0,_snippets_crypto_7439096d35d6fc1f_src_ecdsa_wasm_js_crypto_js__WEBPACK_IMPORTED_MODULE_3__.rsa_verify)(takeObject(arg0), takeObject(arg1), takeObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_sleep_28a06b11e85af039 = function(arg0) {
        const ret = (0,_snippets_common_9958b286e1acf929_inline0_js__WEBPACK_IMPORTED_MODULE_4__.sleep)(arg0 >>> 0);
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_fetch_811d43d6bdcad5b1 = function(arg0) {
        const ret = fetch(getObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_instanceof_Window_0e6c0f1096d66c3c = function(arg0) {
        const ret = getObject(arg0) instanceof Window;
        return ret;
    };
    imports.wbg.__wbg_crypto_2ea42c2930d26d8d = function() { return handleError(function (arg0) {
        const ret = getObject(arg0).crypto;
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_fetch_bf56e2a9f0644e3f = function(arg0, arg1) {
        const ret = getObject(arg0).fetch(getObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_new_89d7f088c1c45353 = function() { return handleError(function () {
        const ret = new Headers();
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_append_f4f93bc73c45ee3e = function() { return handleError(function (arg0, arg1, arg2, arg3, arg4) {
        getObject(arg0).append(getStringFromWasm0(arg1, arg2), getStringFromWasm0(arg3, arg4));
    }, arguments) };
    imports.wbg.__wbg_getRandomValues_e68d8462fdaf08a2 = function() { return handleError(function (arg0, arg1, arg2) {
        const ret = getObject(arg0).getRandomValues(getArrayU8FromWasm0(arg1, arg2));
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_newwithu8arraysequenceandoptions_c4b364ec4473b510 = function() { return handleError(function (arg0, arg1) {
        const ret = new Blob(getObject(arg0), getObject(arg1));
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_instanceof_Response_ccfeb62399355bcd = function(arg0) {
        const ret = getObject(arg0) instanceof Response;
        return ret;
    };
    imports.wbg.__wbg_url_06c0f822d68d195c = function(arg0, arg1) {
        const ret = getObject(arg1).url;
        const ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);
        const len0 = WASM_VECTOR_LEN;
        getInt32Memory0()[arg0 / 4 + 1] = len0;
        getInt32Memory0()[arg0 / 4 + 0] = ptr0;
    };
    imports.wbg.__wbg_status_600fd8b881393898 = function(arg0) {
        const ret = getObject(arg0).status;
        return ret;
    };
    imports.wbg.__wbg_headers_9e7f2c05a9b962ea = function(arg0) {
        const ret = getObject(arg0).headers;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_arrayBuffer_5a99283a3954c850 = function() { return handleError(function (arg0) {
        const ret = getObject(arg0).arrayBuffer();
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_text_2612fbe0b9d32220 = function() { return handleError(function (arg0) {
        const ret = getObject(arg0).text();
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_newwithstrandinit_fd99688f189f053e = function() { return handleError(function (arg0, arg1, arg2) {
        const ret = new Request(getStringFromWasm0(arg0, arg1), getObject(arg2));
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_new_22a989bb3c63448e = function() { return handleError(function () {
        const ret = new FormData();
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_append_310ac5aa48274952 = function() { return handleError(function (arg0, arg1, arg2, arg3) {
        getObject(arg0).append(getStringFromWasm0(arg1, arg2), getObject(arg3));
    }, arguments) };
    imports.wbg.__wbg_append_69cf6e3e3f8bc319 = function() { return handleError(function (arg0, arg1, arg2, arg3, arg4, arg5) {
        getObject(arg0).append(getStringFromWasm0(arg1, arg2), getObject(arg3), getStringFromWasm0(arg4, arg5));
    }, arguments) };
    imports.wbg.__wbg_get_590a2cd912f2ae46 = function(arg0, arg1) {
        const ret = getObject(arg0)[arg1 >>> 0];
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_length_2cd798326f2cc4c1 = function(arg0) {
        const ret = getObject(arg0).length;
        return ret;
    };
    imports.wbg.__wbg_new_94fb1279cf6afea5 = function() {
        const ret = new Array();
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_valueOf_534d8e99d070af85 = function(arg0) {
        const ret = getObject(arg0).valueOf();
        return ret;
    };
    imports.wbg.__wbindgen_is_function = function(arg0) {
        const ret = typeof(getObject(arg0)) === 'function';
        return ret;
    };
    imports.wbg.__wbg_newnoargs_e23b458e372830de = function(arg0, arg1) {
        const ret = new Function(getStringFromWasm0(arg0, arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_next_cabb70b365520721 = function(arg0) {
        const ret = getObject(arg0).next;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_next_bf3d83fc18df496e = function() { return handleError(function (arg0) {
        const ret = getObject(arg0).next();
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_done_040f966faa9a72b3 = function(arg0) {
        const ret = getObject(arg0).done;
        return ret;
    };
    imports.wbg.__wbg_value_419afbd9b9574c4c = function(arg0) {
        const ret = getObject(arg0).value;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_iterator_4832ef1f15b0382b = function() {
        const ret = Symbol.iterator;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_get_a9cab131e3152c49 = function() { return handleError(function (arg0, arg1) {
        const ret = Reflect.get(getObject(arg0), getObject(arg1));
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_call_ae78342adc33730a = function() { return handleError(function (arg0, arg1) {
        const ret = getObject(arg0).call(getObject(arg1));
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_new_36359baae5a47e27 = function() {
        const ret = new Object();
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_from_7b9a99a7cd3ef15f = function(arg0) {
        const ret = Array.from(getObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_isArray_6721f2e508996340 = function(arg0) {
        const ret = Array.isArray(getObject(arg0));
        return ret;
    };
    imports.wbg.__wbg_push_40c6a90f1805aa90 = function(arg0, arg1) {
        const ret = getObject(arg0).push(getObject(arg1));
        return ret;
    };
    imports.wbg.__wbg_instanceof_ArrayBuffer_b81b40c2ae0ab898 = function(arg0) {
        const ret = getObject(arg0) instanceof ArrayBuffer;
        return ret;
    };
    imports.wbg.__wbg_values_b1b9e8c63dbe01c2 = function(arg0) {
        const ret = getObject(arg0).values();
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_new_3047bf4b4f02b802 = function(arg0, arg1) {
        const ret = new Error(getStringFromWasm0(arg0, arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_message_dcca38fbff239fbf = function(arg0) {
        const ret = getObject(arg0).message;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_name_642dd84602f48d65 = function(arg0) {
        const ret = getObject(arg0).name;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_call_3ed288a247f13ea5 = function() { return handleError(function (arg0, arg1, arg2) {
        const ret = getObject(arg0).call(getObject(arg1), getObject(arg2));
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_isSafeInteger_c87467ed96815119 = function(arg0) {
        const ret = Number.isSafeInteger(getObject(arg0));
        return ret;
    };
    imports.wbg.__wbg_getTime_bffb1c09df09618b = function(arg0) {
        const ret = getObject(arg0).getTime();
        return ret;
    };
    imports.wbg.__wbg_new0_0ff7eb5c1486f3ec = function() {
        const ret = new Date();
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_entries_aaf7a1fbe90f014a = function(arg0) {
        const ret = Object.entries(getObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_instanceof_Promise_56353edbaec268c3 = function(arg0) {
        const ret = getObject(arg0) instanceof Promise;
        return ret;
    };
    imports.wbg.__wbg_new_37705eed627d5ed9 = function(arg0, arg1) {
        try {
            var state0 = {a: arg0, b: arg1};
            var cb0 = (arg0, arg1) => {
                const a = state0.a;
                state0.a = 0;
                try {
                    return __wbg_adapter_258(a, state0.b, arg0, arg1);
                } finally {
                    state0.a = a;
                }
            };
            const ret = new Promise(cb0);
            return addHeapObject(ret);
        } finally {
            state0.a = state0.b = 0;
        }
    };
    imports.wbg.__wbg_reject_36ac21d22ef591b3 = function(arg0) {
        const ret = Promise.reject(getObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_resolve_a9a87bdd64e9e62c = function(arg0) {
        const ret = Promise.resolve(getObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_then_ce526c837d07b68f = function(arg0, arg1) {
        const ret = getObject(arg0).then(getObject(arg1));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_then_842e65b843962f56 = function(arg0, arg1, arg2) {
        const ret = getObject(arg0).then(getObject(arg1), getObject(arg2));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_self_99737b4dcdf6f0d8 = function() { return handleError(function () {
        const ret = self.self;
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_window_9b61fbbf3564c4fb = function() { return handleError(function () {
        const ret = window.window;
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_globalThis_8e275ef40caea3a3 = function() { return handleError(function () {
        const ret = globalThis.globalThis;
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_global_5de1e0f82bddcd27 = function() { return handleError(function () {
        const ret = __webpack_require__.g.global;
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbg_buffer_7af23f65f6c64548 = function(arg0) {
        const ret = getObject(arg0).buffer;
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_newwithbyteoffsetandlength_ce1e75f0ce5f7974 = function(arg0, arg1, arg2) {
        const ret = new Uint8Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_new_cc9018bd6f283b6f = function(arg0) {
        const ret = new Uint8Array(getObject(arg0));
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_set_f25e869e4565d2a2 = function(arg0, arg1, arg2) {
        getObject(arg0).set(getObject(arg1), arg2 >>> 0);
    };
    imports.wbg.__wbg_length_0acb1cf9bbaf8519 = function(arg0) {
        const ret = getObject(arg0).length;
        return ret;
    };
    imports.wbg.__wbg_instanceof_Uint8Array_edb92795fc0c63b4 = function(arg0) {
        const ret = getObject(arg0) instanceof Uint8Array;
        return ret;
    };
    imports.wbg.__wbg_newwithlength_8f0657faca9f1422 = function(arg0) {
        const ret = new Uint8Array(arg0 >>> 0);
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_subarray_da527dbd24eafb6b = function(arg0, arg1, arg2) {
        const ret = getObject(arg0).subarray(arg1 >>> 0, arg2 >>> 0);
        return addHeapObject(ret);
    };
    imports.wbg.__wbg_has_ce995ec88636803d = function() { return handleError(function (arg0, arg1) {
        const ret = Reflect.has(getObject(arg0), getObject(arg1));
        return ret;
    }, arguments) };
    imports.wbg.__wbg_set_93b1c87ee2af852e = function() { return handleError(function (arg0, arg1, arg2) {
        const ret = Reflect.set(getObject(arg0), getObject(arg1), getObject(arg2));
        return ret;
    }, arguments) };
    imports.wbg.__wbg_stringify_c760003feffcc1f2 = function() { return handleError(function (arg0) {
        const ret = JSON.stringify(getObject(arg0));
        return addHeapObject(ret);
    }, arguments) };
    imports.wbg.__wbindgen_debug_string = function(arg0, arg1) {
        const ret = debugString(getObject(arg1));
        const ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);
        const len0 = WASM_VECTOR_LEN;
        getInt32Memory0()[arg0 / 4 + 1] = len0;
        getInt32Memory0()[arg0 / 4 + 0] = ptr0;
    };
    imports.wbg.__wbindgen_throw = function(arg0, arg1) {
        throw new Error(getStringFromWasm0(arg0, arg1));
    };
    imports.wbg.__wbindgen_memory = function() {
        const ret = wasm.memory;
        return addHeapObject(ret);
    };
    imports.wbg.__wbindgen_closure_wrapper6562 = function(arg0, arg1, arg2) {
        const ret = makeMutClosure(arg0, arg1, 2389, __wbg_adapter_38);
        return addHeapObject(ret);
    };

    if (typeof input === 'string' || (typeof Request === 'function' && input instanceof Request) || (typeof URL === 'function' && input instanceof URL)) {
        input = fetch(input);
    }



    const { instance, module } = await load(await input, imports);

    wasm = instance.exports;
    init.__wbindgen_wasm_module = module;

    return wasm;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (init);



/***/ }),

/***/ "./node_modules/kmc-ffi/snippets/authlib-9e713a18f495db5f/src/store/credential/db/indexeddb/js/target/credstore.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/kmc-ffi/snippets/authlib-9e713a18f495db5f/src/store/credential/db/indexeddb/js/target/credstore.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "closeCredentialDb": () => (/* binding */ closeCredentialDb),
/* harmony export */   "createCredential": () => (/* binding */ createCredential),
/* harmony export */   "deleteCredential": () => (/* binding */ deleteCredential),
/* harmony export */   "openCredentialDb": () => (/* binding */ openCredentialDb),
/* harmony export */   "readCredentials": () => (/* binding */ readCredentials),
/* harmony export */   "updateCredential": () => (/* binding */ updateCredential)
/* harmony export */ });
// src/err.js
var BadPlatform = class extends Error {
  constructor(facility) {
    super(`${facility} is not supported on this platform`);
    this.name = "BadPlatform";
  }
};
var InvalidArg = class extends Error {
  constructor(arg) {
    super(`invalid arg: ${arg}`);
    this.name = "InvalidArg";
  }
};
var OperationBlocked = class extends Error {
  constructor(op) {
    super(`operation blocked in ${op}`);
    this.name = "OperationBlocked";
  }
};
var KeyNotFound = class extends Error {
  constructor(handle) {
    super(`${handle} not found`);
    this.name = "KeyNotFound";
  }
};

// src/validate.js
function validateDatabase(tx) {
  return tx instanceof IDBDatabase;
}
function validateTransactionMode(mode) {
  return mode === "readonly" || mode === "readwrite";
}
function validateTransactionScope(scope) {
  return typeof scope === "string" || scope instanceof Array && scope.reduce((p, c) => p && typeof c === "string", true);
}
function validateTransaction(tx) {
  return tx instanceof IDBTransaction;
}
function validateObjectStore(store) {
  return typeof store === "string";
}

// src/idb.js
var idbTransaction = {
  readonly: "readonly",
  readwrite: "readwrite"
};
function idbOpenDb(name, version2, runMigrations2) {
  if (!window.indexedDB)
    return Promise.reject(new BadPlatform("indexedDB"));
  if (typeof name !== "string")
    return Promise.reject(new InvalidArg("name"));
  if (typeof version2 !== "number")
    return Promise.reject(new InvalidArg("version"));
  if (typeof runMigrations2 !== "function")
    return Promise.reject(new InvalidArg("runMigrations"));
  return new Promise((resolve, reject) => {
    try {
      const rq = window.indexedDB.open(name, version2);
      rq.onupgradeneeded = (e) => {
        try {
          runMigrations2(e.target.result, e.target.transaction, e.newVersion, e.oldVersion);
        } catch (err) {
          reject(err);
        }
      };
      rq.onblocked = (e) => {
        reject(new OperationBlocked("idbOpenDb"));
      };
      rq.onerror = (e) => {
        reject(e.target.error);
      };
      rq.onsuccess = (e) => {
        const db = e.target.result;
        db.onversionchange = () => {
          db.close();
        };
        resolve(db);
      };
    } catch (err) {
      reject(err);
    }
  });
}
function idbCloseDb(db) {
  if (db instanceof IDBDatabase)
    db.close();
}
function idbBeginTransaction(db, scope, mode) {
  if (!validateDatabase(db))
    throw new InvalidArg("db");
  if (!validateTransactionScope(scope))
    throw new InvalidArg("scope");
  if (!validateTransactionMode(mode))
    throw new InvalidArg("mode");
  const tx = db.transaction(scope, mode);
  tx.result = null;
  tx.promise = new Promise((resolve, reject) => {
    tx.oncomplete = (e) => {
      resolve(tx.result);
    };
    tx.onerror = (e) => {
      reject(tx.error ? tx.error : e.target.error);
    };
    tx.onabort = (e) => {
      reject(tx.result);
    };
  });
  return tx;
}
function idbFinishTransaction(tx) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  if (tx.error) {
    return Promise.reject(tx.error);
  }
  return tx.promise;
}
function idbAbortTransaction(tx, error) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  tx.result = error;
  tx.abort();
}
function idbGetAll(tx, store) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  if (!validateObjectStore(store))
    throw new InvalidArg("store");
  try {
    const os = tx.objectStore(store);
    const rq = os.getAll();
    rq.onsuccess = (e) => {
      tx.result = rq.result;
    };
    rq.onerror = (e) => {
      tx.result = e.target.error;
      tx.abort();
    };
  } catch (err) {
    tx.result = err;
    tx.abort();
  }
}
function idbPut(tx, store, value, key) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  if (!validateObjectStore(store))
    throw new InvalidArg("store");
  try {
    const os = tx.objectStore(store);
    const rq = os.put(value, key);
    rq.onsuccess = (e) => {
      tx.result = rq.result;
    };
    rq.onerror = (e) => {
      tx.result = e.target.error;
      tx.abort();
    };
  } catch (err) {
    tx.result = err;
    tx.abort();
  }
}
function idbAdd(tx, store, value, key) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  if (!validateObjectStore(store))
    throw new InvalidArg("store");
  try {
    const os = tx.objectStore(store);
    const rq = os.add(value, key);
    rq.onsuccess = (e) => {
      tx.result = rq.result;
    };
    rq.onerror = (e) => {
      tx.result = e.target.error;
      tx.abort();
    };
  } catch (err) {
    tx.result = err;
    tx.abort();
  }
}
function idbDelete(tx, store, key) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  if (!validateObjectStore(store))
    throw new InvalidArg("store");
  try {
    const os = tx.objectStore(store);
    const rq = os.delete(key);
    rq.onsuccess = (e) => {
      tx.result = rq.result;
    };
    rq.onerror = (e) => {
      tx.result = e.target.error;
      tx.abort();
    };
  } catch (err) {
    tx.result = err;
    tx.abort();
  }
}

// src/store.js
var version = 1;
var dbName = "credentials";
var credentialStore = "credentials";
function runMigrations(db) {
  db.createObjectStore(credentialStore, {
    keyPath: "id"
  });
}
async function openCredentialDb() {
  return await idbOpenDb(dbName, version, runMigrations);
}
async function closeCredentialDb(db) {
  idbCloseDb(db);
}
async function createCredential(db, cred, deleteId) {
  let tx = idbBeginTransaction(db, credentialStore, idbTransaction.readwrite);
  if (deleteId !== void 0) {
    idbDelete(tx, credentialStore, deleteId);
  }
  idbAdd(tx, credentialStore, cred);
  await idbFinishTransaction(tx);
}
async function readCredentials(db) {
  let tx = idbBeginTransaction(db, credentialStore, idbTransaction.readwrite);
  idbGetAll(tx, credentialStore);
  return await idbFinishTransaction(tx);
}
async function updateCredential(db, update) {
  let tx = idbBeginTransaction(db, credentialStore, idbTransaction.readwrite);
  idbPut(tx, credentialStore, update);
  await idbFinishTransaction(tx);
}
async function deleteCredential(db, id) {
  let tx = idbBeginTransaction(db, credentialStore, idbTransaction.readwrite);
  let store = tx.objectStore(credentialStore);
  store.openCursor().onsuccess = (e) => {
    let cursor = e.target.result;
    if (cursor) {
      if (cursor.value.id === id) {
        cursor.delete();
        id = void 0;
      }
      cursor.continue();
    } else {
      if (id !== void 0) {
        idbAbortTransaction(tx, new KeyNotFound(id));
        return;
      }
    }
  };
  await idbFinishTransaction(tx);
}



/***/ }),

/***/ "./node_modules/kmc-ffi/snippets/common-9958b286e1acf929/inline0.js":
/*!**************************************************************************!*\
  !*** ./node_modules/kmc-ffi/snippets/common-9958b286e1acf929/inline0.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "sleep": () => (/* binding */ sleep)
/* harmony export */ });
var sleep = (ms) => new Promise((resolve) => setTimeout(() => resolve(), ms));

/***/ }),

/***/ "./node_modules/kmc-ffi/snippets/crypto-7439096d35d6fc1f/src/ecdsa_wasm/js/crypto.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/kmc-ffi/snippets/crypto-7439096d35d6fc1f/src/ecdsa_wasm/js/crypto.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "key_export": () => (/* binding */ key_export),
/* harmony export */   "ecdsa_generate_key_pair": () => (/* binding */ ecdsa_generate_key_pair),
/* harmony export */   "ecdsa_import_key": () => (/* binding */ ecdsa_import_key),
/* harmony export */   "ecdsa_sign": () => (/* binding */ ecdsa_sign),
/* harmony export */   "ecdsa_verify": () => (/* binding */ ecdsa_verify),
/* harmony export */   "aesgcm_generate_key": () => (/* binding */ aesgcm_generate_key),
/* harmony export */   "rsa_import_key": () => (/* binding */ rsa_import_key),
/* harmony export */   "rsa_verify": () => (/* binding */ rsa_verify)
/* harmony export */ });

function key_export(key, format) {
    return new Promise((resolve, reject) => {
        window.crypto.subtle.exportKey(format, key)
            .then(data => {
                resolve(new Uint8Array(data));
            }, err => {
                reject(err);
            });
    });
}

//can be "P-256", "P-384", or "P-521"
function ecdsa_generate_key_pair(curve) {
    return new Promise((resolve, reject) => {
        let params = {
            name: "ECDSA",
            namedCurve: curve,
        };
        window.crypto.subtle.generateKey(params, true, ["sign", "verify"])
            .then(keyPair => {
                resolve(keyPair);
            }, err => {
                reject(err);
            });
    });
}

function ecdsa_import_key(format, curve, bits, use) {
    return new Promise((resolve, reject) => {
        let params = {
            name: "ECDSA",
            namedCurve: curve,
        };
        window.crypto.subtle.importKey(format, bits, params, true, [use])
            .then(keyPair => {
                resolve(keyPair);
            }, err => {
                reject(err);
            });
    });
}

//can be "SHA-1", "SHA-256", "SHA-384", or "SHA-512"
function ecdsa_sign(key, hash, data) {
    return new Promise((resolve, reject) => {
        let params = {
            name: "ECDSA",
            hash: hash,
        };
        window.crypto.subtle.sign(params, key, data)
            .then(signature => {
                signature = new Uint8Array(signature);
                resolve(signature);
            }, err => {
                reject(err);
            });
    });
};

// SubtleCrypto requires raw signatures, an (x,y) 
// pair of 32-bit BigInt's.  If the length of 
// the signature is > 64, then assume the signature
// is asn.1 encoded as sequence(int, int). 
function ecdsa_decode_signature(signature) {
    if (signature.length == 64) return signature;

    const err = new Error("Invalid signature");

    if (signature.length < 64) throw err;

    // Expected: asn.1 sequence primitive (0x48)
    if (signature[0] != 48) throw err;

    let rawSignature = new Uint8Array(64);

    let pos = 2;

    // Expected: asn.1 integer primitive (0x48)
    if (signature[pos++] != 2) throw err;

    // Parse x.
    // Expected: integer length, either 32 or 33 bytes
    // If the length begins with a 0, then the int is 
    // positive and we can skip the byte.
    let len = signature[pos++];
    if (len == 33) pos++;
    else if (len != 32) throw err;
    rawSignature.set(signature.slice(pos, pos + 32), 0);

    // Parse y, same as x. 
    pos += 32;
    if (signature[pos++] != 2) throw err;
    len = signature[pos++];
    if (len == 33) pos++;
    else if (len != 32) throw err;
    rawSignature.set(signature.slice(pos, pos + 32), 32);

    return rawSignature;
}

function ecdsa_verify(key, hash, signature, message) {

    return new Promise((resolve, reject) => {
        try {
            signature = ecdsa_decode_signature(signature);
        }
        catch (err) {
            reject(err);
            return;
        }
        let params = {
            name: "ECDSA",
            hash: hash,
        };
        window.crypto.subtle.verify(params, key, signature, message)
            .then(ok => {
                resolve(ok);
            }, err => {
                reject(err);
            });
    });
};

function aesgcm_generate_key() {
    return new Promise((resolve, reject) => {
        let params = {
            name: "AES-GCM",
            length: 256,
        };
        window.crypto.subtle.generateKey(params, false, ["encrypt", "decrypt"])
            .then(key => {
                resolve(key)
            }, err => {
                reject(err)
            });
    });
}

function rsa_import_key(format, bits, use, hash) {
    return new Promise((resolve, reject) => {
        let params = {
            name: "RSASSA-PKCS1-v1_5",
            hash: hash,
        };
        window.crypto.subtle.importKey(format, bits, params, true, [use])
            .then(keyPair => {
                resolve(keyPair);
            }, err => {
                reject(err);
            });
    });
}

function rsa_verify(key, signature, message) {

    return new Promise((resolve, reject) => {
        let params = {
            name: "RSASSA-PKCS1-v1_5",
        };
        window.crypto.subtle.verify(params, key, signature, message)
            .then(ok => {
                resolve(ok);
            }, err => {
                reject(err);
            });
    });
};



/***/ }),

/***/ "./node_modules/kmc-ffi/snippets/hal-9eb4b9f0dfb51f2e/src/wasm/legacy/js/target/hal.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/kmc-ffi/snippets/hal-9eb4b9f0dfb51f2e/src/wasm/legacy/js/target/hal.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FfiCreateKeyP256": () => (/* binding */ FfiCreateKeyP256),
/* harmony export */   "FfiDeleteKeyP256": () => (/* binding */ FfiDeleteKeyP256),
/* harmony export */   "FfiPublicBitsP256": () => (/* binding */ FfiPublicBitsP256),
/* harmony export */   "FfiQueryKeyP256": () => (/* binding */ FfiQueryKeyP256),
/* harmony export */   "FfiSignWithP256": () => (/* binding */ FfiSignWithP256),
/* harmony export */   "FfiVerifyExistingKeyP256": () => (/* binding */ FfiVerifyExistingKeyP256),
/* harmony export */   "KeyExists": () => (/* binding */ KeyExists),
/* harmony export */   "KeyNotFound": () => (/* binding */ KeyNotFound),
/* harmony export */   "closeDb": () => (/* binding */ closeDb),
/* harmony export */   "deleteKey": () => (/* binding */ deleteKey),
/* harmony export */   "generateKey": () => (/* binding */ generateKey),
/* harmony export */   "kmcDbVersion": () => (/* binding */ kmcDbVersion),
/* harmony export */   "loadKey": () => (/* binding */ loadKey),
/* harmony export */   "openDb": () => (/* binding */ openDb),
/* harmony export */   "publicKey": () => (/* binding */ publicKey),
/* harmony export */   "resetDb": () => (/* binding */ resetDb),
/* harmony export */   "saveKey": () => (/* binding */ saveKey),
/* harmony export */   "sign": () => (/* binding */ sign),
/* harmony export */   "validateKey": () => (/* binding */ validateKey),
/* harmony export */   "validateKeyHandle": () => (/* binding */ validateKeyHandle)
/* harmony export */ });
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __reExport = (target, module, desc) => {
  if (module && typeof module === "object" || typeof module === "function") {
    for (let key of __getOwnPropNames(module))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module[key], enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module) => {
  return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, "default", module && module.__esModule && "default" in module ? { get: () => module.default, enumerable: true } : { value: module, enumerable: true })), module);
};

// node_modules/cbor-web/dist/cbor.js
var require_cbor = __commonJS({
  "node_modules/cbor-web/dist/cbor.js"(exports, module) {
    !function(e, t) {
      typeof exports == "object" && typeof module == "object" ? module.exports = t() : typeof define == "function" && __webpack_require__.amdO ? define([], t) : typeof exports == "object" ? exports.cbor = t() : e.cbor = t();
    }(exports, function() {
      return (() => {
        var e = { 742: (e2, t2) => {
          "use strict";
          t2.byteLength = function(e3) {
            var t3 = u(e3), r3 = t3[0], n3 = t3[1];
            return 3 * (r3 + n3) / 4 - n3;
          }, t2.toByteArray = function(e3) {
            var t3, r3, o2 = u(e3), s2 = o2[0], a2 = o2[1], f2 = new i(function(e4, t4, r4) {
              return 3 * (t4 + r4) / 4 - r4;
            }(0, s2, a2)), h = 0, l = a2 > 0 ? s2 - 4 : s2;
            for (r3 = 0; r3 < l; r3 += 4)
              t3 = n2[e3.charCodeAt(r3)] << 18 | n2[e3.charCodeAt(r3 + 1)] << 12 | n2[e3.charCodeAt(r3 + 2)] << 6 | n2[e3.charCodeAt(r3 + 3)], f2[h++] = t3 >> 16 & 255, f2[h++] = t3 >> 8 & 255, f2[h++] = 255 & t3;
            return a2 === 2 && (t3 = n2[e3.charCodeAt(r3)] << 2 | n2[e3.charCodeAt(r3 + 1)] >> 4, f2[h++] = 255 & t3), a2 === 1 && (t3 = n2[e3.charCodeAt(r3)] << 10 | n2[e3.charCodeAt(r3 + 1)] << 4 | n2[e3.charCodeAt(r3 + 2)] >> 2, f2[h++] = t3 >> 8 & 255, f2[h++] = 255 & t3), f2;
          }, t2.fromByteArray = function(e3) {
            for (var t3, n3 = e3.length, i2 = n3 % 3, o2 = [], s2 = 16383, a2 = 0, u2 = n3 - i2; a2 < u2; a2 += s2)
              o2.push(f(e3, a2, a2 + s2 > u2 ? u2 : a2 + s2));
            return i2 === 1 ? (t3 = e3[n3 - 1], o2.push(r2[t3 >> 2] + r2[t3 << 4 & 63] + "==")) : i2 === 2 && (t3 = (e3[n3 - 2] << 8) + e3[n3 - 1], o2.push(r2[t3 >> 10] + r2[t3 >> 4 & 63] + r2[t3 << 2 & 63] + "=")), o2.join("");
          };
          for (var r2 = [], n2 = [], i = typeof Uint8Array != "undefined" ? Uint8Array : Array, o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, a = o.length; s < a; ++s)
            r2[s] = o[s], n2[o.charCodeAt(s)] = s;
          function u(e3) {
            var t3 = e3.length;
            if (t3 % 4 > 0)
              throw new Error("Invalid string. Length must be a multiple of 4");
            var r3 = e3.indexOf("=");
            return r3 === -1 && (r3 = t3), [r3, r3 === t3 ? 0 : 4 - r3 % 4];
          }
          function f(e3, t3, n3) {
            for (var i2, o2, s2 = [], a2 = t3; a2 < n3; a2 += 3)
              i2 = (e3[a2] << 16 & 16711680) + (e3[a2 + 1] << 8 & 65280) + (255 & e3[a2 + 2]), s2.push(r2[(o2 = i2) >> 18 & 63] + r2[o2 >> 12 & 63] + r2[o2 >> 6 & 63] + r2[63 & o2]);
            return s2.join("");
          }
          n2["-".charCodeAt(0)] = 62, n2["_".charCodeAt(0)] = 63;
        }, 764: (e2, t2, r2) => {
          "use strict";
          const n2 = r2(742), i = r2(645), o = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : null;
          t2.Buffer = u, t2.SlowBuffer = function(e3) {
            return +e3 != e3 && (e3 = 0), u.alloc(+e3);
          }, t2.INSPECT_MAX_BYTES = 50;
          const s = 2147483647;
          function a(e3) {
            if (e3 > s)
              throw new RangeError('The value "' + e3 + '" is invalid for option "size"');
            const t3 = new Uint8Array(e3);
            return Object.setPrototypeOf(t3, u.prototype), t3;
          }
          function u(e3, t3, r3) {
            if (typeof e3 == "number") {
              if (typeof t3 == "string")
                throw new TypeError('The "string" argument must be of type string. Received type number');
              return l(e3);
            }
            return f(e3, t3, r3);
          }
          function f(e3, t3, r3) {
            if (typeof e3 == "string")
              return function(e4, t4) {
                if (typeof t4 == "string" && t4 !== "" || (t4 = "utf8"), !u.isEncoding(t4))
                  throw new TypeError("Unknown encoding: " + t4);
                const r4 = 0 | g(e4, t4);
                let n4 = a(r4);
                const i3 = n4.write(e4, t4);
                return i3 !== r4 && (n4 = n4.slice(0, i3)), n4;
              }(e3, t3);
            if (ArrayBuffer.isView(e3))
              return function(e4) {
                if (z(e4, Uint8Array)) {
                  const t4 = new Uint8Array(e4);
                  return d(t4.buffer, t4.byteOffset, t4.byteLength);
                }
                return c(e4);
              }(e3);
            if (e3 == null)
              throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e3);
            if (z(e3, ArrayBuffer) || e3 && z(e3.buffer, ArrayBuffer))
              return d(e3, t3, r3);
            if (typeof SharedArrayBuffer != "undefined" && (z(e3, SharedArrayBuffer) || e3 && z(e3.buffer, SharedArrayBuffer)))
              return d(e3, t3, r3);
            if (typeof e3 == "number")
              throw new TypeError('The "value" argument must not be of type number. Received type number');
            const n3 = e3.valueOf && e3.valueOf();
            if (n3 != null && n3 !== e3)
              return u.from(n3, t3, r3);
            const i2 = function(e4) {
              if (u.isBuffer(e4)) {
                const t4 = 0 | p(e4.length), r4 = a(t4);
                return r4.length === 0 || e4.copy(r4, 0, 0, t4), r4;
              }
              return e4.length !== void 0 ? typeof e4.length != "number" || J(e4.length) ? a(0) : c(e4) : e4.type === "Buffer" && Array.isArray(e4.data) ? c(e4.data) : void 0;
            }(e3);
            if (i2)
              return i2;
            if (typeof Symbol != "undefined" && Symbol.toPrimitive != null && typeof e3[Symbol.toPrimitive] == "function")
              return u.from(e3[Symbol.toPrimitive]("string"), t3, r3);
            throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e3);
          }
          function h(e3) {
            if (typeof e3 != "number")
              throw new TypeError('"size" argument must be of type number');
            if (e3 < 0)
              throw new RangeError('The value "' + e3 + '" is invalid for option "size"');
          }
          function l(e3) {
            return h(e3), a(e3 < 0 ? 0 : 0 | p(e3));
          }
          function c(e3) {
            const t3 = e3.length < 0 ? 0 : 0 | p(e3.length), r3 = a(t3);
            for (let n3 = 0; n3 < t3; n3 += 1)
              r3[n3] = 255 & e3[n3];
            return r3;
          }
          function d(e3, t3, r3) {
            if (t3 < 0 || e3.byteLength < t3)
              throw new RangeError('"offset" is outside of buffer bounds');
            if (e3.byteLength < t3 + (r3 || 0))
              throw new RangeError('"length" is outside of buffer bounds');
            let n3;
            return n3 = t3 === void 0 && r3 === void 0 ? new Uint8Array(e3) : r3 === void 0 ? new Uint8Array(e3, t3) : new Uint8Array(e3, t3, r3), Object.setPrototypeOf(n3, u.prototype), n3;
          }
          function p(e3) {
            if (e3 >= s)
              throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + s.toString(16) + " bytes");
            return 0 | e3;
          }
          function g(e3, t3) {
            if (u.isBuffer(e3))
              return e3.length;
            if (ArrayBuffer.isView(e3) || z(e3, ArrayBuffer))
              return e3.byteLength;
            if (typeof e3 != "string")
              throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e3);
            const r3 = e3.length, n3 = arguments.length > 2 && arguments[2] === true;
            if (!n3 && r3 === 0)
              return 0;
            let i2 = false;
            for (; ; )
              switch (t3) {
                case "ascii":
                case "latin1":
                case "binary":
                  return r3;
                case "utf8":
                case "utf-8":
                  return H(e3).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return 2 * r3;
                case "hex":
                  return r3 >>> 1;
                case "base64":
                  return K(e3).length;
                default:
                  if (i2)
                    return n3 ? -1 : H(e3).length;
                  t3 = ("" + t3).toLowerCase(), i2 = true;
              }
          }
          function y(e3, t3, r3) {
            let n3 = false;
            if ((t3 === void 0 || t3 < 0) && (t3 = 0), t3 > this.length)
              return "";
            if ((r3 === void 0 || r3 > this.length) && (r3 = this.length), r3 <= 0)
              return "";
            if ((r3 >>>= 0) <= (t3 >>>= 0))
              return "";
            for (e3 || (e3 = "utf8"); ; )
              switch (e3) {
                case "hex":
                  return L(this, t3, r3);
                case "utf8":
                case "utf-8":
                  return A(this, t3, r3);
                case "ascii":
                  return R(this, t3, r3);
                case "latin1":
                case "binary":
                  return U(this, t3, r3);
                case "base64":
                  return I(this, t3, r3);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return N(this, t3, r3);
                default:
                  if (n3)
                    throw new TypeError("Unknown encoding: " + e3);
                  e3 = (e3 + "").toLowerCase(), n3 = true;
              }
          }
          function b(e3, t3, r3) {
            const n3 = e3[t3];
            e3[t3] = e3[r3], e3[r3] = n3;
          }
          function w(e3, t3, r3, n3, i2) {
            if (e3.length === 0)
              return -1;
            if (typeof r3 == "string" ? (n3 = r3, r3 = 0) : r3 > 2147483647 ? r3 = 2147483647 : r3 < -2147483648 && (r3 = -2147483648), J(r3 = +r3) && (r3 = i2 ? 0 : e3.length - 1), r3 < 0 && (r3 = e3.length + r3), r3 >= e3.length) {
              if (i2)
                return -1;
              r3 = e3.length - 1;
            } else if (r3 < 0) {
              if (!i2)
                return -1;
              r3 = 0;
            }
            if (typeof t3 == "string" && (t3 = u.from(t3, n3)), u.isBuffer(t3))
              return t3.length === 0 ? -1 : _(e3, t3, r3, n3, i2);
            if (typeof t3 == "number")
              return t3 &= 255, typeof Uint8Array.prototype.indexOf == "function" ? i2 ? Uint8Array.prototype.indexOf.call(e3, t3, r3) : Uint8Array.prototype.lastIndexOf.call(e3, t3, r3) : _(e3, [t3], r3, n3, i2);
            throw new TypeError("val must be string, number or Buffer");
          }
          function _(e3, t3, r3, n3, i2) {
            let o2, s2 = 1, a2 = e3.length, u2 = t3.length;
            if (n3 !== void 0 && ((n3 = String(n3).toLowerCase()) === "ucs2" || n3 === "ucs-2" || n3 === "utf16le" || n3 === "utf-16le")) {
              if (e3.length < 2 || t3.length < 2)
                return -1;
              s2 = 2, a2 /= 2, u2 /= 2, r3 /= 2;
            }
            function f2(e4, t4) {
              return s2 === 1 ? e4[t4] : e4.readUInt16BE(t4 * s2);
            }
            if (i2) {
              let n4 = -1;
              for (o2 = r3; o2 < a2; o2++)
                if (f2(e3, o2) === f2(t3, n4 === -1 ? 0 : o2 - n4)) {
                  if (n4 === -1 && (n4 = o2), o2 - n4 + 1 === u2)
                    return n4 * s2;
                } else
                  n4 !== -1 && (o2 -= o2 - n4), n4 = -1;
            } else
              for (r3 + u2 > a2 && (r3 = a2 - u2), o2 = r3; o2 >= 0; o2--) {
                let r4 = true;
                for (let n4 = 0; n4 < u2; n4++)
                  if (f2(e3, o2 + n4) !== f2(t3, n4)) {
                    r4 = false;
                    break;
                  }
                if (r4)
                  return o2;
              }
            return -1;
          }
          function m(e3, t3, r3, n3) {
            r3 = Number(r3) || 0;
            const i2 = e3.length - r3;
            n3 ? (n3 = Number(n3)) > i2 && (n3 = i2) : n3 = i2;
            const o2 = t3.length;
            let s2;
            for (n3 > o2 / 2 && (n3 = o2 / 2), s2 = 0; s2 < n3; ++s2) {
              const n4 = parseInt(t3.substr(2 * s2, 2), 16);
              if (J(n4))
                return s2;
              e3[r3 + s2] = n4;
            }
            return s2;
          }
          function E(e3, t3, r3, n3) {
            return V(H(t3, e3.length - r3), e3, r3, n3);
          }
          function v(e3, t3, r3, n3) {
            return V(function(e4) {
              const t4 = [];
              for (let r4 = 0; r4 < e4.length; ++r4)
                t4.push(255 & e4.charCodeAt(r4));
              return t4;
            }(t3), e3, r3, n3);
          }
          function S(e3, t3, r3, n3) {
            return V(K(t3), e3, r3, n3);
          }
          function T(e3, t3, r3, n3) {
            return V(function(e4, t4) {
              let r4, n4, i2;
              const o2 = [];
              for (let s2 = 0; s2 < e4.length && !((t4 -= 2) < 0); ++s2)
                r4 = e4.charCodeAt(s2), n4 = r4 >> 8, i2 = r4 % 256, o2.push(i2), o2.push(n4);
              return o2;
            }(t3, e3.length - r3), e3, r3, n3);
          }
          function I(e3, t3, r3) {
            return t3 === 0 && r3 === e3.length ? n2.fromByteArray(e3) : n2.fromByteArray(e3.slice(t3, r3));
          }
          function A(e3, t3, r3) {
            r3 = Math.min(e3.length, r3);
            const n3 = [];
            let i2 = t3;
            for (; i2 < r3; ) {
              const t4 = e3[i2];
              let o2 = null, s2 = t4 > 239 ? 4 : t4 > 223 ? 3 : t4 > 191 ? 2 : 1;
              if (i2 + s2 <= r3) {
                let r4, n4, a2, u2;
                switch (s2) {
                  case 1:
                    t4 < 128 && (o2 = t4);
                    break;
                  case 2:
                    r4 = e3[i2 + 1], (192 & r4) == 128 && (u2 = (31 & t4) << 6 | 63 & r4, u2 > 127 && (o2 = u2));
                    break;
                  case 3:
                    r4 = e3[i2 + 1], n4 = e3[i2 + 2], (192 & r4) == 128 && (192 & n4) == 128 && (u2 = (15 & t4) << 12 | (63 & r4) << 6 | 63 & n4, u2 > 2047 && (u2 < 55296 || u2 > 57343) && (o2 = u2));
                    break;
                  case 4:
                    r4 = e3[i2 + 1], n4 = e3[i2 + 2], a2 = e3[i2 + 3], (192 & r4) == 128 && (192 & n4) == 128 && (192 & a2) == 128 && (u2 = (15 & t4) << 18 | (63 & r4) << 12 | (63 & n4) << 6 | 63 & a2, u2 > 65535 && u2 < 1114112 && (o2 = u2));
                }
              }
              o2 === null ? (o2 = 65533, s2 = 1) : o2 > 65535 && (o2 -= 65536, n3.push(o2 >>> 10 & 1023 | 55296), o2 = 56320 | 1023 & o2), n3.push(o2), i2 += s2;
            }
            return function(e4) {
              const t4 = e4.length;
              if (t4 <= B)
                return String.fromCharCode.apply(String, e4);
              let r4 = "", n4 = 0;
              for (; n4 < t4; )
                r4 += String.fromCharCode.apply(String, e4.slice(n4, n4 += B));
              return r4;
            }(n3);
          }
          t2.kMaxLength = s, u.TYPED_ARRAY_SUPPORT = function() {
            try {
              const e3 = new Uint8Array(1), t3 = { foo: function() {
                return 42;
              } };
              return Object.setPrototypeOf(t3, Uint8Array.prototype), Object.setPrototypeOf(e3, t3), e3.foo() === 42;
            } catch (e3) {
              return false;
            }
          }(), u.TYPED_ARRAY_SUPPORT || typeof console == "undefined" || typeof console.error != "function" || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."), Object.defineProperty(u.prototype, "parent", { enumerable: true, get: function() {
            if (u.isBuffer(this))
              return this.buffer;
          } }), Object.defineProperty(u.prototype, "offset", { enumerable: true, get: function() {
            if (u.isBuffer(this))
              return this.byteOffset;
          } }), u.poolSize = 8192, u.from = function(e3, t3, r3) {
            return f(e3, t3, r3);
          }, Object.setPrototypeOf(u.prototype, Uint8Array.prototype), Object.setPrototypeOf(u, Uint8Array), u.alloc = function(e3, t3, r3) {
            return function(e4, t4, r4) {
              return h(e4), e4 <= 0 ? a(e4) : t4 !== void 0 ? typeof r4 == "string" ? a(e4).fill(t4, r4) : a(e4).fill(t4) : a(e4);
            }(e3, t3, r3);
          }, u.allocUnsafe = function(e3) {
            return l(e3);
          }, u.allocUnsafeSlow = function(e3) {
            return l(e3);
          }, u.isBuffer = function(e3) {
            return e3 != null && e3._isBuffer === true && e3 !== u.prototype;
          }, u.compare = function(e3, t3) {
            if (z(e3, Uint8Array) && (e3 = u.from(e3, e3.offset, e3.byteLength)), z(t3, Uint8Array) && (t3 = u.from(t3, t3.offset, t3.byteLength)), !u.isBuffer(e3) || !u.isBuffer(t3))
              throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
            if (e3 === t3)
              return 0;
            let r3 = e3.length, n3 = t3.length;
            for (let i2 = 0, o2 = Math.min(r3, n3); i2 < o2; ++i2)
              if (e3[i2] !== t3[i2]) {
                r3 = e3[i2], n3 = t3[i2];
                break;
              }
            return r3 < n3 ? -1 : n3 < r3 ? 1 : 0;
          }, u.isEncoding = function(e3) {
            switch (String(e3).toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "latin1":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return true;
              default:
                return false;
            }
          }, u.concat = function(e3, t3) {
            if (!Array.isArray(e3))
              throw new TypeError('"list" argument must be an Array of Buffers');
            if (e3.length === 0)
              return u.alloc(0);
            let r3;
            if (t3 === void 0)
              for (t3 = 0, r3 = 0; r3 < e3.length; ++r3)
                t3 += e3[r3].length;
            const n3 = u.allocUnsafe(t3);
            let i2 = 0;
            for (r3 = 0; r3 < e3.length; ++r3) {
              let t4 = e3[r3];
              if (z(t4, Uint8Array))
                i2 + t4.length > n3.length ? (u.isBuffer(t4) || (t4 = u.from(t4)), t4.copy(n3, i2)) : Uint8Array.prototype.set.call(n3, t4, i2);
              else {
                if (!u.isBuffer(t4))
                  throw new TypeError('"list" argument must be an Array of Buffers');
                t4.copy(n3, i2);
              }
              i2 += t4.length;
            }
            return n3;
          }, u.byteLength = g, u.prototype._isBuffer = true, u.prototype.swap16 = function() {
            const e3 = this.length;
            if (e3 % 2 != 0)
              throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (let t3 = 0; t3 < e3; t3 += 2)
              b(this, t3, t3 + 1);
            return this;
          }, u.prototype.swap32 = function() {
            const e3 = this.length;
            if (e3 % 4 != 0)
              throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (let t3 = 0; t3 < e3; t3 += 4)
              b(this, t3, t3 + 3), b(this, t3 + 1, t3 + 2);
            return this;
          }, u.prototype.swap64 = function() {
            const e3 = this.length;
            if (e3 % 8 != 0)
              throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (let t3 = 0; t3 < e3; t3 += 8)
              b(this, t3, t3 + 7), b(this, t3 + 1, t3 + 6), b(this, t3 + 2, t3 + 5), b(this, t3 + 3, t3 + 4);
            return this;
          }, u.prototype.toString = function() {
            const e3 = this.length;
            return e3 === 0 ? "" : arguments.length === 0 ? A(this, 0, e3) : y.apply(this, arguments);
          }, u.prototype.toLocaleString = u.prototype.toString, u.prototype.equals = function(e3) {
            if (!u.isBuffer(e3))
              throw new TypeError("Argument must be a Buffer");
            return this === e3 || u.compare(this, e3) === 0;
          }, u.prototype.inspect = function() {
            let e3 = "";
            const r3 = t2.INSPECT_MAX_BYTES;
            return e3 = this.toString("hex", 0, r3).replace(/(.{2})/g, "$1 ").trim(), this.length > r3 && (e3 += " ... "), "<Buffer " + e3 + ">";
          }, o && (u.prototype[o] = u.prototype.inspect), u.prototype.compare = function(e3, t3, r3, n3, i2) {
            if (z(e3, Uint8Array) && (e3 = u.from(e3, e3.offset, e3.byteLength)), !u.isBuffer(e3))
              throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof e3);
            if (t3 === void 0 && (t3 = 0), r3 === void 0 && (r3 = e3 ? e3.length : 0), n3 === void 0 && (n3 = 0), i2 === void 0 && (i2 = this.length), t3 < 0 || r3 > e3.length || n3 < 0 || i2 > this.length)
              throw new RangeError("out of range index");
            if (n3 >= i2 && t3 >= r3)
              return 0;
            if (n3 >= i2)
              return -1;
            if (t3 >= r3)
              return 1;
            if (this === e3)
              return 0;
            let o2 = (i2 >>>= 0) - (n3 >>>= 0), s2 = (r3 >>>= 0) - (t3 >>>= 0);
            const a2 = Math.min(o2, s2), f2 = this.slice(n3, i2), h2 = e3.slice(t3, r3);
            for (let e4 = 0; e4 < a2; ++e4)
              if (f2[e4] !== h2[e4]) {
                o2 = f2[e4], s2 = h2[e4];
                break;
              }
            return o2 < s2 ? -1 : s2 < o2 ? 1 : 0;
          }, u.prototype.includes = function(e3, t3, r3) {
            return this.indexOf(e3, t3, r3) !== -1;
          }, u.prototype.indexOf = function(e3, t3, r3) {
            return w(this, e3, t3, r3, true);
          }, u.prototype.lastIndexOf = function(e3, t3, r3) {
            return w(this, e3, t3, r3, false);
          }, u.prototype.write = function(e3, t3, r3, n3) {
            if (t3 === void 0)
              n3 = "utf8", r3 = this.length, t3 = 0;
            else if (r3 === void 0 && typeof t3 == "string")
              n3 = t3, r3 = this.length, t3 = 0;
            else {
              if (!isFinite(t3))
                throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
              t3 >>>= 0, isFinite(r3) ? (r3 >>>= 0, n3 === void 0 && (n3 = "utf8")) : (n3 = r3, r3 = void 0);
            }
            const i2 = this.length - t3;
            if ((r3 === void 0 || r3 > i2) && (r3 = i2), e3.length > 0 && (r3 < 0 || t3 < 0) || t3 > this.length)
              throw new RangeError("Attempt to write outside buffer bounds");
            n3 || (n3 = "utf8");
            let o2 = false;
            for (; ; )
              switch (n3) {
                case "hex":
                  return m(this, e3, t3, r3);
                case "utf8":
                case "utf-8":
                  return E(this, e3, t3, r3);
                case "ascii":
                case "latin1":
                case "binary":
                  return v(this, e3, t3, r3);
                case "base64":
                  return S(this, e3, t3, r3);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return T(this, e3, t3, r3);
                default:
                  if (o2)
                    throw new TypeError("Unknown encoding: " + n3);
                  n3 = ("" + n3).toLowerCase(), o2 = true;
              }
          }, u.prototype.toJSON = function() {
            return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
          };
          const B = 4096;
          function R(e3, t3, r3) {
            let n3 = "";
            r3 = Math.min(e3.length, r3);
            for (let i2 = t3; i2 < r3; ++i2)
              n3 += String.fromCharCode(127 & e3[i2]);
            return n3;
          }
          function U(e3, t3, r3) {
            let n3 = "";
            r3 = Math.min(e3.length, r3);
            for (let i2 = t3; i2 < r3; ++i2)
              n3 += String.fromCharCode(e3[i2]);
            return n3;
          }
          function L(e3, t3, r3) {
            const n3 = e3.length;
            (!t3 || t3 < 0) && (t3 = 0), (!r3 || r3 < 0 || r3 > n3) && (r3 = n3);
            let i2 = "";
            for (let n4 = t3; n4 < r3; ++n4)
              i2 += X[e3[n4]];
            return i2;
          }
          function N(e3, t3, r3) {
            const n3 = e3.slice(t3, r3);
            let i2 = "";
            for (let e4 = 0; e4 < n3.length - 1; e4 += 2)
              i2 += String.fromCharCode(n3[e4] + 256 * n3[e4 + 1]);
            return i2;
          }
          function M(e3, t3, r3) {
            if (e3 % 1 != 0 || e3 < 0)
              throw new RangeError("offset is not uint");
            if (e3 + t3 > r3)
              throw new RangeError("Trying to access beyond buffer length");
          }
          function O(e3, t3, r3, n3, i2, o2) {
            if (!u.isBuffer(e3))
              throw new TypeError('"buffer" argument must be a Buffer instance');
            if (t3 > i2 || t3 < o2)
              throw new RangeError('"value" argument is out of bounds');
            if (r3 + n3 > e3.length)
              throw new RangeError("Index out of range");
          }
          function x(e3, t3, r3, n3, i2) {
            G(t3, n3, i2, e3, r3, 7);
            let o2 = Number(t3 & BigInt(4294967295));
            e3[r3++] = o2, o2 >>= 8, e3[r3++] = o2, o2 >>= 8, e3[r3++] = o2, o2 >>= 8, e3[r3++] = o2;
            let s2 = Number(t3 >> BigInt(32) & BigInt(4294967295));
            return e3[r3++] = s2, s2 >>= 8, e3[r3++] = s2, s2 >>= 8, e3[r3++] = s2, s2 >>= 8, e3[r3++] = s2, r3;
          }
          function k(e3, t3, r3, n3, i2) {
            G(t3, n3, i2, e3, r3, 7);
            let o2 = Number(t3 & BigInt(4294967295));
            e3[r3 + 7] = o2, o2 >>= 8, e3[r3 + 6] = o2, o2 >>= 8, e3[r3 + 5] = o2, o2 >>= 8, e3[r3 + 4] = o2;
            let s2 = Number(t3 >> BigInt(32) & BigInt(4294967295));
            return e3[r3 + 3] = s2, s2 >>= 8, e3[r3 + 2] = s2, s2 >>= 8, e3[r3 + 1] = s2, s2 >>= 8, e3[r3] = s2, r3 + 8;
          }
          function P(e3, t3, r3, n3, i2, o2) {
            if (r3 + n3 > e3.length)
              throw new RangeError("Index out of range");
            if (r3 < 0)
              throw new RangeError("Index out of range");
          }
          function j(e3, t3, r3, n3, o2) {
            return t3 = +t3, r3 >>>= 0, o2 || P(e3, 0, r3, 4), i.write(e3, t3, r3, n3, 23, 4), r3 + 4;
          }
          function C(e3, t3, r3, n3, o2) {
            return t3 = +t3, r3 >>>= 0, o2 || P(e3, 0, r3, 8), i.write(e3, t3, r3, n3, 52, 8), r3 + 8;
          }
          u.prototype.slice = function(e3, t3) {
            const r3 = this.length;
            (e3 = ~~e3) < 0 ? (e3 += r3) < 0 && (e3 = 0) : e3 > r3 && (e3 = r3), (t3 = t3 === void 0 ? r3 : ~~t3) < 0 ? (t3 += r3) < 0 && (t3 = 0) : t3 > r3 && (t3 = r3), t3 < e3 && (t3 = e3);
            const n3 = this.subarray(e3, t3);
            return Object.setPrototypeOf(n3, u.prototype), n3;
          }, u.prototype.readUintLE = u.prototype.readUIntLE = function(e3, t3, r3) {
            e3 >>>= 0, t3 >>>= 0, r3 || M(e3, t3, this.length);
            let n3 = this[e3], i2 = 1, o2 = 0;
            for (; ++o2 < t3 && (i2 *= 256); )
              n3 += this[e3 + o2] * i2;
            return n3;
          }, u.prototype.readUintBE = u.prototype.readUIntBE = function(e3, t3, r3) {
            e3 >>>= 0, t3 >>>= 0, r3 || M(e3, t3, this.length);
            let n3 = this[e3 + --t3], i2 = 1;
            for (; t3 > 0 && (i2 *= 256); )
              n3 += this[e3 + --t3] * i2;
            return n3;
          }, u.prototype.readUint8 = u.prototype.readUInt8 = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 1, this.length), this[e3];
          }, u.prototype.readUint16LE = u.prototype.readUInt16LE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 2, this.length), this[e3] | this[e3 + 1] << 8;
          }, u.prototype.readUint16BE = u.prototype.readUInt16BE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 2, this.length), this[e3] << 8 | this[e3 + 1];
          }, u.prototype.readUint32LE = u.prototype.readUInt32LE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), (this[e3] | this[e3 + 1] << 8 | this[e3 + 2] << 16) + 16777216 * this[e3 + 3];
          }, u.prototype.readUint32BE = u.prototype.readUInt32BE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), 16777216 * this[e3] + (this[e3 + 1] << 16 | this[e3 + 2] << 8 | this[e3 + 3]);
          }, u.prototype.readBigUInt64LE = Q(function(e3) {
            W(e3 >>>= 0, "offset");
            const t3 = this[e3], r3 = this[e3 + 7];
            t3 !== void 0 && r3 !== void 0 || Y(e3, this.length - 8);
            const n3 = t3 + 256 * this[++e3] + 65536 * this[++e3] + this[++e3] * 2 ** 24, i2 = this[++e3] + 256 * this[++e3] + 65536 * this[++e3] + r3 * 2 ** 24;
            return BigInt(n3) + (BigInt(i2) << BigInt(32));
          }), u.prototype.readBigUInt64BE = Q(function(e3) {
            W(e3 >>>= 0, "offset");
            const t3 = this[e3], r3 = this[e3 + 7];
            t3 !== void 0 && r3 !== void 0 || Y(e3, this.length - 8);
            const n3 = t3 * 2 ** 24 + 65536 * this[++e3] + 256 * this[++e3] + this[++e3], i2 = this[++e3] * 2 ** 24 + 65536 * this[++e3] + 256 * this[++e3] + r3;
            return (BigInt(n3) << BigInt(32)) + BigInt(i2);
          }), u.prototype.readIntLE = function(e3, t3, r3) {
            e3 >>>= 0, t3 >>>= 0, r3 || M(e3, t3, this.length);
            let n3 = this[e3], i2 = 1, o2 = 0;
            for (; ++o2 < t3 && (i2 *= 256); )
              n3 += this[e3 + o2] * i2;
            return i2 *= 128, n3 >= i2 && (n3 -= Math.pow(2, 8 * t3)), n3;
          }, u.prototype.readIntBE = function(e3, t3, r3) {
            e3 >>>= 0, t3 >>>= 0, r3 || M(e3, t3, this.length);
            let n3 = t3, i2 = 1, o2 = this[e3 + --n3];
            for (; n3 > 0 && (i2 *= 256); )
              o2 += this[e3 + --n3] * i2;
            return i2 *= 128, o2 >= i2 && (o2 -= Math.pow(2, 8 * t3)), o2;
          }, u.prototype.readInt8 = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 1, this.length), 128 & this[e3] ? -1 * (255 - this[e3] + 1) : this[e3];
          }, u.prototype.readInt16LE = function(e3, t3) {
            e3 >>>= 0, t3 || M(e3, 2, this.length);
            const r3 = this[e3] | this[e3 + 1] << 8;
            return 32768 & r3 ? 4294901760 | r3 : r3;
          }, u.prototype.readInt16BE = function(e3, t3) {
            e3 >>>= 0, t3 || M(e3, 2, this.length);
            const r3 = this[e3 + 1] | this[e3] << 8;
            return 32768 & r3 ? 4294901760 | r3 : r3;
          }, u.prototype.readInt32LE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), this[e3] | this[e3 + 1] << 8 | this[e3 + 2] << 16 | this[e3 + 3] << 24;
          }, u.prototype.readInt32BE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), this[e3] << 24 | this[e3 + 1] << 16 | this[e3 + 2] << 8 | this[e3 + 3];
          }, u.prototype.readBigInt64LE = Q(function(e3) {
            W(e3 >>>= 0, "offset");
            const t3 = this[e3], r3 = this[e3 + 7];
            t3 !== void 0 && r3 !== void 0 || Y(e3, this.length - 8);
            const n3 = this[e3 + 4] + 256 * this[e3 + 5] + 65536 * this[e3 + 6] + (r3 << 24);
            return (BigInt(n3) << BigInt(32)) + BigInt(t3 + 256 * this[++e3] + 65536 * this[++e3] + this[++e3] * 2 ** 24);
          }), u.prototype.readBigInt64BE = Q(function(e3) {
            W(e3 >>>= 0, "offset");
            const t3 = this[e3], r3 = this[e3 + 7];
            t3 !== void 0 && r3 !== void 0 || Y(e3, this.length - 8);
            const n3 = (t3 << 24) + 65536 * this[++e3] + 256 * this[++e3] + this[++e3];
            return (BigInt(n3) << BigInt(32)) + BigInt(this[++e3] * 2 ** 24 + 65536 * this[++e3] + 256 * this[++e3] + r3);
          }), u.prototype.readFloatLE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), i.read(this, e3, true, 23, 4);
          }, u.prototype.readFloatBE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), i.read(this, e3, false, 23, 4);
          }, u.prototype.readDoubleLE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 8, this.length), i.read(this, e3, true, 52, 8);
          }, u.prototype.readDoubleBE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 8, this.length), i.read(this, e3, false, 52, 8);
          }, u.prototype.writeUintLE = u.prototype.writeUIntLE = function(e3, t3, r3, n3) {
            e3 = +e3, t3 >>>= 0, r3 >>>= 0, n3 || O(this, e3, t3, r3, Math.pow(2, 8 * r3) - 1, 0);
            let i2 = 1, o2 = 0;
            for (this[t3] = 255 & e3; ++o2 < r3 && (i2 *= 256); )
              this[t3 + o2] = e3 / i2 & 255;
            return t3 + r3;
          }, u.prototype.writeUintBE = u.prototype.writeUIntBE = function(e3, t3, r3, n3) {
            e3 = +e3, t3 >>>= 0, r3 >>>= 0, n3 || O(this, e3, t3, r3, Math.pow(2, 8 * r3) - 1, 0);
            let i2 = r3 - 1, o2 = 1;
            for (this[t3 + i2] = 255 & e3; --i2 >= 0 && (o2 *= 256); )
              this[t3 + i2] = e3 / o2 & 255;
            return t3 + r3;
          }, u.prototype.writeUint8 = u.prototype.writeUInt8 = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 1, 255, 0), this[t3] = 255 & e3, t3 + 1;
          }, u.prototype.writeUint16LE = u.prototype.writeUInt16LE = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 2, 65535, 0), this[t3] = 255 & e3, this[t3 + 1] = e3 >>> 8, t3 + 2;
          }, u.prototype.writeUint16BE = u.prototype.writeUInt16BE = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 2, 65535, 0), this[t3] = e3 >>> 8, this[t3 + 1] = 255 & e3, t3 + 2;
          }, u.prototype.writeUint32LE = u.prototype.writeUInt32LE = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 4, 4294967295, 0), this[t3 + 3] = e3 >>> 24, this[t3 + 2] = e3 >>> 16, this[t3 + 1] = e3 >>> 8, this[t3] = 255 & e3, t3 + 4;
          }, u.prototype.writeUint32BE = u.prototype.writeUInt32BE = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 4, 4294967295, 0), this[t3] = e3 >>> 24, this[t3 + 1] = e3 >>> 16, this[t3 + 2] = e3 >>> 8, this[t3 + 3] = 255 & e3, t3 + 4;
          }, u.prototype.writeBigUInt64LE = Q(function(e3, t3 = 0) {
            return x(this, e3, t3, BigInt(0), BigInt("0xffffffffffffffff"));
          }), u.prototype.writeBigUInt64BE = Q(function(e3, t3 = 0) {
            return k(this, e3, t3, BigInt(0), BigInt("0xffffffffffffffff"));
          }), u.prototype.writeIntLE = function(e3, t3, r3, n3) {
            if (e3 = +e3, t3 >>>= 0, !n3) {
              const n4 = Math.pow(2, 8 * r3 - 1);
              O(this, e3, t3, r3, n4 - 1, -n4);
            }
            let i2 = 0, o2 = 1, s2 = 0;
            for (this[t3] = 255 & e3; ++i2 < r3 && (o2 *= 256); )
              e3 < 0 && s2 === 0 && this[t3 + i2 - 1] !== 0 && (s2 = 1), this[t3 + i2] = (e3 / o2 >> 0) - s2 & 255;
            return t3 + r3;
          }, u.prototype.writeIntBE = function(e3, t3, r3, n3) {
            if (e3 = +e3, t3 >>>= 0, !n3) {
              const n4 = Math.pow(2, 8 * r3 - 1);
              O(this, e3, t3, r3, n4 - 1, -n4);
            }
            let i2 = r3 - 1, o2 = 1, s2 = 0;
            for (this[t3 + i2] = 255 & e3; --i2 >= 0 && (o2 *= 256); )
              e3 < 0 && s2 === 0 && this[t3 + i2 + 1] !== 0 && (s2 = 1), this[t3 + i2] = (e3 / o2 >> 0) - s2 & 255;
            return t3 + r3;
          }, u.prototype.writeInt8 = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 1, 127, -128), e3 < 0 && (e3 = 255 + e3 + 1), this[t3] = 255 & e3, t3 + 1;
          }, u.prototype.writeInt16LE = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 2, 32767, -32768), this[t3] = 255 & e3, this[t3 + 1] = e3 >>> 8, t3 + 2;
          }, u.prototype.writeInt16BE = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 2, 32767, -32768), this[t3] = e3 >>> 8, this[t3 + 1] = 255 & e3, t3 + 2;
          }, u.prototype.writeInt32LE = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 4, 2147483647, -2147483648), this[t3] = 255 & e3, this[t3 + 1] = e3 >>> 8, this[t3 + 2] = e3 >>> 16, this[t3 + 3] = e3 >>> 24, t3 + 4;
          }, u.prototype.writeInt32BE = function(e3, t3, r3) {
            return e3 = +e3, t3 >>>= 0, r3 || O(this, e3, t3, 4, 2147483647, -2147483648), e3 < 0 && (e3 = 4294967295 + e3 + 1), this[t3] = e3 >>> 24, this[t3 + 1] = e3 >>> 16, this[t3 + 2] = e3 >>> 8, this[t3 + 3] = 255 & e3, t3 + 4;
          }, u.prototype.writeBigInt64LE = Q(function(e3, t3 = 0) {
            return x(this, e3, t3, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
          }), u.prototype.writeBigInt64BE = Q(function(e3, t3 = 0) {
            return k(this, e3, t3, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
          }), u.prototype.writeFloatLE = function(e3, t3, r3) {
            return j(this, e3, t3, true, r3);
          }, u.prototype.writeFloatBE = function(e3, t3, r3) {
            return j(this, e3, t3, false, r3);
          }, u.prototype.writeDoubleLE = function(e3, t3, r3) {
            return C(this, e3, t3, true, r3);
          }, u.prototype.writeDoubleBE = function(e3, t3, r3) {
            return C(this, e3, t3, false, r3);
          }, u.prototype.copy = function(e3, t3, r3, n3) {
            if (!u.isBuffer(e3))
              throw new TypeError("argument should be a Buffer");
            if (r3 || (r3 = 0), n3 || n3 === 0 || (n3 = this.length), t3 >= e3.length && (t3 = e3.length), t3 || (t3 = 0), n3 > 0 && n3 < r3 && (n3 = r3), n3 === r3)
              return 0;
            if (e3.length === 0 || this.length === 0)
              return 0;
            if (t3 < 0)
              throw new RangeError("targetStart out of bounds");
            if (r3 < 0 || r3 >= this.length)
              throw new RangeError("Index out of range");
            if (n3 < 0)
              throw new RangeError("sourceEnd out of bounds");
            n3 > this.length && (n3 = this.length), e3.length - t3 < n3 - r3 && (n3 = e3.length - t3 + r3);
            const i2 = n3 - r3;
            return this === e3 && typeof Uint8Array.prototype.copyWithin == "function" ? this.copyWithin(t3, r3, n3) : Uint8Array.prototype.set.call(e3, this.subarray(r3, n3), t3), i2;
          }, u.prototype.fill = function(e3, t3, r3, n3) {
            if (typeof e3 == "string") {
              if (typeof t3 == "string" ? (n3 = t3, t3 = 0, r3 = this.length) : typeof r3 == "string" && (n3 = r3, r3 = this.length), n3 !== void 0 && typeof n3 != "string")
                throw new TypeError("encoding must be a string");
              if (typeof n3 == "string" && !u.isEncoding(n3))
                throw new TypeError("Unknown encoding: " + n3);
              if (e3.length === 1) {
                const t4 = e3.charCodeAt(0);
                (n3 === "utf8" && t4 < 128 || n3 === "latin1") && (e3 = t4);
              }
            } else
              typeof e3 == "number" ? e3 &= 255 : typeof e3 == "boolean" && (e3 = Number(e3));
            if (t3 < 0 || this.length < t3 || this.length < r3)
              throw new RangeError("Out of range index");
            if (r3 <= t3)
              return this;
            let i2;
            if (t3 >>>= 0, r3 = r3 === void 0 ? this.length : r3 >>> 0, e3 || (e3 = 0), typeof e3 == "number")
              for (i2 = t3; i2 < r3; ++i2)
                this[i2] = e3;
            else {
              const o2 = u.isBuffer(e3) ? e3 : u.from(e3, n3), s2 = o2.length;
              if (s2 === 0)
                throw new TypeError('The value "' + e3 + '" is invalid for argument "value"');
              for (i2 = 0; i2 < r3 - t3; ++i2)
                this[i2 + t3] = o2[i2 % s2];
            }
            return this;
          };
          const F = {};
          function D(e3, t3, r3) {
            F[e3] = class extends r3 {
              constructor() {
                super(), Object.defineProperty(this, "message", { value: t3.apply(this, arguments), writable: true, configurable: true }), this.name = `${this.name} [${e3}]`, this.stack, delete this.name;
              }
              get code() {
                return e3;
              }
              set code(e4) {
                Object.defineProperty(this, "code", { configurable: true, enumerable: true, value: e4, writable: true });
              }
              toString() {
                return `${this.name} [${e3}]: ${this.message}`;
              }
            };
          }
          function $(e3) {
            let t3 = "", r3 = e3.length;
            const n3 = e3[0] === "-" ? 1 : 0;
            for (; r3 >= n3 + 4; r3 -= 3)
              t3 = `_${e3.slice(r3 - 3, r3)}${t3}`;
            return `${e3.slice(0, r3)}${t3}`;
          }
          function G(e3, t3, r3, n3, i2, o2) {
            if (e3 > r3 || e3 < t3) {
              const n4 = typeof t3 == "bigint" ? "n" : "";
              let i3;
              throw i3 = o2 > 3 ? t3 === 0 || t3 === BigInt(0) ? `>= 0${n4} and < 2${n4} ** ${8 * (o2 + 1)}${n4}` : `>= -(2${n4} ** ${8 * (o2 + 1) - 1}${n4}) and < 2 ** ${8 * (o2 + 1) - 1}${n4}` : `>= ${t3}${n4} and <= ${r3}${n4}`, new F.ERR_OUT_OF_RANGE("value", i3, e3);
            }
            !function(e4, t4, r4) {
              W(t4, "offset"), e4[t4] !== void 0 && e4[t4 + r4] !== void 0 || Y(t4, e4.length - (r4 + 1));
            }(n3, i2, o2);
          }
          function W(e3, t3) {
            if (typeof e3 != "number")
              throw new F.ERR_INVALID_ARG_TYPE(t3, "number", e3);
          }
          function Y(e3, t3, r3) {
            if (Math.floor(e3) !== e3)
              throw W(e3, r3), new F.ERR_OUT_OF_RANGE(r3 || "offset", "an integer", e3);
            if (t3 < 0)
              throw new F.ERR_BUFFER_OUT_OF_BOUNDS();
            throw new F.ERR_OUT_OF_RANGE(r3 || "offset", `>= ${r3 ? 1 : 0} and <= ${t3}`, e3);
          }
          D("ERR_BUFFER_OUT_OF_BOUNDS", function(e3) {
            return e3 ? `${e3} is outside of buffer bounds` : "Attempt to access memory outside buffer bounds";
          }, RangeError), D("ERR_INVALID_ARG_TYPE", function(e3, t3) {
            return `The "${e3}" argument must be of type number. Received type ${typeof t3}`;
          }, TypeError), D("ERR_OUT_OF_RANGE", function(e3, t3, r3) {
            let n3 = `The value of "${e3}" is out of range.`, i2 = r3;
            return Number.isInteger(r3) && Math.abs(r3) > 2 ** 32 ? i2 = $(String(r3)) : typeof r3 == "bigint" && (i2 = String(r3), (r3 > BigInt(2) ** BigInt(32) || r3 < -(BigInt(2) ** BigInt(32))) && (i2 = $(i2)), i2 += "n"), n3 += ` It must be ${t3}. Received ${i2}`, n3;
          }, RangeError);
          const q = /[^+/0-9A-Za-z-_]/g;
          function H(e3, t3) {
            let r3;
            t3 = t3 || 1 / 0;
            const n3 = e3.length;
            let i2 = null;
            const o2 = [];
            for (let s2 = 0; s2 < n3; ++s2) {
              if (r3 = e3.charCodeAt(s2), r3 > 55295 && r3 < 57344) {
                if (!i2) {
                  if (r3 > 56319) {
                    (t3 -= 3) > -1 && o2.push(239, 191, 189);
                    continue;
                  }
                  if (s2 + 1 === n3) {
                    (t3 -= 3) > -1 && o2.push(239, 191, 189);
                    continue;
                  }
                  i2 = r3;
                  continue;
                }
                if (r3 < 56320) {
                  (t3 -= 3) > -1 && o2.push(239, 191, 189), i2 = r3;
                  continue;
                }
                r3 = 65536 + (i2 - 55296 << 10 | r3 - 56320);
              } else
                i2 && (t3 -= 3) > -1 && o2.push(239, 191, 189);
              if (i2 = null, r3 < 128) {
                if ((t3 -= 1) < 0)
                  break;
                o2.push(r3);
              } else if (r3 < 2048) {
                if ((t3 -= 2) < 0)
                  break;
                o2.push(r3 >> 6 | 192, 63 & r3 | 128);
              } else if (r3 < 65536) {
                if ((t3 -= 3) < 0)
                  break;
                o2.push(r3 >> 12 | 224, r3 >> 6 & 63 | 128, 63 & r3 | 128);
              } else {
                if (!(r3 < 1114112))
                  throw new Error("Invalid code point");
                if ((t3 -= 4) < 0)
                  break;
                o2.push(r3 >> 18 | 240, r3 >> 12 & 63 | 128, r3 >> 6 & 63 | 128, 63 & r3 | 128);
              }
            }
            return o2;
          }
          function K(e3) {
            return n2.toByteArray(function(e4) {
              if ((e4 = (e4 = e4.split("=")[0]).trim().replace(q, "")).length < 2)
                return "";
              for (; e4.length % 4 != 0; )
                e4 += "=";
              return e4;
            }(e3));
          }
          function V(e3, t3, r3, n3) {
            let i2;
            for (i2 = 0; i2 < n3 && !(i2 + r3 >= t3.length || i2 >= e3.length); ++i2)
              t3[i2 + r3] = e3[i2];
            return i2;
          }
          function z(e3, t3) {
            return e3 instanceof t3 || e3 != null && e3.constructor != null && e3.constructor.name != null && e3.constructor.name === t3.name;
          }
          function J(e3) {
            return e3 != e3;
          }
          const X = function() {
            const e3 = "0123456789abcdef", t3 = new Array(256);
            for (let r3 = 0; r3 < 16; ++r3) {
              const n3 = 16 * r3;
              for (let i2 = 0; i2 < 16; ++i2)
                t3[n3 + i2] = e3[r3] + e3[i2];
            }
            return t3;
          }();
          function Q(e3) {
            return typeof BigInt == "undefined" ? Z : e3;
          }
          function Z() {
            throw new Error("BigInt not supported");
          }
        }, 141: (e2, t2, r2) => {
          "use strict";
          t2.Commented = r2(20), t2.Diagnose = r2(694), t2.Decoder = r2(774), t2.Encoder = r2(666), t2.Simple = r2(32), t2.Tagged = r2(785), t2.Map = r2(70), t2.UI = t2.Commented.comment, t2.fI = t2.Decoder.decodeAll, t2.h8 = t2.Decoder.decodeFirst, t2.cc = t2.Decoder.decodeAllSync, t2.$u = t2.Decoder.decodeFirstSync, t2.M = t2.Diagnose.diagnose, t2.cv = t2.Encoder.encode, t2.N2 = t2.Encoder.encodeCanonical, t2.TG = t2.Encoder.encodeOne, t2.WR = t2.Encoder.encodeAsync, t2.Jx = t2.Decoder.decodeFirstSync, t2.ww = { decode: t2.Decoder.decodeFirstSync, encode: t2.Encoder.encode, buffer: true, name: "cbor" }, t2.mc = function() {
            t2.Encoder.reset(), t2.Tagged.reset();
          };
        }, 20: (e2, t2, r2) => {
          "use strict";
          const n2 = r2(830), i = r2(873), o = r2(774), s = r2(202), { MT: a, NUMBYTES: u, SYMS: f } = r2(66), { Buffer: h } = r2(764);
          function l(e3) {
            return e3 > 1 ? "s" : "";
          }
          class c extends n2.Transform {
            constructor(e3 = {}) {
              const { depth: t3 = 1, max_depth: r3 = 10, no_summary: n3 = false, tags: i2 = {}, preferWeb: a2, encoding: u2, ...f2 } = e3;
              super({ ...f2, readableObjectMode: false, writableObjectMode: false }), this.depth = t3, this.max_depth = r3, this.all = new s(), i2[24] || (i2[24] = this._tag_24.bind(this)), this.parser = new o({ tags: i2, max_depth: r3, preferWeb: a2, encoding: u2 }), this.parser.on("value", this._on_value.bind(this)), this.parser.on("start", this._on_start.bind(this)), this.parser.on("start-string", this._on_start_string.bind(this)), this.parser.on("stop", this._on_stop.bind(this)), this.parser.on("more-bytes", this._on_more.bind(this)), this.parser.on("error", this._on_error.bind(this)), n3 || this.parser.on("data", this._on_data.bind(this)), this.parser.bs.on("read", this._on_read.bind(this));
            }
            _tag_24(e3) {
              const t3 = new c({ depth: this.depth + 1, no_summary: true });
              t3.on("data", (e4) => this.push(e4)), t3.on("error", (e4) => this.emit("error", e4)), t3.end(e3);
            }
            _transform(e3, t3, r3) {
              this.parser.write(e3, t3, r3);
            }
            _flush(e3) {
              return this.parser._flush(e3);
            }
            static comment(e3, t3 = {}, r3 = null) {
              if (e3 == null)
                throw new Error("input required");
              ({ options: t3, cb: r3 } = function(e4, t4) {
                switch (typeof e4) {
                  case "function":
                    return { options: {}, cb: e4 };
                  case "string":
                    return { options: { encoding: e4 }, cb: t4 };
                  case "number":
                    return { options: { max_depth: e4 }, cb: t4 };
                  case "object":
                    return { options: e4 || {}, cb: t4 };
                  default:
                    throw new TypeError("Unknown option type");
                }
              }(t3, r3));
              const n3 = new s(), { encoding: o2 = "hex", ...a2 } = t3, u2 = new c(a2);
              let f2 = null;
              return typeof r3 == "function" ? (u2.on("end", () => {
                r3(null, n3.toString("utf8"));
              }), u2.on("error", r3)) : f2 = new Promise((e4, t4) => {
                u2.on("end", () => {
                  e4(n3.toString("utf8"));
                }), u2.on("error", t4);
              }), u2.pipe(n3), i.guessEncoding(e3, o2).pipe(u2), f2;
            }
            _on_error(e3) {
              this.push("ERROR: "), this.push(e3.toString()), this.push("\n");
            }
            _on_read(e3) {
              this.all.write(e3);
              const t3 = e3.toString("hex");
              this.push(new Array(this.depth + 1).join("  ")), this.push(t3);
              let r3 = 2 * (this.max_depth - this.depth) - t3.length;
              r3 < 1 && (r3 = 1), this.push(new Array(r3 + 1).join(" ")), this.push("-- ");
            }
            _on_more(e3, t3, r3, n3) {
              let i2 = "";
              switch (this.depth++, e3) {
                case a.POS_INT:
                  i2 = "Positive number,";
                  break;
                case a.NEG_INT:
                  i2 = "Negative number,";
                  break;
                case a.ARRAY:
                  i2 = "Array, length";
                  break;
                case a.MAP:
                  i2 = "Map, count";
                  break;
                case a.BYTE_STRING:
                  i2 = "Bytes, length";
                  break;
                case a.UTF8_STRING:
                  i2 = "String, length";
                  break;
                case a.SIMPLE_FLOAT:
                  i2 = t3 === 1 ? "Simple value," : "Float,";
              }
              this.push(`${i2} next ${t3} byte${l(t3)}
`);
            }
            _on_start_string(e3, t3, r3, n3) {
              let i2 = "";
              switch (this.depth++, e3) {
                case a.BYTE_STRING:
                  i2 = `Bytes, length: ${t3}`;
                  break;
                case a.UTF8_STRING:
                  i2 = `String, length: ${t3.toString()}`;
              }
              this.push(`${i2}
`);
            }
            _on_start(e3, t3, r3, n3) {
              switch (this.depth++, r3) {
                case a.ARRAY:
                  this.push(`[${n3}], `);
                  break;
                case a.MAP:
                  n3 % 2 ? this.push(`{Val:${Math.floor(n3 / 2)}}, `) : this.push(`{Key:${Math.floor(n3 / 2)}}, `);
              }
              switch (e3) {
                case a.TAG:
                  this.push(`Tag #${t3}`), t3 === 24 && this.push(" Encoded CBOR data item");
                  break;
                case a.ARRAY:
                  t3 === f.STREAM ? this.push("Array (streaming)") : this.push(`Array, ${t3} item${l(t3)}`);
                  break;
                case a.MAP:
                  t3 === f.STREAM ? this.push("Map (streaming)") : this.push(`Map, ${t3} pair${l(t3)}`);
                  break;
                case a.BYTE_STRING:
                  this.push("Bytes (streaming)");
                  break;
                case a.UTF8_STRING:
                  this.push("String (streaming)");
              }
              this.push("\n");
            }
            _on_stop(e3) {
              this.depth--;
            }
            _on_value(e3, t3, r3, n3) {
              if (e3 !== f.BREAK)
                switch (t3) {
                  case a.ARRAY:
                    this.push(`[${r3}], `);
                    break;
                  case a.MAP:
                    r3 % 2 ? this.push(`{Val:${Math.floor(r3 / 2)}}, `) : this.push(`{Key:${Math.floor(r3 / 2)}}, `);
                }
              const o2 = i.cborValueToString(e3, -1 / 0);
              switch (typeof e3 == "string" || h.isBuffer(e3) ? (e3.length > 0 && (this.push(o2), this.push("\n")), this.depth--) : (this.push(o2), this.push("\n")), n3) {
                case u.ONE:
                case u.TWO:
                case u.FOUR:
                case u.EIGHT:
                  this.depth--;
              }
            }
            _on_data() {
              this.push("0x"), this.push(this.all.read().toString("hex")), this.push("\n");
            }
          }
          e2.exports = c;
        }, 66: (e2, t2) => {
          "use strict";
          t2.MT = { POS_INT: 0, NEG_INT: 1, BYTE_STRING: 2, UTF8_STRING: 3, ARRAY: 4, MAP: 5, TAG: 6, SIMPLE_FLOAT: 7 }, t2.TAG = { DATE_STRING: 0, DATE_EPOCH: 1, POS_BIGINT: 2, NEG_BIGINT: 3, DECIMAL_FRAC: 4, BIGFLOAT: 5, BASE64URL_EXPECTED: 21, BASE64_EXPECTED: 22, BASE16_EXPECTED: 23, CBOR: 24, URI: 32, BASE64URL: 33, BASE64: 34, REGEXP: 35, MIME: 36, SET: 258 }, t2.NUMBYTES = { ZERO: 0, ONE: 24, TWO: 25, FOUR: 26, EIGHT: 27, INDEFINITE: 31 }, t2.SIMPLE = { FALSE: 20, TRUE: 21, NULL: 22, UNDEFINED: 23 }, t2.SYMS = { NULL: Symbol.for("github.com/hildjj/node-cbor/null"), UNDEFINED: Symbol.for("github.com/hildjj/node-cbor/undef"), PARENT: Symbol.for("github.com/hildjj/node-cbor/parent"), BREAK: Symbol.for("github.com/hildjj/node-cbor/break"), STREAM: Symbol.for("github.com/hildjj/node-cbor/stream") }, t2.SHIFT32 = 4294967296, t2.BI = { MINUS_ONE: BigInt(-1), NEG_MAX: BigInt(-1) - BigInt(Number.MAX_SAFE_INTEGER), MAXINT32: BigInt("0xffffffff"), MAXINT64: BigInt("0xffffffffffffffff"), SHIFT32: BigInt(t2.SHIFT32) };
        }, 774: (e2, t2, r2) => {
          "use strict";
          const n2 = r2(71), i = r2(785), o = r2(32), s = r2(873), a = r2(202), u = (r2(830), r2(66)), { MT: f, NUMBYTES: h, SYMS: l, BI: c } = u, { Buffer: d } = r2(764), p = Symbol("count"), g = Symbol("major type"), y = Symbol("error"), b = Symbol("not found");
          function w(e3, t3, r3) {
            const n3 = [];
            return n3[p] = r3, n3[l.PARENT] = e3, n3[g] = t3, n3;
          }
          function _(e3, t3) {
            const r3 = new a();
            return r3[p] = -1, r3[l.PARENT] = e3, r3[g] = t3, r3;
          }
          class m extends Error {
            constructor(e3, t3) {
              super(`Unexpected data: 0x${e3.toString(16)}`), this.name = "UnexpectedDataError", this.byte = e3, this.value = t3;
            }
          }
          function E(e3, t3) {
            switch (typeof e3) {
              case "function":
                return { options: {}, cb: e3 };
              case "string":
                return { options: { encoding: e3 }, cb: t3 };
              case "object":
                return { options: e3 || {}, cb: t3 };
              default:
                throw new TypeError("Unknown option type");
            }
          }
          class v extends n2 {
            constructor(e3 = {}) {
              const { tags: t3 = {}, max_depth: r3 = -1, preferWeb: n3 = false, required: i2 = false, encoding: o2 = "hex", extendedResults: s2 = false, preventDuplicateKeys: u2 = false, ...f2 } = e3;
              super({ defaultEncoding: o2, ...f2 }), this.running = true, this.max_depth = r3, this.tags = t3, this.preferWeb = n3, this.extendedResults = s2, this.required = i2, this.preventDuplicateKeys = u2, s2 && (this.bs.on("read", this._onRead.bind(this)), this.valueBytes = new a());
            }
            static nullcheck(e3) {
              switch (e3) {
                case l.NULL:
                  return null;
                case l.UNDEFINED:
                  return;
                case b:
                  throw new Error("Value not found");
                default:
                  return e3;
              }
            }
            static decodeFirstSync(e3, t3 = {}) {
              if (e3 == null)
                throw new TypeError("input required");
              ({ options: t3 } = E(t3));
              const { encoding: r3 = "hex", ...n3 } = t3, i2 = new v(n3), o2 = s.guessEncoding(e3, r3), a2 = i2._parse();
              let u2 = a2.next();
              for (; !u2.done; ) {
                const e4 = o2.read(u2.value);
                if (e4 == null || e4.length !== u2.value)
                  throw new Error("Insufficient data");
                i2.extendedResults && i2.valueBytes.write(e4), u2 = a2.next(e4);
              }
              let f2 = null;
              if (i2.extendedResults)
                f2 = u2.value, f2.unused = o2.read();
              else if (f2 = v.nullcheck(u2.value), o2.length > 0) {
                const e4 = o2.read(1);
                throw o2.unshift(e4), new m(e4[0], f2);
              }
              return f2;
            }
            static decodeAllSync(e3, t3 = {}) {
              if (e3 == null)
                throw new TypeError("input required");
              ({ options: t3 } = E(t3));
              const { encoding: r3 = "hex", ...n3 } = t3, i2 = new v(n3), o2 = s.guessEncoding(e3, r3), a2 = [];
              for (; o2.length > 0; ) {
                const e4 = i2._parse();
                let t4 = e4.next();
                for (; !t4.done; ) {
                  const r4 = o2.read(t4.value);
                  if (r4 == null || r4.length !== t4.value)
                    throw new Error("Insufficient data");
                  i2.extendedResults && i2.valueBytes.write(r4), t4 = e4.next(r4);
                }
                a2.push(v.nullcheck(t4.value));
              }
              return a2;
            }
            static decodeFirst(e3, t3 = {}, r3 = null) {
              if (e3 == null)
                throw new TypeError("input required");
              ({ options: t3, cb: r3 } = E(t3, r3));
              const { encoding: n3 = "hex", required: i2 = false, ...o2 } = t3, a2 = new v(o2);
              let u2 = b;
              const f2 = s.guessEncoding(e3, n3), h2 = new Promise((e4, t4) => {
                a2.on("data", (e5) => {
                  u2 = v.nullcheck(e5), a2.close();
                }), a2.once("error", (r4) => a2.extendedResults && r4 instanceof m ? (u2.unused = a2.bs.slice(), e4(u2)) : (u2 !== b && (r4.value = u2), u2 = y, a2.close(), t4(r4))), a2.once("end", () => {
                  switch (u2) {
                    case b:
                      return i2 ? t4(new Error("No CBOR found")) : e4(u2);
                    case y:
                      return;
                    default:
                      return e4(u2);
                  }
                });
              });
              return typeof r3 == "function" && h2.then((e4) => r3(null, e4), r3), f2.pipe(a2), h2;
            }
            static decodeAll(e3, t3 = {}, r3 = null) {
              if (e3 == null)
                throw new TypeError("input required");
              ({ options: t3, cb: r3 } = E(t3, r3));
              const { encoding: n3 = "hex", ...i2 } = t3, o2 = new v(i2), a2 = [];
              o2.on("data", (e4) => a2.push(v.nullcheck(e4)));
              const u2 = new Promise((e4, t4) => {
                o2.on("error", t4), o2.on("end", () => e4(a2));
              });
              return typeof r3 == "function" && u2.then((e4) => r3(void 0, e4), (e4) => r3(e4, void 0)), s.guessEncoding(e3, n3).pipe(o2), u2;
            }
            close() {
              this.running = false, this.__fresh = true;
            }
            _onRead(e3) {
              this.valueBytes.write(e3);
            }
            *_parse() {
              let e3 = null, t3 = 0, r3 = null;
              for (; ; ) {
                if (this.max_depth >= 0 && t3 > this.max_depth)
                  throw new Error(`Maximum depth ${this.max_depth} exceeded`);
                const [n3] = yield 1;
                if (!this.running)
                  throw this.bs.unshift(d.from([n3])), new m(n3);
                const u2 = n3 >> 5, y2 = 31 & n3, b2 = e3 == null ? void 0 : e3[g], E2 = e3 == null ? void 0 : e3.length;
                switch (y2) {
                  case h.ONE:
                    this.emit("more-bytes", u2, 1, b2, E2), [r3] = yield 1;
                    break;
                  case h.TWO:
                  case h.FOUR:
                  case h.EIGHT: {
                    const e4 = 1 << y2 - 24;
                    this.emit("more-bytes", u2, e4, b2, E2);
                    const t4 = yield e4;
                    r3 = u2 === f.SIMPLE_FLOAT ? t4 : s.parseCBORint(y2, t4);
                    break;
                  }
                  case 28:
                  case 29:
                  case 30:
                    throw this.running = false, new Error(`Additional info not implemented: ${y2}`);
                  case h.INDEFINITE:
                    switch (u2) {
                      case f.POS_INT:
                      case f.NEG_INT:
                      case f.TAG:
                        throw new Error(`Invalid indefinite encoding for MT ${u2}`);
                    }
                    r3 = -1;
                    break;
                  default:
                    r3 = y2;
                }
                switch (u2) {
                  case f.POS_INT:
                    break;
                  case f.NEG_INT:
                    r3 = r3 === Number.MAX_SAFE_INTEGER ? c.NEG_MAX : typeof r3 == "bigint" ? c.MINUS_ONE - r3 : -1 - r3;
                    break;
                  case f.BYTE_STRING:
                  case f.UTF8_STRING:
                    switch (r3) {
                      case 0:
                        this.emit("start-string", u2, r3, b2, E2), r3 = u2 === f.UTF8_STRING ? "" : this.preferWeb ? new Uint8Array(0) : d.allocUnsafe(0);
                        break;
                      case -1:
                        this.emit("start", u2, l.STREAM, b2, E2), e3 = _(e3, u2), t3++;
                        continue;
                      default:
                        this.emit("start-string", u2, r3, b2, E2), r3 = yield r3, u2 === f.UTF8_STRING ? r3 = s.utf8(r3) : this.preferWeb && (r3 = new Uint8Array(r3.buffer, r3.byteOffset, r3.length));
                    }
                    break;
                  case f.ARRAY:
                  case f.MAP:
                    switch (r3) {
                      case 0:
                        r3 = u2 === f.MAP ? {} : [];
                        break;
                      case -1:
                        this.emit("start", u2, l.STREAM, b2, E2), e3 = w(e3, u2, -1), t3++;
                        continue;
                      default:
                        this.emit("start", u2, r3, b2, E2), e3 = w(e3, u2, r3 * (u2 - 3)), t3++;
                        continue;
                    }
                    break;
                  case f.TAG:
                    this.emit("start", u2, r3, b2, E2), e3 = w(e3, u2, 1), e3.push(r3), t3++;
                    continue;
                  case f.SIMPLE_FLOAT:
                    if (typeof r3 == "number") {
                      if (y2 === h.ONE && r3 < 32)
                        throw new Error(`Invalid two-byte encoding of simple value ${r3}`);
                      const t4 = e3 != null;
                      r3 = o.decode(r3, t4, t4 && e3[p] < 0);
                    } else
                      r3 = s.parseCBORfloat(r3);
                }
                this.emit("value", r3, b2, E2, y2);
                let S = false;
                for (; e3 != null; ) {
                  if (r3 === l.BREAK)
                    e3[p] = 1;
                  else if (Array.isArray(e3))
                    e3.push(r3);
                  else {
                    const t4 = e3[g];
                    if (t4 != null && t4 !== u2)
                      throw this.running = false, new Error("Invalid major type in indefinite encoding");
                    e3.write(r3);
                  }
                  if (--e3[p] != 0) {
                    S = true;
                    break;
                  }
                  if (--t3, delete e3[p], Array.isArray(e3))
                    switch (e3[g]) {
                      case f.ARRAY:
                        r3 = e3;
                        break;
                      case f.MAP: {
                        let t4 = true;
                        if (e3.length % 2 != 0)
                          throw new Error(`Invalid map length: ${e3.length}`);
                        for (let r4 = 0, n5 = e3.length; r4 < n5; r4 += 2)
                          if (typeof e3[r4] != "string" || e3[r4] === "__proto__") {
                            t4 = false;
                            break;
                          }
                        if (t4) {
                          r3 = {};
                          for (let t5 = 0, n5 = e3.length; t5 < n5; t5 += 2) {
                            if (this.preventDuplicateKeys && Object.prototype.hasOwnProperty.call(r3, e3[t5]))
                              throw new Error("Duplicate keys in a map");
                            r3[e3[t5]] = e3[t5 + 1];
                          }
                        } else {
                          r3 = /* @__PURE__ */ new Map();
                          for (let t5 = 0, n5 = e3.length; t5 < n5; t5 += 2) {
                            if (this.preventDuplicateKeys && r3.has(e3[t5]))
                              throw new Error("Duplicate keys in a map");
                            r3.set(e3[t5], e3[t5 + 1]);
                          }
                        }
                        break;
                      }
                      case f.TAG:
                        r3 = new i(e3[0], e3[1]).convert(this.tags);
                    }
                  else if (e3 instanceof a)
                    switch (e3[g]) {
                      case f.BYTE_STRING:
                        r3 = e3.slice(), this.preferWeb && (r3 = new Uint8Array(r3.buffer, r3.byteOffset, r3.length));
                        break;
                      case f.UTF8_STRING:
                        r3 = e3.toString("utf-8");
                    }
                  this.emit("stop", e3[g]);
                  const n4 = e3;
                  e3 = e3[l.PARENT], delete n4[l.PARENT], delete n4[g];
                }
                if (!S) {
                  if (this.extendedResults) {
                    const e4 = this.valueBytes.slice(), t4 = { value: v.nullcheck(r3), bytes: e4, length: e4.length };
                    return this.valueBytes = new a(), t4;
                  }
                  return r3;
                }
              }
            }
          }
          v.NOT_FOUND = b, e2.exports = v;
        }, 694: (e2, t2, r2) => {
          "use strict";
          const n2 = r2(830), i = r2(774), o = r2(873), s = r2(202), { MT: a, SYMS: u } = r2(66);
          class f extends n2.Transform {
            constructor(e3 = {}) {
              const { separator: t3 = "\n", stream_errors: r3 = false, tags: n3, max_depth: o2, preferWeb: s2, encoding: a2, ...u2 } = e3;
              super({ ...u2, readableObjectMode: false, writableObjectMode: false }), this.float_bytes = -1, this.separator = t3, this.stream_errors = r3, this.parser = new i({ tags: n3, max_depth: o2, preferWeb: s2, encoding: a2 }), this.parser.on("more-bytes", this._on_more.bind(this)), this.parser.on("value", this._on_value.bind(this)), this.parser.on("start", this._on_start.bind(this)), this.parser.on("stop", this._on_stop.bind(this)), this.parser.on("data", this._on_data.bind(this)), this.parser.on("error", this._on_error.bind(this));
            }
            _transform(e3, t3, r3) {
              return this.parser.write(e3, t3, r3);
            }
            _flush(e3) {
              return this.parser._flush((t3) => this.stream_errors ? (t3 && this._on_error(t3), e3()) : e3(t3));
            }
            static diagnose(e3, t3 = {}, r3 = null) {
              if (e3 == null)
                throw new TypeError("input required");
              ({ options: t3, cb: r3 } = function(e4, t4) {
                switch (typeof e4) {
                  case "function":
                    return { options: {}, cb: e4 };
                  case "string":
                    return { options: { encoding: e4 }, cb: t4 };
                  case "object":
                    return { options: e4 || {}, cb: t4 };
                  default:
                    throw new TypeError("Unknown option type");
                }
              }(t3, r3));
              const { encoding: n3 = "hex", ...i2 } = t3, a2 = new s(), u2 = new f(i2);
              let h = null;
              return typeof r3 == "function" ? (u2.on("end", () => r3(null, a2.toString("utf8"))), u2.on("error", r3)) : h = new Promise((e4, t4) => {
                u2.on("end", () => e4(a2.toString("utf8"))), u2.on("error", t4);
              }), u2.pipe(a2), o.guessEncoding(e3, n3).pipe(u2), h;
            }
            _on_error(e3) {
              this.stream_errors ? this.push(e3.toString()) : this.emit("error", e3);
            }
            _on_more(e3, t3, r3, n3) {
              e3 === a.SIMPLE_FLOAT && (this.float_bytes = { 2: 1, 4: 2, 8: 3 }[t3]);
            }
            _fore(e3, t3) {
              switch (e3) {
                case a.BYTE_STRING:
                case a.UTF8_STRING:
                case a.ARRAY:
                  t3 > 0 && this.push(", ");
                  break;
                case a.MAP:
                  t3 > 0 && (t3 % 2 ? this.push(": ") : this.push(", "));
              }
            }
            _on_value(e3, t3, r3) {
              if (e3 === u.BREAK)
                return;
              this._fore(t3, r3);
              const n3 = this.float_bytes;
              this.float_bytes = -1, this.push(o.cborValueToString(e3, n3));
            }
            _on_start(e3, t3, r3, n3) {
              switch (this._fore(r3, n3), e3) {
                case a.TAG:
                  this.push(`${t3}(`);
                  break;
                case a.ARRAY:
                  this.push("[");
                  break;
                case a.MAP:
                  this.push("{");
                  break;
                case a.BYTE_STRING:
                case a.UTF8_STRING:
                  this.push("(");
              }
              t3 === u.STREAM && this.push("_ ");
            }
            _on_stop(e3) {
              switch (e3) {
                case a.TAG:
                  this.push(")");
                  break;
                case a.ARRAY:
                  this.push("]");
                  break;
                case a.MAP:
                  this.push("}");
                  break;
                case a.BYTE_STRING:
                case a.UTF8_STRING:
                  this.push(")");
              }
            }
            _on_data() {
              this.push(this.separator);
            }
          }
          e2.exports = f;
        }, 666: (e2, t2, r2) => {
          "use strict";
          const n2 = r2(830), i = r2(202), o = r2(873), s = r2(66), { MT: a, NUMBYTES: u, SHIFT32: f, SIMPLE: h, SYMS: l, TAG: c, BI: d } = s, { Buffer: p } = r2(764), g = a.SIMPLE_FLOAT << 5 | u.TWO, y = a.SIMPLE_FLOAT << 5 | u.FOUR, b = a.SIMPLE_FLOAT << 5 | u.EIGHT, w = a.SIMPLE_FLOAT << 5 | h.TRUE, _ = a.SIMPLE_FLOAT << 5 | h.FALSE, m = a.SIMPLE_FLOAT << 5 | h.UNDEFINED, E = a.SIMPLE_FLOAT << 5 | h.NULL, v = p.from([255]), S = p.from("f97e00", "hex"), T = p.from("f9fc00", "hex"), I = p.from("f97c00", "hex"), A = p.from("f98000", "hex"), B = {};
          let R = {};
          class U extends n2.Transform {
            constructor(e3 = {}) {
              const { canonical: t3 = false, encodeUndefined: r3, disallowUndefinedKeys: n3 = false, dateType: i2 = "number", collapseBigIntegers: o2 = false, detectLoops: s2 = false, omitUndefinedProperties: a2 = false, genTypes: u2 = [], ...f2 } = e3;
              if (super({ ...f2, readableObjectMode: false, writableObjectMode: true }), this.canonical = t3, this.encodeUndefined = r3, this.disallowUndefinedKeys = n3, this.dateType = function(e4) {
                if (!e4)
                  return "number";
                switch (e4.toLowerCase()) {
                  case "number":
                    return "number";
                  case "float":
                    return "float";
                  case "int":
                  case "integer":
                    return "int";
                  case "string":
                    return "string";
                }
                throw new TypeError(`dateType invalid, got "${e4}"`);
              }(i2), this.collapseBigIntegers = !!this.canonical || o2, this.detectLoops = void 0, typeof s2 == "boolean")
                s2 && (this.detectLoops = new WeakSet());
              else {
                if (!(s2 instanceof WeakSet))
                  throw new TypeError("detectLoops must be boolean or WeakSet");
                this.detectLoops = s2;
              }
              if (this.omitUndefinedProperties = a2, this.semanticTypes = { ...U.SEMANTIC_TYPES }, Array.isArray(u2))
                for (let e4 = 0, t4 = u2.length; e4 < t4; e4 += 2)
                  this.addSemanticType(u2[e4], u2[e4 + 1]);
              else
                for (const [e4, t4] of Object.entries(u2))
                  this.addSemanticType(e4, t4);
            }
            _transform(e3, t3, r3) {
              return r3(this.pushAny(e3) === false ? new Error("Push Error") : void 0);
            }
            _flush(e3) {
              return e3();
            }
            _pushUInt8(e3) {
              const t3 = p.allocUnsafe(1);
              return t3.writeUInt8(e3, 0), this.push(t3);
            }
            _pushUInt16BE(e3) {
              const t3 = p.allocUnsafe(2);
              return t3.writeUInt16BE(e3, 0), this.push(t3);
            }
            _pushUInt32BE(e3) {
              const t3 = p.allocUnsafe(4);
              return t3.writeUInt32BE(e3, 0), this.push(t3);
            }
            _pushFloatBE(e3) {
              const t3 = p.allocUnsafe(4);
              return t3.writeFloatBE(e3, 0), this.push(t3);
            }
            _pushDoubleBE(e3) {
              const t3 = p.allocUnsafe(8);
              return t3.writeDoubleBE(e3, 0), this.push(t3);
            }
            _pushNaN() {
              return this.push(S);
            }
            _pushInfinity(e3) {
              const t3 = e3 < 0 ? T : I;
              return this.push(t3);
            }
            _pushFloat(e3) {
              if (this.canonical) {
                const t3 = p.allocUnsafe(2);
                if (o.writeHalf(t3, e3))
                  return this._pushUInt8(g) && this.push(t3);
              }
              return Math.fround(e3) === e3 ? this._pushUInt8(y) && this._pushFloatBE(e3) : this._pushUInt8(b) && this._pushDoubleBE(e3);
            }
            _pushInt(e3, t3, r3) {
              const n3 = t3 << 5;
              if (e3 < 24)
                return this._pushUInt8(n3 | e3);
              if (e3 <= 255)
                return this._pushUInt8(n3 | u.ONE) && this._pushUInt8(e3);
              if (e3 <= 65535)
                return this._pushUInt8(n3 | u.TWO) && this._pushUInt16BE(e3);
              if (e3 <= 4294967295)
                return this._pushUInt8(n3 | u.FOUR) && this._pushUInt32BE(e3);
              let i2 = Number.MAX_SAFE_INTEGER;
              return t3 === a.NEG_INT && i2--, e3 <= i2 ? this._pushUInt8(n3 | u.EIGHT) && this._pushUInt32BE(Math.floor(e3 / f)) && this._pushUInt32BE(e3 % f) : t3 === a.NEG_INT ? this._pushFloat(r3) : this._pushFloat(e3);
            }
            _pushIntNum(e3) {
              return Object.is(e3, -0) ? this.push(A) : e3 < 0 ? this._pushInt(-e3 - 1, a.NEG_INT, e3) : this._pushInt(e3, a.POS_INT);
            }
            _pushNumber(e3) {
              return isNaN(e3) ? this._pushNaN() : isFinite(e3) ? Math.round(e3) === e3 ? this._pushIntNum(e3) : this._pushFloat(e3) : this._pushInfinity(e3);
            }
            _pushString(e3) {
              const t3 = p.byteLength(e3, "utf8");
              return this._pushInt(t3, a.UTF8_STRING) && this.push(e3, "utf8");
            }
            _pushBoolean(e3) {
              return this._pushUInt8(e3 ? w : _);
            }
            _pushUndefined(e3) {
              switch (typeof this.encodeUndefined) {
                case "undefined":
                  return this._pushUInt8(m);
                case "function":
                  return this.pushAny(this.encodeUndefined(e3));
                case "object": {
                  const e4 = o.bufferishToBuffer(this.encodeUndefined);
                  if (e4)
                    return this.push(e4);
                }
              }
              return this.pushAny(this.encodeUndefined);
            }
            _pushNull(e3) {
              return this._pushUInt8(E);
            }
            _pushTag(e3) {
              return this._pushInt(e3, a.TAG);
            }
            _pushJSBigint(e3) {
              let t3 = a.POS_INT, r3 = c.POS_BIGINT;
              if (e3 < 0 && (e3 = -e3 + d.MINUS_ONE, t3 = a.NEG_INT, r3 = c.NEG_BIGINT), this.collapseBigIntegers && e3 <= d.MAXINT64)
                return e3 <= 4294967295 ? this._pushInt(Number(e3), t3) : this._pushUInt8(t3 << 5 | u.EIGHT) && this._pushUInt32BE(Number(e3 / d.SHIFT32)) && this._pushUInt32BE(Number(e3 % d.SHIFT32));
              let n3 = e3.toString(16);
              n3.length % 2 && (n3 = `0${n3}`);
              const i2 = p.from(n3, "hex");
              return this._pushTag(r3) && U._pushBuffer(this, i2);
            }
            _pushObject(e3, t3) {
              if (!e3)
                return this._pushNull(e3);
              if (!(t3 = { indefinite: false, skipTypes: false, ...t3 }).indefinite && this.detectLoops) {
                if (this.detectLoops.has(e3))
                  throw new Error("Loop detected while CBOR encoding.\nCall removeLoopDetectors before resuming.");
                this.detectLoops.add(e3);
              }
              if (!t3.skipTypes) {
                const t4 = e3.encodeCBOR;
                if (typeof t4 == "function")
                  return t4.call(e3, this);
                const r4 = this.semanticTypes[e3.constructor.name];
                if (r4)
                  return r4.call(e3, this, e3);
              }
              const r3 = Object.keys(e3).filter((t4) => {
                const r4 = typeof e3[t4];
                return r4 !== "function" && (!this.omitUndefinedProperties || r4 !== "undefined");
              }), n3 = {};
              if (this.canonical && r3.sort((e4, t4) => {
                const r4 = n3[e4] || (n3[e4] = U.encode(e4)), i3 = n3[t4] || (n3[t4] = U.encode(t4));
                return r4.compare(i3);
              }), t3.indefinite) {
                if (!this._pushUInt8(a.MAP << 5 | u.INDEFINITE))
                  return false;
              } else if (!this._pushInt(r3.length, a.MAP))
                return false;
              let i2 = null;
              for (let t4 = 0, o2 = r3.length; t4 < o2; t4++) {
                const o3 = r3[t4];
                if (this.canonical && (i2 = n3[o3])) {
                  if (!this.push(i2))
                    return false;
                } else if (!this._pushString(o3))
                  return false;
                if (!this.pushAny(e3[o3]))
                  return false;
              }
              if (t3.indefinite) {
                if (!this.push(v))
                  return false;
              } else
                this.detectLoops && this.detectLoops.delete(e3);
              return true;
            }
            _encodeAll(e3) {
              const t3 = new i({ highWaterMark: this.readableHighWaterMark });
              this.pipe(t3);
              for (const t4 of e3)
                this.pushAny(t4);
              return this.end(), t3.read();
            }
            addSemanticType(e3, t3) {
              const r3 = typeof e3 == "string" ? e3 : e3.name, n3 = this.semanticTypes[r3];
              if (t3) {
                if (typeof t3 != "function")
                  throw new TypeError("fun must be of type function");
                this.semanticTypes[r3] = t3;
              } else
                n3 && delete this.semanticTypes[r3];
              return n3;
            }
            pushAny(e3) {
              switch (typeof e3) {
                case "number":
                  return this._pushNumber(e3);
                case "bigint":
                  return this._pushJSBigint(e3);
                case "string":
                  return this._pushString(e3);
                case "boolean":
                  return this._pushBoolean(e3);
                case "undefined":
                  return this._pushUndefined(e3);
                case "object":
                  return this._pushObject(e3);
                case "symbol":
                  switch (e3) {
                    case l.NULL:
                      return this._pushNull(null);
                    case l.UNDEFINED:
                      return this._pushUndefined(void 0);
                    default:
                      throw new TypeError(`Unknown symbol: ${e3.toString()}`);
                  }
                default:
                  throw new TypeError(`Unknown type: ${typeof e3}, ${typeof e3.toString == "function" ? e3.toString() : ""}`);
              }
            }
            static pushArray(e3, t3, r3) {
              r3 = { indefinite: false, ...r3 };
              const n3 = t3.length;
              if (r3.indefinite) {
                if (!e3._pushUInt8(a.ARRAY << 5 | u.INDEFINITE))
                  return false;
              } else if (!e3._pushInt(n3, a.ARRAY))
                return false;
              for (let r4 = 0; r4 < n3; r4++)
                if (!e3.pushAny(t3[r4]))
                  return false;
              return !(r3.indefinite && !e3.push(v));
            }
            removeLoopDetectors() {
              return !!this.detectLoops && (this.detectLoops = new WeakSet(), true);
            }
            static _pushDate(e3, t3) {
              switch (e3.dateType) {
                case "string":
                  return e3._pushTag(c.DATE_STRING) && e3._pushString(t3.toISOString());
                case "int":
                  return e3._pushTag(c.DATE_EPOCH) && e3._pushIntNum(Math.round(t3.getTime() / 1e3));
                case "float":
                  return e3._pushTag(c.DATE_EPOCH) && e3._pushFloat(t3.getTime() / 1e3);
                default:
                  return e3._pushTag(c.DATE_EPOCH) && e3.pushAny(t3.getTime() / 1e3);
              }
            }
            static _pushBuffer(e3, t3) {
              return e3._pushInt(t3.length, a.BYTE_STRING) && e3.push(t3);
            }
            static _pushNoFilter(e3, t3) {
              return U._pushBuffer(e3, t3.slice());
            }
            static _pushRegexp(e3, t3) {
              return e3._pushTag(c.REGEXP) && e3.pushAny(t3.source);
            }
            static _pushSet(e3, t3) {
              if (!e3._pushTag(c.SET))
                return false;
              if (!e3._pushInt(t3.size, a.ARRAY))
                return false;
              for (const r3 of t3)
                if (!e3.pushAny(r3))
                  return false;
              return true;
            }
            static _pushURL(e3, t3) {
              return e3._pushTag(c.URI) && e3.pushAny(t3.toString());
            }
            static _pushBoxed(e3, t3) {
              return e3.pushAny(t3.valueOf());
            }
            static _pushMap(e3, t3, r3) {
              r3 = { indefinite: false, ...r3 };
              let n3 = [...t3.entries()];
              if (e3.omitUndefinedProperties && (n3 = n3.filter(([e4, t4]) => t4 !== void 0)), r3.indefinite) {
                if (!e3._pushUInt8(a.MAP << 5 | u.INDEFINITE))
                  return false;
              } else if (!e3._pushInt(n3.length, a.MAP))
                return false;
              if (e3.canonical) {
                const t4 = new U({ genTypes: e3.semanticTypes, canonical: e3.canonical, detectLoops: Boolean(e3.detectLoops), dateType: e3.dateType, disallowUndefinedKeys: e3.disallowUndefinedKeys, collapseBigIntegers: e3.collapseBigIntegers }), r4 = new i({ highWaterMark: e3.readableHighWaterMark });
                t4.pipe(r4), n3.sort(([e4], [n4]) => {
                  t4.pushAny(e4);
                  const i2 = r4.read();
                  t4.pushAny(n4);
                  const o2 = r4.read();
                  return i2.compare(o2);
                });
                for (const [t5, r5] of n3) {
                  if (e3.disallowUndefinedKeys && t5 === void 0)
                    throw new Error("Invalid Map key: undefined");
                  if (!e3.pushAny(t5) || !e3.pushAny(r5))
                    return false;
                }
              } else
                for (const [t4, r4] of n3) {
                  if (e3.disallowUndefinedKeys && t4 === void 0)
                    throw new Error("Invalid Map key: undefined");
                  if (!e3.pushAny(t4) || !e3.pushAny(r4))
                    return false;
                }
              return !(r3.indefinite && !e3.push(v));
            }
            static _pushTypedArray(e3, t3) {
              let r3 = 64, n3 = t3.BYTES_PER_ELEMENT;
              const { name: i2 } = t3.constructor;
              return i2.startsWith("Float") ? (r3 |= 16, n3 /= 2) : i2.includes("U") || (r3 |= 8), (i2.includes("Clamped") || n3 !== 1 && !o.isBigEndian()) && (r3 |= 4), r3 |= { 1: 0, 2: 1, 4: 2, 8: 3 }[n3], !!e3._pushTag(r3) && U._pushBuffer(e3, p.from(t3.buffer, t3.byteOffset, t3.byteLength));
            }
            static _pushArrayBuffer(e3, t3) {
              return U._pushBuffer(e3, p.from(t3));
            }
            static encodeIndefinite(e3, t3, r3 = {}) {
              if (t3 == null) {
                if (this == null)
                  throw new Error("No object to encode");
                t3 = this;
              }
              const { chunkSize: n3 = 4096 } = r3;
              let i2 = true;
              const s2 = typeof t3;
              let f2 = null;
              if (s2 === "string") {
                i2 = i2 && e3._pushUInt8(a.UTF8_STRING << 5 | u.INDEFINITE);
                let r4 = 0;
                for (; r4 < t3.length; ) {
                  const o2 = r4 + n3;
                  i2 = i2 && e3._pushString(t3.slice(r4, o2)), r4 = o2;
                }
                i2 = i2 && e3.push(v);
              } else if (f2 = o.bufferishToBuffer(t3)) {
                i2 = i2 && e3._pushUInt8(a.BYTE_STRING << 5 | u.INDEFINITE);
                let t4 = 0;
                for (; t4 < f2.length; ) {
                  const r4 = t4 + n3;
                  i2 = i2 && U._pushBuffer(e3, f2.slice(t4, r4)), t4 = r4;
                }
                i2 = i2 && e3.push(v);
              } else if (Array.isArray(t3))
                i2 = i2 && U.pushArray(e3, t3, { indefinite: true });
              else if (t3 instanceof Map)
                i2 = i2 && U._pushMap(e3, t3, { indefinite: true });
              else {
                if (s2 !== "object")
                  throw new Error("Invalid indefinite encoding");
                i2 = i2 && e3._pushObject(t3, { indefinite: true, skipTypes: true });
              }
              return i2;
            }
            static encode(...e3) {
              return new U()._encodeAll(e3);
            }
            static encodeCanonical(...e3) {
              return new U({ canonical: true })._encodeAll(e3);
            }
            static encodeOne(e3, t3) {
              return new U(t3)._encodeAll([e3]);
            }
            static encodeAsync(e3, t3) {
              return new Promise((r3, n3) => {
                const i2 = [], o2 = new U(t3);
                o2.on("data", (e4) => i2.push(e4)), o2.on("error", n3), o2.on("finish", () => r3(p.concat(i2))), o2.pushAny(e3), o2.end();
              });
            }
            static get SEMANTIC_TYPES() {
              return R;
            }
            static set SEMANTIC_TYPES(e3) {
              R = e3;
            }
            static reset() {
              U.SEMANTIC_TYPES = { ...B };
            }
          }
          Object.assign(B, { Array: U.pushArray, Date: U._pushDate, Buffer: U._pushBuffer, [p.name]: U._pushBuffer, Map: U._pushMap, NoFilter: U._pushNoFilter, [i.name]: U._pushNoFilter, RegExp: U._pushRegexp, Set: U._pushSet, ArrayBuffer: U._pushArrayBuffer, Uint8ClampedArray: U._pushTypedArray, Uint8Array: U._pushTypedArray, Uint16Array: U._pushTypedArray, Uint32Array: U._pushTypedArray, Int8Array: U._pushTypedArray, Int16Array: U._pushTypedArray, Int32Array: U._pushTypedArray, Float32Array: U._pushTypedArray, Float64Array: U._pushTypedArray, URL: U._pushURL, Boolean: U._pushBoxed, Number: U._pushBoxed, String: U._pushBoxed }), typeof BigUint64Array != "undefined" && (B[BigUint64Array.name] = U._pushTypedArray), typeof BigInt64Array != "undefined" && (B[BigInt64Array.name] = U._pushTypedArray), U.reset(), e2.exports = U;
        }, 70: (e2, t2, r2) => {
          "use strict";
          const { Buffer: n2 } = r2(764), i = r2(666), o = r2(774), { MT: s } = r2(66);
          class a extends Map {
            constructor(e3) {
              super(e3);
            }
            static _encode(e3) {
              return i.encodeCanonical(e3).toString("base64");
            }
            static _decode(e3) {
              return o.decodeFirstSync(e3, "base64");
            }
            get(e3) {
              return super.get(a._encode(e3));
            }
            set(e3, t3) {
              return super.set(a._encode(e3), t3);
            }
            delete(e3) {
              return super.delete(a._encode(e3));
            }
            has(e3) {
              return super.has(a._encode(e3));
            }
            *keys() {
              for (const e3 of super.keys())
                yield a._decode(e3);
            }
            *entries() {
              for (const e3 of super.entries())
                yield [a._decode(e3[0]), e3[1]];
            }
            [Symbol.iterator]() {
              return this.entries();
            }
            forEach(e3, t3) {
              if (typeof e3 != "function")
                throw new TypeError("Must be function");
              for (const t4 of super.entries())
                e3.call(this, t4[1], a._decode(t4[0]), this);
            }
            encodeCBOR(e3) {
              if (!e3._pushInt(this.size, s.MAP))
                return false;
              if (e3.canonical) {
                const t3 = Array.from(super.entries()).map((e4) => [n2.from(e4[0], "base64"), e4[1]]);
                t3.sort((e4, t4) => e4[0].compare(t4[0]));
                for (const r3 of t3)
                  if (!e3.push(r3[0]) || !e3.pushAny(r3[1]))
                    return false;
              } else
                for (const t3 of super.entries())
                  if (!e3.push(n2.from(t3[0], "base64")) || !e3.pushAny(t3[1]))
                    return false;
              return true;
            }
          }
          e2.exports = a;
        }, 32: (e2, t2, r2) => {
          "use strict";
          const { MT: n2, SIMPLE: i, SYMS: o } = r2(66);
          class s {
            constructor(e3) {
              if (typeof e3 != "number")
                throw new Error("Invalid Simple type: " + typeof e3);
              if (e3 < 0 || e3 > 255 || (0 | e3) !== e3)
                throw new Error(`value must be a small positive integer: ${e3}`);
              this.value = e3;
            }
            toString() {
              return `simple(${this.value})`;
            }
            [Symbol.for("nodejs.util.inspect.custom")](e3, t3) {
              return `simple(${this.value})`;
            }
            encodeCBOR(e3) {
              return e3._pushInt(this.value, n2.SIMPLE_FLOAT);
            }
            static isSimple(e3) {
              return e3 instanceof s;
            }
            static decode(e3, t3 = true, r3 = false) {
              switch (e3) {
                case i.FALSE:
                  return false;
                case i.TRUE:
                  return true;
                case i.NULL:
                  return t3 ? null : o.NULL;
                case i.UNDEFINED:
                  if (t3)
                    return;
                  return o.UNDEFINED;
                case -1:
                  if (!t3 || !r3)
                    throw new Error("Invalid BREAK");
                  return o.BREAK;
                default:
                  return new s(e3);
              }
            }
          }
          e2.exports = s;
        }, 785: (e2, t2, r2) => {
          "use strict";
          const n2 = r2(66), i = r2(873), o = Symbol("INTERNAL_JSON");
          function s(e3, t3) {
            if (i.isBufferish(e3))
              e3.toJSON = t3;
            else if (Array.isArray(e3))
              for (const r3 of e3)
                s(r3, t3);
            else if (e3 && typeof e3 == "object" && (!(e3 instanceof p) || e3.tag < 21 || e3.tag > 23))
              for (const r3 of Object.values(e3))
                s(r3, t3);
          }
          function a() {
            return i.base64(this);
          }
          function u() {
            return i.base64url(this);
          }
          function f() {
            return this.toString("hex");
          }
          const h = { 0: (e3) => new Date(e3), 1: (e3) => new Date(1e3 * e3), 2: (e3) => i.bufferToBigInt(e3), 3: (e3) => n2.BI.MINUS_ONE - i.bufferToBigInt(e3), 21: (e3, t3) => (i.isBufferish(e3) ? t3[o] = u : s(e3, u), t3), 22: (e3, t3) => (i.isBufferish(e3) ? t3[o] = a : s(e3, a), t3), 23: (e3, t3) => (i.isBufferish(e3) ? t3[o] = f : s(e3, f), t3), 32: (e3) => new URL(e3), 33: (e3, t3) => {
            if (!e3.match(/^[a-zA-Z0-9_-]+$/))
              throw new Error("Invalid base64url characters");
            const r3 = e3.length % 4;
            if (r3 === 1)
              throw new Error("Invalid base64url length");
            if (r3 === 2) {
              if ("AQgw".indexOf(e3[e3.length - 1]) === -1)
                throw new Error("Invalid base64 padding");
            } else if (r3 === 3 && "AEIMQUYcgkosw048".indexOf(e3[e3.length - 1]) === -1)
              throw new Error("Invalid base64 padding");
            return t3;
          }, 34: (e3, t3) => {
            const r3 = e3.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);
            if (!r3)
              throw new Error("Invalid base64 characters");
            if (e3.length % 4 != 0)
              throw new Error("Invalid base64 length");
            if (r3.groups.padding === "=") {
              if ("AQgw".indexOf(e3[e3.length - 2]) === -1)
                throw new Error("Invalid base64 padding");
            } else if (r3.groups.padding === "==" && "AEIMQUYcgkosw048".indexOf(e3[e3.length - 3]) === -1)
              throw new Error("Invalid base64 padding");
            return t3;
          }, 35: (e3) => new RegExp(e3), 258: (e3) => new Set(e3) }, l = { 64: Uint8Array, 65: Uint16Array, 66: Uint32Array, 68: Uint8ClampedArray, 69: Uint16Array, 70: Uint32Array, 72: Int8Array, 73: Int16Array, 74: Int32Array, 77: Int16Array, 78: Int32Array, 81: Float32Array, 82: Float64Array, 85: Float32Array, 86: Float64Array };
          function c(e3, t3) {
            if (!i.isBufferish(e3))
              throw new TypeError("val not a buffer");
            const { tag: r3 } = t3, n3 = l[r3];
            if (!n3)
              throw new Error(`Invalid typed array tag: ${r3}`);
            const o2 = 2 ** (((16 & r3) >> 4) + (3 & r3));
            return !(4 & r3) !== i.isBigEndian() && o2 > 1 && function(e4, t4, r4, n4) {
              const i2 = new DataView(e4), [o3, s2] = { 2: [i2.getUint16, i2.setUint16], 4: [i2.getUint32, i2.setUint32], 8: [i2.getBigUint64, i2.setBigUint64] }[t4], a2 = r4 + n4;
              for (let e5 = r4; e5 < a2; e5 += t4)
                s2.call(i2, e5, o3.call(i2, e5, true));
            }(e3.buffer, o2, e3.byteOffset, e3.byteLength), new n3(e3.buffer.slice(e3.byteOffset, e3.byteOffset + e3.byteLength));
          }
          typeof BigUint64Array != "undefined" && (l[67] = BigUint64Array, l[71] = BigUint64Array), typeof BigInt64Array != "undefined" && (l[75] = BigInt64Array, l[79] = BigInt64Array);
          for (const e3 of Object.keys(l))
            h[e3] = c;
          let d = {};
          class p {
            constructor(e3, t3, r3) {
              if (this.tag = e3, this.value = t3, this.err = r3, typeof this.tag != "number")
                throw new Error(`Invalid tag type (${typeof this.tag})`);
              if (this.tag < 0 || (0 | this.tag) !== this.tag)
                throw new Error(`Tag must be a positive integer: ${this.tag}`);
            }
            toJSON() {
              if (this[o])
                return this[o].call(this.value);
              const e3 = { tag: this.tag, value: this.value };
              return this.err && (e3.err = this.err), e3;
            }
            toString() {
              return `${this.tag}(${JSON.stringify(this.value)})`;
            }
            encodeCBOR(e3) {
              return e3._pushTag(this.tag), e3.pushAny(this.value);
            }
            convert(e3) {
              let t3 = e3 == null ? void 0 : e3[this.tag];
              if (typeof t3 != "function" && (t3 = p.TAGS[this.tag], typeof t3 != "function"))
                return this;
              try {
                return t3.call(this, this.value, this);
              } catch (e4) {
                return e4 && e4.message && e4.message.length > 0 ? this.err = e4.message : this.err = e4, this;
              }
            }
            static get TAGS() {
              return d;
            }
            static set TAGS(e3) {
              d = e3;
            }
            static reset() {
              p.TAGS = { ...h };
            }
          }
          p.INTERNAL_JSON = o, p.reset(), e2.exports = p;
        }, 873: (e2, t2, r2) => {
          "use strict";
          const { Buffer: n2 } = r2(764), i = r2(202), o = r2(830), s = r2(66), { NUMBYTES: a, SHIFT32: u, BI: f, SYMS: h } = s, l = new TextDecoder("utf8", { fatal: true, ignoreBOM: true });
          t2.utf8 = (e3) => l.decode(e3), t2.utf8.checksUTF8 = true, t2.isBufferish = function(e3) {
            return e3 && typeof e3 == "object" && (n2.isBuffer(e3) || e3 instanceof Uint8Array || e3 instanceof Uint8ClampedArray || e3 instanceof ArrayBuffer || e3 instanceof DataView);
          }, t2.bufferishToBuffer = function(e3) {
            return n2.isBuffer(e3) ? e3 : ArrayBuffer.isView(e3) ? n2.from(e3.buffer, e3.byteOffset, e3.byteLength) : e3 instanceof ArrayBuffer ? n2.from(e3) : null;
          }, t2.parseCBORint = function(e3, t3) {
            switch (e3) {
              case a.ONE:
                return t3.readUInt8(0);
              case a.TWO:
                return t3.readUInt16BE(0);
              case a.FOUR:
                return t3.readUInt32BE(0);
              case a.EIGHT: {
                const e4 = t3.readUInt32BE(0), r3 = t3.readUInt32BE(4);
                return e4 > 2097151 ? BigInt(e4) * f.SHIFT32 + BigInt(r3) : e4 * u + r3;
              }
              default:
                throw new Error(`Invalid additional info for int: ${e3}`);
            }
          }, t2.writeHalf = function(e3, t3) {
            const r3 = n2.allocUnsafe(4);
            r3.writeFloatBE(t3, 0);
            const i2 = r3.readUInt32BE(0);
            if ((8191 & i2) != 0)
              return false;
            let o2 = i2 >> 16 & 32768;
            const s2 = i2 >> 23 & 255, a2 = 8388607 & i2;
            if (s2 >= 113 && s2 <= 142)
              o2 += (s2 - 112 << 10) + (a2 >> 13);
            else {
              if (!(s2 >= 103 && s2 < 113))
                return false;
              if (a2 & (1 << 126 - s2) - 1)
                return false;
              o2 += a2 + 8388608 >> 126 - s2;
            }
            return e3.writeUInt16BE(o2), true;
          }, t2.parseHalf = function(e3) {
            const t3 = 128 & e3[0] ? -1 : 1, r3 = (124 & e3[0]) >> 2, n3 = (3 & e3[0]) << 8 | e3[1];
            return r3 ? r3 === 31 ? t3 * (n3 ? NaN : 1 / 0) : t3 * 2 ** (r3 - 25) * (1024 + n3) : 5960464477539063e-23 * t3 * n3;
          }, t2.parseCBORfloat = function(e3) {
            switch (e3.length) {
              case 2:
                return t2.parseHalf(e3);
              case 4:
                return e3.readFloatBE(0);
              case 8:
                return e3.readDoubleBE(0);
              default:
                throw new Error(`Invalid float size: ${e3.length}`);
            }
          }, t2.hex = function(e3) {
            return n2.from(e3.replace(/^0x/, ""), "hex");
          }, t2.bin = function(e3) {
            let t3 = 0, r3 = (e3 = e3.replace(/\s/g, "")).length % 8 || 8;
            const i2 = [];
            for (; r3 <= e3.length; )
              i2.push(parseInt(e3.slice(t3, r3), 2)), t3 = r3, r3 += 8;
            return n2.from(i2);
          }, t2.arrayEqual = function(e3, t3) {
            return e3 == null && t3 == null || e3 != null && t3 != null && e3.length === t3.length && e3.every((e4, r3) => e4 === t3[r3]);
          }, t2.bufferToBigInt = function(e3) {
            return BigInt(`0x${e3.toString("hex")}`);
          }, t2.cborValueToString = function(e3, r3 = -1) {
            switch (typeof e3) {
              case "symbol": {
                switch (e3) {
                  case h.NULL:
                    return "null";
                  case h.UNDEFINED:
                    return "undefined";
                  case h.BREAK:
                    return "BREAK";
                }
                if (e3.description)
                  return e3.description;
                const t3 = e3.toString().match(/^Symbol\((?<name>.*)\)/);
                return t3 && t3.groups.name ? t3.groups.name : "Symbol";
              }
              case "string":
                return JSON.stringify(e3);
              case "bigint":
                return e3.toString();
              case "number": {
                const t3 = Object.is(e3, -0) ? "-0" : String(e3);
                return r3 > 0 ? `${t3}_${r3}` : t3;
              }
              case "object": {
                const n3 = t2.bufferishToBuffer(e3);
                if (n3) {
                  const e4 = n3.toString("hex");
                  return r3 === -1 / 0 ? e4 : `h'${e4}'`;
                }
                return typeof e3[Symbol.for("nodejs.util.inspect.custom")] == "function" ? e3[Symbol.for("nodejs.util.inspect.custom")]() : Array.isArray(e3) ? "[]" : "{}";
              }
            }
            return String(e3);
          }, t2.guessEncoding = function(e3, r3) {
            if (typeof e3 == "string")
              return new i(e3, r3 == null ? "hex" : r3);
            const n3 = t2.bufferishToBuffer(e3);
            if (n3)
              return new i(n3);
            if ((s2 = e3) instanceof o.Readable || ["read", "on", "pipe"].every((e4) => typeof s2[e4] == "function"))
              return e3;
            var s2;
            throw new Error("Unknown input type");
          };
          const c = { "=": "", "+": "-", "/": "_" };
          t2.base64url = function(e3) {
            return t2.bufferishToBuffer(e3).toString("base64").replace(/[=+/]/g, (e4) => c[e4]);
          }, t2.base64 = function(e3) {
            return t2.bufferishToBuffer(e3).toString("base64");
          }, t2.isBigEndian = function() {
            const e3 = new Uint8Array(4);
            return !((new Uint32Array(e3.buffer)[0] = 1) & e3[0]);
          };
        }, 202: (e2, t2, r2) => {
          "use strict";
          const n2 = r2(830), { Buffer: i } = r2(764), o = new TextDecoder("utf8", { fatal: true, ignoreBOM: true });
          class s extends n2.Transform {
            constructor(e3, t3, r3 = {}) {
              let n3 = null, o2 = null;
              switch (typeof e3) {
                case "object":
                  i.isBuffer(e3) ? n3 = e3 : e3 && (r3 = e3);
                  break;
                case "string":
                  n3 = e3;
                  break;
                case "undefined":
                  break;
                default:
                  throw new TypeError("Invalid input");
              }
              switch (typeof t3) {
                case "object":
                  t3 && (r3 = t3);
                  break;
                case "string":
                  o2 = t3;
                  break;
                case "undefined":
                  break;
                default:
                  throw new TypeError("Invalid inputEncoding");
              }
              if (!r3 || typeof r3 != "object")
                throw new TypeError("Invalid options");
              n3 == null && (n3 = r3.input), o2 == null && (o2 = r3.inputEncoding), delete r3.input, delete r3.inputEncoding;
              const s2 = r3.watchPipe == null || r3.watchPipe;
              delete r3.watchPipe;
              const a = Boolean(r3.readError);
              delete r3.readError, super(r3), this.readError = a, s2 && this.on("pipe", (e4) => {
                const t4 = e4._readableState.objectMode;
                if (this.length > 0 && t4 !== this._readableState.objectMode)
                  throw new Error("Do not switch objectMode in the middle of the stream");
                this._readableState.objectMode = t4, this._writableState.objectMode = t4;
              }), n3 != null && this.end(n3, o2);
            }
            static isNoFilter(e3) {
              return e3 instanceof this;
            }
            static compare(e3, t3) {
              if (!(e3 instanceof this))
                throw new TypeError("Arguments must be NoFilters");
              return e3 === t3 ? 0 : e3.compare(t3);
            }
            static concat(e3, t3) {
              if (!Array.isArray(e3))
                throw new TypeError("list argument must be an Array of NoFilters");
              if (e3.length === 0 || t3 === 0)
                return i.alloc(0);
              t3 == null && (t3 = e3.reduce((e4, t4) => {
                if (!(t4 instanceof s))
                  throw new TypeError("list argument must be an Array of NoFilters");
                return e4 + t4.length;
              }, 0));
              let r3 = true, n3 = true;
              const o2 = e3.map((e4) => {
                if (!(e4 instanceof s))
                  throw new TypeError("list argument must be an Array of NoFilters");
                const t4 = e4.slice();
                return i.isBuffer(t4) ? n3 = false : r3 = false, t4;
              });
              if (r3)
                return i.concat(o2, t3);
              if (n3)
                return [].concat(...o2).slice(0, t3);
              throw new Error("Concatenating mixed object and byte streams not supported");
            }
            _transform(e3, t3, r3) {
              this._readableState.objectMode || i.isBuffer(e3) || (e3 = i.from(e3, t3)), this.push(e3), r3();
            }
            _bufArray() {
              let e3 = this._readableState.buffer;
              if (!Array.isArray(e3)) {
                let t3 = e3.head;
                for (e3 = []; t3 != null; )
                  e3.push(t3.data), t3 = t3.next;
              }
              return e3;
            }
            read(e3) {
              const t3 = super.read(e3);
              if (t3 != null) {
                if (this.emit("read", t3), this.readError && t3.length < e3)
                  throw new Error(`Read ${t3.length}, wanted ${e3}`);
              } else if (this.readError)
                throw new Error(`No data available, wanted ${e3}`);
              return t3;
            }
            readFull(e3) {
              let t3 = null, r3 = null, n3 = null;
              return new Promise((i2, o2) => {
                this.length >= e3 ? i2(this.read(e3)) : this.writableFinished ? o2(new Error(`Stream finished before ${e3} bytes were available`)) : (t3 = (t4) => {
                  this.length >= e3 && i2(this.read(e3));
                }, r3 = () => {
                  o2(new Error(`Stream finished before ${e3} bytes were available`));
                }, n3 = o2, this.on("readable", t3), this.on("error", n3), this.on("finish", r3));
              }).finally(() => {
                t3 && (this.removeListener("readable", t3), this.removeListener("error", n3), this.removeListener("finish", r3));
              });
            }
            promise(e3) {
              let t3 = false;
              return new Promise((r3, n3) => {
                this.on("finish", () => {
                  const n4 = this.read();
                  e3 == null || t3 || (t3 = true, e3(null, n4)), r3(n4);
                }), this.on("error", (r4) => {
                  e3 == null || t3 || (t3 = true, e3(r4)), n3(r4);
                });
              });
            }
            compare(e3) {
              if (!(e3 instanceof s))
                throw new TypeError("Arguments must be NoFilters");
              if (this === e3)
                return 0;
              const t3 = this.slice(), r3 = e3.slice();
              if (i.isBuffer(t3) && i.isBuffer(r3))
                return t3.compare(r3);
              throw new Error("Cannot compare streams in object mode");
            }
            equals(e3) {
              return this.compare(e3) === 0;
            }
            slice(e3, t3) {
              if (this._readableState.objectMode)
                return this._bufArray().slice(e3, t3);
              const r3 = this._bufArray();
              switch (r3.length) {
                case 0:
                  return i.alloc(0);
                case 1:
                  return r3[0].slice(e3, t3);
                default:
                  return i.concat(r3).slice(e3, t3);
              }
            }
            get(e3) {
              return this.slice()[e3];
            }
            toJSON() {
              const e3 = this.slice();
              return i.isBuffer(e3) ? e3.toJSON() : e3;
            }
            toString(e3, t3, r3) {
              const n3 = this.slice(t3, r3);
              return i.isBuffer(n3) ? e3 && e3 !== "utf8" ? n3.toString(e3) : o.decode(n3) : JSON.stringify(n3);
            }
            [Symbol.for("nodejs.util.inspect.custom")](e3, t3) {
              const r3 = this._bufArray().map((e4) => i.isBuffer(e4) ? t3.stylize(e4.toString("hex"), "string") : JSON.stringify(e4)).join(", ");
              return `${this.constructor.name} [${r3}]`;
            }
            get length() {
              return this._readableState.length;
            }
            writeBigInt(e3) {
              let t3 = e3.toString(16);
              if (e3 < 0) {
                const r3 = BigInt(Math.floor(t3.length / 2));
                t3 = (e3 = (BigInt(1) << r3 * BigInt(8)) + e3).toString(16);
              }
              return t3.length % 2 && (t3 = `0${t3}`), this.push(i.from(t3, "hex"));
            }
            readUBigInt(e3) {
              const t3 = this.read(e3);
              return i.isBuffer(t3) ? BigInt(`0x${t3.toString("hex")}`) : null;
            }
            readBigInt(e3) {
              const t3 = this.read(e3);
              if (!i.isBuffer(t3))
                return null;
              let r3 = BigInt(`0x${t3.toString("hex")}`);
              return 128 & t3[0] && (r3 -= BigInt(1) << BigInt(t3.length) * BigInt(8)), r3;
            }
            writeUInt8(e3) {
              const t3 = i.from([e3]);
              return this.push(t3);
            }
            writeUInt16LE(e3) {
              const t3 = i.alloc(2);
              return t3.writeUInt16LE(e3), this.push(t3);
            }
            writeUInt16BE(e3) {
              const t3 = i.alloc(2);
              return t3.writeUInt16BE(e3), this.push(t3);
            }
            writeUInt32LE(e3) {
              const t3 = i.alloc(4);
              return t3.writeUInt32LE(e3), this.push(t3);
            }
            writeUInt32BE(e3) {
              const t3 = i.alloc(4);
              return t3.writeUInt32BE(e3), this.push(t3);
            }
            writeInt8(e3) {
              const t3 = i.from([e3]);
              return this.push(t3);
            }
            writeInt16LE(e3) {
              const t3 = i.alloc(2);
              return t3.writeUInt16LE(e3), this.push(t3);
            }
            writeInt16BE(e3) {
              const t3 = i.alloc(2);
              return t3.writeUInt16BE(e3), this.push(t3);
            }
            writeInt32LE(e3) {
              const t3 = i.alloc(4);
              return t3.writeUInt32LE(e3), this.push(t3);
            }
            writeInt32BE(e3) {
              const t3 = i.alloc(4);
              return t3.writeUInt32BE(e3), this.push(t3);
            }
            writeFloatLE(e3) {
              const t3 = i.alloc(4);
              return t3.writeFloatLE(e3), this.push(t3);
            }
            writeFloatBE(e3) {
              const t3 = i.alloc(4);
              return t3.writeFloatBE(e3), this.push(t3);
            }
            writeDoubleLE(e3) {
              const t3 = i.alloc(8);
              return t3.writeDoubleLE(e3), this.push(t3);
            }
            writeDoubleBE(e3) {
              const t3 = i.alloc(8);
              return t3.writeDoubleBE(e3), this.push(t3);
            }
            writeBigInt64LE(e3) {
              const t3 = i.alloc(8);
              return t3.writeBigInt64LE(e3), this.push(t3);
            }
            writeBigInt64BE(e3) {
              const t3 = i.alloc(8);
              return t3.writeBigInt64BE(e3), this.push(t3);
            }
            writeBigUInt64LE(e3) {
              const t3 = i.alloc(8);
              return t3.writeBigUInt64LE(e3), this.push(t3);
            }
            writeBigUInt64BE(e3) {
              const t3 = i.alloc(8);
              return t3.writeBigUInt64BE(e3), this.push(t3);
            }
            readUInt8() {
              const e3 = this.read(1);
              return i.isBuffer(e3) ? e3.readUInt8() : null;
            }
            readUInt16LE() {
              const e3 = this.read(2);
              return i.isBuffer(e3) ? e3.readUInt16LE() : null;
            }
            readUInt16BE() {
              const e3 = this.read(2);
              return i.isBuffer(e3) ? e3.readUInt16BE() : null;
            }
            readUInt32LE() {
              const e3 = this.read(4);
              return i.isBuffer(e3) ? e3.readUInt32LE() : null;
            }
            readUInt32BE() {
              const e3 = this.read(4);
              return i.isBuffer(e3) ? e3.readUInt32BE() : null;
            }
            readInt8() {
              const e3 = this.read(1);
              return i.isBuffer(e3) ? e3.readInt8() : null;
            }
            readInt16LE() {
              const e3 = this.read(2);
              return i.isBuffer(e3) ? e3.readInt16LE() : null;
            }
            readInt16BE() {
              const e3 = this.read(2);
              return i.isBuffer(e3) ? e3.readInt16BE() : null;
            }
            readInt32LE() {
              const e3 = this.read(4);
              return i.isBuffer(e3) ? e3.readInt32LE() : null;
            }
            readInt32BE() {
              const e3 = this.read(4);
              return i.isBuffer(e3) ? e3.readInt32BE() : null;
            }
            readFloatLE() {
              const e3 = this.read(4);
              return i.isBuffer(e3) ? e3.readFloatLE() : null;
            }
            readFloatBE() {
              const e3 = this.read(4);
              return i.isBuffer(e3) ? e3.readFloatBE() : null;
            }
            readDoubleLE() {
              const e3 = this.read(8);
              return i.isBuffer(e3) ? e3.readDoubleLE() : null;
            }
            readDoubleBE() {
              const e3 = this.read(8);
              return i.isBuffer(e3) ? e3.readDoubleBE() : null;
            }
            readBigInt64LE() {
              const e3 = this.read(8);
              return i.isBuffer(e3) ? e3.readBigInt64LE() : null;
            }
            readBigInt64BE() {
              const e3 = this.read(8);
              return i.isBuffer(e3) ? e3.readBigInt64BE() : null;
            }
            readBigUInt64LE() {
              const e3 = this.read(8);
              return i.isBuffer(e3) ? e3.readBigUInt64LE() : null;
            }
            readBigUInt64BE() {
              const e3 = this.read(8);
              return i.isBuffer(e3) ? e3.readBigUInt64BE() : null;
            }
          }
          e2.exports = s;
        }, 71: (e2, t2, r2) => {
          "use strict";
          const n2 = r2(830), i = r2(202);
          class o extends n2.Transform {
            constructor(e3) {
              super(e3), this._writableState.objectMode = false, this._readableState.objectMode = true, this.bs = new i(), this.__restart();
            }
            _transform(e3, t3, r3) {
              for (this.bs.write(e3); this.bs.length >= this.__needed; ) {
                let e4 = null;
                const t4 = this.__needed === null ? void 0 : this.bs.read(this.__needed);
                try {
                  e4 = this.__parser.next(t4);
                } catch (e5) {
                  return r3(e5);
                }
                this.__needed && (this.__fresh = false), e4.done ? (this.push(e4.value), this.__restart()) : this.__needed = e4.value || 1 / 0;
              }
              return r3();
            }
            *_parse() {
              throw new Error("Must be implemented in subclass");
            }
            __restart() {
              this.__needed = null, this.__parser = this._parse(), this.__fresh = true;
            }
            _flush(e3) {
              e3(this.__fresh ? null : new Error("unexpected end of input"));
            }
          }
          e2.exports = o;
        }, 187: (e2) => {
          "use strict";
          var t2, r2 = typeof Reflect == "object" ? Reflect : null, n2 = r2 && typeof r2.apply == "function" ? r2.apply : function(e3, t3, r3) {
            return Function.prototype.apply.call(e3, t3, r3);
          };
          t2 = r2 && typeof r2.ownKeys == "function" ? r2.ownKeys : Object.getOwnPropertySymbols ? function(e3) {
            return Object.getOwnPropertyNames(e3).concat(Object.getOwnPropertySymbols(e3));
          } : function(e3) {
            return Object.getOwnPropertyNames(e3);
          };
          var i = Number.isNaN || function(e3) {
            return e3 != e3;
          };
          function o() {
            o.init.call(this);
          }
          e2.exports = o, e2.exports.once = function(e3, t3) {
            return new Promise(function(r3, n3) {
              function i2(r4) {
                e3.removeListener(t3, o2), n3(r4);
              }
              function o2() {
                typeof e3.removeListener == "function" && e3.removeListener("error", i2), r3([].slice.call(arguments));
              }
              g(e3, t3, o2, { once: true }), t3 !== "error" && function(e4, t4, r4) {
                typeof e4.on == "function" && g(e4, "error", t4, { once: true });
              }(e3, i2);
            });
          }, o.EventEmitter = o, o.prototype._events = void 0, o.prototype._eventsCount = 0, o.prototype._maxListeners = void 0;
          var s = 10;
          function a(e3) {
            if (typeof e3 != "function")
              throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e3);
          }
          function u(e3) {
            return e3._maxListeners === void 0 ? o.defaultMaxListeners : e3._maxListeners;
          }
          function f(e3, t3, r3, n3) {
            var i2, o2, s2, f2;
            if (a(r3), (o2 = e3._events) === void 0 ? (o2 = e3._events = Object.create(null), e3._eventsCount = 0) : (o2.newListener !== void 0 && (e3.emit("newListener", t3, r3.listener ? r3.listener : r3), o2 = e3._events), s2 = o2[t3]), s2 === void 0)
              s2 = o2[t3] = r3, ++e3._eventsCount;
            else if (typeof s2 == "function" ? s2 = o2[t3] = n3 ? [r3, s2] : [s2, r3] : n3 ? s2.unshift(r3) : s2.push(r3), (i2 = u(e3)) > 0 && s2.length > i2 && !s2.warned) {
              s2.warned = true;
              var h2 = new Error("Possible EventEmitter memory leak detected. " + s2.length + " " + String(t3) + " listeners added. Use emitter.setMaxListeners() to increase limit");
              h2.name = "MaxListenersExceededWarning", h2.emitter = e3, h2.type = t3, h2.count = s2.length, f2 = h2, console && console.warn && console.warn(f2);
            }
            return e3;
          }
          function h() {
            if (!this.fired)
              return this.target.removeListener(this.type, this.wrapFn), this.fired = true, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
          }
          function l(e3, t3, r3) {
            var n3 = { fired: false, wrapFn: void 0, target: e3, type: t3, listener: r3 }, i2 = h.bind(n3);
            return i2.listener = r3, n3.wrapFn = i2, i2;
          }
          function c(e3, t3, r3) {
            var n3 = e3._events;
            if (n3 === void 0)
              return [];
            var i2 = n3[t3];
            return i2 === void 0 ? [] : typeof i2 == "function" ? r3 ? [i2.listener || i2] : [i2] : r3 ? function(e4) {
              for (var t4 = new Array(e4.length), r4 = 0; r4 < t4.length; ++r4)
                t4[r4] = e4[r4].listener || e4[r4];
              return t4;
            }(i2) : p(i2, i2.length);
          }
          function d(e3) {
            var t3 = this._events;
            if (t3 !== void 0) {
              var r3 = t3[e3];
              if (typeof r3 == "function")
                return 1;
              if (r3 !== void 0)
                return r3.length;
            }
            return 0;
          }
          function p(e3, t3) {
            for (var r3 = new Array(t3), n3 = 0; n3 < t3; ++n3)
              r3[n3] = e3[n3];
            return r3;
          }
          function g(e3, t3, r3, n3) {
            if (typeof e3.on == "function")
              n3.once ? e3.once(t3, r3) : e3.on(t3, r3);
            else {
              if (typeof e3.addEventListener != "function")
                throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof e3);
              e3.addEventListener(t3, function i2(o2) {
                n3.once && e3.removeEventListener(t3, i2), r3(o2);
              });
            }
          }
          Object.defineProperty(o, "defaultMaxListeners", { enumerable: true, get: function() {
            return s;
          }, set: function(e3) {
            if (typeof e3 != "number" || e3 < 0 || i(e3))
              throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e3 + ".");
            s = e3;
          } }), o.init = function() {
            this._events !== void 0 && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
          }, o.prototype.setMaxListeners = function(e3) {
            if (typeof e3 != "number" || e3 < 0 || i(e3))
              throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e3 + ".");
            return this._maxListeners = e3, this;
          }, o.prototype.getMaxListeners = function() {
            return u(this);
          }, o.prototype.emit = function(e3) {
            for (var t3 = [], r3 = 1; r3 < arguments.length; r3++)
              t3.push(arguments[r3]);
            var i2 = e3 === "error", o2 = this._events;
            if (o2 !== void 0)
              i2 = i2 && o2.error === void 0;
            else if (!i2)
              return false;
            if (i2) {
              var s2;
              if (t3.length > 0 && (s2 = t3[0]), s2 instanceof Error)
                throw s2;
              var a2 = new Error("Unhandled error." + (s2 ? " (" + s2.message + ")" : ""));
              throw a2.context = s2, a2;
            }
            var u2 = o2[e3];
            if (u2 === void 0)
              return false;
            if (typeof u2 == "function")
              n2(u2, this, t3);
            else {
              var f2 = u2.length, h2 = p(u2, f2);
              for (r3 = 0; r3 < f2; ++r3)
                n2(h2[r3], this, t3);
            }
            return true;
          }, o.prototype.addListener = function(e3, t3) {
            return f(this, e3, t3, false);
          }, o.prototype.on = o.prototype.addListener, o.prototype.prependListener = function(e3, t3) {
            return f(this, e3, t3, true);
          }, o.prototype.once = function(e3, t3) {
            return a(t3), this.on(e3, l(this, e3, t3)), this;
          }, o.prototype.prependOnceListener = function(e3, t3) {
            return a(t3), this.prependListener(e3, l(this, e3, t3)), this;
          }, o.prototype.removeListener = function(e3, t3) {
            var r3, n3, i2, o2, s2;
            if (a(t3), (n3 = this._events) === void 0)
              return this;
            if ((r3 = n3[e3]) === void 0)
              return this;
            if (r3 === t3 || r3.listener === t3)
              --this._eventsCount == 0 ? this._events = Object.create(null) : (delete n3[e3], n3.removeListener && this.emit("removeListener", e3, r3.listener || t3));
            else if (typeof r3 != "function") {
              for (i2 = -1, o2 = r3.length - 1; o2 >= 0; o2--)
                if (r3[o2] === t3 || r3[o2].listener === t3) {
                  s2 = r3[o2].listener, i2 = o2;
                  break;
                }
              if (i2 < 0)
                return this;
              i2 === 0 ? r3.shift() : function(e4, t4) {
                for (; t4 + 1 < e4.length; t4++)
                  e4[t4] = e4[t4 + 1];
                e4.pop();
              }(r3, i2), r3.length === 1 && (n3[e3] = r3[0]), n3.removeListener !== void 0 && this.emit("removeListener", e3, s2 || t3);
            }
            return this;
          }, o.prototype.off = o.prototype.removeListener, o.prototype.removeAllListeners = function(e3) {
            var t3, r3, n3;
            if ((r3 = this._events) === void 0)
              return this;
            if (r3.removeListener === void 0)
              return arguments.length === 0 ? (this._events = Object.create(null), this._eventsCount = 0) : r3[e3] !== void 0 && (--this._eventsCount == 0 ? this._events = Object.create(null) : delete r3[e3]), this;
            if (arguments.length === 0) {
              var i2, o2 = Object.keys(r3);
              for (n3 = 0; n3 < o2.length; ++n3)
                (i2 = o2[n3]) !== "removeListener" && this.removeAllListeners(i2);
              return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this;
            }
            if (typeof (t3 = r3[e3]) == "function")
              this.removeListener(e3, t3);
            else if (t3 !== void 0)
              for (n3 = t3.length - 1; n3 >= 0; n3--)
                this.removeListener(e3, t3[n3]);
            return this;
          }, o.prototype.listeners = function(e3) {
            return c(this, e3, true);
          }, o.prototype.rawListeners = function(e3) {
            return c(this, e3, false);
          }, o.listenerCount = function(e3, t3) {
            return typeof e3.listenerCount == "function" ? e3.listenerCount(t3) : d.call(e3, t3);
          }, o.prototype.listenerCount = d, o.prototype.eventNames = function() {
            return this._eventsCount > 0 ? t2(this._events) : [];
          };
        }, 645: (e2, t2) => {
          t2.read = function(e3, t3, r2, n2, i) {
            var o, s, a = 8 * i - n2 - 1, u = (1 << a) - 1, f = u >> 1, h = -7, l = r2 ? i - 1 : 0, c = r2 ? -1 : 1, d = e3[t3 + l];
            for (l += c, o = d & (1 << -h) - 1, d >>= -h, h += a; h > 0; o = 256 * o + e3[t3 + l], l += c, h -= 8)
              ;
            for (s = o & (1 << -h) - 1, o >>= -h, h += n2; h > 0; s = 256 * s + e3[t3 + l], l += c, h -= 8)
              ;
            if (o === 0)
              o = 1 - f;
            else {
              if (o === u)
                return s ? NaN : 1 / 0 * (d ? -1 : 1);
              s += Math.pow(2, n2), o -= f;
            }
            return (d ? -1 : 1) * s * Math.pow(2, o - n2);
          }, t2.write = function(e3, t3, r2, n2, i, o) {
            var s, a, u, f = 8 * o - i - 1, h = (1 << f) - 1, l = h >> 1, c = i === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, d = n2 ? 0 : o - 1, p = n2 ? 1 : -1, g = t3 < 0 || t3 === 0 && 1 / t3 < 0 ? 1 : 0;
            for (t3 = Math.abs(t3), isNaN(t3) || t3 === 1 / 0 ? (a = isNaN(t3) ? 1 : 0, s = h) : (s = Math.floor(Math.log(t3) / Math.LN2), t3 * (u = Math.pow(2, -s)) < 1 && (s--, u *= 2), (t3 += s + l >= 1 ? c / u : c * Math.pow(2, 1 - l)) * u >= 2 && (s++, u /= 2), s + l >= h ? (a = 0, s = h) : s + l >= 1 ? (a = (t3 * u - 1) * Math.pow(2, i), s += l) : (a = t3 * Math.pow(2, l - 1) * Math.pow(2, i), s = 0)); i >= 8; e3[r2 + d] = 255 & a, d += p, a /= 256, i -= 8)
              ;
            for (s = s << i | a, f += i; f > 0; e3[r2 + d] = 255 & s, d += p, s /= 256, f -= 8)
              ;
            e3[r2 + d - p] |= 128 * g;
          };
        }, 717: (e2) => {
          typeof Object.create == "function" ? e2.exports = function(e3, t2) {
            t2 && (e3.super_ = t2, e3.prototype = Object.create(t2.prototype, { constructor: { value: e3, enumerable: false, writable: true, configurable: true } }));
          } : e2.exports = function(e3, t2) {
            if (t2) {
              e3.super_ = t2;
              var r2 = function() {
              };
              r2.prototype = t2.prototype, e3.prototype = new r2(), e3.prototype.constructor = e3;
            }
          };
        }, 155: (e2) => {
          var t2, r2, n2 = e2.exports = {};
          function i() {
            throw new Error("setTimeout has not been defined");
          }
          function o() {
            throw new Error("clearTimeout has not been defined");
          }
          function s(e3) {
            if (t2 === setTimeout)
              return setTimeout(e3, 0);
            if ((t2 === i || !t2) && setTimeout)
              return t2 = setTimeout, setTimeout(e3, 0);
            try {
              return t2(e3, 0);
            } catch (r3) {
              try {
                return t2.call(null, e3, 0);
              } catch (r4) {
                return t2.call(this, e3, 0);
              }
            }
          }
          !function() {
            try {
              t2 = typeof setTimeout == "function" ? setTimeout : i;
            } catch (e3) {
              t2 = i;
            }
            try {
              r2 = typeof clearTimeout == "function" ? clearTimeout : o;
            } catch (e3) {
              r2 = o;
            }
          }();
          var a, u = [], f = false, h = -1;
          function l() {
            f && a && (f = false, a.length ? u = a.concat(u) : h = -1, u.length && c());
          }
          function c() {
            if (!f) {
              var e3 = s(l);
              f = true;
              for (var t3 = u.length; t3; ) {
                for (a = u, u = []; ++h < t3; )
                  a && a[h].run();
                h = -1, t3 = u.length;
              }
              a = null, f = false, function(e4) {
                if (r2 === clearTimeout)
                  return clearTimeout(e4);
                if ((r2 === o || !r2) && clearTimeout)
                  return r2 = clearTimeout, clearTimeout(e4);
                try {
                  r2(e4);
                } catch (t4) {
                  try {
                    return r2.call(null, e4);
                  } catch (t5) {
                    return r2.call(this, e4);
                  }
                }
              }(e3);
            }
          }
          function d(e3, t3) {
            this.fun = e3, this.array = t3;
          }
          function p() {
          }
          n2.nextTick = function(e3) {
            var t3 = new Array(arguments.length - 1);
            if (arguments.length > 1)
              for (var r3 = 1; r3 < arguments.length; r3++)
                t3[r3 - 1] = arguments[r3];
            u.push(new d(e3, t3)), u.length !== 1 || f || s(c);
          }, d.prototype.run = function() {
            this.fun.apply(null, this.array);
          }, n2.title = "browser", n2.browser = true, n2.env = {}, n2.argv = [], n2.version = "", n2.versions = {}, n2.on = p, n2.addListener = p, n2.once = p, n2.off = p, n2.removeListener = p, n2.removeAllListeners = p, n2.emit = p, n2.prependListener = p, n2.prependOnceListener = p, n2.listeners = function(e3) {
            return [];
          }, n2.binding = function(e3) {
            throw new Error("process.binding is not supported");
          }, n2.cwd = function() {
            return "/";
          }, n2.chdir = function(e3) {
            throw new Error("process.chdir is not supported");
          }, n2.umask = function() {
            return 0;
          };
        }, 281: (e2) => {
          "use strict";
          var t2 = {};
          function r2(e3, r3, n3) {
            n3 || (n3 = Error);
            var i = function(e4) {
              var t3, n4;
              function i2(t4, n5, i3) {
                return e4.call(this, function(e5, t5, n6) {
                  return typeof r3 == "string" ? r3 : r3(e5, t5, n6);
                }(t4, n5, i3)) || this;
              }
              return n4 = e4, (t3 = i2).prototype = Object.create(n4.prototype), t3.prototype.constructor = t3, t3.__proto__ = n4, i2;
            }(n3);
            i.prototype.name = n3.name, i.prototype.code = e3, t2[e3] = i;
          }
          function n2(e3, t3) {
            if (Array.isArray(e3)) {
              var r3 = e3.length;
              return e3 = e3.map(function(e4) {
                return String(e4);
              }), r3 > 2 ? "one of ".concat(t3, " ").concat(e3.slice(0, r3 - 1).join(", "), ", or ") + e3[r3 - 1] : r3 === 2 ? "one of ".concat(t3, " ").concat(e3[0], " or ").concat(e3[1]) : "of ".concat(t3, " ").concat(e3[0]);
            }
            return "of ".concat(t3, " ").concat(String(e3));
          }
          r2("ERR_INVALID_OPT_VALUE", function(e3, t3) {
            return 'The value "' + t3 + '" is invalid for option "' + e3 + '"';
          }, TypeError), r2("ERR_INVALID_ARG_TYPE", function(e3, t3, r3) {
            var i, o, s, a, u;
            if (typeof t3 == "string" && (o = "not ", t3.substr(0, o.length) === o) ? (i = "must not be", t3 = t3.replace(/^not /, "")) : i = "must be", function(e4, t4, r4) {
              return (r4 === void 0 || r4 > e4.length) && (r4 = e4.length), e4.substring(r4 - t4.length, r4) === t4;
            }(e3, " argument"))
              s = "The ".concat(e3, " ").concat(i, " ").concat(n2(t3, "type"));
            else {
              var f = (typeof u != "number" && (u = 0), u + ".".length > (a = e3).length || a.indexOf(".", u) === -1 ? "argument" : "property");
              s = 'The "'.concat(e3, '" ').concat(f, " ").concat(i, " ").concat(n2(t3, "type"));
            }
            return s + ". Received type ".concat(typeof r3);
          }, TypeError), r2("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), r2("ERR_METHOD_NOT_IMPLEMENTED", function(e3) {
            return "The " + e3 + " method is not implemented";
          }), r2("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), r2("ERR_STREAM_DESTROYED", function(e3) {
            return "Cannot call " + e3 + " after a stream was destroyed";
          }), r2("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), r2("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), r2("ERR_STREAM_WRITE_AFTER_END", "write after end"), r2("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), r2("ERR_UNKNOWN_ENCODING", function(e3) {
            return "Unknown encoding: " + e3;
          }, TypeError), r2("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), e2.exports.q = t2;
        }, 753: (e2, t2, r2) => {
          "use strict";
          var n2 = r2(155), i = Object.keys || function(e3) {
            var t3 = [];
            for (var r3 in e3)
              t3.push(r3);
            return t3;
          };
          e2.exports = h;
          var o = r2(481), s = r2(229);
          r2(717)(h, o);
          for (var a = i(s.prototype), u = 0; u < a.length; u++) {
            var f = a[u];
            h.prototype[f] || (h.prototype[f] = s.prototype[f]);
          }
          function h(e3) {
            if (!(this instanceof h))
              return new h(e3);
            o.call(this, e3), s.call(this, e3), this.allowHalfOpen = true, e3 && (e3.readable === false && (this.readable = false), e3.writable === false && (this.writable = false), e3.allowHalfOpen === false && (this.allowHalfOpen = false, this.once("end", l)));
          }
          function l() {
            this._writableState.ended || n2.nextTick(c, this);
          }
          function c(e3) {
            e3.end();
          }
          Object.defineProperty(h.prototype, "writableHighWaterMark", { enumerable: false, get: function() {
            return this._writableState.highWaterMark;
          } }), Object.defineProperty(h.prototype, "writableBuffer", { enumerable: false, get: function() {
            return this._writableState && this._writableState.getBuffer();
          } }), Object.defineProperty(h.prototype, "writableLength", { enumerable: false, get: function() {
            return this._writableState.length;
          } }), Object.defineProperty(h.prototype, "destroyed", { enumerable: false, get: function() {
            return this._readableState !== void 0 && this._writableState !== void 0 && this._readableState.destroyed && this._writableState.destroyed;
          }, set: function(e3) {
            this._readableState !== void 0 && this._writableState !== void 0 && (this._readableState.destroyed = e3, this._writableState.destroyed = e3);
          } });
        }, 725: (e2, t2, r2) => {
          "use strict";
          e2.exports = i;
          var n2 = r2(605);
          function i(e3) {
            if (!(this instanceof i))
              return new i(e3);
            n2.call(this, e3);
          }
          r2(717)(i, n2), i.prototype._transform = function(e3, t3, r3) {
            r3(null, e3);
          };
        }, 481: (e2, t2, r2) => {
          "use strict";
          var n2, i = r2(155);
          e2.exports = I, I.ReadableState = T, r2(187).EventEmitter;
          var o, s = function(e3, t3) {
            return e3.listeners(t3).length;
          }, a = r2(503), u = r2(764).Buffer, f = r2.g.Uint8Array || function() {
          }, h = r2(616);
          o = h && h.debuglog ? h.debuglog("stream") : function() {
          };
          var l, c, d, p = r2(327), g = r2(195), y = r2(457).getHighWaterMark, b = r2(281).q, w = b.ERR_INVALID_ARG_TYPE, _ = b.ERR_STREAM_PUSH_AFTER_EOF, m = b.ERR_METHOD_NOT_IMPLEMENTED, E = b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;
          r2(717)(I, a);
          var v = g.errorOrDestroy, S = ["error", "close", "destroy", "pause", "resume"];
          function T(e3, t3, i2) {
            n2 = n2 || r2(753), e3 = e3 || {}, typeof i2 != "boolean" && (i2 = t3 instanceof n2), this.objectMode = !!e3.objectMode, i2 && (this.objectMode = this.objectMode || !!e3.readableObjectMode), this.highWaterMark = y(this, e3, "readableHighWaterMark", i2), this.buffer = new p(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = false, this.endEmitted = false, this.reading = false, this.sync = true, this.needReadable = false, this.emittedReadable = false, this.readableListening = false, this.resumeScheduled = false, this.paused = true, this.emitClose = e3.emitClose !== false, this.autoDestroy = !!e3.autoDestroy, this.destroyed = false, this.defaultEncoding = e3.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = false, this.decoder = null, this.encoding = null, e3.encoding && (l || (l = r2(553).s), this.decoder = new l(e3.encoding), this.encoding = e3.encoding);
          }
          function I(e3) {
            if (n2 = n2 || r2(753), !(this instanceof I))
              return new I(e3);
            var t3 = this instanceof n2;
            this._readableState = new T(e3, this, t3), this.readable = true, e3 && (typeof e3.read == "function" && (this._read = e3.read), typeof e3.destroy == "function" && (this._destroy = e3.destroy)), a.call(this);
          }
          function A(e3, t3, r3, n3, i2) {
            o("readableAddChunk", t3);
            var s2, a2 = e3._readableState;
            if (t3 === null)
              a2.reading = false, function(e4, t4) {
                if (o("onEofChunk"), !t4.ended) {
                  if (t4.decoder) {
                    var r4 = t4.decoder.end();
                    r4 && r4.length && (t4.buffer.push(r4), t4.length += t4.objectMode ? 1 : r4.length);
                  }
                  t4.ended = true, t4.sync ? L(e4) : (t4.needReadable = false, t4.emittedReadable || (t4.emittedReadable = true, N(e4)));
                }
              }(e3, a2);
            else if (i2 || (s2 = function(e4, t4) {
              var r4, n4;
              return n4 = t4, u.isBuffer(n4) || n4 instanceof f || typeof t4 == "string" || t4 === void 0 || e4.objectMode || (r4 = new w("chunk", ["string", "Buffer", "Uint8Array"], t4)), r4;
            }(a2, t3)), s2)
              v(e3, s2);
            else if (a2.objectMode || t3 && t3.length > 0)
              if (typeof t3 == "string" || a2.objectMode || Object.getPrototypeOf(t3) === u.prototype || (t3 = function(e4) {
                return u.from(e4);
              }(t3)), n3)
                a2.endEmitted ? v(e3, new E()) : B(e3, a2, t3, true);
              else if (a2.ended)
                v(e3, new _());
              else {
                if (a2.destroyed)
                  return false;
                a2.reading = false, a2.decoder && !r3 ? (t3 = a2.decoder.write(t3), a2.objectMode || t3.length !== 0 ? B(e3, a2, t3, false) : M(e3, a2)) : B(e3, a2, t3, false);
              }
            else
              n3 || (a2.reading = false, M(e3, a2));
            return !a2.ended && (a2.length < a2.highWaterMark || a2.length === 0);
          }
          function B(e3, t3, r3, n3) {
            t3.flowing && t3.length === 0 && !t3.sync ? (t3.awaitDrain = 0, e3.emit("data", r3)) : (t3.length += t3.objectMode ? 1 : r3.length, n3 ? t3.buffer.unshift(r3) : t3.buffer.push(r3), t3.needReadable && L(e3)), M(e3, t3);
          }
          Object.defineProperty(I.prototype, "destroyed", { enumerable: false, get: function() {
            return this._readableState !== void 0 && this._readableState.destroyed;
          }, set: function(e3) {
            this._readableState && (this._readableState.destroyed = e3);
          } }), I.prototype.destroy = g.destroy, I.prototype._undestroy = g.undestroy, I.prototype._destroy = function(e3, t3) {
            t3(e3);
          }, I.prototype.push = function(e3, t3) {
            var r3, n3 = this._readableState;
            return n3.objectMode ? r3 = true : typeof e3 == "string" && ((t3 = t3 || n3.defaultEncoding) !== n3.encoding && (e3 = u.from(e3, t3), t3 = ""), r3 = true), A(this, e3, t3, false, r3);
          }, I.prototype.unshift = function(e3) {
            return A(this, e3, null, true, false);
          }, I.prototype.isPaused = function() {
            return this._readableState.flowing === false;
          }, I.prototype.setEncoding = function(e3) {
            l || (l = r2(553).s);
            var t3 = new l(e3);
            this._readableState.decoder = t3, this._readableState.encoding = this._readableState.decoder.encoding;
            for (var n3 = this._readableState.buffer.head, i2 = ""; n3 !== null; )
              i2 += t3.write(n3.data), n3 = n3.next;
            return this._readableState.buffer.clear(), i2 !== "" && this._readableState.buffer.push(i2), this._readableState.length = i2.length, this;
          };
          var R = 1073741824;
          function U(e3, t3) {
            return e3 <= 0 || t3.length === 0 && t3.ended ? 0 : t3.objectMode ? 1 : e3 != e3 ? t3.flowing && t3.length ? t3.buffer.head.data.length : t3.length : (e3 > t3.highWaterMark && (t3.highWaterMark = function(e4) {
              return e4 >= R ? e4 = R : (e4--, e4 |= e4 >>> 1, e4 |= e4 >>> 2, e4 |= e4 >>> 4, e4 |= e4 >>> 8, e4 |= e4 >>> 16, e4++), e4;
            }(e3)), e3 <= t3.length ? e3 : t3.ended ? t3.length : (t3.needReadable = true, 0));
          }
          function L(e3) {
            var t3 = e3._readableState;
            o("emitReadable", t3.needReadable, t3.emittedReadable), t3.needReadable = false, t3.emittedReadable || (o("emitReadable", t3.flowing), t3.emittedReadable = true, i.nextTick(N, e3));
          }
          function N(e3) {
            var t3 = e3._readableState;
            o("emitReadable_", t3.destroyed, t3.length, t3.ended), t3.destroyed || !t3.length && !t3.ended || (e3.emit("readable"), t3.emittedReadable = false), t3.needReadable = !t3.flowing && !t3.ended && t3.length <= t3.highWaterMark, j(e3);
          }
          function M(e3, t3) {
            t3.readingMore || (t3.readingMore = true, i.nextTick(O, e3, t3));
          }
          function O(e3, t3) {
            for (; !t3.reading && !t3.ended && (t3.length < t3.highWaterMark || t3.flowing && t3.length === 0); ) {
              var r3 = t3.length;
              if (o("maybeReadMore read 0"), e3.read(0), r3 === t3.length)
                break;
            }
            t3.readingMore = false;
          }
          function x(e3) {
            var t3 = e3._readableState;
            t3.readableListening = e3.listenerCount("readable") > 0, t3.resumeScheduled && !t3.paused ? t3.flowing = true : e3.listenerCount("data") > 0 && e3.resume();
          }
          function k(e3) {
            o("readable nexttick read 0"), e3.read(0);
          }
          function P(e3, t3) {
            o("resume", t3.reading), t3.reading || e3.read(0), t3.resumeScheduled = false, e3.emit("resume"), j(e3), t3.flowing && !t3.reading && e3.read(0);
          }
          function j(e3) {
            var t3 = e3._readableState;
            for (o("flow", t3.flowing); t3.flowing && e3.read() !== null; )
              ;
          }
          function C(e3, t3) {
            return t3.length === 0 ? null : (t3.objectMode ? r3 = t3.buffer.shift() : !e3 || e3 >= t3.length ? (r3 = t3.decoder ? t3.buffer.join("") : t3.buffer.length === 1 ? t3.buffer.first() : t3.buffer.concat(t3.length), t3.buffer.clear()) : r3 = t3.buffer.consume(e3, t3.decoder), r3);
            var r3;
          }
          function F(e3) {
            var t3 = e3._readableState;
            o("endReadable", t3.endEmitted), t3.endEmitted || (t3.ended = true, i.nextTick(D, t3, e3));
          }
          function D(e3, t3) {
            if (o("endReadableNT", e3.endEmitted, e3.length), !e3.endEmitted && e3.length === 0 && (e3.endEmitted = true, t3.readable = false, t3.emit("end"), e3.autoDestroy)) {
              var r3 = t3._writableState;
              (!r3 || r3.autoDestroy && r3.finished) && t3.destroy();
            }
          }
          function $(e3, t3) {
            for (var r3 = 0, n3 = e3.length; r3 < n3; r3++)
              if (e3[r3] === t3)
                return r3;
            return -1;
          }
          I.prototype.read = function(e3) {
            o("read", e3), e3 = parseInt(e3, 10);
            var t3 = this._readableState, r3 = e3;
            if (e3 !== 0 && (t3.emittedReadable = false), e3 === 0 && t3.needReadable && ((t3.highWaterMark !== 0 ? t3.length >= t3.highWaterMark : t3.length > 0) || t3.ended))
              return o("read: emitReadable", t3.length, t3.ended), t3.length === 0 && t3.ended ? F(this) : L(this), null;
            if ((e3 = U(e3, t3)) === 0 && t3.ended)
              return t3.length === 0 && F(this), null;
            var n3, i2 = t3.needReadable;
            return o("need readable", i2), (t3.length === 0 || t3.length - e3 < t3.highWaterMark) && o("length less than watermark", i2 = true), t3.ended || t3.reading ? o("reading or ended", i2 = false) : i2 && (o("do read"), t3.reading = true, t3.sync = true, t3.length === 0 && (t3.needReadable = true), this._read(t3.highWaterMark), t3.sync = false, t3.reading || (e3 = U(r3, t3))), (n3 = e3 > 0 ? C(e3, t3) : null) === null ? (t3.needReadable = t3.length <= t3.highWaterMark, e3 = 0) : (t3.length -= e3, t3.awaitDrain = 0), t3.length === 0 && (t3.ended || (t3.needReadable = true), r3 !== e3 && t3.ended && F(this)), n3 !== null && this.emit("data", n3), n3;
          }, I.prototype._read = function(e3) {
            v(this, new m("_read()"));
          }, I.prototype.pipe = function(e3, t3) {
            var r3 = this, n3 = this._readableState;
            switch (n3.pipesCount) {
              case 0:
                n3.pipes = e3;
                break;
              case 1:
                n3.pipes = [n3.pipes, e3];
                break;
              default:
                n3.pipes.push(e3);
            }
            n3.pipesCount += 1, o("pipe count=%d opts=%j", n3.pipesCount, t3);
            var a2 = t3 && t3.end === false || e3 === i.stdout || e3 === i.stderr ? g2 : u2;
            function u2() {
              o("onend"), e3.end();
            }
            n3.endEmitted ? i.nextTick(a2) : r3.once("end", a2), e3.on("unpipe", function t4(i2, s2) {
              o("onunpipe"), i2 === r3 && s2 && s2.hasUnpiped === false && (s2.hasUnpiped = true, o("cleanup"), e3.removeListener("close", d2), e3.removeListener("finish", p2), e3.removeListener("drain", f2), e3.removeListener("error", c2), e3.removeListener("unpipe", t4), r3.removeListener("end", u2), r3.removeListener("end", g2), r3.removeListener("data", l2), h2 = true, !n3.awaitDrain || e3._writableState && !e3._writableState.needDrain || f2());
            });
            var f2 = function(e4) {
              return function() {
                var t4 = e4._readableState;
                o("pipeOnDrain", t4.awaitDrain), t4.awaitDrain && t4.awaitDrain--, t4.awaitDrain === 0 && s(e4, "data") && (t4.flowing = true, j(e4));
              };
            }(r3);
            e3.on("drain", f2);
            var h2 = false;
            function l2(t4) {
              o("ondata");
              var i2 = e3.write(t4);
              o("dest.write", i2), i2 === false && ((n3.pipesCount === 1 && n3.pipes === e3 || n3.pipesCount > 1 && $(n3.pipes, e3) !== -1) && !h2 && (o("false write response, pause", n3.awaitDrain), n3.awaitDrain++), r3.pause());
            }
            function c2(t4) {
              o("onerror", t4), g2(), e3.removeListener("error", c2), s(e3, "error") === 0 && v(e3, t4);
            }
            function d2() {
              e3.removeListener("finish", p2), g2();
            }
            function p2() {
              o("onfinish"), e3.removeListener("close", d2), g2();
            }
            function g2() {
              o("unpipe"), r3.unpipe(e3);
            }
            return r3.on("data", l2), function(e4, t4, r4) {
              if (typeof e4.prependListener == "function")
                return e4.prependListener(t4, r4);
              e4._events && e4._events.error ? Array.isArray(e4._events.error) ? e4._events.error.unshift(r4) : e4._events.error = [r4, e4._events.error] : e4.on(t4, r4);
            }(e3, "error", c2), e3.once("close", d2), e3.once("finish", p2), e3.emit("pipe", r3), n3.flowing || (o("pipe resume"), r3.resume()), e3;
          }, I.prototype.unpipe = function(e3) {
            var t3 = this._readableState, r3 = { hasUnpiped: false };
            if (t3.pipesCount === 0)
              return this;
            if (t3.pipesCount === 1)
              return e3 && e3 !== t3.pipes || (e3 || (e3 = t3.pipes), t3.pipes = null, t3.pipesCount = 0, t3.flowing = false, e3 && e3.emit("unpipe", this, r3)), this;
            if (!e3) {
              var n3 = t3.pipes, i2 = t3.pipesCount;
              t3.pipes = null, t3.pipesCount = 0, t3.flowing = false;
              for (var o2 = 0; o2 < i2; o2++)
                n3[o2].emit("unpipe", this, { hasUnpiped: false });
              return this;
            }
            var s2 = $(t3.pipes, e3);
            return s2 === -1 || (t3.pipes.splice(s2, 1), t3.pipesCount -= 1, t3.pipesCount === 1 && (t3.pipes = t3.pipes[0]), e3.emit("unpipe", this, r3)), this;
          }, I.prototype.on = function(e3, t3) {
            var r3 = a.prototype.on.call(this, e3, t3), n3 = this._readableState;
            return e3 === "data" ? (n3.readableListening = this.listenerCount("readable") > 0, n3.flowing !== false && this.resume()) : e3 === "readable" && (n3.endEmitted || n3.readableListening || (n3.readableListening = n3.needReadable = true, n3.flowing = false, n3.emittedReadable = false, o("on readable", n3.length, n3.reading), n3.length ? L(this) : n3.reading || i.nextTick(k, this))), r3;
          }, I.prototype.addListener = I.prototype.on, I.prototype.removeListener = function(e3, t3) {
            var r3 = a.prototype.removeListener.call(this, e3, t3);
            return e3 === "readable" && i.nextTick(x, this), r3;
          }, I.prototype.removeAllListeners = function(e3) {
            var t3 = a.prototype.removeAllListeners.apply(this, arguments);
            return e3 !== "readable" && e3 !== void 0 || i.nextTick(x, this), t3;
          }, I.prototype.resume = function() {
            var e3 = this._readableState;
            return e3.flowing || (o("resume"), e3.flowing = !e3.readableListening, function(e4, t3) {
              t3.resumeScheduled || (t3.resumeScheduled = true, i.nextTick(P, e4, t3));
            }(this, e3)), e3.paused = false, this;
          }, I.prototype.pause = function() {
            return o("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== false && (o("pause"), this._readableState.flowing = false, this.emit("pause")), this._readableState.paused = true, this;
          }, I.prototype.wrap = function(e3) {
            var t3 = this, r3 = this._readableState, n3 = false;
            for (var i2 in e3.on("end", function() {
              if (o("wrapped end"), r3.decoder && !r3.ended) {
                var e4 = r3.decoder.end();
                e4 && e4.length && t3.push(e4);
              }
              t3.push(null);
            }), e3.on("data", function(i3) {
              o("wrapped data"), r3.decoder && (i3 = r3.decoder.write(i3)), r3.objectMode && i3 == null || (r3.objectMode || i3 && i3.length) && (t3.push(i3) || (n3 = true, e3.pause()));
            }), e3)
              this[i2] === void 0 && typeof e3[i2] == "function" && (this[i2] = function(t4) {
                return function() {
                  return e3[t4].apply(e3, arguments);
                };
              }(i2));
            for (var s2 = 0; s2 < S.length; s2++)
              e3.on(S[s2], this.emit.bind(this, S[s2]));
            return this._read = function(t4) {
              o("wrapped _read", t4), n3 && (n3 = false, e3.resume());
            }, this;
          }, typeof Symbol == "function" && (I.prototype[Symbol.asyncIterator] = function() {
            return c === void 0 && (c = r2(850)), c(this);
          }), Object.defineProperty(I.prototype, "readableHighWaterMark", { enumerable: false, get: function() {
            return this._readableState.highWaterMark;
          } }), Object.defineProperty(I.prototype, "readableBuffer", { enumerable: false, get: function() {
            return this._readableState && this._readableState.buffer;
          } }), Object.defineProperty(I.prototype, "readableFlowing", { enumerable: false, get: function() {
            return this._readableState.flowing;
          }, set: function(e3) {
            this._readableState && (this._readableState.flowing = e3);
          } }), I._fromList = C, Object.defineProperty(I.prototype, "readableLength", { enumerable: false, get: function() {
            return this._readableState.length;
          } }), typeof Symbol == "function" && (I.from = function(e3, t3) {
            return d === void 0 && (d = r2(167)), d(I, e3, t3);
          });
        }, 605: (e2, t2, r2) => {
          "use strict";
          e2.exports = h;
          var n2 = r2(281).q, i = n2.ERR_METHOD_NOT_IMPLEMENTED, o = n2.ERR_MULTIPLE_CALLBACK, s = n2.ERR_TRANSFORM_ALREADY_TRANSFORMING, a = n2.ERR_TRANSFORM_WITH_LENGTH_0, u = r2(753);
          function f(e3, t3) {
            var r3 = this._transformState;
            r3.transforming = false;
            var n3 = r3.writecb;
            if (n3 === null)
              return this.emit("error", new o());
            r3.writechunk = null, r3.writecb = null, t3 != null && this.push(t3), n3(e3);
            var i2 = this._readableState;
            i2.reading = false, (i2.needReadable || i2.length < i2.highWaterMark) && this._read(i2.highWaterMark);
          }
          function h(e3) {
            if (!(this instanceof h))
              return new h(e3);
            u.call(this, e3), this._transformState = { afterTransform: f.bind(this), needTransform: false, transforming: false, writecb: null, writechunk: null, writeencoding: null }, this._readableState.needReadable = true, this._readableState.sync = false, e3 && (typeof e3.transform == "function" && (this._transform = e3.transform), typeof e3.flush == "function" && (this._flush = e3.flush)), this.on("prefinish", l);
          }
          function l() {
            var e3 = this;
            typeof this._flush != "function" || this._readableState.destroyed ? c(this, null, null) : this._flush(function(t3, r3) {
              c(e3, t3, r3);
            });
          }
          function c(e3, t3, r3) {
            if (t3)
              return e3.emit("error", t3);
            if (r3 != null && e3.push(r3), e3._writableState.length)
              throw new a();
            if (e3._transformState.transforming)
              throw new s();
            return e3.push(null);
          }
          r2(717)(h, u), h.prototype.push = function(e3, t3) {
            return this._transformState.needTransform = false, u.prototype.push.call(this, e3, t3);
          }, h.prototype._transform = function(e3, t3, r3) {
            r3(new i("_transform()"));
          }, h.prototype._write = function(e3, t3, r3) {
            var n3 = this._transformState;
            if (n3.writecb = r3, n3.writechunk = e3, n3.writeencoding = t3, !n3.transforming) {
              var i2 = this._readableState;
              (n3.needTransform || i2.needReadable || i2.length < i2.highWaterMark) && this._read(i2.highWaterMark);
            }
          }, h.prototype._read = function(e3) {
            var t3 = this._transformState;
            t3.writechunk === null || t3.transforming ? t3.needTransform = true : (t3.transforming = true, this._transform(t3.writechunk, t3.writeencoding, t3.afterTransform));
          }, h.prototype._destroy = function(e3, t3) {
            u.prototype._destroy.call(this, e3, function(e4) {
              t3(e4);
            });
          };
        }, 229: (e2, t2, r2) => {
          "use strict";
          var n2, i = r2(155);
          function o(e3) {
            var t3 = this;
            this.next = null, this.entry = null, this.finish = function() {
              !function(e4, t4, r3) {
                var n3 = e4.entry;
                for (e4.entry = null; n3; ) {
                  var i2 = n3.callback;
                  t4.pendingcb--, i2(void 0), n3 = n3.next;
                }
                t4.corkedRequestsFree.next = e4;
              }(t3, e3);
            };
          }
          e2.exports = I, I.WritableState = T;
          var s, a = { deprecate: r2(927) }, u = r2(503), f = r2(764).Buffer, h = r2.g.Uint8Array || function() {
          }, l = r2(195), c = r2(457).getHighWaterMark, d = r2(281).q, p = d.ERR_INVALID_ARG_TYPE, g = d.ERR_METHOD_NOT_IMPLEMENTED, y = d.ERR_MULTIPLE_CALLBACK, b = d.ERR_STREAM_CANNOT_PIPE, w = d.ERR_STREAM_DESTROYED, _ = d.ERR_STREAM_NULL_VALUES, m = d.ERR_STREAM_WRITE_AFTER_END, E = d.ERR_UNKNOWN_ENCODING, v = l.errorOrDestroy;
          function S() {
          }
          function T(e3, t3, s2) {
            n2 = n2 || r2(753), e3 = e3 || {}, typeof s2 != "boolean" && (s2 = t3 instanceof n2), this.objectMode = !!e3.objectMode, s2 && (this.objectMode = this.objectMode || !!e3.writableObjectMode), this.highWaterMark = c(this, e3, "writableHighWaterMark", s2), this.finalCalled = false, this.needDrain = false, this.ending = false, this.ended = false, this.finished = false, this.destroyed = false;
            var a2 = e3.decodeStrings === false;
            this.decodeStrings = !a2, this.defaultEncoding = e3.defaultEncoding || "utf8", this.length = 0, this.writing = false, this.corked = 0, this.sync = true, this.bufferProcessing = false, this.onwrite = function(e4) {
              !function(e5, t4) {
                var r3 = e5._writableState, n3 = r3.sync, o2 = r3.writecb;
                if (typeof o2 != "function")
                  throw new y();
                if (function(e6) {
                  e6.writing = false, e6.writecb = null, e6.length -= e6.writelen, e6.writelen = 0;
                }(r3), t4)
                  !function(e6, t5, r4, n4, o3) {
                    --t5.pendingcb, r4 ? (i.nextTick(o3, n4), i.nextTick(N, e6, t5), e6._writableState.errorEmitted = true, v(e6, n4)) : (o3(n4), e6._writableState.errorEmitted = true, v(e6, n4), N(e6, t5));
                  }(e5, r3, n3, t4, o2);
                else {
                  var s3 = U(r3) || e5.destroyed;
                  s3 || r3.corked || r3.bufferProcessing || !r3.bufferedRequest || R(e5, r3), n3 ? i.nextTick(B, e5, r3, s3, o2) : B(e5, r3, s3, o2);
                }
              }(t3, e4);
            }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = false, this.errorEmitted = false, this.emitClose = e3.emitClose !== false, this.autoDestroy = !!e3.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new o(this);
          }
          function I(e3) {
            var t3 = this instanceof (n2 = n2 || r2(753));
            if (!t3 && !s.call(I, this))
              return new I(e3);
            this._writableState = new T(e3, this, t3), this.writable = true, e3 && (typeof e3.write == "function" && (this._write = e3.write), typeof e3.writev == "function" && (this._writev = e3.writev), typeof e3.destroy == "function" && (this._destroy = e3.destroy), typeof e3.final == "function" && (this._final = e3.final)), u.call(this);
          }
          function A(e3, t3, r3, n3, i2, o2, s2) {
            t3.writelen = n3, t3.writecb = s2, t3.writing = true, t3.sync = true, t3.destroyed ? t3.onwrite(new w("write")) : r3 ? e3._writev(i2, t3.onwrite) : e3._write(i2, o2, t3.onwrite), t3.sync = false;
          }
          function B(e3, t3, r3, n3) {
            r3 || function(e4, t4) {
              t4.length === 0 && t4.needDrain && (t4.needDrain = false, e4.emit("drain"));
            }(e3, t3), t3.pendingcb--, n3(), N(e3, t3);
          }
          function R(e3, t3) {
            t3.bufferProcessing = true;
            var r3 = t3.bufferedRequest;
            if (e3._writev && r3 && r3.next) {
              var n3 = t3.bufferedRequestCount, i2 = new Array(n3), s2 = t3.corkedRequestsFree;
              s2.entry = r3;
              for (var a2 = 0, u2 = true; r3; )
                i2[a2] = r3, r3.isBuf || (u2 = false), r3 = r3.next, a2 += 1;
              i2.allBuffers = u2, A(e3, t3, true, t3.length, i2, "", s2.finish), t3.pendingcb++, t3.lastBufferedRequest = null, s2.next ? (t3.corkedRequestsFree = s2.next, s2.next = null) : t3.corkedRequestsFree = new o(t3), t3.bufferedRequestCount = 0;
            } else {
              for (; r3; ) {
                var f2 = r3.chunk, h2 = r3.encoding, l2 = r3.callback;
                if (A(e3, t3, false, t3.objectMode ? 1 : f2.length, f2, h2, l2), r3 = r3.next, t3.bufferedRequestCount--, t3.writing)
                  break;
              }
              r3 === null && (t3.lastBufferedRequest = null);
            }
            t3.bufferedRequest = r3, t3.bufferProcessing = false;
          }
          function U(e3) {
            return e3.ending && e3.length === 0 && e3.bufferedRequest === null && !e3.finished && !e3.writing;
          }
          function L(e3, t3) {
            e3._final(function(r3) {
              t3.pendingcb--, r3 && v(e3, r3), t3.prefinished = true, e3.emit("prefinish"), N(e3, t3);
            });
          }
          function N(e3, t3) {
            var r3 = U(t3);
            if (r3 && (function(e4, t4) {
              t4.prefinished || t4.finalCalled || (typeof e4._final != "function" || t4.destroyed ? (t4.prefinished = true, e4.emit("prefinish")) : (t4.pendingcb++, t4.finalCalled = true, i.nextTick(L, e4, t4)));
            }(e3, t3), t3.pendingcb === 0 && (t3.finished = true, e3.emit("finish"), t3.autoDestroy))) {
              var n3 = e3._readableState;
              (!n3 || n3.autoDestroy && n3.endEmitted) && e3.destroy();
            }
            return r3;
          }
          r2(717)(I, u), T.prototype.getBuffer = function() {
            for (var e3 = this.bufferedRequest, t3 = []; e3; )
              t3.push(e3), e3 = e3.next;
            return t3;
          }, function() {
            try {
              Object.defineProperty(T.prototype, "buffer", { get: a.deprecate(function() {
                return this.getBuffer();
              }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003") });
            } catch (e3) {
            }
          }(), typeof Symbol == "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] == "function" ? (s = Function.prototype[Symbol.hasInstance], Object.defineProperty(I, Symbol.hasInstance, { value: function(e3) {
            return !!s.call(this, e3) || this === I && e3 && e3._writableState instanceof T;
          } })) : s = function(e3) {
            return e3 instanceof this;
          }, I.prototype.pipe = function() {
            v(this, new b());
          }, I.prototype.write = function(e3, t3, r3) {
            var n3, o2 = this._writableState, s2 = false, a2 = !o2.objectMode && (n3 = e3, f.isBuffer(n3) || n3 instanceof h);
            return a2 && !f.isBuffer(e3) && (e3 = function(e4) {
              return f.from(e4);
            }(e3)), typeof t3 == "function" && (r3 = t3, t3 = null), a2 ? t3 = "buffer" : t3 || (t3 = o2.defaultEncoding), typeof r3 != "function" && (r3 = S), o2.ending ? function(e4, t4) {
              var r4 = new m();
              v(e4, r4), i.nextTick(t4, r4);
            }(this, r3) : (a2 || function(e4, t4, r4, n4) {
              var o3;
              return r4 === null ? o3 = new _() : typeof r4 == "string" || t4.objectMode || (o3 = new p("chunk", ["string", "Buffer"], r4)), !o3 || (v(e4, o3), i.nextTick(n4, o3), false);
            }(this, o2, e3, r3)) && (o2.pendingcb++, s2 = function(e4, t4, r4, n4, i2, o3) {
              if (!r4) {
                var s3 = function(e5, t5, r5) {
                  return e5.objectMode || e5.decodeStrings === false || typeof t5 != "string" || (t5 = f.from(t5, r5)), t5;
                }(t4, n4, i2);
                n4 !== s3 && (r4 = true, i2 = "buffer", n4 = s3);
              }
              var a3 = t4.objectMode ? 1 : n4.length;
              t4.length += a3;
              var u2 = t4.length < t4.highWaterMark;
              if (u2 || (t4.needDrain = true), t4.writing || t4.corked) {
                var h2 = t4.lastBufferedRequest;
                t4.lastBufferedRequest = { chunk: n4, encoding: i2, isBuf: r4, callback: o3, next: null }, h2 ? h2.next = t4.lastBufferedRequest : t4.bufferedRequest = t4.lastBufferedRequest, t4.bufferedRequestCount += 1;
              } else
                A(e4, t4, false, a3, n4, i2, o3);
              return u2;
            }(this, o2, a2, e3, t3, r3)), s2;
          }, I.prototype.cork = function() {
            this._writableState.corked++;
          }, I.prototype.uncork = function() {
            var e3 = this._writableState;
            e3.corked && (e3.corked--, e3.writing || e3.corked || e3.bufferProcessing || !e3.bufferedRequest || R(this, e3));
          }, I.prototype.setDefaultEncoding = function(e3) {
            if (typeof e3 == "string" && (e3 = e3.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e3 + "").toLowerCase()) > -1))
              throw new E(e3);
            return this._writableState.defaultEncoding = e3, this;
          }, Object.defineProperty(I.prototype, "writableBuffer", { enumerable: false, get: function() {
            return this._writableState && this._writableState.getBuffer();
          } }), Object.defineProperty(I.prototype, "writableHighWaterMark", { enumerable: false, get: function() {
            return this._writableState.highWaterMark;
          } }), I.prototype._write = function(e3, t3, r3) {
            r3(new g("_write()"));
          }, I.prototype._writev = null, I.prototype.end = function(e3, t3, r3) {
            var n3 = this._writableState;
            return typeof e3 == "function" ? (r3 = e3, e3 = null, t3 = null) : typeof t3 == "function" && (r3 = t3, t3 = null), e3 != null && this.write(e3, t3), n3.corked && (n3.corked = 1, this.uncork()), n3.ending || function(e4, t4, r4) {
              t4.ending = true, N(e4, t4), r4 && (t4.finished ? i.nextTick(r4) : e4.once("finish", r4)), t4.ended = true, e4.writable = false;
            }(this, n3, r3), this;
          }, Object.defineProperty(I.prototype, "writableLength", { enumerable: false, get: function() {
            return this._writableState.length;
          } }), Object.defineProperty(I.prototype, "destroyed", { enumerable: false, get: function() {
            return this._writableState !== void 0 && this._writableState.destroyed;
          }, set: function(e3) {
            this._writableState && (this._writableState.destroyed = e3);
          } }), I.prototype.destroy = l.destroy, I.prototype._undestroy = l.undestroy, I.prototype._destroy = function(e3, t3) {
            t3(e3);
          };
        }, 850: (e2, t2, r2) => {
          "use strict";
          var n2, i = r2(155);
          function o(e3, t3, r3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: r3, enumerable: true, configurable: true, writable: true }) : e3[t3] = r3, e3;
          }
          var s = r2(610), a = Symbol("lastResolve"), u = Symbol("lastReject"), f = Symbol("error"), h = Symbol("ended"), l = Symbol("lastPromise"), c = Symbol("handlePromise"), d = Symbol("stream");
          function p(e3, t3) {
            return { value: e3, done: t3 };
          }
          function g(e3) {
            var t3 = e3[a];
            if (t3 !== null) {
              var r3 = e3[d].read();
              r3 !== null && (e3[l] = null, e3[a] = null, e3[u] = null, t3(p(r3, false)));
            }
          }
          function y(e3) {
            i.nextTick(g, e3);
          }
          var b = Object.getPrototypeOf(function() {
          }), w = Object.setPrototypeOf((o(n2 = { get stream() {
            return this[d];
          }, next: function() {
            var e3 = this, t3 = this[f];
            if (t3 !== null)
              return Promise.reject(t3);
            if (this[h])
              return Promise.resolve(p(void 0, true));
            if (this[d].destroyed)
              return new Promise(function(t4, r4) {
                i.nextTick(function() {
                  e3[f] ? r4(e3[f]) : t4(p(void 0, true));
                });
              });
            var r3, n3 = this[l];
            if (n3)
              r3 = new Promise(function(e4, t4) {
                return function(r4, n4) {
                  e4.then(function() {
                    t4[h] ? r4(p(void 0, true)) : t4[c](r4, n4);
                  }, n4);
                };
              }(n3, this));
            else {
              var o2 = this[d].read();
              if (o2 !== null)
                return Promise.resolve(p(o2, false));
              r3 = new Promise(this[c]);
            }
            return this[l] = r3, r3;
          } }, Symbol.asyncIterator, function() {
            return this;
          }), o(n2, "return", function() {
            var e3 = this;
            return new Promise(function(t3, r3) {
              e3[d].destroy(null, function(e4) {
                e4 ? r3(e4) : t3(p(void 0, true));
              });
            });
          }), n2), b);
          e2.exports = function(e3) {
            var t3, r3 = Object.create(w, (o(t3 = {}, d, { value: e3, writable: true }), o(t3, a, { value: null, writable: true }), o(t3, u, { value: null, writable: true }), o(t3, f, { value: null, writable: true }), o(t3, h, { value: e3._readableState.endEmitted, writable: true }), o(t3, c, { value: function(e4, t4) {
              var n3 = r3[d].read();
              n3 ? (r3[l] = null, r3[a] = null, r3[u] = null, e4(p(n3, false))) : (r3[a] = e4, r3[u] = t4);
            }, writable: true }), t3));
            return r3[l] = null, s(e3, function(e4) {
              if (e4 && e4.code !== "ERR_STREAM_PREMATURE_CLOSE") {
                var t4 = r3[u];
                return t4 !== null && (r3[l] = null, r3[a] = null, r3[u] = null, t4(e4)), void (r3[f] = e4);
              }
              var n3 = r3[a];
              n3 !== null && (r3[l] = null, r3[a] = null, r3[u] = null, n3(p(void 0, true))), r3[h] = true;
            }), e3.on("readable", y.bind(null, r3)), r3;
          };
        }, 327: (e2, t2, r2) => {
          "use strict";
          function n2(e3, t3) {
            var r3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var n3 = Object.getOwnPropertySymbols(e3);
              t3 && (n3 = n3.filter(function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              })), r3.push.apply(r3, n3);
            }
            return r3;
          }
          function i(e3, t3, r3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: r3, enumerable: true, configurable: true, writable: true }) : e3[t3] = r3, e3;
          }
          function o(e3, t3) {
            for (var r3 = 0; r3 < t3.length; r3++) {
              var n3 = t3[r3];
              n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(e3, n3.key, n3);
            }
          }
          var s = r2(764).Buffer, a = r2(361).inspect, u = a && a.custom || "inspect";
          e2.exports = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.head = null, this.tail = null, this.length = 0;
            }
            var t3, r3;
            return t3 = e3, r3 = [{ key: "push", value: function(e4) {
              var t4 = { data: e4, next: null };
              this.length > 0 ? this.tail.next = t4 : this.head = t4, this.tail = t4, ++this.length;
            } }, { key: "unshift", value: function(e4) {
              var t4 = { data: e4, next: this.head };
              this.length === 0 && (this.tail = t4), this.head = t4, ++this.length;
            } }, { key: "shift", value: function() {
              if (this.length !== 0) {
                var e4 = this.head.data;
                return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, e4;
              }
            } }, { key: "clear", value: function() {
              this.head = this.tail = null, this.length = 0;
            } }, { key: "join", value: function(e4) {
              if (this.length === 0)
                return "";
              for (var t4 = this.head, r4 = "" + t4.data; t4 = t4.next; )
                r4 += e4 + t4.data;
              return r4;
            } }, { key: "concat", value: function(e4) {
              if (this.length === 0)
                return s.alloc(0);
              for (var t4, r4, n3, i2 = s.allocUnsafe(e4 >>> 0), o2 = this.head, a2 = 0; o2; )
                t4 = o2.data, r4 = i2, n3 = a2, s.prototype.copy.call(t4, r4, n3), a2 += o2.data.length, o2 = o2.next;
              return i2;
            } }, { key: "consume", value: function(e4, t4) {
              var r4;
              return e4 < this.head.data.length ? (r4 = this.head.data.slice(0, e4), this.head.data = this.head.data.slice(e4)) : r4 = e4 === this.head.data.length ? this.shift() : t4 ? this._getString(e4) : this._getBuffer(e4), r4;
            } }, { key: "first", value: function() {
              return this.head.data;
            } }, { key: "_getString", value: function(e4) {
              var t4 = this.head, r4 = 1, n3 = t4.data;
              for (e4 -= n3.length; t4 = t4.next; ) {
                var i2 = t4.data, o2 = e4 > i2.length ? i2.length : e4;
                if (o2 === i2.length ? n3 += i2 : n3 += i2.slice(0, e4), (e4 -= o2) == 0) {
                  o2 === i2.length ? (++r4, t4.next ? this.head = t4.next : this.head = this.tail = null) : (this.head = t4, t4.data = i2.slice(o2));
                  break;
                }
                ++r4;
              }
              return this.length -= r4, n3;
            } }, { key: "_getBuffer", value: function(e4) {
              var t4 = s.allocUnsafe(e4), r4 = this.head, n3 = 1;
              for (r4.data.copy(t4), e4 -= r4.data.length; r4 = r4.next; ) {
                var i2 = r4.data, o2 = e4 > i2.length ? i2.length : e4;
                if (i2.copy(t4, t4.length - e4, 0, o2), (e4 -= o2) == 0) {
                  o2 === i2.length ? (++n3, r4.next ? this.head = r4.next : this.head = this.tail = null) : (this.head = r4, r4.data = i2.slice(o2));
                  break;
                }
                ++n3;
              }
              return this.length -= n3, t4;
            } }, { key: u, value: function(e4, t4) {
              return a(this, function(e5) {
                for (var t5 = 1; t5 < arguments.length; t5++) {
                  var r4 = arguments[t5] != null ? arguments[t5] : {};
                  t5 % 2 ? n2(Object(r4), true).forEach(function(t6) {
                    i(e5, t6, r4[t6]);
                  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e5, Object.getOwnPropertyDescriptors(r4)) : n2(Object(r4)).forEach(function(t6) {
                    Object.defineProperty(e5, t6, Object.getOwnPropertyDescriptor(r4, t6));
                  });
                }
                return e5;
              }({}, t4, { depth: 0, customInspect: false }));
            } }], r3 && o(t3.prototype, r3), e3;
          }();
        }, 195: (e2, t2, r2) => {
          "use strict";
          var n2 = r2(155);
          function i(e3, t3) {
            s(e3, t3), o(e3);
          }
          function o(e3) {
            e3._writableState && !e3._writableState.emitClose || e3._readableState && !e3._readableState.emitClose || e3.emit("close");
          }
          function s(e3, t3) {
            e3.emit("error", t3);
          }
          e2.exports = { destroy: function(e3, t3) {
            var r3 = this, a = this._readableState && this._readableState.destroyed, u = this._writableState && this._writableState.destroyed;
            return a || u ? (t3 ? t3(e3) : e3 && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = true, n2.nextTick(s, this, e3)) : n2.nextTick(s, this, e3)), this) : (this._readableState && (this._readableState.destroyed = true), this._writableState && (this._writableState.destroyed = true), this._destroy(e3 || null, function(e4) {
              !t3 && e4 ? r3._writableState ? r3._writableState.errorEmitted ? n2.nextTick(o, r3) : (r3._writableState.errorEmitted = true, n2.nextTick(i, r3, e4)) : n2.nextTick(i, r3, e4) : t3 ? (n2.nextTick(o, r3), t3(e4)) : n2.nextTick(o, r3);
            }), this);
          }, undestroy: function() {
            this._readableState && (this._readableState.destroyed = false, this._readableState.reading = false, this._readableState.ended = false, this._readableState.endEmitted = false), this._writableState && (this._writableState.destroyed = false, this._writableState.ended = false, this._writableState.ending = false, this._writableState.finalCalled = false, this._writableState.prefinished = false, this._writableState.finished = false, this._writableState.errorEmitted = false);
          }, errorOrDestroy: function(e3, t3) {
            var r3 = e3._readableState, n3 = e3._writableState;
            r3 && r3.autoDestroy || n3 && n3.autoDestroy ? e3.destroy(t3) : e3.emit("error", t3);
          } };
        }, 610: (e2, t2, r2) => {
          "use strict";
          var n2 = r2(281).q.ERR_STREAM_PREMATURE_CLOSE;
          function i() {
          }
          e2.exports = function e3(t3, r3, o) {
            if (typeof r3 == "function")
              return e3(t3, null, r3);
            r3 || (r3 = {}), o = function(e4) {
              var t4 = false;
              return function() {
                if (!t4) {
                  t4 = true;
                  for (var r4 = arguments.length, n3 = new Array(r4), i2 = 0; i2 < r4; i2++)
                    n3[i2] = arguments[i2];
                  e4.apply(this, n3);
                }
              };
            }(o || i);
            var s = r3.readable || r3.readable !== false && t3.readable, a = r3.writable || r3.writable !== false && t3.writable, u = function() {
              t3.writable || h();
            }, f = t3._writableState && t3._writableState.finished, h = function() {
              a = false, f = true, s || o.call(t3);
            }, l = t3._readableState && t3._readableState.endEmitted, c = function() {
              s = false, l = true, a || o.call(t3);
            }, d = function(e4) {
              o.call(t3, e4);
            }, p = function() {
              var e4;
              return s && !l ? (t3._readableState && t3._readableState.ended || (e4 = new n2()), o.call(t3, e4)) : a && !f ? (t3._writableState && t3._writableState.ended || (e4 = new n2()), o.call(t3, e4)) : void 0;
            }, g = function() {
              t3.req.on("finish", h);
            };
            return function(e4) {
              return e4.setHeader && typeof e4.abort == "function";
            }(t3) ? (t3.on("complete", h), t3.on("abort", p), t3.req ? g() : t3.on("request", g)) : a && !t3._writableState && (t3.on("end", u), t3.on("close", u)), t3.on("end", c), t3.on("finish", h), r3.error !== false && t3.on("error", d), t3.on("close", p), function() {
              t3.removeListener("complete", h), t3.removeListener("abort", p), t3.removeListener("request", g), t3.req && t3.req.removeListener("finish", h), t3.removeListener("end", u), t3.removeListener("close", u), t3.removeListener("finish", h), t3.removeListener("end", c), t3.removeListener("error", d), t3.removeListener("close", p);
            };
          };
        }, 167: (e2) => {
          e2.exports = function() {
            throw new Error("Readable.from is not available in the browser");
          };
        }, 946: (e2, t2, r2) => {
          "use strict";
          var n2, i = r2(281).q, o = i.ERR_MISSING_ARGS, s = i.ERR_STREAM_DESTROYED;
          function a(e3) {
            if (e3)
              throw e3;
          }
          function u(e3, t3, i2, o2) {
            o2 = function(e4) {
              var t4 = false;
              return function() {
                t4 || (t4 = true, e4.apply(void 0, arguments));
              };
            }(o2);
            var a2 = false;
            e3.on("close", function() {
              a2 = true;
            }), n2 === void 0 && (n2 = r2(610)), n2(e3, { readable: t3, writable: i2 }, function(e4) {
              if (e4)
                return o2(e4);
              a2 = true, o2();
            });
            var u2 = false;
            return function(t4) {
              if (!a2 && !u2)
                return u2 = true, function(e4) {
                  return e4.setHeader && typeof e4.abort == "function";
                }(e3) ? e3.abort() : typeof e3.destroy == "function" ? e3.destroy() : void o2(t4 || new s("pipe"));
            };
          }
          function f(e3) {
            e3();
          }
          function h(e3, t3) {
            return e3.pipe(t3);
          }
          function l(e3) {
            return e3.length ? typeof e3[e3.length - 1] != "function" ? a : e3.pop() : a;
          }
          e2.exports = function() {
            for (var e3 = arguments.length, t3 = new Array(e3), r3 = 0; r3 < e3; r3++)
              t3[r3] = arguments[r3];
            var n3, i2 = l(t3);
            if (Array.isArray(t3[0]) && (t3 = t3[0]), t3.length < 2)
              throw new o("streams");
            var s2 = t3.map(function(e4, r4) {
              var o2 = r4 < t3.length - 1;
              return u(e4, o2, r4 > 0, function(e5) {
                n3 || (n3 = e5), e5 && s2.forEach(f), o2 || (s2.forEach(f), i2(n3));
              });
            });
            return t3.reduce(h);
          };
        }, 457: (e2, t2, r2) => {
          "use strict";
          var n2 = r2(281).q.ERR_INVALID_OPT_VALUE;
          e2.exports = { getHighWaterMark: function(e3, t3, r3, i) {
            var o = function(e4, t4, r4) {
              return e4.highWaterMark != null ? e4.highWaterMark : t4 ? e4[r4] : null;
            }(t3, i, r3);
            if (o != null) {
              if (!isFinite(o) || Math.floor(o) !== o || o < 0)
                throw new n2(i ? r3 : "highWaterMark", o);
              return Math.floor(o);
            }
            return e3.objectMode ? 16 : 16384;
          } };
        }, 503: (e2, t2, r2) => {
          e2.exports = r2(187).EventEmitter;
        }, 509: (e2, t2, r2) => {
          var n2 = r2(764), i = n2.Buffer;
          function o(e3, t3) {
            for (var r3 in e3)
              t3[r3] = e3[r3];
          }
          function s(e3, t3, r3) {
            return i(e3, t3, r3);
          }
          i.from && i.alloc && i.allocUnsafe && i.allocUnsafeSlow ? e2.exports = n2 : (o(n2, t2), t2.Buffer = s), s.prototype = Object.create(i.prototype), o(i, s), s.from = function(e3, t3, r3) {
            if (typeof e3 == "number")
              throw new TypeError("Argument must not be a number");
            return i(e3, t3, r3);
          }, s.alloc = function(e3, t3, r3) {
            if (typeof e3 != "number")
              throw new TypeError("Argument must be a number");
            var n3 = i(e3);
            return t3 !== void 0 ? typeof r3 == "string" ? n3.fill(t3, r3) : n3.fill(t3) : n3.fill(0), n3;
          }, s.allocUnsafe = function(e3) {
            if (typeof e3 != "number")
              throw new TypeError("Argument must be a number");
            return i(e3);
          }, s.allocUnsafeSlow = function(e3) {
            if (typeof e3 != "number")
              throw new TypeError("Argument must be a number");
            return n2.SlowBuffer(e3);
          };
        }, 830: (e2, t2, r2) => {
          e2.exports = i;
          var n2 = r2(187).EventEmitter;
          function i() {
            n2.call(this);
          }
          r2(717)(i, n2), i.Readable = r2(481), i.Writable = r2(229), i.Duplex = r2(753), i.Transform = r2(605), i.PassThrough = r2(725), i.finished = r2(610), i.pipeline = r2(946), i.Stream = i, i.prototype.pipe = function(e3, t3) {
            var r3 = this;
            function i2(t4) {
              e3.writable && e3.write(t4) === false && r3.pause && r3.pause();
            }
            function o() {
              r3.readable && r3.resume && r3.resume();
            }
            r3.on("data", i2), e3.on("drain", o), e3._isStdio || t3 && t3.end === false || (r3.on("end", a), r3.on("close", u));
            var s = false;
            function a() {
              s || (s = true, e3.end());
            }
            function u() {
              s || (s = true, typeof e3.destroy == "function" && e3.destroy());
            }
            function f(e4) {
              if (h(), n2.listenerCount(this, "error") === 0)
                throw e4;
            }
            function h() {
              r3.removeListener("data", i2), e3.removeListener("drain", o), r3.removeListener("end", a), r3.removeListener("close", u), r3.removeListener("error", f), e3.removeListener("error", f), r3.removeListener("end", h), r3.removeListener("close", h), e3.removeListener("close", h);
            }
            return r3.on("error", f), e3.on("error", f), r3.on("end", h), r3.on("close", h), e3.on("close", h), e3.emit("pipe", r3), e3;
          };
        }, 553: (e2, t2, r2) => {
          "use strict";
          var n2 = r2(509).Buffer, i = n2.isEncoding || function(e3) {
            switch ((e3 = "" + e3) && e3.toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
              case "raw":
                return true;
              default:
                return false;
            }
          };
          function o(e3) {
            var t3;
            switch (this.encoding = function(e4) {
              var t4 = function(e5) {
                if (!e5)
                  return "utf8";
                for (var t5; ; )
                  switch (e5) {
                    case "utf8":
                    case "utf-8":
                      return "utf8";
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                      return "utf16le";
                    case "latin1":
                    case "binary":
                      return "latin1";
                    case "base64":
                    case "ascii":
                    case "hex":
                      return e5;
                    default:
                      if (t5)
                        return;
                      e5 = ("" + e5).toLowerCase(), t5 = true;
                  }
              }(e4);
              if (typeof t4 != "string" && (n2.isEncoding === i || !i(e4)))
                throw new Error("Unknown encoding: " + e4);
              return t4 || e4;
            }(e3), this.encoding) {
              case "utf16le":
                this.text = u, this.end = f, t3 = 4;
                break;
              case "utf8":
                this.fillLast = a, t3 = 4;
                break;
              case "base64":
                this.text = h, this.end = l, t3 = 3;
                break;
              default:
                return this.write = c, void (this.end = d);
            }
            this.lastNeed = 0, this.lastTotal = 0, this.lastChar = n2.allocUnsafe(t3);
          }
          function s(e3) {
            return e3 <= 127 ? 0 : e3 >> 5 == 6 ? 2 : e3 >> 4 == 14 ? 3 : e3 >> 3 == 30 ? 4 : e3 >> 6 == 2 ? -1 : -2;
          }
          function a(e3) {
            var t3 = this.lastTotal - this.lastNeed, r3 = function(e4, t4, r4) {
              if ((192 & t4[0]) != 128)
                return e4.lastNeed = 0, "\uFFFD";
              if (e4.lastNeed > 1 && t4.length > 1) {
                if ((192 & t4[1]) != 128)
                  return e4.lastNeed = 1, "\uFFFD";
                if (e4.lastNeed > 2 && t4.length > 2 && (192 & t4[2]) != 128)
                  return e4.lastNeed = 2, "\uFFFD";
              }
            }(this, e3);
            return r3 !== void 0 ? r3 : this.lastNeed <= e3.length ? (e3.copy(this.lastChar, t3, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (e3.copy(this.lastChar, t3, 0, e3.length), void (this.lastNeed -= e3.length));
          }
          function u(e3, t3) {
            if ((e3.length - t3) % 2 == 0) {
              var r3 = e3.toString("utf16le", t3);
              if (r3) {
                var n3 = r3.charCodeAt(r3.length - 1);
                if (n3 >= 55296 && n3 <= 56319)
                  return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = e3[e3.length - 2], this.lastChar[1] = e3[e3.length - 1], r3.slice(0, -1);
              }
              return r3;
            }
            return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = e3[e3.length - 1], e3.toString("utf16le", t3, e3.length - 1);
          }
          function f(e3) {
            var t3 = e3 && e3.length ? this.write(e3) : "";
            if (this.lastNeed) {
              var r3 = this.lastTotal - this.lastNeed;
              return t3 + this.lastChar.toString("utf16le", 0, r3);
            }
            return t3;
          }
          function h(e3, t3) {
            var r3 = (e3.length - t3) % 3;
            return r3 === 0 ? e3.toString("base64", t3) : (this.lastNeed = 3 - r3, this.lastTotal = 3, r3 === 1 ? this.lastChar[0] = e3[e3.length - 1] : (this.lastChar[0] = e3[e3.length - 2], this.lastChar[1] = e3[e3.length - 1]), e3.toString("base64", t3, e3.length - r3));
          }
          function l(e3) {
            var t3 = e3 && e3.length ? this.write(e3) : "";
            return this.lastNeed ? t3 + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : t3;
          }
          function c(e3) {
            return e3.toString(this.encoding);
          }
          function d(e3) {
            return e3 && e3.length ? this.write(e3) : "";
          }
          t2.s = o, o.prototype.write = function(e3) {
            if (e3.length === 0)
              return "";
            var t3, r3;
            if (this.lastNeed) {
              if ((t3 = this.fillLast(e3)) === void 0)
                return "";
              r3 = this.lastNeed, this.lastNeed = 0;
            } else
              r3 = 0;
            return r3 < e3.length ? t3 ? t3 + this.text(e3, r3) : this.text(e3, r3) : t3 || "";
          }, o.prototype.end = function(e3) {
            var t3 = e3 && e3.length ? this.write(e3) : "";
            return this.lastNeed ? t3 + "\uFFFD" : t3;
          }, o.prototype.text = function(e3, t3) {
            var r3 = function(e4, t4, r4) {
              var n4 = t4.length - 1;
              if (n4 < r4)
                return 0;
              var i2 = s(t4[n4]);
              return i2 >= 0 ? (i2 > 0 && (e4.lastNeed = i2 - 1), i2) : --n4 < r4 || i2 === -2 ? 0 : (i2 = s(t4[n4])) >= 0 ? (i2 > 0 && (e4.lastNeed = i2 - 2), i2) : --n4 < r4 || i2 === -2 ? 0 : (i2 = s(t4[n4])) >= 0 ? (i2 > 0 && (i2 === 2 ? i2 = 0 : e4.lastNeed = i2 - 3), i2) : 0;
            }(this, e3, t3);
            if (!this.lastNeed)
              return e3.toString("utf8", t3);
            this.lastTotal = r3;
            var n3 = e3.length - (r3 - this.lastNeed);
            return e3.copy(this.lastChar, 0, n3), e3.toString("utf8", t3, n3);
          }, o.prototype.fillLast = function(e3) {
            if (this.lastNeed <= e3.length)
              return e3.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
            e3.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, e3.length), this.lastNeed -= e3.length;
          };
        }, 927: (e2, t2, r2) => {
          function n2(e3) {
            try {
              if (!r2.g.localStorage)
                return false;
            } catch (e4) {
              return false;
            }
            var t3 = r2.g.localStorage[e3];
            return t3 != null && String(t3).toLowerCase() === "true";
          }
          e2.exports = function(e3, t3) {
            if (n2("noDeprecation"))
              return e3;
            var r3 = false;
            return function() {
              if (!r3) {
                if (n2("throwDeprecation"))
                  throw new Error(t3);
                n2("traceDeprecation") ? console.trace(t3) : console.warn(t3), r3 = true;
              }
              return e3.apply(this, arguments);
            };
          };
        }, 361: () => {
        }, 616: () => {
        } }, t = {};
        function r(n2) {
          var i = t[n2];
          if (i !== void 0)
            return i.exports;
          var o = t[n2] = { exports: {} };
          return e[n2](o, o.exports, r), o.exports;
        }
        r.d = (e2, t2) => {
          for (var n2 in t2)
            r.o(t2, n2) && !r.o(e2, n2) && Object.defineProperty(e2, n2, { enumerable: true, get: t2[n2] });
        }, r.g = function() {
          if (typeof globalThis == "object")
            return globalThis;
          try {
            return this || new Function("return this")();
          } catch (e2) {
            if (typeof window == "object")
              return window;
          }
        }(), r.o = (e2, t2) => Object.prototype.hasOwnProperty.call(e2, t2), r.r = (e2) => {
          typeof Symbol != "undefined" && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
        };
        var n = {};
        return (() => {
          "use strict";
          r.r(n), r.d(n, { Commented: () => e2.Commented, Decoder: () => e2.Decoder, Diagnose: () => e2.Diagnose, Encoder: () => e2.Encoder, Map: () => e2.Map, Simple: () => e2.Simple, Tagged: () => e2.Tagged, comment: () => e2.UI, decode: () => e2.Jx, decodeAll: () => e2.fI, decodeAllSync: () => e2.cc, decodeFirst: () => e2.h8, decodeFirstSync: () => e2.$u, diagnose: () => e2.M, encode: () => e2.cv, encodeAsync: () => e2.WR, encodeCanonical: () => e2.N2, encodeOne: () => e2.TG, leveldb: () => e2.ww, reset: () => e2.mc });
          var e2 = r(141);
        })(), n;
      })();
    });
  }
});

// node_modules/web-api/src/err.js
var BadPlatform = class extends Error {
  constructor(facility) {
    super(`${facility} is not supported on this platform`);
    this.name = "BadPlatform";
  }
};
var InvalidArg = class extends Error {
  constructor(arg) {
    super(`invalid arg: ${arg}`);
    this.name = "InvalidArg";
  }
};
var UnexpectedError = class extends Error {
  constructor() {
    super(`unexpected error`);
    this.name = "UnexpectedError";
  }
};
var InvalidKey = class extends Error {
  constructor(op) {
    super(`invalid key in ${op}`);
    this.name = "InvalidKey";
  }
};
var OperationBlocked = class extends Error {
  constructor(op) {
    super(`operation blocked in ${op}`);
    this.name = "OperationBlocked";
  }
};
var WebAuthnError = class extends Error {
  constructor(message, name) {
    super(message);
    this.name = name;
  }
};

// node_modules/web-api/src/validate.js
function validateDatabase(tx) {
  return tx instanceof IDBDatabase;
}
function validateTransactionMode(mode) {
  return mode === "readonly" || mode === "readwrite";
}
function validateTransactionScope(scope) {
  return typeof scope === "string" || scope instanceof Array && scope.reduce((p, c) => p && typeof c === "string", true);
}
function validateTransaction(tx) {
  return tx instanceof IDBTransaction;
}
function validateObjectStore(store) {
  return typeof store === "string";
}
function validateCryptoKey(key) {
  return key instanceof CryptoKey;
}

// node_modules/web-api/src/idb.js
function idbOpenDb(name, version, runMigrations2) {
  if (!window.indexedDB)
    return Promise.reject(new BadPlatform("indexedDB"));
  if (typeof name !== "string")
    return Promise.reject(new InvalidArg("name"));
  if (typeof version !== "number")
    return Promise.reject(new InvalidArg("version"));
  if (typeof runMigrations2 !== "function")
    return Promise.reject(new InvalidArg("runMigrations"));
  return new Promise((resolve, reject) => {
    try {
      const rq = window.indexedDB.open(name, version);
      rq.onupgradeneeded = (e) => {
        try {
          runMigrations2(e.target.result, e.target.transaction, e.newVersion, e.oldVersion);
        } catch (err) {
          reject(err);
        }
      };
      rq.onblocked = (e) => {
        reject(new OperationBlocked("idbOpenDb"));
      };
      rq.onerror = (e) => {
        reject(e.target.error);
      };
      rq.onsuccess = (e) => {
        const db = e.target.result;
        db.onversionchange = () => {
          db.close();
        };
        resolve(db);
      };
    } catch (err) {
      reject(err);
    }
  });
}
function idbCloseDb(db) {
  if (db instanceof IDBDatabase)
    db.close();
}
function idbDeleteDb(name) {
  if (typeof name !== "string")
    return Promise.reject(new InvalidArg(name));
  return new Promise((resolve, reject) => {
    const rq = window.indexedDB.deleteDatabase(name);
    rq.onerror = (e) => {
      reject(new UnexpectedError());
    };
    rq.onsuccess = (e) => {
      resolve();
    };
    rq.onblocked = (e) => {
      reject(new OperationBlocked("idbDeleteDb"));
    };
  });
}
function idbBeginTransaction(db, scope, mode) {
  if (!validateDatabase(db))
    throw new InvalidArg("db");
  if (!validateTransactionScope(scope))
    throw new InvalidArg("scope");
  if (!validateTransactionMode(mode))
    throw new InvalidArg("mode");
  const tx = db.transaction(scope, mode);
  tx.result = null;
  tx.promise = new Promise((resolve, reject) => {
    tx.oncomplete = (e) => {
      resolve(tx.result);
    };
    tx.onerror = (e) => {
      reject(tx.error ? tx.error : e.target.error);
    };
    tx.onabort = (e) => {
      reject(tx.result);
    };
  });
  return tx;
}
function idbFinishTransaction(tx) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  if (tx.error) {
    return Promise.reject(tx.error);
  }
  return tx.promise;
}
function idbGet(tx, store, key) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  if (!validateObjectStore(store))
    throw new InvalidArg("store");
  try {
    const os = tx.objectStore(store);
    const rq = os.get(key);
    rq.onsuccess = (e) => {
      tx.result = rq.result;
    };
    rq.onerror = (e) => {
      tx.result = e.target.error;
      tx.abort();
    };
  } catch (err) {
    tx.result = err;
    tx.abort();
  }
}
function idbAdd(tx, store, value, key) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  if (!validateObjectStore(store))
    throw new InvalidArg("store");
  try {
    const os = tx.objectStore(store);
    const rq = os.add(value, key);
    rq.onsuccess = (e) => {
      tx.result = rq.result;
    };
    rq.onerror = (e) => {
      tx.result = e.target.error;
      tx.abort();
    };
  } catch (err) {
    tx.result = err;
    tx.abort();
  }
}
function idbDelete(tx, store, key) {
  if (!validateTransaction(tx))
    throw new InvalidArg("tx");
  if (!validateObjectStore(store))
    throw new InvalidArg("store");
  try {
    const os = tx.objectStore(store);
    const rq = os.delete(key);
    rq.onsuccess = (e) => {
      tx.result = rq.result;
    };
    rq.onerror = (e) => {
      tx.result = e.target.error;
      tx.abort();
    };
  } catch (err) {
    tx.result = err;
    tx.abort();
  }
}

// node_modules/web-api/src/subtle.js
function randomBytes(buffer) {
  window.crypto.getRandomValues(buffer);
}
function exportKey(key, format) {
  if (!(key instanceof CryptoKey))
    throw new InvalidArg(key);
  return new Promise((resolve, reject) => {
    window.crypto.subtle.exportKey(format, key).then((data) => {
      if (format === "jwk")
        resolve(data);
      else
        resolve(new Uint8Array(data));
    }, (err) => {
      reject(err);
    });
  });
}
function ecdsaGenerateKeyPair(curve) {
  return new Promise((resolve, reject) => {
    const params = {
      name: "ECDSA",
      namedCurve: curve
    };
    window.crypto.subtle.generateKey(params, false, ["sign", "verify"]).then((keyPair) => {
      resolve(keyPair);
    }, (err) => {
      reject(err);
    });
  });
}
function ecdsaImportKey(format, curve, bits, use) {
  return new Promise((resolve, reject) => {
    const params = {
      name: "ECDSA",
      namedCurve: curve
    };
    window.crypto.subtle.importKey(format, bits, params, true, [use]).then((key) => {
      resolve(key);
    }, (err) => {
      reject(err);
    });
  });
}
function ecdsaSign(key, hash, data) {
  if (!validateCryptoKey(key))
    throw new InvalidArg("key");
  return new Promise((resolve, reject) => {
    const params = {
      name: "ECDSA",
      hash
    };
    window.crypto.subtle.sign(params, key, data).then((signature) => {
      signature = new Uint8Array(signature);
      resolve(signature);
    }, (err) => {
      reject(err);
    });
  });
}

// node_modules/web-api/src/webauthn.js
var cbor = __toModule(require_cbor());
async function webauthnGenerateKeyPair(name, data) {
  const userId = new Uint8Array(16);
  randomBytes(userId);
  let challenge = data !== void 0 ? data : new Uint8Array(0);
  let attestationMethod = data !== void 0 ? "direct" : "none";
  const createOptions = {
    rp: {
      name: "Beyond Identity, Inc.",
      id: location.hostname
    },
    challenge,
    user: {
      id: userId,
      name,
      displayName: name
    },
    pubKeyCredParams: [
      {
        type: "public-key",
        alg: -7
      }
    ],
    attestation: attestationMethod,
    authenticatorSelection: {
      authenticatorAttachment: "platform",
      userVerification: "required"
    }
  };
  let cred;
  try {
    cred = await navigator.credentials.create({
      publicKey: createOptions
    });
  } catch (err) {
    throw new WebAuthnError(err.message, err.name);
  }
  if (!cred)
    throw new InvalidArg(createOptions);
  const response = cred.response;
  const attestationObject = await cbor.decodeFirst(response.attestationObject);
  const authenticatorData = attestationObject.authData;
  let publicKey2 = await readPublicKey(response, authenticatorData);
  let transports = readTransports(response);
  let signature = readSignature(attestationObject);
  return {
    rawId: cred.rawId,
    publicKey: publicKey2,
    transports,
    clientDataJSON: response.clientDataJSON,
    attestationObject: response.attestationObject,
    authenticatorData,
    signature
  };
}
async function readPublicKey(response, authenticatorData) {
  if (typeof response.getPublicKey === "function") {
    let spkiPublicKey = response.getPublicKey();
    return await ecdsaImportKey("spki", "P-256", spkiPublicKey, "verify");
  } else {
    const credentialIdLengthView = new DataView(authenticatorData.buffer.slice(authenticatorData.byteOffset + 53, authenticatorData.byteOffset + 55));
    const credentialIdLength = credentialIdLengthView.getUint16();
    const cosePublicKeyCBOR = authenticatorData.slice(55 + credentialIdLength);
    const cosePublicKey = await cbor.decodeFirst(cosePublicKeyCBOR);
    let rawPublicKey = new Uint8Array(65);
    rawPublicKey[0] = 4;
    rawPublicKey.set(cosePublicKey.get(-2), 1);
    rawPublicKey.set(cosePublicKey.get(-3), 33);
    return await ecdsaImportKey("raw", "P-256", rawPublicKey, "verify");
  }
}
function readTransports(response) {
  let transports = [];
  if (typeof response.getTransports === "function") {
    transports = response.getTransports();
  }
  return transports;
}
function readSignature(attestation) {
  if (attestation.fmt === "packed") {
    return attestation.attStmt?.sig;
  }
  return void 0;
}
async function webauthnSign(key, data) {
  const getOptions = {
    challenge: data,
    allowCredentials: [
      {
        id: key.rawId,
        type: "public-key",
        transports: key.transports
      }
    ],
    userVerification: "required",
    timeout: 6e4
  };
  const cred = await navigator.credentials.get({ publicKey: getOptions });
  if (!cred)
    throw new InvalidArg(getOptions);
  let response = cred.response;
  return {
    authenticatorData: response.authenticatorData,
    clientDataJSON: response.clientDataJSON,
    signature: response.signature
  };
}

// src/validate.js
function validateKeyHandle(handle) {
  return typeof handle === "string";
}
function validateProvider(provider) {
  return provider === "subtle" || provider === "webauthn";
}
function validateKey(key) {
  if (key !== void 0 && typeof key === "object") {
    if (key.subtle !== void 0)
      return "subtle";
    else if (key.webauthn !== void 0)
      return "webauthn";
  }
  return void 0;
}

// src/crypto.js
var subtleProvider = "subtle";
var webAuthnProvider = "webauthn";
async function hasWebAuthn() {
  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
  return !!(!isSafari && window.PublicKeyCredential && await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable());
}
function hasSubtleCrypto() {
  return !!window.crypto.subtle;
}
async function queryCryptoCapabilities(provider) {
  if (!validateProvider(provider))
    throw new InvalidArg("provider");
  if (provider === webAuthnProvider) {
    if (await hasWebAuthn())
      return webauthn;
  }
  if (hasSubtleCrypto())
    return subtle;
  throw new BadPlatform("crypto");
}
async function generateKey(handle, provider, data) {
  if (!validateKeyHandle(handle))
    throw new InvalidArg("handle");
  let api = await queryCryptoCapabilities(provider);
  return await api.generateKey(handle, data);
}
async function sign(key, data) {
  let api = keyProvider(key);
  if (api === void 0)
    throw new InvalidKey("sign");
  return await api.sign(key, data);
}
async function publicKey(key) {
  let api = keyProvider(key);
  if (api === void 0)
    throw new InvalidKey("sign");
  return await api.publicKey(key);
}
function keySanityCheck(key, provider) {
  return provider in key;
}
function keyProvider(key) {
  let provider = validateKey(key);
  if (provider === "subtle")
    return subtle;
  else if (provider === "webauthn")
    return webauthn;
  else
    return void 0;
}
var subtle = new class Subtle {
  extractKeys(key) {
    if (keySanityCheck(key, subtleProvider))
      return key.subtle;
    throw new InvalidKey("");
  }
  async generateKey(handle, data) {
    let signingKey = await ecdsaGenerateKeyPair("P-256");
    let key = {
      subtle: {
        signingKey,
        encryptionKey: void 0
      }
    };
    let signature = data !== void 0 ? sign(key, data) : void 0;
    return [key, signature];
  }
  async publicKey(key) {
    let keys = this.extractKeys(key);
    return await exportKey(keys.signingKey.publicKey, "raw");
  }
  async sign(key, data) {
    let keys = this.extractKeys(key);
    let signature = await ecdsaSign(keys.signingKey.privateKey, "SHA-256", data);
    return {
      subtle: {
        signature
      }
    };
  }
}();
var webauthn = new class WebAuthn {
  extractKeys(key) {
    if (keySanityCheck(key, webAuthnProvider))
      return key.webauthn;
    throw new InvalidKey("");
  }
  async generateKey(handle, data) {
    const cred = await webauthnGenerateKeyPair(handle, data);
    let key = {
      webauthn: {
        signingKey: {
          rawId: cred.rawId,
          transports: cred.transports,
          publicKey: cred.publicKey
        },
        encryptionKey: void 0
      }
    };
    let signature = data !== void 0 ? {
      webauthn: {
        clientDataJSON: cred.clientDataJSON,
        attestationObject: cred.attestationObject
      }
    } : void 0;
    return [key, signature];
  }
  async publicKey(key) {
    let keys = this.extractKeys(key);
    return await exportKey(keys.signingKey.publicKey, "raw");
  }
  async sign(key, data) {
    let keys = this.extractKeys(key);
    const signature = await webauthnSign(keys.signingKey, data);
    return {
      webauthn: {
        authenticatorData: signature.authenticatorData,
        clientDataJSON: signature.clientDataJSON,
        signature: signature.signature
      }
    };
  }
}();

// src/error.js
var KeyNotFound = class extends Error {
  constructor(handle) {
    super(`${handle} not found`);
    this.name = "KeyNotFound";
  }
};
var KeyExists = class extends Error {
  constructor(handle) {
    super(`${handle} exists`);
    this.name = "KeyExists";
  }
};

// src/db.js
var dbKeyStore = "keys";
var kmcDbName = "keymaker";
var kmcCertStore = "certificates";
var kmcKeyStore = "keys";
var kmcProfileStore = "credentials";
var kmcProfileIndex = "id";
var kmcAppSettings = "appSettings";
var kmcDbVersions = [v1, v2, v3, v4, v5, v6];
var kmcDbVersion = kmcDbVersions.length;
function runMigrations(db, tx, version, oldVersion) {
  if (!db)
    throw new InvalidArg("db");
  if (!version)
    throw new InvalidArg("version");
  if (version > kmcDbVersions.length)
    throw new InvalidArg("version");
  for (; oldVersion < version; oldVersion++) {
    kmcDbVersions[oldVersion](db, tx);
  }
}
function v1(db, tx) {
  db.createObjectStore(kmcProfileStore, { keyPath: "handle" });
  db.createObjectStore(kmcCertStore);
  db.createObjectStore(kmcKeyStore);
}
function v2(db, tx) {
  db.createObjectStore(kmcAppSettings, { keyPath: "instanceId" });
}
function v3(db, tx) {
  let store = tx.objectStore(kmcProfileStore);
  let rq = store.openCursor();
  rq.onsuccess = (ev) => {
    let cursor = ev.target.result;
    if (cursor) {
      if (!cursor.value.state) {
        cursor.value.state = "Active";
        cursor.update(cursor.value);
      }
      cursor.continue();
    }
  };
}
function v4(db, tx) {
}
function v5(db, tx) {
  let store = tx.objectStore(kmcProfileStore);
  let rq = store.openCursor();
  rq.onsuccess = (ev) => {
    let cursor = ev.target.result;
    if (cursor) {
      if (!cursor.value.id) {
        cursor.value.id = generateHandle(16, "cr");
        cursor.update(cursor.value);
      }
      cursor.continue();
    }
  };
}
function v6(db, tx) {
  let store = tx.objectStore(kmcProfileStore);
  store.createIndex(kmcProfileIndex, "id", { unique: true });
}
function randomBytes2(len) {
  let buf = new Uint8Array(len);
  window.crypto.getRandomValues(buf);
  return buf;
}
function generateHandle(len, prefix) {
  return (prefix ?? "") + [...randomBytes2(len / 2)].map((b) => b.toString(16).padStart(2, "0")).join("");
}
async function openDb() {
  return await idbOpenDb(kmcDbName, kmcDbVersions.length, runMigrations);
}
function closeDb(db) {
  if (db !== void 0)
    idbCloseDb(db);
}
async function resetDb() {
  await idbDeleteDb(kmcDbName);
}

// src/keyStore.js
async function loadKey(db, handle) {
  if (!validateDatabase(db))
    throw new InvalidArg("db");
  if (!validateKeyHandle(handle))
    throw new InvalidArg("handle");
  const tx = idbBeginTransaction(db, dbKeyStore, "readonly");
  idbGet(tx, dbKeyStore, handle);
  let obj = await idbFinishTransaction(tx);
  if (obj !== void 0) {
    if (validateKey === void 0)
      throw new InvalidKey("loadKey");
    return obj;
  }
  return void 0;
}
async function saveKey(db, handle, key) {
  if (!validateDatabase(db))
    throw new InvalidArg("db");
  if (!validateKeyHandle(handle))
    throw new InvalidArg("handle");
  if (validateKey(key) === void 0)
    throw new InvalidKey("saveKey");
  const tx = idbBeginTransaction(db, dbKeyStore, "readwrite");
  idbAdd(tx, dbKeyStore, key, handle);
  await idbFinishTransaction(tx);
}
async function deleteKey(db, handle) {
  if (!validateDatabase(db))
    throw new InvalidArg("db");
  if (!validateKeyHandle(handle))
    throw new InvalidArg("handle");
  const tx = idbBeginTransaction(db, dbKeyStore, "readwrite");
  idbDelete(tx, dbKeyStore, handle);
  await idbFinishTransaction(tx);
}

// src/index.js
function FfiCreateKeyP256(handle, provider, data) {
  return new Promise(async (resolve, reject) => {
    let db;
    try {
      db = await openDb();
      let key = await loadKey(db, handle);
      if (key)
        throw new KeyExists(handle);
      let signature;
      try {
        [key, signature] = await generateKey(handle, provider, data);
      } catch (err) {
        if (provider === "webauthn" && err instanceof WebAuthnError && err.name != "NotAllowedError") {
          console.warn(err);
          [key, signature] = await generateKey(handle, "subtle", data);
        } else {
          throw err;
        }
      }
      await saveKey(db, handle, key);
      resolve(signature);
    } catch (err) {
      reject(err);
    } finally {
      closeDb(db);
    }
  });
}
function FfiQueryKeyP256(handle) {
  return new Promise(async (resolve, reject) => {
    let db;
    try {
      db = await openDb();
      const key = await loadKey(db, handle);
      if (key === void 0)
        throw new KeyNotFound(handle);
      const type = validateKey(key);
      if (type === void 0) {
        throw new InvalidKey("FfiQueryKeyP256");
      } else {
        resolve(type);
      }
    } catch (err) {
      reject(err);
    } finally {
      closeDb(db);
    }
  });
}
function FfiDeleteKeyP256(handle) {
  return new Promise(async (resolve, reject) => {
    let db;
    try {
      db = await openDb();
      const key = await loadKey(db, handle);
      if (key === void 0)
        throw new KeyNotFound(handle);
      await deleteKey(db, handle);
      resolve();
    } catch (err) {
      reject(err);
    } finally {
      closeDb(db);
    }
  });
}
function FfiVerifyExistingKeyP256(handle) {
  return new Promise(async (resolve, reject) => {
    let db;
    try {
      db = await openDb();
      const key = await loadKey(db, handle);
      if (key === void 0) {
        resolve(void 0);
      }
      if (validateKey(key) === void 0)
        throw new InvalidKey(handle);
      resolve(handle);
    } catch (err) {
      reject(err);
    } finally {
      closeDb(db);
    }
  });
}
function FfiSignWithP256(handle, data) {
  return new Promise(async (resolve, reject) => {
    let db;
    try {
      db = await openDb();
      const key = await loadKey(db, handle);
      if (key === void 0)
        throw new KeyNotFound(handle);
      const signature = await sign(key, data);
      resolve(signature);
    } catch (err) {
      reject(err);
    } finally {
      closeDb(db);
    }
  });
}
function FfiPublicBitsP256(handle) {
  return new Promise(async (resolve, reject) => {
    let db;
    try {
      db = await openDb();
      const key = await loadKey(db, handle);
      if (key === void 0)
        throw new KeyNotFound(handle);
      const bits = await publicKey(key);
      resolve(bits);
    } catch (err) {
      reject(err);
    } finally {
      closeDb(db);
    }
  });
}

/*! For license information please see cbor.js.LICENSE.txt */


/***/ }),

/***/ "./node_modules/kmc-ffi/snippets/kmc-js-a8479199104cfb09/src/js/dist/kmc.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/kmc-ffi/snippets/kmc-js-a8479199104cfb09/src/js/dist/kmc.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "kmc_add_authenticator_client_id": () => (/* binding */ Zi),
/* harmony export */   "kmc_close_db": () => (/* binding */ Er),
/* harmony export */   "kmc_decode_device_info": () => (/* binding */ _o),
/* harmony export */   "kmc_decrypt": () => (/* binding */ Di),
/* harmony export */   "kmc_delete_all_authenticator_client_ids": () => (/* binding */ Qi),
/* harmony export */   "kmc_delete_cert": () => (/* binding */ fi),
/* harmony export */   "kmc_delete_key": () => (/* binding */ yi),
/* harmony export */   "kmc_delete_profile": () => (/* binding */ Xi),
/* harmony export */   "kmc_encode_device_info": () => (/* binding */ Zr),
/* harmony export */   "kmc_encrypt": () => (/* binding */ gi),
/* harmony export */   "kmc_generate_key": () => (/* binding */ Ai),
/* harmony export */   "kmc_get_all_profiles": () => (/* binding */ Hr),
/* harmony export */   "kmc_get_app_settings": () => (/* binding */ yn),
/* harmony export */   "kmc_get_cert": () => (/* binding */ ai),
/* harmony export */   "kmc_get_device_info": () => (/* binding */ Eo),
/* harmony export */   "kmc_get_key": () => (/* binding */ Ze),
/* harmony export */   "kmc_get_profile": () => (/* binding */ Fr),
/* harmony export */   "kmc_get_profile_by_id": () => (/* binding */ Yi),
/* harmony export */   "kmc_get_user_agent": () => (/* binding */ Ao),
/* harmony export */   "kmc_has_profile": () => (/* binding */ zi),
/* harmony export */   "kmc_is_key_webauthn_backed": () => (/* binding */ Ei),
/* harmony export */   "kmc_open_db": () => (/* binding */ Ar),
/* harmony export */   "kmc_public_key": () => (/* binding */ Rr),
/* harmony export */   "kmc_put_app_settings": () => (/* binding */ eo),
/* harmony export */   "kmc_put_cert": () => (/* binding */ ui),
/* harmony export */   "kmc_reset_db": () => (/* binding */ _r),
/* harmony export */   "kmc_save_key": () => (/* binding */ en),
/* harmony export */   "kmc_sign": () => (/* binding */ _i),
/* harmony export */   "kmc_update_profile_metadata": () => (/* binding */ Gi),
/* harmony export */   "kmc_verify": () => (/* binding */ ki),
/* harmony export */   "kmc_write_profile": () => (/* binding */ Ji),
/* harmony export */   "kmc_write_profile_id": () => (/* binding */ qi)
/* harmony export */ });
var vr=Object.create;var Ot=Object.defineProperty;var br=Object.getOwnPropertyDescriptor;var wr=Object.getOwnPropertyNames;var Or=Object.getPrototypeOf,Sr=Object.prototype.hasOwnProperty;var mr=d=>Ot(d,"__esModule",{value:!0});var _e=(d,c)=>()=>(c||d((c={exports:{}}).exports,c),c.exports);var Ir=(d,c,l)=>{if(c&&typeof c=="object"||typeof c=="function")for(let r of wr(c))!Sr.call(d,r)&&r!=="default"&&Ot(d,r,{get:()=>c[r],enumerable:!(l=br(c,r))||l.enumerable});return d},St=d=>Ir(mr(Ot(d!=null?vr(Or(d)):{},"default",d&&d.__esModule&&"default"in d?{get:()=>d.default,enumerable:!0}:{value:d,enumerable:!0})),d);var on=_e((tt,Mt)=>{(function(d,c){typeof tt=="object"&&typeof Mt=="object"?Mt.exports=c():typeof define=="function"&&__webpack_require__.amdO?define([],c):typeof tt=="object"?tt.cbor=c():d.cbor=c()})(tt,function(){return(()=>{var d={742:(e,t)=>{"use strict";t.byteLength=function(I){var P=u(I),g=P[0],w=P[1];return 3*(g+w)/4-w},t.toByteArray=function(I){var P,g,w=u(I),v=w[0],m=w[1],S=new f(function(R,$,F){return 3*($+F)/4-F}(0,v,m)),_=0,B=m>0?v-4:v;for(g=0;g<B;g+=4)P=o[I.charCodeAt(g)]<<18|o[I.charCodeAt(g+1)]<<12|o[I.charCodeAt(g+2)]<<6|o[I.charCodeAt(g+3)],S[_++]=P>>16&255,S[_++]=P>>8&255,S[_++]=255&P;return m===2&&(P=o[I.charCodeAt(g)]<<2|o[I.charCodeAt(g+1)]>>4,S[_++]=255&P),m===1&&(P=o[I.charCodeAt(g)]<<10|o[I.charCodeAt(g+1)]<<4|o[I.charCodeAt(g+2)]>>2,S[_++]=P>>8&255,S[_++]=255&P),S},t.fromByteArray=function(I){for(var P,g=I.length,w=g%3,v=[],m=16383,S=0,_=g-w;S<_;S+=m)v.push(p(I,S,S+m>_?_:S+m));return w===1?(P=I[g-1],v.push(n[P>>2]+n[P<<4&63]+"==")):w===2&&(P=(I[g-2]<<8)+I[g-1],v.push(n[P>>10]+n[P>>4&63]+n[P<<2&63]+"=")),v.join("")};for(var n=[],o=[],f=typeof Uint8Array!="undefined"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0,b=y.length;O<b;++O)n[O]=y[O],o[y.charCodeAt(O)]=O;function u(I){var P=I.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=I.indexOf("=");return g===-1&&(g=P),[g,g===P?0:4-g%4]}function p(I,P,g){for(var w,v,m=[],S=P;S<g;S+=3)w=(I[S]<<16&16711680)+(I[S+1]<<8&65280)+(255&I[S+2]),m.push(n[(v=w)>>18&63]+n[v>>12&63]+n[v>>6&63]+n[63&v]);return m.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},764:(e,t,n)=>{"use strict";let o=n(742),f=n(645),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(a){return+a!=a&&(a=0),u.alloc(+a)},t.INSPECT_MAX_BYTES=50;let O=2147483647;function b(a){if(a>O)throw new RangeError('The value "'+a+'" is invalid for option "size"');let s=new Uint8Array(a);return Object.setPrototypeOf(s,u.prototype),s}function u(a,s,h){if(typeof a=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(a)}return p(a,s,h)}function p(a,s,h){if(typeof a=="string")return function(x,V){if(typeof V=="string"&&V!==""||(V="utf8"),!u.isEncoding(V))throw new TypeError("Unknown encoding: "+V);let ie=0|m(x,V),se=b(ie),me=se.write(x,V);return me!==ie&&(se=se.slice(0,me)),se}(a,s);if(ArrayBuffer.isView(a))return function(x){if(fe(x,Uint8Array)){let V=new Uint8Array(x);return w(V.buffer,V.byteOffset,V.byteLength)}return g(x)}(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(fe(a,ArrayBuffer)||a&&fe(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(fe(a,SharedArrayBuffer)||a&&fe(a.buffer,SharedArrayBuffer)))return w(a,s,h);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let M=a.valueOf&&a.valueOf();if(M!=null&&M!==a)return u.from(M,s,h);let T=function(x){if(u.isBuffer(x)){let V=0|v(x.length),ie=b(V);return ie.length===0||x.copy(ie,0,0,V),ie}return x.length!==void 0?typeof x.length!="number"||de(x.length)?b(0):g(x):x.type==="Buffer"&&Array.isArray(x.data)?g(x.data):void 0}(a);if(T)return T;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return u.from(a[Symbol.toPrimitive]("string"),s,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}function I(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function P(a){return I(a),b(a<0?0:0|v(a))}function g(a){let s=a.length<0?0:0|v(a.length),h=b(s);for(let M=0;M<s;M+=1)h[M]=255&a[M];return h}function w(a,s,h){if(s<0||a.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<s+(h||0))throw new RangeError('"length" is outside of buffer bounds');let M;return M=s===void 0&&h===void 0?new Uint8Array(a):h===void 0?new Uint8Array(a,s):new Uint8Array(a,s,h),Object.setPrototypeOf(M,u.prototype),M}function v(a){if(a>=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O.toString(16)+" bytes");return 0|a}function m(a,s){if(u.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||fe(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);let h=a.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&h===0)return 0;let T=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return ve(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*h;case"hex":return h>>>1;case"base64":return Oe(a).length;default:if(T)return M?-1:ve(a).length;s=(""+s).toLowerCase(),T=!0}}function S(a,s,h){let M=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0)<=(s>>>=0))return"";for(a||(a="utf8");;)switch(a){case"hex":return oe(this,s,h);case"utf8":case"utf-8":return J(this,s,h);case"ascii":return Q(this,s,h);case"latin1":case"binary":return q(this,s,h);case"base64":return H(this,s,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,s,h);default:if(M)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),M=!0}}function _(a,s,h){let M=a[s];a[s]=a[h],a[h]=M}function B(a,s,h,M,T){if(a.length===0)return-1;if(typeof h=="string"?(M=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),de(h=+h)&&(h=T?0:a.length-1),h<0&&(h=a.length+h),h>=a.length){if(T)return-1;h=a.length-1}else if(h<0){if(!T)return-1;h=0}if(typeof s=="string"&&(s=u.from(s,M)),u.isBuffer(s))return s.length===0?-1:R(a,s,h,M,T);if(typeof s=="number")return s&=255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(a,s,h):Uint8Array.prototype.lastIndexOf.call(a,s,h):R(a,[s],h,M,T);throw new TypeError("val must be string, number or Buffer")}function R(a,s,h,M,T){let x,V=1,ie=a.length,se=s.length;if(M!==void 0&&((M=String(M).toLowerCase())==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(a.length<2||s.length<2)return-1;V=2,ie/=2,se/=2,h/=2}function me(be,Ee){return V===1?be[Ee]:be.readUInt16BE(Ee*V)}if(T){let be=-1;for(x=h;x<ie;x++)if(me(a,x)===me(s,be===-1?0:x-be)){if(be===-1&&(be=x),x-be+1===se)return be*V}else be!==-1&&(x-=x-be),be=-1}else for(h+se>ie&&(h=ie-se),x=h;x>=0;x--){let be=!0;for(let Ee=0;Ee<se;Ee++)if(me(a,x+Ee)!==me(s,Ee)){be=!1;break}if(be)return x}return-1}function $(a,s,h,M){h=Number(h)||0;let T=a.length-h;M?(M=Number(M))>T&&(M=T):M=T;let x=s.length,V;for(M>x/2&&(M=x/2),V=0;V<M;++V){let ie=parseInt(s.substr(2*V,2),16);if(de(ie))return V;a[h+V]=ie}return V}function F(a,s,h,M){return ee(ve(s,a.length-h),a,h,M)}function C(a,s,h,M){return ee(function(T){let x=[];for(let V=0;V<T.length;++V)x.push(255&T.charCodeAt(V));return x}(s),a,h,M)}function Y(a,s,h,M){return ee(Oe(s),a,h,M)}function N(a,s,h,M){return ee(function(T,x){let V,ie,se,me=[];for(let be=0;be<T.length&&!((x-=2)<0);++be)V=T.charCodeAt(be),ie=V>>8,se=V%256,me.push(se),me.push(ie);return me}(s,a.length-h),a,h,M)}function H(a,s,h){return s===0&&h===a.length?o.fromByteArray(a):o.fromByteArray(a.slice(s,h))}function J(a,s,h){h=Math.min(a.length,h);let M=[],T=s;for(;T<h;){let x=a[T],V=null,ie=x>239?4:x>223?3:x>191?2:1;if(T+ie<=h){let se,me,be,Ee;switch(ie){case 1:x<128&&(V=x);break;case 2:se=a[T+1],(192&se)==128&&(Ee=(31&x)<<6|63&se,Ee>127&&(V=Ee));break;case 3:se=a[T+1],me=a[T+2],(192&se)==128&&(192&me)==128&&(Ee=(15&x)<<12|(63&se)<<6|63&me,Ee>2047&&(Ee<55296||Ee>57343)&&(V=Ee));break;case 4:se=a[T+1],me=a[T+2],be=a[T+3],(192&se)==128&&(192&me)==128&&(192&be)==128&&(Ee=(15&x)<<18|(63&se)<<12|(63&me)<<6|63&be,Ee>65535&&Ee<1114112&&(V=Ee))}}V===null?(V=65533,ie=1):V>65535&&(V-=65536,M.push(V>>>10&1023|55296),V=56320|1023&V),M.push(V),T+=ie}return function(x){let V=x.length;if(V<=ce)return String.fromCharCode.apply(String,x);let ie="",se=0;for(;se<V;)ie+=String.fromCharCode.apply(String,x.slice(se,se+=ce));return ie}(M)}t.kMaxLength=O,u.TYPED_ARRAY_SUPPORT=function(){try{let a=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(a,s),a.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(a,s,h){return p(a,s,h)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(a,s,h){return function(M,T,x){return I(M),M<=0?b(M):T!==void 0?typeof x=="string"?b(M).fill(T,x):b(M).fill(T):b(M)}(a,s,h)},u.allocUnsafe=function(a){return P(a)},u.allocUnsafeSlow=function(a){return P(a)},u.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==u.prototype},u.compare=function(a,s){if(fe(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),fe(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(a)||!u.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===s)return 0;let h=a.length,M=s.length;for(let T=0,x=Math.min(h,M);T<x;++T)if(a[T]!==s[T]){h=a[T],M=s[T];break}return h<M?-1:M<h?1:0},u.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(a,s){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return u.alloc(0);let h;if(s===void 0)for(s=0,h=0;h<a.length;++h)s+=a[h].length;let M=u.allocUnsafe(s),T=0;for(h=0;h<a.length;++h){let x=a[h];if(fe(x,Uint8Array))T+x.length>M.length?(u.isBuffer(x)||(x=u.from(x)),x.copy(M,T)):Uint8Array.prototype.set.call(M,x,T);else{if(!u.isBuffer(x))throw new TypeError('"list" argument must be an Array of Buffers');x.copy(M,T)}T+=x.length}return M},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){let a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<a;s+=2)_(this,s,s+1);return this},u.prototype.swap32=function(){let a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<a;s+=4)_(this,s,s+3),_(this,s+1,s+2);return this},u.prototype.swap64=function(){let a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<a;s+=8)_(this,s,s+7),_(this,s+1,s+6),_(this,s+2,s+5),_(this,s+3,s+4);return this},u.prototype.toString=function(){let a=this.length;return a===0?"":arguments.length===0?J(this,0,a):S.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(a){if(!u.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||u.compare(this,a)===0},u.prototype.inspect=function(){let a="",s=t.INSPECT_MAX_BYTES;return a=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(a+=" ... "),"<Buffer "+a+">"},y&&(u.prototype[y]=u.prototype.inspect),u.prototype.compare=function(a,s,h,M,T){if(fe(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(s===void 0&&(s=0),h===void 0&&(h=a?a.length:0),M===void 0&&(M=0),T===void 0&&(T=this.length),s<0||h>a.length||M<0||T>this.length)throw new RangeError("out of range index");if(M>=T&&s>=h)return 0;if(M>=T)return-1;if(s>=h)return 1;if(this===a)return 0;let x=(T>>>=0)-(M>>>=0),V=(h>>>=0)-(s>>>=0),ie=Math.min(x,V),se=this.slice(M,T),me=a.slice(s,h);for(let be=0;be<ie;++be)if(se[be]!==me[be]){x=se[be],V=me[be];break}return x<V?-1:V<x?1:0},u.prototype.includes=function(a,s,h){return this.indexOf(a,s,h)!==-1},u.prototype.indexOf=function(a,s,h){return B(this,a,s,h,!0)},u.prototype.lastIndexOf=function(a,s,h){return B(this,a,s,h,!1)},u.prototype.write=function(a,s,h,M){if(s===void 0)M="utf8",h=this.length,s=0;else if(h===void 0&&typeof s=="string")M=s,h=this.length,s=0;else{if(!isFinite(s))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");s>>>=0,isFinite(h)?(h>>>=0,M===void 0&&(M="utf8")):(M=h,h=void 0)}let T=this.length-s;if((h===void 0||h>T)&&(h=T),a.length>0&&(h<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");let x=!1;for(;;)switch(M){case"hex":return $(this,a,s,h);case"utf8":case"utf-8":return F(this,a,s,h);case"ascii":case"latin1":case"binary":return C(this,a,s,h);case"base64":return Y(this,a,s,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,a,s,h);default:if(x)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),x=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let ce=4096;function Q(a,s,h){let M="";h=Math.min(a.length,h);for(let T=s;T<h;++T)M+=String.fromCharCode(127&a[T]);return M}function q(a,s,h){let M="";h=Math.min(a.length,h);for(let T=s;T<h;++T)M+=String.fromCharCode(a[T]);return M}function oe(a,s,h){let M=a.length;(!s||s<0)&&(s=0),(!h||h<0||h>M)&&(h=M);let T="";for(let x=s;x<h;++x)T+=Ae[a[x]];return T}function k(a,s,h){let M=a.slice(s,h),T="";for(let x=0;x<M.length-1;x+=2)T+=String.fromCharCode(M[x]+256*M[x+1]);return T}function A(a,s,h){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+s>h)throw new RangeError("Trying to access beyond buffer length")}function j(a,s,h,M,T,x){if(!u.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>T||s<x)throw new RangeError('"value" argument is out of bounds');if(h+M>a.length)throw new RangeError("Index out of range")}function L(a,s,h,M,T){D(s,M,T,a,h,7);let x=Number(s&BigInt(4294967295));a[h++]=x,x>>=8,a[h++]=x,x>>=8,a[h++]=x,x>>=8,a[h++]=x;let V=Number(s>>BigInt(32)&BigInt(4294967295));return a[h++]=V,V>>=8,a[h++]=V,V>>=8,a[h++]=V,V>>=8,a[h++]=V,h}function K(a,s,h,M,T){D(s,M,T,a,h,7);let x=Number(s&BigInt(4294967295));a[h+7]=x,x>>=8,a[h+6]=x,x>>=8,a[h+5]=x,x>>=8,a[h+4]=x;let V=Number(s>>BigInt(32)&BigInt(4294967295));return a[h+3]=V,V>>=8,a[h+2]=V,V>>=8,a[h+1]=V,V>>=8,a[h]=V,h+8}function G(a,s,h,M,T,x){if(h+M>a.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function z(a,s,h,M,T){return s=+s,h>>>=0,T||G(a,0,h,4),f.write(a,s,h,M,23,4),h+4}function re(a,s,h,M,T){return s=+s,h>>>=0,T||G(a,0,h,8),f.write(a,s,h,M,52,8),h+8}u.prototype.slice=function(a,s){let h=this.length;(a=~~a)<0?(a+=h)<0&&(a=0):a>h&&(a=h),(s=s===void 0?h:~~s)<0?(s+=h)<0&&(s=0):s>h&&(s=h),s<a&&(s=a);let M=this.subarray(a,s);return Object.setPrototypeOf(M,u.prototype),M},u.prototype.readUintLE=u.prototype.readUIntLE=function(a,s,h){a>>>=0,s>>>=0,h||A(a,s,this.length);let M=this[a],T=1,x=0;for(;++x<s&&(T*=256);)M+=this[a+x]*T;return M},u.prototype.readUintBE=u.prototype.readUIntBE=function(a,s,h){a>>>=0,s>>>=0,h||A(a,s,this.length);let M=this[a+--s],T=1;for(;s>0&&(T*=256);)M+=this[a+--s]*T;return M},u.prototype.readUint8=u.prototype.readUInt8=function(a,s){return a>>>=0,s||A(a,1,this.length),this[a]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(a,s){return a>>>=0,s||A(a,2,this.length),this[a]|this[a+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(a,s){return a>>>=0,s||A(a,2,this.length),this[a]<<8|this[a+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(a,s){return a>>>=0,s||A(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(a,s){return a>>>=0,s||A(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},u.prototype.readBigUInt64LE=ne(function(a){E(a>>>=0,"offset");let s=this[a],h=this[a+7];s!==void 0&&h!==void 0||W(a,this.length-8);let M=s+256*this[++a]+65536*this[++a]+this[++a]*2**24,T=this[++a]+256*this[++a]+65536*this[++a]+h*2**24;return BigInt(M)+(BigInt(T)<<BigInt(32))}),u.prototype.readBigUInt64BE=ne(function(a){E(a>>>=0,"offset");let s=this[a],h=this[a+7];s!==void 0&&h!==void 0||W(a,this.length-8);let M=s*2**24+65536*this[++a]+256*this[++a]+this[++a],T=this[++a]*2**24+65536*this[++a]+256*this[++a]+h;return(BigInt(M)<<BigInt(32))+BigInt(T)}),u.prototype.readIntLE=function(a,s,h){a>>>=0,s>>>=0,h||A(a,s,this.length);let M=this[a],T=1,x=0;for(;++x<s&&(T*=256);)M+=this[a+x]*T;return T*=128,M>=T&&(M-=Math.pow(2,8*s)),M},u.prototype.readIntBE=function(a,s,h){a>>>=0,s>>>=0,h||A(a,s,this.length);let M=s,T=1,x=this[a+--M];for(;M>0&&(T*=256);)x+=this[a+--M]*T;return T*=128,x>=T&&(x-=Math.pow(2,8*s)),x},u.prototype.readInt8=function(a,s){return a>>>=0,s||A(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},u.prototype.readInt16LE=function(a,s){a>>>=0,s||A(a,2,this.length);let h=this[a]|this[a+1]<<8;return 32768&h?4294901760|h:h},u.prototype.readInt16BE=function(a,s){a>>>=0,s||A(a,2,this.length);let h=this[a+1]|this[a]<<8;return 32768&h?4294901760|h:h},u.prototype.readInt32LE=function(a,s){return a>>>=0,s||A(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},u.prototype.readInt32BE=function(a,s){return a>>>=0,s||A(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},u.prototype.readBigInt64LE=ne(function(a){E(a>>>=0,"offset");let s=this[a],h=this[a+7];s!==void 0&&h!==void 0||W(a,this.length-8);let M=this[a+4]+256*this[a+5]+65536*this[a+6]+(h<<24);return(BigInt(M)<<BigInt(32))+BigInt(s+256*this[++a]+65536*this[++a]+this[++a]*2**24)}),u.prototype.readBigInt64BE=ne(function(a){E(a>>>=0,"offset");let s=this[a],h=this[a+7];s!==void 0&&h!==void 0||W(a,this.length-8);let M=(s<<24)+65536*this[++a]+256*this[++a]+this[++a];return(BigInt(M)<<BigInt(32))+BigInt(this[++a]*2**24+65536*this[++a]+256*this[++a]+h)}),u.prototype.readFloatLE=function(a,s){return a>>>=0,s||A(a,4,this.length),f.read(this,a,!0,23,4)},u.prototype.readFloatBE=function(a,s){return a>>>=0,s||A(a,4,this.length),f.read(this,a,!1,23,4)},u.prototype.readDoubleLE=function(a,s){return a>>>=0,s||A(a,8,this.length),f.read(this,a,!0,52,8)},u.prototype.readDoubleBE=function(a,s){return a>>>=0,s||A(a,8,this.length),f.read(this,a,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(a,s,h,M){a=+a,s>>>=0,h>>>=0,M||j(this,a,s,h,Math.pow(2,8*h)-1,0);let T=1,x=0;for(this[s]=255&a;++x<h&&(T*=256);)this[s+x]=a/T&255;return s+h},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(a,s,h,M){a=+a,s>>>=0,h>>>=0,M||j(this,a,s,h,Math.pow(2,8*h)-1,0);let T=h-1,x=1;for(this[s+T]=255&a;--T>=0&&(x*=256);)this[s+T]=a/x&255;return s+h},u.prototype.writeUint8=u.prototype.writeUInt8=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,1,255,0),this[s]=255&a,s+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,2,65535,0),this[s]=255&a,this[s+1]=a>>>8,s+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,2,65535,0),this[s]=a>>>8,this[s+1]=255&a,s+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,4,4294967295,0),this[s+3]=a>>>24,this[s+2]=a>>>16,this[s+1]=a>>>8,this[s]=255&a,s+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,4,4294967295,0),this[s]=a>>>24,this[s+1]=a>>>16,this[s+2]=a>>>8,this[s+3]=255&a,s+4},u.prototype.writeBigUInt64LE=ne(function(a,s=0){return L(this,a,s,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=ne(function(a,s=0){return K(this,a,s,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(a,s,h,M){if(a=+a,s>>>=0,!M){let ie=Math.pow(2,8*h-1);j(this,a,s,h,ie-1,-ie)}let T=0,x=1,V=0;for(this[s]=255&a;++T<h&&(x*=256);)a<0&&V===0&&this[s+T-1]!==0&&(V=1),this[s+T]=(a/x>>0)-V&255;return s+h},u.prototype.writeIntBE=function(a,s,h,M){if(a=+a,s>>>=0,!M){let ie=Math.pow(2,8*h-1);j(this,a,s,h,ie-1,-ie)}let T=h-1,x=1,V=0;for(this[s+T]=255&a;--T>=0&&(x*=256);)a<0&&V===0&&this[s+T+1]!==0&&(V=1),this[s+T]=(a/x>>0)-V&255;return s+h},u.prototype.writeInt8=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,1,127,-128),a<0&&(a=255+a+1),this[s]=255&a,s+1},u.prototype.writeInt16LE=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,2,32767,-32768),this[s]=255&a,this[s+1]=a>>>8,s+2},u.prototype.writeInt16BE=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,2,32767,-32768),this[s]=a>>>8,this[s+1]=255&a,s+2},u.prototype.writeInt32LE=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,4,2147483647,-2147483648),this[s]=255&a,this[s+1]=a>>>8,this[s+2]=a>>>16,this[s+3]=a>>>24,s+4},u.prototype.writeInt32BE=function(a,s,h){return a=+a,s>>>=0,h||j(this,a,s,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[s]=a>>>24,this[s+1]=a>>>16,this[s+2]=a>>>8,this[s+3]=255&a,s+4},u.prototype.writeBigInt64LE=ne(function(a,s=0){return L(this,a,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=ne(function(a,s=0){return K(this,a,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(a,s,h){return z(this,a,s,!0,h)},u.prototype.writeFloatBE=function(a,s,h){return z(this,a,s,!1,h)},u.prototype.writeDoubleLE=function(a,s,h){return re(this,a,s,!0,h)},u.prototype.writeDoubleBE=function(a,s,h){return re(this,a,s,!1,h)},u.prototype.copy=function(a,s,h,M){if(!u.isBuffer(a))throw new TypeError("argument should be a Buffer");if(h||(h=0),M||M===0||(M=this.length),s>=a.length&&(s=a.length),s||(s=0),M>0&&M<h&&(M=h),M===h||a.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),a.length-s<M-h&&(M=a.length-s+h);let T=M-h;return this===a&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,h,M):Uint8Array.prototype.set.call(a,this.subarray(h,M),s),T},u.prototype.fill=function(a,s,h,M){if(typeof a=="string"){if(typeof s=="string"?(M=s,s=0,h=this.length):typeof h=="string"&&(M=h,h=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!u.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(a.length===1){let x=a.charCodeAt(0);(M==="utf8"&&x<128||M==="latin1")&&(a=x)}}else typeof a=="number"?a&=255:typeof a=="boolean"&&(a=Number(a));if(s<0||this.length<s||this.length<h)throw new RangeError("Out of range index");if(h<=s)return this;let T;if(s>>>=0,h=h===void 0?this.length:h>>>0,a||(a=0),typeof a=="number")for(T=s;T<h;++T)this[T]=a;else{let x=u.isBuffer(a)?a:u.from(a,M),V=x.length;if(V===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(T=0;T<h-s;++T)this[T+s]=x[T%V]}return this};let te={};function ue(a,s,h){te[a]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(M){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:M,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}function le(a){let s="",h=a.length,M=a[0]==="-"?1:0;for(;h>=M+4;h-=3)s=`_${a.slice(h-3,h)}${s}`;return`${a.slice(0,h)}${s}`}function D(a,s,h,M,T,x){if(a>h||a<s){let V=typeof s=="bigint"?"n":"",ie;throw ie=x>3?s===0||s===BigInt(0)?`>= 0${V} and < 2${V} ** ${8*(x+1)}${V}`:`>= -(2${V} ** ${8*(x+1)-1}${V}) and < 2 ** ${8*(x+1)-1}${V}`:`>= ${s}${V} and <= ${h}${V}`,new te.ERR_OUT_OF_RANGE("value",ie,a)}(function(V,ie,se){E(ie,"offset"),V[ie]!==void 0&&V[ie+se]!==void 0||W(ie,V.length-(se+1))})(M,T,x)}function E(a,s){if(typeof a!="number")throw new te.ERR_INVALID_ARG_TYPE(s,"number",a)}function W(a,s,h){throw Math.floor(a)!==a?(E(a,h),new te.ERR_OUT_OF_RANGE(h||"offset","an integer",a)):s<0?new te.ERR_BUFFER_OUT_OF_BOUNDS:new te.ERR_OUT_OF_RANGE(h||"offset",`>= ${h?1:0} and <= ${s}`,a)}ue("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ue("ERR_INVALID_ARG_TYPE",function(a,s){return`The "${a}" argument must be of type number. Received type ${typeof s}`},TypeError),ue("ERR_OUT_OF_RANGE",function(a,s,h){let M=`The value of "${a}" is out of range.`,T=h;return Number.isInteger(h)&&Math.abs(h)>2**32?T=le(String(h)):typeof h=="bigint"&&(T=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(T=le(T)),T+="n"),M+=` It must be ${s}. Received ${T}`,M},RangeError);let X=/[^+/0-9A-Za-z-_]/g;function ve(a,s){let h;s=s||1/0;let M=a.length,T=null,x=[];for(let V=0;V<M;++V){if(h=a.charCodeAt(V),h>55295&&h<57344){if(!T){if(h>56319){(s-=3)>-1&&x.push(239,191,189);continue}if(V+1===M){(s-=3)>-1&&x.push(239,191,189);continue}T=h;continue}if(h<56320){(s-=3)>-1&&x.push(239,191,189),T=h;continue}h=65536+(T-55296<<10|h-56320)}else T&&(s-=3)>-1&&x.push(239,191,189);if(T=null,h<128){if((s-=1)<0)break;x.push(h)}else if(h<2048){if((s-=2)<0)break;x.push(h>>6|192,63&h|128)}else if(h<65536){if((s-=3)<0)break;x.push(h>>12|224,h>>6&63|128,63&h|128)}else{if(!(h<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;x.push(h>>18|240,h>>12&63|128,h>>6&63|128,63&h|128)}}return x}function Oe(a){return o.toByteArray(function(s){if((s=(s=s.split("=")[0]).trim().replace(X,"")).length<2)return"";for(;s.length%4!=0;)s+="=";return s}(a))}function ee(a,s,h,M){let T;for(T=0;T<M&&!(T+h>=s.length||T>=a.length);++T)s[T+h]=a[T];return T}function fe(a,s){return a instanceof s||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===s.name}function de(a){return a!=a}let Ae=function(){let a="0123456789abcdef",s=new Array(256);for(let h=0;h<16;++h){let M=16*h;for(let T=0;T<16;++T)s[M+T]=a[h]+a[T]}return s}();function ne(a){return typeof BigInt=="undefined"?he:a}function he(){throw new Error("BigInt not supported")}},141:(e,t,n)=>{"use strict";t.Commented=n(20),t.Diagnose=n(694),t.Decoder=n(774),t.Encoder=n(666),t.Simple=n(32),t.Tagged=n(785),t.Map=n(70),t.UI=t.Commented.comment,t.fI=t.Decoder.decodeAll,t.h8=t.Decoder.decodeFirst,t.cc=t.Decoder.decodeAllSync,t.$u=t.Decoder.decodeFirstSync,t.M=t.Diagnose.diagnose,t.cv=t.Encoder.encode,t.N2=t.Encoder.encodeCanonical,t.TG=t.Encoder.encodeOne,t.WR=t.Encoder.encodeAsync,t.Jx=t.Decoder.decodeFirstSync,t.ww={decode:t.Decoder.decodeFirstSync,encode:t.Encoder.encode,buffer:!0,name:"cbor"},t.mc=function(){t.Encoder.reset(),t.Tagged.reset()}},20:(e,t,n)=>{"use strict";let o=n(830),f=n(873),y=n(774),O=n(202),{MT:b,NUMBYTES:u,SYMS:p}=n(66),{Buffer:I}=n(764);function P(w){return w>1?"s":""}class g extends o.Transform{constructor(v={}){let{depth:m=1,max_depth:S=10,no_summary:_=!1,tags:B={},preferWeb:R,encoding:$,...F}=v;super({...F,readableObjectMode:!1,writableObjectMode:!1}),this.depth=m,this.max_depth=S,this.all=new O,B[24]||(B[24]=this._tag_24.bind(this)),this.parser=new y({tags:B,max_depth:S,preferWeb:R,encoding:$}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),_||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(v){let m=new g({depth:this.depth+1,no_summary:!0});m.on("data",S=>this.push(S)),m.on("error",S=>this.emit("error",S)),m.end(v)}_transform(v,m,S){this.parser.write(v,m,S)}_flush(v){return this.parser._flush(v)}static comment(v,m={},S=null){if(v==null)throw new Error("input required");({options:m,cb:S}=function(C,Y){switch(typeof C){case"function":return{options:{},cb:C};case"string":return{options:{encoding:C},cb:Y};case"number":return{options:{max_depth:C},cb:Y};case"object":return{options:C||{},cb:Y};default:throw new TypeError("Unknown option type")}}(m,S));let _=new O,{encoding:B="hex",...R}=m,$=new g(R),F=null;return typeof S=="function"?($.on("end",()=>{S(null,_.toString("utf8"))}),$.on("error",S)):F=new Promise((C,Y)=>{$.on("end",()=>{C(_.toString("utf8"))}),$.on("error",Y)}),$.pipe(_),f.guessEncoding(v,B).pipe($),F}_on_error(v){this.push("ERROR: "),this.push(v.toString()),this.push(`
`)}_on_read(v){this.all.write(v);let m=v.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(m);let S=2*(this.max_depth-this.depth)-m.length;S<1&&(S=1),this.push(new Array(S+1).join(" ")),this.push("-- ")}_on_more(v,m,S,_){let B="";switch(this.depth++,v){case b.POS_INT:B="Positive number,";break;case b.NEG_INT:B="Negative number,";break;case b.ARRAY:B="Array, length";break;case b.MAP:B="Map, count";break;case b.BYTE_STRING:B="Bytes, length";break;case b.UTF8_STRING:B="String, length";break;case b.SIMPLE_FLOAT:B=m===1?"Simple value,":"Float,"}this.push(`${B} next ${m} byte${P(m)}
`)}_on_start_string(v,m,S,_){let B="";switch(this.depth++,v){case b.BYTE_STRING:B=`Bytes, length: ${m}`;break;case b.UTF8_STRING:B=`String, length: ${m.toString()}`}this.push(`${B}
`)}_on_start(v,m,S,_){switch(this.depth++,S){case b.ARRAY:this.push(`[${_}], `);break;case b.MAP:_%2?this.push(`{Val:${Math.floor(_/2)}}, `):this.push(`{Key:${Math.floor(_/2)}}, `)}switch(v){case b.TAG:this.push(`Tag #${m}`),m===24&&this.push(" Encoded CBOR data item");break;case b.ARRAY:m===p.STREAM?this.push("Array (streaming)"):this.push(`Array, ${m} item${P(m)}`);break;case b.MAP:m===p.STREAM?this.push("Map (streaming)"):this.push(`Map, ${m} pair${P(m)}`);break;case b.BYTE_STRING:this.push("Bytes (streaming)");break;case b.UTF8_STRING:this.push("String (streaming)")}this.push(`
`)}_on_stop(v){this.depth--}_on_value(v,m,S,_){if(v!==p.BREAK)switch(m){case b.ARRAY:this.push(`[${S}], `);break;case b.MAP:S%2?this.push(`{Val:${Math.floor(S/2)}}, `):this.push(`{Key:${Math.floor(S/2)}}, `)}let B=f.cborValueToString(v,-1/0);switch(typeof v=="string"||I.isBuffer(v)?(v.length>0&&(this.push(B),this.push(`
`)),this.depth--):(this.push(B),this.push(`
`)),_){case u.ONE:case u.TWO:case u.FOUR:case u.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}}e.exports=g},66:(e,t)=>{"use strict";t.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},t.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},t.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},t.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},t.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},t.SHIFT32=4294967296,t.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(t.SHIFT32)}},774:(e,t,n)=>{"use strict";let o=n(71),f=n(785),y=n(32),O=n(873),b=n(202),u=(n(830),n(66)),{MT:p,NUMBYTES:I,SYMS:P,BI:g}=u,{Buffer:w}=n(764),v=Symbol("count"),m=Symbol("major type"),S=Symbol("error"),_=Symbol("not found");function B(Y,N,H){let J=[];return J[v]=H,J[P.PARENT]=Y,J[m]=N,J}function R(Y,N){let H=new b;return H[v]=-1,H[P.PARENT]=Y,H[m]=N,H}class $ extends Error{constructor(N,H){super(`Unexpected data: 0x${N.toString(16)}`),this.name="UnexpectedDataError",this.byte=N,this.value=H}}function F(Y,N){switch(typeof Y){case"function":return{options:{},cb:Y};case"string":return{options:{encoding:Y},cb:N};case"object":return{options:Y||{},cb:N};default:throw new TypeError("Unknown option type")}}class C extends o{constructor(N={}){let{tags:H={},max_depth:J=-1,preferWeb:ce=!1,required:Q=!1,encoding:q="hex",extendedResults:oe=!1,preventDuplicateKeys:k=!1,...A}=N;super({defaultEncoding:q,...A}),this.running=!0,this.max_depth=J,this.tags=H,this.preferWeb=ce,this.extendedResults=oe,this.required=Q,this.preventDuplicateKeys=k,oe&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new b)}static nullcheck(N){switch(N){case P.NULL:return null;case P.UNDEFINED:return;case _:throw new Error("Value not found");default:return N}}static decodeFirstSync(N,H={}){if(N==null)throw new TypeError("input required");({options:H}=F(H));let{encoding:J="hex",...ce}=H,Q=new C(ce),q=O.guessEncoding(N,J),oe=Q._parse(),k=oe.next();for(;!k.done;){let j=q.read(k.value);if(j==null||j.length!==k.value)throw new Error("Insufficient data");Q.extendedResults&&Q.valueBytes.write(j),k=oe.next(j)}let A=null;if(Q.extendedResults)A=k.value,A.unused=q.read();else if(A=C.nullcheck(k.value),q.length>0){let j=q.read(1);throw q.unshift(j),new $(j[0],A)}return A}static decodeAllSync(N,H={}){if(N==null)throw new TypeError("input required");({options:H}=F(H));let{encoding:J="hex",...ce}=H,Q=new C(ce),q=O.guessEncoding(N,J),oe=[];for(;q.length>0;){let k=Q._parse(),A=k.next();for(;!A.done;){let j=q.read(A.value);if(j==null||j.length!==A.value)throw new Error("Insufficient data");Q.extendedResults&&Q.valueBytes.write(j),A=k.next(j)}oe.push(C.nullcheck(A.value))}return oe}static decodeFirst(N,H={},J=null){if(N==null)throw new TypeError("input required");({options:H,cb:J}=F(H,J));let{encoding:ce="hex",required:Q=!1,...q}=H,oe=new C(q),k=_,A=O.guessEncoding(N,ce),j=new Promise((L,K)=>{oe.on("data",G=>{k=C.nullcheck(G),oe.close()}),oe.once("error",G=>oe.extendedResults&&G instanceof $?(k.unused=oe.bs.slice(),L(k)):(k!==_&&(G.value=k),k=S,oe.close(),K(G))),oe.once("end",()=>{switch(k){case _:return Q?K(new Error("No CBOR found")):L(k);case S:return;default:return L(k)}})});return typeof J=="function"&&j.then(L=>J(null,L),J),A.pipe(oe),j}static decodeAll(N,H={},J=null){if(N==null)throw new TypeError("input required");({options:H,cb:J}=F(H,J));let{encoding:ce="hex",...Q}=H,q=new C(Q),oe=[];q.on("data",A=>oe.push(C.nullcheck(A)));let k=new Promise((A,j)=>{q.on("error",j),q.on("end",()=>A(oe))});return typeof J=="function"&&k.then(A=>J(void 0,A),A=>J(A,void 0)),O.guessEncoding(N,ce).pipe(q),k}close(){this.running=!1,this.__fresh=!0}_onRead(N){this.valueBytes.write(N)}*_parse(){let N=null,H=0,J=null;for(;;){if(this.max_depth>=0&&H>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);let[ce]=yield 1;if(!this.running)throw this.bs.unshift(w.from([ce])),new $(ce);let Q=ce>>5,q=31&ce,oe=N==null?void 0:N[m],k=N==null?void 0:N.length;switch(q){case I.ONE:this.emit("more-bytes",Q,1,oe,k),[J]=yield 1;break;case I.TWO:case I.FOUR:case I.EIGHT:{let j=1<<q-24;this.emit("more-bytes",Q,j,oe,k);let L=yield j;J=Q===p.SIMPLE_FLOAT?L:O.parseCBORint(q,L);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${q}`);case I.INDEFINITE:switch(Q){case p.POS_INT:case p.NEG_INT:case p.TAG:throw new Error(`Invalid indefinite encoding for MT ${Q}`)}J=-1;break;default:J=q}switch(Q){case p.POS_INT:break;case p.NEG_INT:J=J===Number.MAX_SAFE_INTEGER?g.NEG_MAX:typeof J=="bigint"?g.MINUS_ONE-J:-1-J;break;case p.BYTE_STRING:case p.UTF8_STRING:switch(J){case 0:this.emit("start-string",Q,J,oe,k),J=Q===p.UTF8_STRING?"":this.preferWeb?new Uint8Array(0):w.allocUnsafe(0);break;case-1:this.emit("start",Q,P.STREAM,oe,k),N=R(N,Q),H++;continue;default:this.emit("start-string",Q,J,oe,k),J=yield J,Q===p.UTF8_STRING?J=O.utf8(J):this.preferWeb&&(J=new Uint8Array(J.buffer,J.byteOffset,J.length))}break;case p.ARRAY:case p.MAP:switch(J){case 0:J=Q===p.MAP?{}:[];break;case-1:this.emit("start",Q,P.STREAM,oe,k),N=B(N,Q,-1),H++;continue;default:this.emit("start",Q,J,oe,k),N=B(N,Q,J*(Q-3)),H++;continue}break;case p.TAG:this.emit("start",Q,J,oe,k),N=B(N,Q,1),N.push(J),H++;continue;case p.SIMPLE_FLOAT:if(typeof J=="number"){if(q===I.ONE&&J<32)throw new Error(`Invalid two-byte encoding of simple value ${J}`);let j=N!=null;J=y.decode(J,j,j&&N[v]<0)}else J=O.parseCBORfloat(J)}this.emit("value",J,oe,k,q);let A=!1;for(;N!=null;){if(J===P.BREAK)N[v]=1;else if(Array.isArray(N))N.push(J);else{let L=N[m];if(L!=null&&L!==Q)throw this.running=!1,new Error("Invalid major type in indefinite encoding");N.write(J)}if(--N[v]!=0){A=!0;break}if(--H,delete N[v],Array.isArray(N))switch(N[m]){case p.ARRAY:J=N;break;case p.MAP:{let L=!0;if(N.length%2!=0)throw new Error(`Invalid map length: ${N.length}`);for(let K=0,G=N.length;K<G;K+=2)if(typeof N[K]!="string"||N[K]==="__proto__"){L=!1;break}if(L){J={};for(let K=0,G=N.length;K<G;K+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(J,N[K]))throw new Error("Duplicate keys in a map");J[N[K]]=N[K+1]}}else{J=new Map;for(let K=0,G=N.length;K<G;K+=2){if(this.preventDuplicateKeys&&J.has(N[K]))throw new Error("Duplicate keys in a map");J.set(N[K],N[K+1])}}break}case p.TAG:J=new f(N[0],N[1]).convert(this.tags)}else if(N instanceof b)switch(N[m]){case p.BYTE_STRING:J=N.slice(),this.preferWeb&&(J=new Uint8Array(J.buffer,J.byteOffset,J.length));break;case p.UTF8_STRING:J=N.toString("utf-8")}this.emit("stop",N[m]);let j=N;N=N[P.PARENT],delete j[P.PARENT],delete j[m]}if(!A){if(this.extendedResults){let j=this.valueBytes.slice(),L={value:C.nullcheck(J),bytes:j,length:j.length};return this.valueBytes=new b,L}return J}}}}C.NOT_FOUND=_,e.exports=C},694:(e,t,n)=>{"use strict";let o=n(830),f=n(774),y=n(873),O=n(202),{MT:b,SYMS:u}=n(66);class p extends o.Transform{constructor(P={}){let{separator:g=`
`,stream_errors:w=!1,tags:v,max_depth:m,preferWeb:S,encoding:_,...B}=P;super({...B,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=g,this.stream_errors=w,this.parser=new f({tags:v,max_depth:m,preferWeb:S,encoding:_}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(P,g,w){return this.parser.write(P,g,w)}_flush(P){return this.parser._flush(g=>this.stream_errors?(g&&this._on_error(g),P()):P(g))}static diagnose(P,g={},w=null){if(P==null)throw new TypeError("input required");({options:g,cb:w}=function(R,$){switch(typeof R){case"function":return{options:{},cb:R};case"string":return{options:{encoding:R},cb:$};case"object":return{options:R||{},cb:$};default:throw new TypeError("Unknown option type")}}(g,w));let{encoding:v="hex",...m}=g,S=new O,_=new p(m),B=null;return typeof w=="function"?(_.on("end",()=>w(null,S.toString("utf8"))),_.on("error",w)):B=new Promise((R,$)=>{_.on("end",()=>R(S.toString("utf8"))),_.on("error",$)}),_.pipe(S),y.guessEncoding(P,v).pipe(_),B}_on_error(P){this.stream_errors?this.push(P.toString()):this.emit("error",P)}_on_more(P,g,w,v){P===b.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[g])}_fore(P,g){switch(P){case b.BYTE_STRING:case b.UTF8_STRING:case b.ARRAY:g>0&&this.push(", ");break;case b.MAP:g>0&&(g%2?this.push(": "):this.push(", "))}}_on_value(P,g,w){if(P===u.BREAK)return;this._fore(g,w);let v=this.float_bytes;this.float_bytes=-1,this.push(y.cborValueToString(P,v))}_on_start(P,g,w,v){switch(this._fore(w,v),P){case b.TAG:this.push(`${g}(`);break;case b.ARRAY:this.push("[");break;case b.MAP:this.push("{");break;case b.BYTE_STRING:case b.UTF8_STRING:this.push("(")}g===u.STREAM&&this.push("_ ")}_on_stop(P){switch(P){case b.TAG:this.push(")");break;case b.ARRAY:this.push("]");break;case b.MAP:this.push("}");break;case b.BYTE_STRING:case b.UTF8_STRING:this.push(")")}}_on_data(){this.push(this.separator)}}e.exports=p},666:(e,t,n)=>{"use strict";let o=n(830),f=n(202),y=n(873),O=n(66),{MT:b,NUMBYTES:u,SHIFT32:p,SIMPLE:I,SYMS:P,TAG:g,BI:w}=O,{Buffer:v}=n(764),m=b.SIMPLE_FLOAT<<5|u.TWO,S=b.SIMPLE_FLOAT<<5|u.FOUR,_=b.SIMPLE_FLOAT<<5|u.EIGHT,B=b.SIMPLE_FLOAT<<5|I.TRUE,R=b.SIMPLE_FLOAT<<5|I.FALSE,$=b.SIMPLE_FLOAT<<5|I.UNDEFINED,F=b.SIMPLE_FLOAT<<5|I.NULL,C=v.from([255]),Y=v.from("f97e00","hex"),N=v.from("f9fc00","hex"),H=v.from("f97c00","hex"),J=v.from("f98000","hex"),ce={},Q={};class q extends o.Transform{constructor(k={}){let{canonical:A=!1,encodeUndefined:j,disallowUndefinedKeys:L=!1,dateType:K="number",collapseBigIntegers:G=!1,detectLoops:z=!1,omitUndefinedProperties:re=!1,genTypes:te=[],...ue}=k;if(super({...ue,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=A,this.encodeUndefined=j,this.disallowUndefinedKeys=L,this.dateType=function(le){if(!le)return"number";switch(le.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${le}"`)}(K),this.collapseBigIntegers=!!this.canonical||G,this.detectLoops=void 0,typeof z=="boolean")z&&(this.detectLoops=new WeakSet);else{if(!(z instanceof WeakSet))throw new TypeError("detectLoops must be boolean or WeakSet");this.detectLoops=z}if(this.omitUndefinedProperties=re,this.semanticTypes={...q.SEMANTIC_TYPES},Array.isArray(te))for(let le=0,D=te.length;le<D;le+=2)this.addSemanticType(te[le],te[le+1]);else for(let[le,D]of Object.entries(te))this.addSemanticType(le,D)}_transform(k,A,j){return j(this.pushAny(k)===!1?new Error("Push Error"):void 0)}_flush(k){return k()}_pushUInt8(k){let A=v.allocUnsafe(1);return A.writeUInt8(k,0),this.push(A)}_pushUInt16BE(k){let A=v.allocUnsafe(2);return A.writeUInt16BE(k,0),this.push(A)}_pushUInt32BE(k){let A=v.allocUnsafe(4);return A.writeUInt32BE(k,0),this.push(A)}_pushFloatBE(k){let A=v.allocUnsafe(4);return A.writeFloatBE(k,0),this.push(A)}_pushDoubleBE(k){let A=v.allocUnsafe(8);return A.writeDoubleBE(k,0),this.push(A)}_pushNaN(){return this.push(Y)}_pushInfinity(k){let A=k<0?N:H;return this.push(A)}_pushFloat(k){if(this.canonical){let A=v.allocUnsafe(2);if(y.writeHalf(A,k))return this._pushUInt8(m)&&this.push(A)}return Math.fround(k)===k?this._pushUInt8(S)&&this._pushFloatBE(k):this._pushUInt8(_)&&this._pushDoubleBE(k)}_pushInt(k,A,j){let L=A<<5;if(k<24)return this._pushUInt8(L|k);if(k<=255)return this._pushUInt8(L|u.ONE)&&this._pushUInt8(k);if(k<=65535)return this._pushUInt8(L|u.TWO)&&this._pushUInt16BE(k);if(k<=4294967295)return this._pushUInt8(L|u.FOUR)&&this._pushUInt32BE(k);let K=Number.MAX_SAFE_INTEGER;return A===b.NEG_INT&&K--,k<=K?this._pushUInt8(L|u.EIGHT)&&this._pushUInt32BE(Math.floor(k/p))&&this._pushUInt32BE(k%p):A===b.NEG_INT?this._pushFloat(j):this._pushFloat(k)}_pushIntNum(k){return Object.is(k,-0)?this.push(J):k<0?this._pushInt(-k-1,b.NEG_INT,k):this._pushInt(k,b.POS_INT)}_pushNumber(k){return isNaN(k)?this._pushNaN():isFinite(k)?Math.round(k)===k?this._pushIntNum(k):this._pushFloat(k):this._pushInfinity(k)}_pushString(k){let A=v.byteLength(k,"utf8");return this._pushInt(A,b.UTF8_STRING)&&this.push(k,"utf8")}_pushBoolean(k){return this._pushUInt8(k?B:R)}_pushUndefined(k){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8($);case"function":return this.pushAny(this.encodeUndefined(k));case"object":{let A=y.bufferishToBuffer(this.encodeUndefined);if(A)return this.push(A)}}return this.pushAny(this.encodeUndefined)}_pushNull(k){return this._pushUInt8(F)}_pushTag(k){return this._pushInt(k,b.TAG)}_pushJSBigint(k){let A=b.POS_INT,j=g.POS_BIGINT;if(k<0&&(k=-k+w.MINUS_ONE,A=b.NEG_INT,j=g.NEG_BIGINT),this.collapseBigIntegers&&k<=w.MAXINT64)return k<=4294967295?this._pushInt(Number(k),A):this._pushUInt8(A<<5|u.EIGHT)&&this._pushUInt32BE(Number(k/w.SHIFT32))&&this._pushUInt32BE(Number(k%w.SHIFT32));let L=k.toString(16);L.length%2&&(L=`0${L}`);let K=v.from(L,"hex");return this._pushTag(j)&&q._pushBuffer(this,K)}_pushObject(k,A){if(!k)return this._pushNull(k);if(!(A={indefinite:!1,skipTypes:!1,...A}).indefinite&&this.detectLoops){if(this.detectLoops.has(k))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(k)}if(!A.skipTypes){let G=k.encodeCBOR;if(typeof G=="function")return G.call(k,this);let z=this.semanticTypes[k.constructor.name];if(z)return z.call(k,this,k)}let j=Object.keys(k).filter(G=>{let z=typeof k[G];return z!=="function"&&(!this.omitUndefinedProperties||z!=="undefined")}),L={};if(this.canonical&&j.sort((G,z)=>{let re=L[G]||(L[G]=q.encode(G)),te=L[z]||(L[z]=q.encode(z));return re.compare(te)}),A.indefinite){if(!this._pushUInt8(b.MAP<<5|u.INDEFINITE))return!1}else if(!this._pushInt(j.length,b.MAP))return!1;let K=null;for(let G=0,z=j.length;G<z;G++){let re=j[G];if(this.canonical&&(K=L[re])){if(!this.push(K))return!1}else if(!this._pushString(re))return!1;if(!this.pushAny(k[re]))return!1}if(A.indefinite){if(!this.push(C))return!1}else this.detectLoops&&this.detectLoops.delete(k);return!0}_encodeAll(k){let A=new f({highWaterMark:this.readableHighWaterMark});this.pipe(A);for(let j of k)this.pushAny(j);return this.end(),A.read()}addSemanticType(k,A){let j=typeof k=="string"?k:k.name,L=this.semanticTypes[j];if(A){if(typeof A!="function")throw new TypeError("fun must be of type function");this.semanticTypes[j]=A}else L&&delete this.semanticTypes[j];return L}pushAny(k){switch(typeof k){case"number":return this._pushNumber(k);case"bigint":return this._pushJSBigint(k);case"string":return this._pushString(k);case"boolean":return this._pushBoolean(k);case"undefined":return this._pushUndefined(k);case"object":return this._pushObject(k);case"symbol":switch(k){case P.NULL:return this._pushNull(null);case P.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${k.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof k}, ${typeof k.toString=="function"?k.toString():""}`)}}static pushArray(k,A,j){j={indefinite:!1,...j};let L=A.length;if(j.indefinite){if(!k._pushUInt8(b.ARRAY<<5|u.INDEFINITE))return!1}else if(!k._pushInt(L,b.ARRAY))return!1;for(let K=0;K<L;K++)if(!k.pushAny(A[K]))return!1;return!(j.indefinite&&!k.push(C))}removeLoopDetectors(){return!!this.detectLoops&&(this.detectLoops=new WeakSet,!0)}static _pushDate(k,A){switch(k.dateType){case"string":return k._pushTag(g.DATE_STRING)&&k._pushString(A.toISOString());case"int":return k._pushTag(g.DATE_EPOCH)&&k._pushIntNum(Math.round(A.getTime()/1e3));case"float":return k._pushTag(g.DATE_EPOCH)&&k._pushFloat(A.getTime()/1e3);default:return k._pushTag(g.DATE_EPOCH)&&k.pushAny(A.getTime()/1e3)}}static _pushBuffer(k,A){return k._pushInt(A.length,b.BYTE_STRING)&&k.push(A)}static _pushNoFilter(k,A){return q._pushBuffer(k,A.slice())}static _pushRegexp(k,A){return k._pushTag(g.REGEXP)&&k.pushAny(A.source)}static _pushSet(k,A){if(!k._pushTag(g.SET)||!k._pushInt(A.size,b.ARRAY))return!1;for(let j of A)if(!k.pushAny(j))return!1;return!0}static _pushURL(k,A){return k._pushTag(g.URI)&&k.pushAny(A.toString())}static _pushBoxed(k,A){return k.pushAny(A.valueOf())}static _pushMap(k,A,j){j={indefinite:!1,...j};let L=[...A.entries()];if(k.omitUndefinedProperties&&(L=L.filter(([K,G])=>G!==void 0)),j.indefinite){if(!k._pushUInt8(b.MAP<<5|u.INDEFINITE))return!1}else if(!k._pushInt(L.length,b.MAP))return!1;if(k.canonical){let K=new q({genTypes:k.semanticTypes,canonical:k.canonical,detectLoops:Boolean(k.detectLoops),dateType:k.dateType,disallowUndefinedKeys:k.disallowUndefinedKeys,collapseBigIntegers:k.collapseBigIntegers}),G=new f({highWaterMark:k.readableHighWaterMark});K.pipe(G),L.sort(([z],[re])=>{K.pushAny(z);let te=G.read();K.pushAny(re);let ue=G.read();return te.compare(ue)});for(let[z,re]of L){if(k.disallowUndefinedKeys&&z===void 0)throw new Error("Invalid Map key: undefined");if(!k.pushAny(z)||!k.pushAny(re))return!1}}else for(let[K,G]of L){if(k.disallowUndefinedKeys&&K===void 0)throw new Error("Invalid Map key: undefined");if(!k.pushAny(K)||!k.pushAny(G))return!1}return!(j.indefinite&&!k.push(C))}static _pushTypedArray(k,A){let j=64,L=A.BYTES_PER_ELEMENT,{name:K}=A.constructor;return K.startsWith("Float")?(j|=16,L/=2):K.includes("U")||(j|=8),(K.includes("Clamped")||L!==1&&!y.isBigEndian())&&(j|=4),j|={1:0,2:1,4:2,8:3}[L],!!k._pushTag(j)&&q._pushBuffer(k,v.from(A.buffer,A.byteOffset,A.byteLength))}static _pushArrayBuffer(k,A){return q._pushBuffer(k,v.from(A))}static encodeIndefinite(k,A,j={}){if(A==null){if(this==null)throw new Error("No object to encode");A=this}let{chunkSize:L=4096}=j,K=!0,G=typeof A,z=null;if(G==="string"){K=K&&k._pushUInt8(b.UTF8_STRING<<5|u.INDEFINITE);let re=0;for(;re<A.length;){let te=re+L;K=K&&k._pushString(A.slice(re,te)),re=te}K=K&&k.push(C)}else if(z=y.bufferishToBuffer(A)){K=K&&k._pushUInt8(b.BYTE_STRING<<5|u.INDEFINITE);let re=0;for(;re<z.length;){let te=re+L;K=K&&q._pushBuffer(k,z.slice(re,te)),re=te}K=K&&k.push(C)}else if(Array.isArray(A))K=K&&q.pushArray(k,A,{indefinite:!0});else if(A instanceof Map)K=K&&q._pushMap(k,A,{indefinite:!0});else{if(G!=="object")throw new Error("Invalid indefinite encoding");K=K&&k._pushObject(A,{indefinite:!0,skipTypes:!0})}return K}static encode(...k){return new q()._encodeAll(k)}static encodeCanonical(...k){return new q({canonical:!0})._encodeAll(k)}static encodeOne(k,A){return new q(A)._encodeAll([k])}static encodeAsync(k,A){return new Promise((j,L)=>{let K=[],G=new q(A);G.on("data",z=>K.push(z)),G.on("error",L),G.on("finish",()=>j(v.concat(K))),G.pushAny(k),G.end()})}static get SEMANTIC_TYPES(){return Q}static set SEMANTIC_TYPES(k){Q=k}static reset(){q.SEMANTIC_TYPES={...ce}}}Object.assign(ce,{Array:q.pushArray,Date:q._pushDate,Buffer:q._pushBuffer,[v.name]:q._pushBuffer,Map:q._pushMap,NoFilter:q._pushNoFilter,[f.name]:q._pushNoFilter,RegExp:q._pushRegexp,Set:q._pushSet,ArrayBuffer:q._pushArrayBuffer,Uint8ClampedArray:q._pushTypedArray,Uint8Array:q._pushTypedArray,Uint16Array:q._pushTypedArray,Uint32Array:q._pushTypedArray,Int8Array:q._pushTypedArray,Int16Array:q._pushTypedArray,Int32Array:q._pushTypedArray,Float32Array:q._pushTypedArray,Float64Array:q._pushTypedArray,URL:q._pushURL,Boolean:q._pushBoxed,Number:q._pushBoxed,String:q._pushBoxed}),typeof BigUint64Array!="undefined"&&(ce[BigUint64Array.name]=q._pushTypedArray),typeof BigInt64Array!="undefined"&&(ce[BigInt64Array.name]=q._pushTypedArray),q.reset(),e.exports=q},70:(e,t,n)=>{"use strict";let{Buffer:o}=n(764),f=n(666),y=n(774),{MT:O}=n(66);class b extends Map{constructor(p){super(p)}static _encode(p){return f.encodeCanonical(p).toString("base64")}static _decode(p){return y.decodeFirstSync(p,"base64")}get(p){return super.get(b._encode(p))}set(p,I){return super.set(b._encode(p),I)}delete(p){return super.delete(b._encode(p))}has(p){return super.has(b._encode(p))}*keys(){for(let p of super.keys())yield b._decode(p)}*entries(){for(let p of super.entries())yield[b._decode(p[0]),p[1]]}[Symbol.iterator](){return this.entries()}forEach(p,I){if(typeof p!="function")throw new TypeError("Must be function");for(let P of super.entries())p.call(this,P[1],b._decode(P[0]),this)}encodeCBOR(p){if(!p._pushInt(this.size,O.MAP))return!1;if(p.canonical){let I=Array.from(super.entries()).map(P=>[o.from(P[0],"base64"),P[1]]);I.sort((P,g)=>P[0].compare(g[0]));for(let P of I)if(!p.push(P[0])||!p.pushAny(P[1]))return!1}else for(let I of super.entries())if(!p.push(o.from(I[0],"base64"))||!p.pushAny(I[1]))return!1;return!0}}e.exports=b},32:(e,t,n)=>{"use strict";let{MT:o,SIMPLE:f,SYMS:y}=n(66);class O{constructor(u){if(typeof u!="number")throw new Error("Invalid Simple type: "+typeof u);if(u<0||u>255||(0|u)!==u)throw new Error(`value must be a small positive integer: ${u}`);this.value=u}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](u,p){return`simple(${this.value})`}encodeCBOR(u){return u._pushInt(this.value,o.SIMPLE_FLOAT)}static isSimple(u){return u instanceof O}static decode(u,p=!0,I=!1){switch(u){case f.FALSE:return!1;case f.TRUE:return!0;case f.NULL:return p?null:y.NULL;case f.UNDEFINED:return p?void 0:y.UNDEFINED;case-1:if(!p||!I)throw new Error("Invalid BREAK");return y.BREAK;default:return new O(u)}}}e.exports=O},785:(e,t,n)=>{"use strict";let o=n(66),f=n(873),y=Symbol("INTERNAL_JSON");function O(m,S){if(f.isBufferish(m))m.toJSON=S;else if(Array.isArray(m))for(let _ of m)O(_,S);else if(m&&typeof m=="object"&&(!(m instanceof v)||m.tag<21||m.tag>23))for(let _ of Object.values(m))O(_,S)}function b(){return f.base64(this)}function u(){return f.base64url(this)}function p(){return this.toString("hex")}let I={0:m=>new Date(m),1:m=>new Date(1e3*m),2:m=>f.bufferToBigInt(m),3:m=>o.BI.MINUS_ONE-f.bufferToBigInt(m),21:(m,S)=>(f.isBufferish(m)?S[y]=u:O(m,u),S),22:(m,S)=>(f.isBufferish(m)?S[y]=b:O(m,b),S),23:(m,S)=>(f.isBufferish(m)?S[y]=p:O(m,p),S),32:m=>new URL(m),33:(m,S)=>{if(!m.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");let _=m.length%4;if(_===1)throw new Error("Invalid base64url length");if(_===2){if("AQgw".indexOf(m[m.length-1])===-1)throw new Error("Invalid base64 padding")}else if(_===3&&"AEIMQUYcgkosw048".indexOf(m[m.length-1])===-1)throw new Error("Invalid base64 padding");return S},34:(m,S)=>{let _=m.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!_)throw new Error("Invalid base64 characters");if(m.length%4!=0)throw new Error("Invalid base64 length");if(_.groups.padding==="="){if("AQgw".indexOf(m[m.length-2])===-1)throw new Error("Invalid base64 padding")}else if(_.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(m[m.length-3])===-1)throw new Error("Invalid base64 padding");return S},35:m=>new RegExp(m),258:m=>new Set(m)},P={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};function g(m,S){if(!f.isBufferish(m))throw new TypeError("val not a buffer");let{tag:_}=S,B=P[_];if(!B)throw new Error(`Invalid typed array tag: ${_}`);let R=2**(((16&_)>>4)+(3&_));return!(4&_)!==f.isBigEndian()&&R>1&&function($,F,C,Y){let N=new DataView($),[H,J]={2:[N.getUint16,N.setUint16],4:[N.getUint32,N.setUint32],8:[N.getBigUint64,N.setBigUint64]}[F],ce=C+Y;for(let Q=C;Q<ce;Q+=F)J.call(N,Q,H.call(N,Q,!0))}(m.buffer,R,m.byteOffset,m.byteLength),new B(m.buffer.slice(m.byteOffset,m.byteOffset+m.byteLength))}typeof BigUint64Array!="undefined"&&(P[67]=BigUint64Array,P[71]=BigUint64Array),typeof BigInt64Array!="undefined"&&(P[75]=BigInt64Array,P[79]=BigInt64Array);for(let m of Object.keys(P))I[m]=g;let w={};class v{constructor(S,_,B){if(this.tag=S,this.value=_,this.err=B,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(0|this.tag)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[y])return this[y].call(this.value);let S={tag:this.tag,value:this.value};return this.err&&(S.err=this.err),S}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(S){return S._pushTag(this.tag),S.pushAny(this.value)}convert(S){let _=S==null?void 0:S[this.tag];if(typeof _!="function"&&(_=v.TAGS[this.tag],typeof _!="function"))return this;try{return _.call(this,this.value,this)}catch(B){return B&&B.message&&B.message.length>0?this.err=B.message:this.err=B,this}}static get TAGS(){return w}static set TAGS(S){w=S}static reset(){v.TAGS={...I}}}v.INTERNAL_JSON=y,v.reset(),e.exports=v},873:(e,t,n)=>{"use strict";let{Buffer:o}=n(764),f=n(202),y=n(830),O=n(66),{NUMBYTES:b,SHIFT32:u,BI:p,SYMS:I}=O,P=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});t.utf8=w=>P.decode(w),t.utf8.checksUTF8=!0,t.isBufferish=function(w){return w&&typeof w=="object"&&(o.isBuffer(w)||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof ArrayBuffer||w instanceof DataView)},t.bufferishToBuffer=function(w){return o.isBuffer(w)?w:ArrayBuffer.isView(w)?o.from(w.buffer,w.byteOffset,w.byteLength):w instanceof ArrayBuffer?o.from(w):null},t.parseCBORint=function(w,v){switch(w){case b.ONE:return v.readUInt8(0);case b.TWO:return v.readUInt16BE(0);case b.FOUR:return v.readUInt32BE(0);case b.EIGHT:{let m=v.readUInt32BE(0),S=v.readUInt32BE(4);return m>2097151?BigInt(m)*p.SHIFT32+BigInt(S):m*u+S}default:throw new Error(`Invalid additional info for int: ${w}`)}},t.writeHalf=function(w,v){let m=o.allocUnsafe(4);m.writeFloatBE(v,0);let S=m.readUInt32BE(0);if((8191&S)!=0)return!1;let _=S>>16&32768,B=S>>23&255,R=8388607&S;if(B>=113&&B<=142)_+=(B-112<<10)+(R>>13);else{if(!(B>=103&&B<113)||R&(1<<126-B)-1)return!1;_+=R+8388608>>126-B}return w.writeUInt16BE(_),!0},t.parseHalf=function(w){let v=128&w[0]?-1:1,m=(124&w[0])>>2,S=(3&w[0])<<8|w[1];return m?m===31?v*(S?NaN:1/0):v*2**(m-25)*(1024+S):5960464477539063e-23*v*S},t.parseCBORfloat=function(w){switch(w.length){case 2:return t.parseHalf(w);case 4:return w.readFloatBE(0);case 8:return w.readDoubleBE(0);default:throw new Error(`Invalid float size: ${w.length}`)}},t.hex=function(w){return o.from(w.replace(/^0x/,""),"hex")},t.bin=function(w){let v=0,m=(w=w.replace(/\s/g,"")).length%8||8,S=[];for(;m<=w.length;)S.push(parseInt(w.slice(v,m),2)),v=m,m+=8;return o.from(S)},t.arrayEqual=function(w,v){return w==null&&v==null||w!=null&&v!=null&&w.length===v.length&&w.every((m,S)=>m===v[S])},t.bufferToBigInt=function(w){return BigInt(`0x${w.toString("hex")}`)},t.cborValueToString=function(w,v=-1){switch(typeof w){case"symbol":{switch(w){case I.NULL:return"null";case I.UNDEFINED:return"undefined";case I.BREAK:return"BREAK"}if(w.description)return w.description;let m=w.toString().match(/^Symbol\((?<name>.*)\)/);return m&&m.groups.name?m.groups.name:"Symbol"}case"string":return JSON.stringify(w);case"bigint":return w.toString();case"number":{let m=Object.is(w,-0)?"-0":String(w);return v>0?`${m}_${v}`:m}case"object":{let m=t.bufferishToBuffer(w);if(m){let S=m.toString("hex");return v===-1/0?S:`h'${S}'`}return typeof w[Symbol.for("nodejs.util.inspect.custom")]=="function"?w[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(w)?"[]":"{}"}}return String(w)},t.guessEncoding=function(w,v){if(typeof w=="string")return new f(w,v??"hex");let m=t.bufferishToBuffer(w);if(m)return new f(m);if((S=w)instanceof y.Readable||["read","on","pipe"].every(_=>typeof S[_]=="function"))return w;var S;throw new Error("Unknown input type")};let g={"=":"","+":"-","/":"_"};t.base64url=function(w){return t.bufferishToBuffer(w).toString("base64").replace(/[=+/]/g,v=>g[v])},t.base64=function(w){return t.bufferishToBuffer(w).toString("base64")},t.isBigEndian=function(){let w=new Uint8Array(4);return!((new Uint32Array(w.buffer)[0]=1)&w[0])}},202:(e,t,n)=>{"use strict";let o=n(830),{Buffer:f}=n(764),y=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});class O extends o.Transform{constructor(u,p,I={}){let P=null,g=null;switch(typeof u){case"object":f.isBuffer(u)?P=u:u&&(I=u);break;case"string":P=u;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof p){case"object":p&&(I=p);break;case"string":g=p;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!I||typeof I!="object")throw new TypeError("Invalid options");P==null&&(P=I.input),g==null&&(g=I.inputEncoding),delete I.input,delete I.inputEncoding;let w=I.watchPipe==null||I.watchPipe;delete I.watchPipe;let v=Boolean(I.readError);delete I.readError,super(I),this.readError=v,w&&this.on("pipe",m=>{let S=m._readableState.objectMode;if(this.length>0&&S!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=S,this._writableState.objectMode=S}),P!=null&&this.end(P,g)}static isNoFilter(u){return u instanceof this}static compare(u,p){if(!(u instanceof this))throw new TypeError("Arguments must be NoFilters");return u===p?0:u.compare(p)}static concat(u,p){if(!Array.isArray(u))throw new TypeError("list argument must be an Array of NoFilters");if(u.length===0||p===0)return f.alloc(0);p==null&&(p=u.reduce((w,v)=>{if(!(v instanceof O))throw new TypeError("list argument must be an Array of NoFilters");return w+v.length},0));let I=!0,P=!0,g=u.map(w=>{if(!(w instanceof O))throw new TypeError("list argument must be an Array of NoFilters");let v=w.slice();return f.isBuffer(v)?P=!1:I=!1,v});if(I)return f.concat(g,p);if(P)return[].concat(...g).slice(0,p);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(u,p,I){this._readableState.objectMode||f.isBuffer(u)||(u=f.from(u,p)),this.push(u),I()}_bufArray(){let u=this._readableState.buffer;if(!Array.isArray(u)){let p=u.head;for(u=[];p!=null;)u.push(p.data),p=p.next}return u}read(u){let p=super.read(u);if(p!=null){if(this.emit("read",p),this.readError&&p.length<u)throw new Error(`Read ${p.length}, wanted ${u}`)}else if(this.readError)throw new Error(`No data available, wanted ${u}`);return p}readFull(u){let p=null,I=null,P=null;return new Promise((g,w)=>{this.length>=u?g(this.read(u)):this.writableFinished?w(new Error(`Stream finished before ${u} bytes were available`)):(p=v=>{this.length>=u&&g(this.read(u))},I=()=>{w(new Error(`Stream finished before ${u} bytes were available`))},P=w,this.on("readable",p),this.on("error",P),this.on("finish",I))}).finally(()=>{p&&(this.removeListener("readable",p),this.removeListener("error",P),this.removeListener("finish",I))})}promise(u){let p=!1;return new Promise((I,P)=>{this.on("finish",()=>{let g=this.read();u==null||p||(p=!0,u(null,g)),I(g)}),this.on("error",g=>{u==null||p||(p=!0,u(g)),P(g)})})}compare(u){if(!(u instanceof O))throw new TypeError("Arguments must be NoFilters");if(this===u)return 0;let p=this.slice(),I=u.slice();if(f.isBuffer(p)&&f.isBuffer(I))return p.compare(I);throw new Error("Cannot compare streams in object mode")}equals(u){return this.compare(u)===0}slice(u,p){if(this._readableState.objectMode)return this._bufArray().slice(u,p);let I=this._bufArray();switch(I.length){case 0:return f.alloc(0);case 1:return I[0].slice(u,p);default:return f.concat(I).slice(u,p)}}get(u){return this.slice()[u]}toJSON(){let u=this.slice();return f.isBuffer(u)?u.toJSON():u}toString(u,p,I){let P=this.slice(p,I);return f.isBuffer(P)?u&&u!=="utf8"?P.toString(u):y.decode(P):JSON.stringify(P)}[Symbol.for("nodejs.util.inspect.custom")](u,p){let I=this._bufArray().map(P=>f.isBuffer(P)?p.stylize(P.toString("hex"),"string"):JSON.stringify(P)).join(", ");return`${this.constructor.name} [${I}]`}get length(){return this._readableState.length}writeBigInt(u){let p=u.toString(16);if(u<0){let I=BigInt(Math.floor(p.length/2));p=(u=(BigInt(1)<<I*BigInt(8))+u).toString(16)}return p.length%2&&(p=`0${p}`),this.push(f.from(p,"hex"))}readUBigInt(u){let p=this.read(u);return f.isBuffer(p)?BigInt(`0x${p.toString("hex")}`):null}readBigInt(u){let p=this.read(u);if(!f.isBuffer(p))return null;let I=BigInt(`0x${p.toString("hex")}`);return 128&p[0]&&(I-=BigInt(1)<<BigInt(p.length)*BigInt(8)),I}writeUInt8(u){let p=f.from([u]);return this.push(p)}writeUInt16LE(u){let p=f.alloc(2);return p.writeUInt16LE(u),this.push(p)}writeUInt16BE(u){let p=f.alloc(2);return p.writeUInt16BE(u),this.push(p)}writeUInt32LE(u){let p=f.alloc(4);return p.writeUInt32LE(u),this.push(p)}writeUInt32BE(u){let p=f.alloc(4);return p.writeUInt32BE(u),this.push(p)}writeInt8(u){let p=f.from([u]);return this.push(p)}writeInt16LE(u){let p=f.alloc(2);return p.writeUInt16LE(u),this.push(p)}writeInt16BE(u){let p=f.alloc(2);return p.writeUInt16BE(u),this.push(p)}writeInt32LE(u){let p=f.alloc(4);return p.writeUInt32LE(u),this.push(p)}writeInt32BE(u){let p=f.alloc(4);return p.writeUInt32BE(u),this.push(p)}writeFloatLE(u){let p=f.alloc(4);return p.writeFloatLE(u),this.push(p)}writeFloatBE(u){let p=f.alloc(4);return p.writeFloatBE(u),this.push(p)}writeDoubleLE(u){let p=f.alloc(8);return p.writeDoubleLE(u),this.push(p)}writeDoubleBE(u){let p=f.alloc(8);return p.writeDoubleBE(u),this.push(p)}writeBigInt64LE(u){let p=f.alloc(8);return p.writeBigInt64LE(u),this.push(p)}writeBigInt64BE(u){let p=f.alloc(8);return p.writeBigInt64BE(u),this.push(p)}writeBigUInt64LE(u){let p=f.alloc(8);return p.writeBigUInt64LE(u),this.push(p)}writeBigUInt64BE(u){let p=f.alloc(8);return p.writeBigUInt64BE(u),this.push(p)}readUInt8(){let u=this.read(1);return f.isBuffer(u)?u.readUInt8():null}readUInt16LE(){let u=this.read(2);return f.isBuffer(u)?u.readUInt16LE():null}readUInt16BE(){let u=this.read(2);return f.isBuffer(u)?u.readUInt16BE():null}readUInt32LE(){let u=this.read(4);return f.isBuffer(u)?u.readUInt32LE():null}readUInt32BE(){let u=this.read(4);return f.isBuffer(u)?u.readUInt32BE():null}readInt8(){let u=this.read(1);return f.isBuffer(u)?u.readInt8():null}readInt16LE(){let u=this.read(2);return f.isBuffer(u)?u.readInt16LE():null}readInt16BE(){let u=this.read(2);return f.isBuffer(u)?u.readInt16BE():null}readInt32LE(){let u=this.read(4);return f.isBuffer(u)?u.readInt32LE():null}readInt32BE(){let u=this.read(4);return f.isBuffer(u)?u.readInt32BE():null}readFloatLE(){let u=this.read(4);return f.isBuffer(u)?u.readFloatLE():null}readFloatBE(){let u=this.read(4);return f.isBuffer(u)?u.readFloatBE():null}readDoubleLE(){let u=this.read(8);return f.isBuffer(u)?u.readDoubleLE():null}readDoubleBE(){let u=this.read(8);return f.isBuffer(u)?u.readDoubleBE():null}readBigInt64LE(){let u=this.read(8);return f.isBuffer(u)?u.readBigInt64LE():null}readBigInt64BE(){let u=this.read(8);return f.isBuffer(u)?u.readBigInt64BE():null}readBigUInt64LE(){let u=this.read(8);return f.isBuffer(u)?u.readBigUInt64LE():null}readBigUInt64BE(){let u=this.read(8);return f.isBuffer(u)?u.readBigUInt64BE():null}}e.exports=O},71:(e,t,n)=>{"use strict";let o=n(830),f=n(202);class y extends o.Transform{constructor(b){super(b),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new f,this.__restart()}_transform(b,u,p){for(this.bs.write(b);this.bs.length>=this.__needed;){let I=null,P=this.__needed===null?void 0:this.bs.read(this.__needed);try{I=this.__parser.next(P)}catch(g){return p(g)}this.__needed&&(this.__fresh=!1),I.done?(this.push(I.value),this.__restart()):this.__needed=I.value||1/0}return p()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(b){b(this.__fresh?null:new Error("unexpected end of input"))}}e.exports=y},187:e=>{"use strict";var t,n=typeof Reflect=="object"?Reflect:null,o=n&&typeof n.apply=="function"?n.apply:function(S,_,B){return Function.prototype.apply.call(S,_,B)};t=n&&typeof n.ownKeys=="function"?n.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var f=Number.isNaN||function(S){return S!=S};function y(){y.init.call(this)}e.exports=y,e.exports.once=function(S,_){return new Promise(function(B,R){function $(C){S.removeListener(_,F),R(C)}function F(){typeof S.removeListener=="function"&&S.removeListener("error",$),B([].slice.call(arguments))}m(S,_,F,{once:!0}),_!=="error"&&function(C,Y,N){typeof C.on=="function"&&m(C,"error",Y,{once:!0})}(S,$)})},y.EventEmitter=y,y.prototype._events=void 0,y.prototype._eventsCount=0,y.prototype._maxListeners=void 0;var O=10;function b(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}function u(S){return S._maxListeners===void 0?y.defaultMaxListeners:S._maxListeners}function p(S,_,B,R){var $,F,C,Y;if(b(B),(F=S._events)===void 0?(F=S._events=Object.create(null),S._eventsCount=0):(F.newListener!==void 0&&(S.emit("newListener",_,B.listener?B.listener:B),F=S._events),C=F[_]),C===void 0)C=F[_]=B,++S._eventsCount;else if(typeof C=="function"?C=F[_]=R?[B,C]:[C,B]:R?C.unshift(B):C.push(B),($=u(S))>0&&C.length>$&&!C.warned){C.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=S,N.type=_,N.count=C.length,Y=N,console&&console.warn&&console.warn(Y)}return S}function I(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function P(S,_,B){var R={fired:!1,wrapFn:void 0,target:S,type:_,listener:B},$=I.bind(R);return $.listener=B,R.wrapFn=$,$}function g(S,_,B){var R=S._events;if(R===void 0)return[];var $=R[_];return $===void 0?[]:typeof $=="function"?B?[$.listener||$]:[$]:B?function(F){for(var C=new Array(F.length),Y=0;Y<C.length;++Y)C[Y]=F[Y].listener||F[Y];return C}($):v($,$.length)}function w(S){var _=this._events;if(_!==void 0){var B=_[S];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}function v(S,_){for(var B=new Array(_),R=0;R<_;++R)B[R]=S[R];return B}function m(S,_,B,R){if(typeof S.on=="function")R.once?S.once(_,B):S.on(_,B);else{if(typeof S.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S);S.addEventListener(_,function $(F){R.once&&S.removeEventListener(_,$),B(F)})}}Object.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return O},set:function(S){if(typeof S!="number"||S<0||f(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");O=S}}),y.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||f(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},y.prototype.getMaxListeners=function(){return u(this)},y.prototype.emit=function(S){for(var _=[],B=1;B<arguments.length;B++)_.push(arguments[B]);var R=S==="error",$=this._events;if($!==void 0)R=R&&$.error===void 0;else if(!R)return!1;if(R){var F;if(_.length>0&&(F=_[0]),F instanceof Error)throw F;var C=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw C.context=F,C}var Y=$[S];if(Y===void 0)return!1;if(typeof Y=="function")o(Y,this,_);else{var N=Y.length,H=v(Y,N);for(B=0;B<N;++B)o(H[B],this,_)}return!0},y.prototype.addListener=function(S,_){return p(this,S,_,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(S,_){return p(this,S,_,!0)},y.prototype.once=function(S,_){return b(_),this.on(S,P(this,S,_)),this},y.prototype.prependOnceListener=function(S,_){return b(_),this.prependListener(S,P(this,S,_)),this},y.prototype.removeListener=function(S,_){var B,R,$,F,C;if(b(_),(R=this._events)===void 0)return this;if((B=R[S])===void 0)return this;if(B===_||B.listener===_)--this._eventsCount==0?this._events=Object.create(null):(delete R[S],R.removeListener&&this.emit("removeListener",S,B.listener||_));else if(typeof B!="function"){for($=-1,F=B.length-1;F>=0;F--)if(B[F]===_||B[F].listener===_){C=B[F].listener,$=F;break}if($<0)return this;$===0?B.shift():function(Y,N){for(;N+1<Y.length;N++)Y[N]=Y[N+1];Y.pop()}(B,$),B.length===1&&(R[S]=B[0]),R.removeListener!==void 0&&this.emit("removeListener",S,C||_)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(S){var _,B,R;if((B=this._events)===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[S]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete B[S]),this;if(arguments.length===0){var $,F=Object.keys(B);for(R=0;R<F.length;++R)($=F[R])!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(_=B[S])=="function")this.removeListener(S,_);else if(_!==void 0)for(R=_.length-1;R>=0;R--)this.removeListener(S,_[R]);return this},y.prototype.listeners=function(S){return g(this,S,!0)},y.prototype.rawListeners=function(S){return g(this,S,!1)},y.listenerCount=function(S,_){return typeof S.listenerCount=="function"?S.listenerCount(_):w.call(S,_)},y.prototype.listenerCount=w,y.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},645:(e,t)=>{t.read=function(n,o,f,y,O){var b,u,p=8*O-y-1,I=(1<<p)-1,P=I>>1,g=-7,w=f?O-1:0,v=f?-1:1,m=n[o+w];for(w+=v,b=m&(1<<-g)-1,m>>=-g,g+=p;g>0;b=256*b+n[o+w],w+=v,g-=8);for(u=b&(1<<-g)-1,b>>=-g,g+=y;g>0;u=256*u+n[o+w],w+=v,g-=8);if(b===0)b=1-P;else{if(b===I)return u?NaN:1/0*(m?-1:1);u+=Math.pow(2,y),b-=P}return(m?-1:1)*u*Math.pow(2,b-y)},t.write=function(n,o,f,y,O,b){var u,p,I,P=8*b-O-1,g=(1<<P)-1,w=g>>1,v=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=y?0:b-1,S=y?1:-1,_=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(p=isNaN(o)?1:0,u=g):(u=Math.floor(Math.log(o)/Math.LN2),o*(I=Math.pow(2,-u))<1&&(u--,I*=2),(o+=u+w>=1?v/I:v*Math.pow(2,1-w))*I>=2&&(u++,I/=2),u+w>=g?(p=0,u=g):u+w>=1?(p=(o*I-1)*Math.pow(2,O),u+=w):(p=o*Math.pow(2,w-1)*Math.pow(2,O),u=0));O>=8;n[f+m]=255&p,m+=S,p/=256,O-=8);for(u=u<<O|p,P+=O;P>0;n[f+m]=255&u,m+=S,u/=256,P-=8);n[f+m-S]|=128*_}},717:e=>{typeof Object.create=="function"?e.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,n){if(n){t.super_=n;var o=function(){};o.prototype=n.prototype,t.prototype=new o,t.prototype.constructor=t}}},155:e=>{var t,n,o=e.exports={};function f(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function O(m){if(t===setTimeout)return setTimeout(m,0);if((t===f||!t)&&setTimeout)return t=setTimeout,setTimeout(m,0);try{return t(m,0)}catch{try{return t.call(null,m,0)}catch{return t.call(this,m,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:f}catch{t=f}try{n=typeof clearTimeout=="function"?clearTimeout:y}catch{n=y}})();var b,u=[],p=!1,I=-1;function P(){p&&b&&(p=!1,b.length?u=b.concat(u):I=-1,u.length&&g())}function g(){if(!p){var m=O(P);p=!0;for(var S=u.length;S;){for(b=u,u=[];++I<S;)b&&b[I].run();I=-1,S=u.length}b=null,p=!1,function(_){if(n===clearTimeout)return clearTimeout(_);if((n===y||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(_);try{n(_)}catch{try{return n.call(null,_)}catch{return n.call(this,_)}}}(m)}}function w(m,S){this.fun=m,this.array=S}function v(){}o.nextTick=function(m){var S=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)S[_-1]=arguments[_];u.push(new w(m,S)),u.length!==1||p||O(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(m){return[]},o.binding=function(m){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(m){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},281:e=>{"use strict";var t={};function n(f,y,O){O||(O=Error);var b=function(u){var p,I;function P(g,w,v){return u.call(this,function(m,S,_){return typeof y=="string"?y:y(m,S,_)}(g,w,v))||this}return I=u,(p=P).prototype=Object.create(I.prototype),p.prototype.constructor=p,p.__proto__=I,P}(O);b.prototype.name=O.name,b.prototype.code=f,t[f]=b}function o(f,y){if(Array.isArray(f)){var O=f.length;return f=f.map(function(b){return String(b)}),O>2?"one of ".concat(y," ").concat(f.slice(0,O-1).join(", "),", or ")+f[O-1]:O===2?"one of ".concat(y," ").concat(f[0]," or ").concat(f[1]):"of ".concat(y," ").concat(f[0])}return"of ".concat(y," ").concat(String(f))}n("ERR_INVALID_OPT_VALUE",function(f,y){return'The value "'+y+'" is invalid for option "'+f+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(f,y,O){var b,u,p,I,P;if(typeof y=="string"&&(u="not ",y.substr(0,u.length)===u)?(b="must not be",y=y.replace(/^not /,"")):b="must be",function(w,v,m){return(m===void 0||m>w.length)&&(m=w.length),w.substring(m-v.length,m)===v}(f," argument"))p="The ".concat(f," ").concat(b," ").concat(o(y,"type"));else{var g=(typeof P!="number"&&(P=0),P+".".length>(I=f).length||I.indexOf(".",P)===-1?"argument":"property");p='The "'.concat(f,'" ').concat(g," ").concat(b," ").concat(o(y,"type"))}return p+". Received type ".concat(typeof O)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},753:(e,t,n)=>{"use strict";var o=n(155),f=Object.keys||function(w){var v=[];for(var m in w)v.push(m);return v};e.exports=I;var y=n(481),O=n(229);n(717)(I,y);for(var b=f(O.prototype),u=0;u<b.length;u++){var p=b[u];I.prototype[p]||(I.prototype[p]=O.prototype[p])}function I(w){if(!(this instanceof I))return new I(w);y.call(this,w),O.call(this,w),this.allowHalfOpen=!0,w&&(w.readable===!1&&(this.readable=!1),w.writable===!1&&(this.writable=!1),w.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",P)))}function P(){this._writableState.ended||o.nextTick(g,this)}function g(w){w.end()}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(w){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=w,this._writableState.destroyed=w)}})},725:(e,t,n)=>{"use strict";e.exports=f;var o=n(605);function f(y){if(!(this instanceof f))return new f(y);o.call(this,y)}n(717)(f,o),f.prototype._transform=function(y,O,b){b(null,y)}},481:(e,t,n)=>{"use strict";var o,f=n(155);e.exports=H,H.ReadableState=N,n(187).EventEmitter;var y,O=function(D,E){return D.listeners(E).length},b=n(503),u=n(764).Buffer,p=n.g.Uint8Array||function(){},I=n(616);y=I&&I.debuglog?I.debuglog("stream"):function(){};var P,g,w,v=n(327),m=n(195),S=n(457).getHighWaterMark,_=n(281).q,B=_.ERR_INVALID_ARG_TYPE,R=_.ERR_STREAM_PUSH_AFTER_EOF,$=_.ERR_METHOD_NOT_IMPLEMENTED,F=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(717)(H,b);var C=m.errorOrDestroy,Y=["error","close","destroy","pause","resume"];function N(D,E,W){o=o||n(753),D=D||{},typeof W!="boolean"&&(W=E instanceof o),this.objectMode=!!D.objectMode,W&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=S(this,D,"readableHighWaterMark",W),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(P||(P=n(553).s),this.decoder=new P(D.encoding),this.encoding=D.encoding)}function H(D){if(o=o||n(753),!(this instanceof H))return new H(D);var E=this instanceof o;this._readableState=new N(D,this,E),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),b.call(this)}function J(D,E,W,X,ve){y("readableAddChunk",E);var Oe,ee=D._readableState;if(E===null)ee.reading=!1,function(fe,de){if(y("onEofChunk"),!de.ended){if(de.decoder){var Ae=de.decoder.end();Ae&&Ae.length&&(de.buffer.push(Ae),de.length+=de.objectMode?1:Ae.length)}de.ended=!0,de.sync?oe(fe):(de.needReadable=!1,de.emittedReadable||(de.emittedReadable=!0,k(fe)))}}(D,ee);else if(ve||(Oe=function(fe,de){var Ae,ne;return ne=de,u.isBuffer(ne)||ne instanceof p||typeof de=="string"||de===void 0||fe.objectMode||(Ae=new B("chunk",["string","Buffer","Uint8Array"],de)),Ae}(ee,E)),Oe)C(D,Oe);else if(ee.objectMode||E&&E.length>0)if(typeof E=="string"||ee.objectMode||Object.getPrototypeOf(E)===u.prototype||(E=function(fe){return u.from(fe)}(E)),X)ee.endEmitted?C(D,new F):ce(D,ee,E,!0);else if(ee.ended)C(D,new R);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!W?(E=ee.decoder.write(E),ee.objectMode||E.length!==0?ce(D,ee,E,!1):A(D,ee)):ce(D,ee,E,!1)}else X||(ee.reading=!1,A(D,ee));return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function ce(D,E,W,X){E.flowing&&E.length===0&&!E.sync?(E.awaitDrain=0,D.emit("data",W)):(E.length+=E.objectMode?1:W.length,X?E.buffer.unshift(W):E.buffer.push(W),E.needReadable&&oe(D)),A(D,E)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),H.prototype.destroy=m.destroy,H.prototype._undestroy=m.undestroy,H.prototype._destroy=function(D,E){E(D)},H.prototype.push=function(D,E){var W,X=this._readableState;return X.objectMode?W=!0:typeof D=="string"&&((E=E||X.defaultEncoding)!==X.encoding&&(D=u.from(D,E),E=""),W=!0),J(this,D,E,!1,W)},H.prototype.unshift=function(D){return J(this,D,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(D){P||(P=n(553).s);var E=new P(D);this._readableState.decoder=E,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,X="";W!==null;)X+=E.write(W.data),W=W.next;return this._readableState.buffer.clear(),X!==""&&this._readableState.buffer.push(X),this._readableState.length=X.length,this};var Q=1073741824;function q(D,E){return D<=0||E.length===0&&E.ended?0:E.objectMode?1:D!=D?E.flowing&&E.length?E.buffer.head.data.length:E.length:(D>E.highWaterMark&&(E.highWaterMark=function(W){return W>=Q?W=Q:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}(D)),D<=E.length?D:E.ended?E.length:(E.needReadable=!0,0))}function oe(D){var E=D._readableState;y("emitReadable",E.needReadable,E.emittedReadable),E.needReadable=!1,E.emittedReadable||(y("emitReadable",E.flowing),E.emittedReadable=!0,f.nextTick(k,D))}function k(D){var E=D._readableState;y("emitReadable_",E.destroyed,E.length,E.ended),E.destroyed||!E.length&&!E.ended||(D.emit("readable"),E.emittedReadable=!1),E.needReadable=!E.flowing&&!E.ended&&E.length<=E.highWaterMark,z(D)}function A(D,E){E.readingMore||(E.readingMore=!0,f.nextTick(j,D,E))}function j(D,E){for(;!E.reading&&!E.ended&&(E.length<E.highWaterMark||E.flowing&&E.length===0);){var W=E.length;if(y("maybeReadMore read 0"),D.read(0),W===E.length)break}E.readingMore=!1}function L(D){var E=D._readableState;E.readableListening=D.listenerCount("readable")>0,E.resumeScheduled&&!E.paused?E.flowing=!0:D.listenerCount("data")>0&&D.resume()}function K(D){y("readable nexttick read 0"),D.read(0)}function G(D,E){y("resume",E.reading),E.reading||D.read(0),E.resumeScheduled=!1,D.emit("resume"),z(D),E.flowing&&!E.reading&&D.read(0)}function z(D){var E=D._readableState;for(y("flow",E.flowing);E.flowing&&D.read()!==null;);}function re(D,E){return E.length===0?null:(E.objectMode?W=E.buffer.shift():!D||D>=E.length?(W=E.decoder?E.buffer.join(""):E.buffer.length===1?E.buffer.first():E.buffer.concat(E.length),E.buffer.clear()):W=E.buffer.consume(D,E.decoder),W);var W}function te(D){var E=D._readableState;y("endReadable",E.endEmitted),E.endEmitted||(E.ended=!0,f.nextTick(ue,E,D))}function ue(D,E){if(y("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,E.readable=!1,E.emit("end"),D.autoDestroy)){var W=E._writableState;(!W||W.autoDestroy&&W.finished)&&E.destroy()}}function le(D,E){for(var W=0,X=D.length;W<X;W++)if(D[W]===E)return W;return-1}H.prototype.read=function(D){y("read",D),D=parseInt(D,10);var E=this._readableState,W=D;if(D!==0&&(E.emittedReadable=!1),D===0&&E.needReadable&&((E.highWaterMark!==0?E.length>=E.highWaterMark:E.length>0)||E.ended))return y("read: emitReadable",E.length,E.ended),E.length===0&&E.ended?te(this):oe(this),null;if((D=q(D,E))===0&&E.ended)return E.length===0&&te(this),null;var X,ve=E.needReadable;return y("need readable",ve),(E.length===0||E.length-D<E.highWaterMark)&&y("length less than watermark",ve=!0),E.ended||E.reading?y("reading or ended",ve=!1):ve&&(y("do read"),E.reading=!0,E.sync=!0,E.length===0&&(E.needReadable=!0),this._read(E.highWaterMark),E.sync=!1,E.reading||(D=q(W,E))),(X=D>0?re(D,E):null)===null?(E.needReadable=E.length<=E.highWaterMark,D=0):(E.length-=D,E.awaitDrain=0),E.length===0&&(E.ended||(E.needReadable=!0),W!==D&&E.ended&&te(this)),X!==null&&this.emit("data",X),X},H.prototype._read=function(D){C(this,new $("_read()"))},H.prototype.pipe=function(D,E){var W=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=D;break;case 1:X.pipes=[X.pipes,D];break;default:X.pipes.push(D)}X.pipesCount+=1,y("pipe count=%d opts=%j",X.pipesCount,E);var ve=E&&E.end===!1||D===f.stdout||D===f.stderr?a:Oe;function Oe(){y("onend"),D.end()}X.endEmitted?f.nextTick(ve):W.once("end",ve),D.on("unpipe",function s(h,M){y("onunpipe"),h===W&&M&&M.hasUnpiped===!1&&(M.hasUnpiped=!0,y("cleanup"),D.removeListener("close",ne),D.removeListener("finish",he),D.removeListener("drain",ee),D.removeListener("error",Ae),D.removeListener("unpipe",s),W.removeListener("end",Oe),W.removeListener("end",a),W.removeListener("data",de),fe=!0,!X.awaitDrain||D._writableState&&!D._writableState.needDrain||ee())});var ee=function(s){return function(){var h=s._readableState;y("pipeOnDrain",h.awaitDrain),h.awaitDrain&&h.awaitDrain--,h.awaitDrain===0&&O(s,"data")&&(h.flowing=!0,z(s))}}(W);D.on("drain",ee);var fe=!1;function de(s){y("ondata");var h=D.write(s);y("dest.write",h),h===!1&&((X.pipesCount===1&&X.pipes===D||X.pipesCount>1&&le(X.pipes,D)!==-1)&&!fe&&(y("false write response, pause",X.awaitDrain),X.awaitDrain++),W.pause())}function Ae(s){y("onerror",s),a(),D.removeListener("error",Ae),O(D,"error")===0&&C(D,s)}function ne(){D.removeListener("finish",he),a()}function he(){y("onfinish"),D.removeListener("close",ne),a()}function a(){y("unpipe"),W.unpipe(D)}return W.on("data",de),function(s,h,M){if(typeof s.prependListener=="function")return s.prependListener(h,M);s._events&&s._events.error?Array.isArray(s._events.error)?s._events.error.unshift(M):s._events.error=[M,s._events.error]:s.on(h,M)}(D,"error",Ae),D.once("close",ne),D.once("finish",he),D.emit("pipe",W),X.flowing||(y("pipe resume"),W.resume()),D},H.prototype.unpipe=function(D){var E=this._readableState,W={hasUnpiped:!1};if(E.pipesCount===0)return this;if(E.pipesCount===1)return D&&D!==E.pipes||(D||(D=E.pipes),E.pipes=null,E.pipesCount=0,E.flowing=!1,D&&D.emit("unpipe",this,W)),this;if(!D){var X=E.pipes,ve=E.pipesCount;E.pipes=null,E.pipesCount=0,E.flowing=!1;for(var Oe=0;Oe<ve;Oe++)X[Oe].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=le(E.pipes,D);return ee===-1||(E.pipes.splice(ee,1),E.pipesCount-=1,E.pipesCount===1&&(E.pipes=E.pipes[0]),D.emit("unpipe",this,W)),this},H.prototype.on=function(D,E){var W=b.prototype.on.call(this,D,E),X=this._readableState;return D==="data"?(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1&&this.resume()):D==="readable"&&(X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,y("on readable",X.length,X.reading),X.length?oe(this):X.reading||f.nextTick(K,this))),W},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(D,E){var W=b.prototype.removeListener.call(this,D,E);return D==="readable"&&f.nextTick(L,this),W},H.prototype.removeAllListeners=function(D){var E=b.prototype.removeAllListeners.apply(this,arguments);return D!=="readable"&&D!==void 0||f.nextTick(L,this),E},H.prototype.resume=function(){var D=this._readableState;return D.flowing||(y("resume"),D.flowing=!D.readableListening,function(E,W){W.resumeScheduled||(W.resumeScheduled=!0,f.nextTick(G,E,W))}(this,D)),D.paused=!1,this},H.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(D){var E=this,W=this._readableState,X=!1;for(var ve in D.on("end",function(){if(y("wrapped end"),W.decoder&&!W.ended){var ee=W.decoder.end();ee&&ee.length&&E.push(ee)}E.push(null)}),D.on("data",function(ee){y("wrapped data"),W.decoder&&(ee=W.decoder.write(ee)),W.objectMode&&ee==null||(W.objectMode||ee&&ee.length)&&(E.push(ee)||(X=!0,D.pause()))}),D)this[ve]===void 0&&typeof D[ve]=="function"&&(this[ve]=function(ee){return function(){return D[ee].apply(D,arguments)}}(ve));for(var Oe=0;Oe<Y.length;Oe++)D.on(Y[Oe],this.emit.bind(this,Y[Oe]));return this._read=function(ee){y("wrapped _read",ee),X&&(X=!1,D.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=n(850)),g(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),H._fromList=re,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(D,E){return w===void 0&&(w=n(167)),w(H,D,E)})},605:(e,t,n)=>{"use strict";e.exports=I;var o=n(281).q,f=o.ERR_METHOD_NOT_IMPLEMENTED,y=o.ERR_MULTIPLE_CALLBACK,O=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=o.ERR_TRANSFORM_WITH_LENGTH_0,u=n(753);function p(w,v){var m=this._transformState;m.transforming=!1;var S=m.writecb;if(S===null)return this.emit("error",new y);m.writechunk=null,m.writecb=null,v!=null&&this.push(v),S(w);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function I(w){if(!(this instanceof I))return new I(w);u.call(this,w),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,w&&(typeof w.transform=="function"&&(this._transform=w.transform),typeof w.flush=="function"&&(this._flush=w.flush)),this.on("prefinish",P)}function P(){var w=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(v,m){g(w,v,m)})}function g(w,v,m){if(v)return w.emit("error",v);if(m!=null&&w.push(m),w._writableState.length)throw new b;if(w._transformState.transforming)throw new O;return w.push(null)}n(717)(I,u),I.prototype.push=function(w,v){return this._transformState.needTransform=!1,u.prototype.push.call(this,w,v)},I.prototype._transform=function(w,v,m){m(new f("_transform()"))},I.prototype._write=function(w,v,m){var S=this._transformState;if(S.writecb=m,S.writechunk=w,S.writeencoding=v,!S.transforming){var _=this._readableState;(S.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},I.prototype._read=function(w){var v=this._transformState;v.writechunk===null||v.transforming?v.needTransform=!0:(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform))},I.prototype._destroy=function(w,v){u.prototype._destroy.call(this,w,function(m){v(m)})}},229:(e,t,n)=>{"use strict";var o,f=n(155);function y(A){var j=this;this.next=null,this.entry=null,this.finish=function(){(function(L,K,G){var z=L.entry;for(L.entry=null;z;){var re=z.callback;K.pendingcb--,re(void 0),z=z.next}K.corkedRequestsFree.next=L})(j,A)}}e.exports=H,H.WritableState=N;var O,b={deprecate:n(927)},u=n(503),p=n(764).Buffer,I=n.g.Uint8Array||function(){},P=n(195),g=n(457).getHighWaterMark,w=n(281).q,v=w.ERR_INVALID_ARG_TYPE,m=w.ERR_METHOD_NOT_IMPLEMENTED,S=w.ERR_MULTIPLE_CALLBACK,_=w.ERR_STREAM_CANNOT_PIPE,B=w.ERR_STREAM_DESTROYED,R=w.ERR_STREAM_NULL_VALUES,$=w.ERR_STREAM_WRITE_AFTER_END,F=w.ERR_UNKNOWN_ENCODING,C=P.errorOrDestroy;function Y(){}function N(A,j,L){o=o||n(753),A=A||{},typeof L!="boolean"&&(L=j instanceof o),this.objectMode=!!A.objectMode,L&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=g(this,A,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var K=A.decodeStrings===!1;this.decodeStrings=!K,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){(function(z,re){var te=z._writableState,ue=te.sync,le=te.writecb;if(typeof le!="function")throw new S;if(function(E){E.writing=!1,E.writecb=null,E.length-=E.writelen,E.writelen=0}(te),re)(function(E,W,X,ve,Oe){--W.pendingcb,X?(f.nextTick(Oe,ve),f.nextTick(k,E,W),E._writableState.errorEmitted=!0,C(E,ve)):(Oe(ve),E._writableState.errorEmitted=!0,C(E,ve),k(E,W))})(z,te,ue,re,le);else{var D=q(te)||z.destroyed;D||te.corked||te.bufferProcessing||!te.bufferedRequest||Q(z,te),ue?f.nextTick(ce,z,te,D,le):ce(z,te,D,le)}})(j,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new y(this)}function H(A){var j=this instanceof(o=o||n(753));if(!j&&!O.call(H,this))return new H(A);this._writableState=new N(A,this,j),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),u.call(this)}function J(A,j,L,K,G,z,re){j.writelen=K,j.writecb=re,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new B("write")):L?A._writev(G,j.onwrite):A._write(G,z,j.onwrite),j.sync=!1}function ce(A,j,L,K){L||function(G,z){z.length===0&&z.needDrain&&(z.needDrain=!1,G.emit("drain"))}(A,j),j.pendingcb--,K(),k(A,j)}function Q(A,j){j.bufferProcessing=!0;var L=j.bufferedRequest;if(A._writev&&L&&L.next){var K=j.bufferedRequestCount,G=new Array(K),z=j.corkedRequestsFree;z.entry=L;for(var re=0,te=!0;L;)G[re]=L,L.isBuf||(te=!1),L=L.next,re+=1;G.allBuffers=te,J(A,j,!0,j.length,G,"",z.finish),j.pendingcb++,j.lastBufferedRequest=null,z.next?(j.corkedRequestsFree=z.next,z.next=null):j.corkedRequestsFree=new y(j),j.bufferedRequestCount=0}else{for(;L;){var ue=L.chunk,le=L.encoding,D=L.callback;if(J(A,j,!1,j.objectMode?1:ue.length,ue,le,D),L=L.next,j.bufferedRequestCount--,j.writing)break}L===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=L,j.bufferProcessing=!1}function q(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function oe(A,j){A._final(function(L){j.pendingcb--,L&&C(A,L),j.prefinished=!0,A.emit("prefinish"),k(A,j)})}function k(A,j){var L=q(j);if(L&&(function(G,z){z.prefinished||z.finalCalled||(typeof G._final!="function"||z.destroyed?(z.prefinished=!0,G.emit("prefinish")):(z.pendingcb++,z.finalCalled=!0,f.nextTick(oe,G,z)))}(A,j),j.pendingcb===0&&(j.finished=!0,A.emit("finish"),j.autoDestroy))){var K=A._readableState;(!K||K.autoDestroy&&K.endEmitted)&&A.destroy()}return L}n(717)(H,u),N.prototype.getBuffer=function(){for(var A=this.bufferedRequest,j=[];A;)j.push(A),A=A.next;return j},function(){try{Object.defineProperty(N.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(A){return!!O.call(this,A)||this===H&&A&&A._writableState instanceof N}})):O=function(A){return A instanceof this},H.prototype.pipe=function(){C(this,new _)},H.prototype.write=function(A,j,L){var K,G=this._writableState,z=!1,re=!G.objectMode&&(K=A,p.isBuffer(K)||K instanceof I);return re&&!p.isBuffer(A)&&(A=function(te){return p.from(te)}(A)),typeof j=="function"&&(L=j,j=null),re?j="buffer":j||(j=G.defaultEncoding),typeof L!="function"&&(L=Y),G.ending?function(te,ue){var le=new $;C(te,le),f.nextTick(ue,le)}(this,L):(re||function(te,ue,le,D){var E;return le===null?E=new R:typeof le=="string"||ue.objectMode||(E=new v("chunk",["string","Buffer"],le)),!E||(C(te,E),f.nextTick(D,E),!1)}(this,G,A,L))&&(G.pendingcb++,z=function(te,ue,le,D,E,W){if(!le){var X=function(fe,de,Ae){return fe.objectMode||fe.decodeStrings===!1||typeof de!="string"||(de=p.from(de,Ae)),de}(ue,D,E);D!==X&&(le=!0,E="buffer",D=X)}var ve=ue.objectMode?1:D.length;ue.length+=ve;var Oe=ue.length<ue.highWaterMark;if(Oe||(ue.needDrain=!0),ue.writing||ue.corked){var ee=ue.lastBufferedRequest;ue.lastBufferedRequest={chunk:D,encoding:E,isBuf:le,callback:W,next:null},ee?ee.next=ue.lastBufferedRequest:ue.bufferedRequest=ue.lastBufferedRequest,ue.bufferedRequestCount+=1}else J(te,ue,!1,ve,D,E,W);return Oe}(this,G,re,A,j,L)),z},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,A.writing||A.corked||A.bufferProcessing||!A.bufferedRequest||Q(this,A))},H.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new F(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(A,j,L){L(new m("_write()"))},H.prototype._writev=null,H.prototype.end=function(A,j,L){var K=this._writableState;return typeof A=="function"?(L=A,A=null,j=null):typeof j=="function"&&(L=j,j=null),A!=null&&this.write(A,j),K.corked&&(K.corked=1,this.uncork()),K.ending||function(G,z,re){z.ending=!0,k(G,z),re&&(z.finished?f.nextTick(re):G.once("finish",re)),z.ended=!0,G.writable=!1}(this,K,L),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),H.prototype.destroy=P.destroy,H.prototype._undestroy=P.undestroy,H.prototype._destroy=function(A,j){j(A)}},850:(e,t,n)=>{"use strict";var o,f=n(155);function y(R,$,F){return $ in R?Object.defineProperty(R,$,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[$]=F,R}var O=n(610),b=Symbol("lastResolve"),u=Symbol("lastReject"),p=Symbol("error"),I=Symbol("ended"),P=Symbol("lastPromise"),g=Symbol("handlePromise"),w=Symbol("stream");function v(R,$){return{value:R,done:$}}function m(R){var $=R[b];if($!==null){var F=R[w].read();F!==null&&(R[P]=null,R[b]=null,R[u]=null,$(v(F,!1)))}}function S(R){f.nextTick(m,R)}var _=Object.getPrototypeOf(function(){}),B=Object.setPrototypeOf((y(o={get stream(){return this[w]},next:function(){var R=this,$=this[p];if($!==null)return Promise.reject($);if(this[I])return Promise.resolve(v(void 0,!0));if(this[w].destroyed)return new Promise(function(N,H){f.nextTick(function(){R[p]?H(R[p]):N(v(void 0,!0))})});var F,C=this[P];if(C)F=new Promise(function(N,H){return function(J,ce){N.then(function(){H[I]?J(v(void 0,!0)):H[g](J,ce)},ce)}}(C,this));else{var Y=this[w].read();if(Y!==null)return Promise.resolve(v(Y,!1));F=new Promise(this[g])}return this[P]=F,F}},Symbol.asyncIterator,function(){return this}),y(o,"return",function(){var R=this;return new Promise(function($,F){R[w].destroy(null,function(C){C?F(C):$(v(void 0,!0))})})}),o),_);e.exports=function(R){var $,F=Object.create(B,(y($={},w,{value:R,writable:!0}),y($,b,{value:null,writable:!0}),y($,u,{value:null,writable:!0}),y($,p,{value:null,writable:!0}),y($,I,{value:R._readableState.endEmitted,writable:!0}),y($,g,{value:function(C,Y){var N=F[w].read();N?(F[P]=null,F[b]=null,F[u]=null,C(v(N,!1))):(F[b]=C,F[u]=Y)},writable:!0}),$));return F[P]=null,O(R,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=F[u];return Y!==null&&(F[P]=null,F[b]=null,F[u]=null,Y(C)),void(F[p]=C)}var N=F[b];N!==null&&(F[P]=null,F[b]=null,F[u]=null,N(v(void 0,!0))),F[I]=!0}),R.on("readable",S.bind(null,F)),F}},327:(e,t,n)=>{"use strict";function o(p,I){var P=Object.keys(p);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(p);I&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),P.push.apply(P,g)}return P}function f(p,I,P){return I in p?Object.defineProperty(p,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):p[I]=P,p}function y(p,I){for(var P=0;P<I.length;P++){var g=I[P];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}var O=n(764).Buffer,b=n(361).inspect,u=b&&b.custom||"inspect";e.exports=function(){function p(){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,p),this.head=null,this.tail=null,this.length=0}var I,P;return I=p,P=[{key:"push",value:function(g){var w={data:g,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(g){var w={data:g,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var w=this.head,v=""+w.data;w=w.next;)v+=g+w.data;return v}},{key:"concat",value:function(g){if(this.length===0)return O.alloc(0);for(var w,v,m,S=O.allocUnsafe(g>>>0),_=this.head,B=0;_;)w=_.data,v=S,m=B,O.prototype.copy.call(w,v,m),B+=_.data.length,_=_.next;return S}},{key:"consume",value:function(g,w){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):v=g===this.head.data.length?this.shift():w?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var w=this.head,v=1,m=w.data;for(g-=m.length;w=w.next;){var S=w.data,_=g>S.length?S.length:g;if(_===S.length?m+=S:m+=S.slice(0,g),(g-=_)==0){_===S.length?(++v,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=S.slice(_));break}++v}return this.length-=v,m}},{key:"_getBuffer",value:function(g){var w=O.allocUnsafe(g),v=this.head,m=1;for(v.data.copy(w),g-=v.data.length;v=v.next;){var S=v.data,_=g>S.length?S.length:g;if(S.copy(w,w.length-g,0,_),(g-=_)==0){_===S.length?(++m,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=S.slice(_));break}++m}return this.length-=m,w}},{key:u,value:function(g,w){return b(this,function(v){for(var m=1;m<arguments.length;m++){var S=arguments[m]!=null?arguments[m]:{};m%2?o(Object(S),!0).forEach(function(_){f(v,_,S[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(S)):o(Object(S)).forEach(function(_){Object.defineProperty(v,_,Object.getOwnPropertyDescriptor(S,_))})}return v}({},w,{depth:0,customInspect:!1}))}}],P&&y(I.prototype,P),p}()},195:(e,t,n)=>{"use strict";var o=n(155);function f(b,u){O(b,u),y(b)}function y(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function O(b,u){b.emit("error",u)}e.exports={destroy:function(b,u){var p=this,I=this._readableState&&this._readableState.destroyed,P=this._writableState&&this._writableState.destroyed;return I||P?(u?u(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(O,this,b)):o.nextTick(O,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(g){!u&&g?p._writableState?p._writableState.errorEmitted?o.nextTick(y,p):(p._writableState.errorEmitted=!0,o.nextTick(f,p,g)):o.nextTick(f,p,g):u?(o.nextTick(y,p),u(g)):o.nextTick(y,p)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,u){var p=b._readableState,I=b._writableState;p&&p.autoDestroy||I&&I.autoDestroy?b.destroy(u):b.emit("error",u)}}},610:(e,t,n)=>{"use strict";var o=n(281).q.ERR_STREAM_PREMATURE_CLOSE;function f(){}e.exports=function y(O,b,u){if(typeof b=="function")return y(O,null,b);b||(b={}),u=function(R){var $=!1;return function(){if(!$){$=!0;for(var F=arguments.length,C=new Array(F),Y=0;Y<F;Y++)C[Y]=arguments[Y];R.apply(this,C)}}}(u||f);var p=b.readable||b.readable!==!1&&O.readable,I=b.writable||b.writable!==!1&&O.writable,P=function(){O.writable||w()},g=O._writableState&&O._writableState.finished,w=function(){I=!1,g=!0,p||u.call(O)},v=O._readableState&&O._readableState.endEmitted,m=function(){p=!1,v=!0,I||u.call(O)},S=function(R){u.call(O,R)},_=function(){var R;return p&&!v?(O._readableState&&O._readableState.ended||(R=new o),u.call(O,R)):I&&!g?(O._writableState&&O._writableState.ended||(R=new o),u.call(O,R)):void 0},B=function(){O.req.on("finish",w)};return function(R){return R.setHeader&&typeof R.abort=="function"}(O)?(O.on("complete",w),O.on("abort",_),O.req?B():O.on("request",B)):I&&!O._writableState&&(O.on("end",P),O.on("close",P)),O.on("end",m),O.on("finish",w),b.error!==!1&&O.on("error",S),O.on("close",_),function(){O.removeListener("complete",w),O.removeListener("abort",_),O.removeListener("request",B),O.req&&O.req.removeListener("finish",w),O.removeListener("end",P),O.removeListener("close",P),O.removeListener("finish",w),O.removeListener("end",m),O.removeListener("error",S),O.removeListener("close",_)}}},167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},946:(e,t,n)=>{"use strict";var o,f=n(281).q,y=f.ERR_MISSING_ARGS,O=f.ERR_STREAM_DESTROYED;function b(g){if(g)throw g}function u(g,w,v,m){m=function(B){var R=!1;return function(){R||(R=!0,B.apply(void 0,arguments))}}(m);var S=!1;g.on("close",function(){S=!0}),o===void 0&&(o=n(610)),o(g,{readable:w,writable:v},function(B){if(B)return m(B);S=!0,m()});var _=!1;return function(B){if(!S&&!_)return _=!0,function(R){return R.setHeader&&typeof R.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void m(B||new O("pipe"))}}function p(g){g()}function I(g,w){return g.pipe(w)}function P(g){return g.length?typeof g[g.length-1]!="function"?b:g.pop():b}e.exports=function(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];var m,S=P(w);if(Array.isArray(w[0])&&(w=w[0]),w.length<2)throw new y("streams");var _=w.map(function(B,R){var $=R<w.length-1;return u(B,$,R>0,function(F){m||(m=F),F&&_.forEach(p),$||(_.forEach(p),S(m))})});return w.reduce(I)}},457:(e,t,n)=>{"use strict";var o=n(281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(f,y,O,b){var u=function(p,I,P){return p.highWaterMark!=null?p.highWaterMark:I?p[P]:null}(y,b,O);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new o(b?O:"highWaterMark",u);return Math.floor(u)}return f.objectMode?16:16384}}},503:(e,t,n)=>{e.exports=n(187).EventEmitter},509:(e,t,n)=>{var o=n(764),f=o.Buffer;function y(b,u){for(var p in b)u[p]=b[p]}function O(b,u,p){return f(b,u,p)}f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?e.exports=o:(y(o,t),t.Buffer=O),O.prototype=Object.create(f.prototype),y(f,O),O.from=function(b,u,p){if(typeof b=="number")throw new TypeError("Argument must not be a number");return f(b,u,p)},O.alloc=function(b,u,p){if(typeof b!="number")throw new TypeError("Argument must be a number");var I=f(b);return u!==void 0?typeof p=="string"?I.fill(u,p):I.fill(u):I.fill(0),I},O.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return f(b)},O.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(b)}},830:(e,t,n)=>{e.exports=f;var o=n(187).EventEmitter;function f(){o.call(this)}n(717)(f,o),f.Readable=n(481),f.Writable=n(229),f.Duplex=n(753),f.Transform=n(605),f.PassThrough=n(725),f.finished=n(610),f.pipeline=n(946),f.Stream=f,f.prototype.pipe=function(y,O){var b=this;function u(m){y.writable&&y.write(m)===!1&&b.pause&&b.pause()}function p(){b.readable&&b.resume&&b.resume()}b.on("data",u),y.on("drain",p),y._isStdio||O&&O.end===!1||(b.on("end",P),b.on("close",g));var I=!1;function P(){I||(I=!0,y.end())}function g(){I||(I=!0,typeof y.destroy=="function"&&y.destroy())}function w(m){if(v(),o.listenerCount(this,"error")===0)throw m}function v(){b.removeListener("data",u),y.removeListener("drain",p),b.removeListener("end",P),b.removeListener("close",g),b.removeListener("error",w),y.removeListener("error",w),b.removeListener("end",v),b.removeListener("close",v),y.removeListener("close",v)}return b.on("error",w),y.on("error",w),b.on("end",v),b.on("close",v),y.on("close",v),y.emit("pipe",b),y}},553:(e,t,n)=>{"use strict";var o=n(509).Buffer,f=o.isEncoding||function(v){switch((v=""+v)&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function y(v){var m;switch(this.encoding=function(S){var _=function(B){if(!B)return"utf8";for(var R;;)switch(B){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return B;default:if(R)return;B=(""+B).toLowerCase(),R=!0}}(S);if(typeof _!="string"&&(o.isEncoding===f||!f(S)))throw new Error("Unknown encoding: "+S);return _||S}(v),this.encoding){case"utf16le":this.text=u,this.end=p,m=4;break;case"utf8":this.fillLast=b,m=4;break;case"base64":this.text=I,this.end=P,m=3;break;default:return this.write=g,void(this.end=w)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(m)}function O(v){return v<=127?0:v>>5==6?2:v>>4==14?3:v>>3==30?4:v>>6==2?-1:-2}function b(v){var m=this.lastTotal-this.lastNeed,S=function(_,B,R){if((192&B[0])!=128)return _.lastNeed=0,"\uFFFD";if(_.lastNeed>1&&B.length>1){if((192&B[1])!=128)return _.lastNeed=1,"\uFFFD";if(_.lastNeed>2&&B.length>2&&(192&B[2])!=128)return _.lastNeed=2,"\uFFFD"}}(this,v);return S!==void 0?S:this.lastNeed<=v.length?(v.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(v.copy(this.lastChar,m,0,v.length),void(this.lastNeed-=v.length))}function u(v,m){if((v.length-m)%2==0){var S=v.toString("utf16le",m);if(S){var _=S.charCodeAt(S.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",m,v.length-1)}function p(v){var m=v&&v.length?this.write(v):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,S)}return m}function I(v,m){var S=(v.length-m)%3;return S===0?v.toString("base64",m):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",m,v.length-S))}function P(v){var m=v&&v.length?this.write(v):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function g(v){return v.toString(this.encoding)}function w(v){return v&&v.length?this.write(v):""}t.s=y,y.prototype.write=function(v){if(v.length===0)return"";var m,S;if(this.lastNeed){if((m=this.fillLast(v))===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<v.length?m?m+this.text(v,S):this.text(v,S):m||""},y.prototype.end=function(v){var m=v&&v.length?this.write(v):"";return this.lastNeed?m+"\uFFFD":m},y.prototype.text=function(v,m){var S=function(B,R,$){var F=R.length-1;if(F<$)return 0;var C=O(R[F]);return C>=0?(C>0&&(B.lastNeed=C-1),C):--F<$||C===-2?0:(C=O(R[F]))>=0?(C>0&&(B.lastNeed=C-2),C):--F<$||C===-2?0:(C=O(R[F]))>=0?(C>0&&(C===2?C=0:B.lastNeed=C-3),C):0}(this,v,m);if(!this.lastNeed)return v.toString("utf8",m);this.lastTotal=S;var _=v.length-(S-this.lastNeed);return v.copy(this.lastChar,0,_),v.toString("utf8",m,_)},y.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length}},927:(e,t,n)=>{function o(f){try{if(!n.g.localStorage)return!1}catch{return!1}var y=n.g.localStorage[f];return y!=null&&String(y).toLowerCase()==="true"}e.exports=function(f,y){if(o("noDeprecation"))return f;var O=!1;return function(){if(!O){if(o("throwDeprecation"))throw new Error(y);o("traceDeprecation")?console.trace(y):console.warn(y),O=!0}return f.apply(this,arguments)}}},361:()=>{},616:()=>{}},c={};function l(e){var t=c[e];if(t!==void 0)return t.exports;var n=c[e]={exports:{}};return d[e](n,n.exports,l),n.exports}l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";l.r(r),l.d(r,{Commented:()=>e.Commented,Decoder:()=>e.Decoder,Diagnose:()=>e.Diagnose,Encoder:()=>e.Encoder,Map:()=>e.Map,Simple:()=>e.Simple,Tagged:()=>e.Tagged,comment:()=>e.UI,decode:()=>e.Jx,decodeAll:()=>e.fI,decodeAllSync:()=>e.cc,decodeFirst:()=>e.h8,decodeFirstSync:()=>e.$u,diagnose:()=>e.M,encode:()=>e.cv,encodeAsync:()=>e.WR,encodeCanonical:()=>e.N2,encodeOne:()=>e.TG,leveldb:()=>e.ww,reset:()=>e.mc});var e=l(141)})(),r})()})});var wn=_e((no,bn)=>{"use strict";bn.exports=Wr;function Wr(d,c){for(var l=new Array(arguments.length-1),r=0,e=2,t=!0;e<arguments.length;)l[r++]=arguments[e++];return new Promise(function(o,f){l[r]=function(O){if(t)if(t=!1,O)f(O);else{for(var b=new Array(arguments.length-1),u=0;u<b.length;)b[u++]=arguments[u];o.apply(null,b)}};try{d.apply(c||null,l)}catch(y){t&&(t=!1,f(y))}})}});var In=_e(mn=>{"use strict";var pt=mn;pt.length=function(c){var l=c.length;if(!l)return 0;for(var r=0;--l%4>1&&c.charAt(l)==="=";)++r;return Math.ceil(c.length*3)/4-r};var Qe=new Array(64),On=new Array(123);for(Ne=0;Ne<64;)On[Qe[Ne]=Ne<26?Ne+65:Ne<52?Ne+71:Ne<62?Ne-4:Ne-59|43]=Ne++;var Ne;pt.encode=function(c,l,r){for(var e=null,t=[],n=0,o=0,f;l<r;){var y=c[l++];switch(o){case 0:t[n++]=Qe[y>>2],f=(y&3)<<4,o=1;break;case 1:t[n++]=Qe[f|y>>4],f=(y&15)<<2,o=2;break;case 2:t[n++]=Qe[f|y>>6],t[n++]=Qe[y&63],o=0;break}n>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,t)),n=0)}return o&&(t[n++]=Qe[f],t[n++]=61,o===1&&(t[n++]=61)),e?(n&&e.push(String.fromCharCode.apply(String,t.slice(0,n))),e.join("")):String.fromCharCode.apply(String,t.slice(0,n))};var Sn="invalid encoding";pt.decode=function(c,l,r){for(var e=r,t=0,n,o=0;o<c.length;){var f=c.charCodeAt(o++);if(f===61&&t>1)break;if((f=On[f])===void 0)throw Error(Sn);switch(t){case 0:n=f,t=1;break;case 1:l[r++]=n<<2|(f&48)>>4,n=f,t=2;break;case 2:l[r++]=(n&15)<<4|(f&60)>>2,n=f,t=3;break;case 3:l[r++]=(n&3)<<6|f,t=0;break}}if(t===1)throw Error(Sn);return r-e};pt.test=function(c){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(c)}});var En=_e((io,An)=>{"use strict";An.exports=yt;function yt(){this._listeners={}}yt.prototype.on=function(c,l,r){return(this._listeners[c]||(this._listeners[c]=[])).push({fn:l,ctx:r||this}),this};yt.prototype.off=function(c,l){if(c===void 0)this._listeners={};else if(l===void 0)this._listeners[c]=[];else for(var r=this._listeners[c],e=0;e<r.length;)r[e].fn===l?r.splice(e,1):++e;return this};yt.prototype.emit=function(c){var l=this._listeners[c];if(l){for(var r=[],e=1;e<arguments.length;)r.push(arguments[e++]);for(e=0;e<l.length;)l[e].fn.apply(l[e++].ctx,r)}return this}});var Tn=_e((oo,Mn)=>{"use strict";Mn.exports=_n(_n);function _n(d){return typeof Float32Array!="undefined"?function(){var c=new Float32Array([-0]),l=new Uint8Array(c.buffer),r=l[3]===128;function e(f,y,O){c[0]=f,y[O]=l[0],y[O+1]=l[1],y[O+2]=l[2],y[O+3]=l[3]}function t(f,y,O){c[0]=f,y[O]=l[3],y[O+1]=l[2],y[O+2]=l[1],y[O+3]=l[0]}d.writeFloatLE=r?e:t,d.writeFloatBE=r?t:e;function n(f,y){return l[0]=f[y],l[1]=f[y+1],l[2]=f[y+2],l[3]=f[y+3],c[0]}function o(f,y){return l[3]=f[y],l[2]=f[y+1],l[1]=f[y+2],l[0]=f[y+3],c[0]}d.readFloatLE=r?n:o,d.readFloatBE=r?o:n}():function(){function c(r,e,t,n){var o=e<0?1:0;if(o&&(e=-e),e===0)r(1/e>0?0:2147483648,t,n);else if(isNaN(e))r(2143289344,t,n);else if(e>34028234663852886e22)r((o<<31|2139095040)>>>0,t,n);else if(e<11754943508222875e-54)r((o<<31|Math.round(e/1401298464324817e-60))>>>0,t,n);else{var f=Math.floor(Math.log(e)/Math.LN2),y=Math.round(e*Math.pow(2,-f)*8388608)&8388607;r((o<<31|f+127<<23|y)>>>0,t,n)}}d.writeFloatLE=c.bind(null,kn),d.writeFloatBE=c.bind(null,gn);function l(r,e,t){var n=r(e,t),o=(n>>31)*2+1,f=n>>>23&255,y=n&8388607;return f===255?y?NaN:o*(1/0):f===0?o*1401298464324817e-60*y:o*Math.pow(2,f-150)*(y+8388608)}d.readFloatLE=l.bind(null,Dn),d.readFloatBE=l.bind(null,Pn)}(),typeof Float64Array!="undefined"?function(){var c=new Float64Array([-0]),l=new Uint8Array(c.buffer),r=l[7]===128;function e(f,y,O){c[0]=f,y[O]=l[0],y[O+1]=l[1],y[O+2]=l[2],y[O+3]=l[3],y[O+4]=l[4],y[O+5]=l[5],y[O+6]=l[6],y[O+7]=l[7]}function t(f,y,O){c[0]=f,y[O]=l[7],y[O+1]=l[6],y[O+2]=l[5],y[O+3]=l[4],y[O+4]=l[3],y[O+5]=l[2],y[O+6]=l[1],y[O+7]=l[0]}d.writeDoubleLE=r?e:t,d.writeDoubleBE=r?t:e;function n(f,y){return l[0]=f[y],l[1]=f[y+1],l[2]=f[y+2],l[3]=f[y+3],l[4]=f[y+4],l[5]=f[y+5],l[6]=f[y+6],l[7]=f[y+7],c[0]}function o(f,y){return l[7]=f[y],l[6]=f[y+1],l[5]=f[y+2],l[4]=f[y+3],l[3]=f[y+4],l[2]=f[y+5],l[1]=f[y+6],l[0]=f[y+7],c[0]}d.readDoubleLE=r?n:o,d.readDoubleBE=r?o:n}():function(){function c(r,e,t,n,o,f){var y=n<0?1:0;if(y&&(n=-n),n===0)r(0,o,f+e),r(1/n>0?0:2147483648,o,f+t);else if(isNaN(n))r(0,o,f+e),r(2146959360,o,f+t);else if(n>17976931348623157e292)r(0,o,f+e),r((y<<31|2146435072)>>>0,o,f+t);else{var O;if(n<22250738585072014e-324)O=n/5e-324,r(O>>>0,o,f+e),r((y<<31|O/4294967296)>>>0,o,f+t);else{var b=Math.floor(Math.log(n)/Math.LN2);b===1024&&(b=1023),O=n*Math.pow(2,-b),r(O*4503599627370496>>>0,o,f+e),r((y<<31|b+1023<<20|O*1048576&1048575)>>>0,o,f+t)}}}d.writeDoubleLE=c.bind(null,kn,0,4),d.writeDoubleBE=c.bind(null,gn,4,0);function l(r,e,t,n,o){var f=r(n,o+e),y=r(n,o+t),O=(y>>31)*2+1,b=y>>>20&2047,u=4294967296*(y&1048575)+f;return b===2047?u?NaN:O*(1/0):b===0?O*5e-324*u:O*Math.pow(2,b-1075)*(u+4503599627370496)}d.readDoubleLE=l.bind(null,Dn,0,4),d.readDoubleBE=l.bind(null,Pn,4,0)}(),d}function kn(d,c,l){c[l]=d&255,c[l+1]=d>>>8&255,c[l+2]=d>>>16&255,c[l+3]=d>>>24}function gn(d,c,l){c[l]=d>>>24,c[l+1]=d>>>16&255,c[l+2]=d>>>8&255,c[l+3]=d&255}function Dn(d,c){return(d[c]|d[c+1]<<8|d[c+2]<<16|d[c+3]<<24)>>>0}function Pn(d,c){return(d[c]<<24|d[c+1]<<16|d[c+2]<<8|d[c+3])>>>0}});var jn=_e((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(d){}return null}});var xn=_e(Bn=>{"use strict";var Nt=Bn;Nt.length=function(c){for(var l=0,r=0,e=0;e<c.length;++e)r=c.charCodeAt(e),r<128?l+=1:r<2048?l+=2:(r&64512)==55296&&(c.charCodeAt(e+1)&64512)==56320?(++e,l+=4):l+=3;return l};Nt.read=function(c,l,r){var e=r-l;if(e<1)return"";for(var t=null,n=[],o=0,f;l<r;)f=c[l++],f<128?n[o++]=f:f>191&&f<224?n[o++]=(f&31)<<6|c[l++]&63:f>239&&f<365?(f=((f&7)<<18|(c[l++]&63)<<12|(c[l++]&63)<<6|c[l++]&63)-65536,n[o++]=55296+(f>>10),n[o++]=56320+(f&1023)):n[o++]=(f&15)<<12|(c[l++]&63)<<6|c[l++]&63,o>8191&&((t||(t=[])).push(String.fromCharCode.apply(String,n)),o=0);return t?(o&&t.push(String.fromCharCode.apply(String,n.slice(0,o))),t.join("")):String.fromCharCode.apply(String,n.slice(0,o))};Nt.write=function(c,l,r){for(var e=r,t,n,o=0;o<c.length;++o)t=c.charCodeAt(o),t<128?l[r++]=t:t<2048?(l[r++]=t>>6|192,l[r++]=t&63|128):(t&64512)==55296&&((n=c.charCodeAt(o+1))&64512)==56320?(t=65536+((t&1023)<<10)+(n&1023),++o,l[r++]=t>>18|240,l[r++]=t>>12&63|128,l[r++]=t>>6&63|128,l[r++]=t&63|128):(l[r++]=t>>12|224,l[r++]=t>>6&63|128,l[r++]=t&63|128);return r-e}});var Rn=_e((co,Nn)=>{"use strict";Nn.exports=Kr;function Kr(d,c,l){var r=l||8192,e=r>>>1,t=null,n=r;return function(f){if(f<1||f>e)return d(f);n+f>r&&(t=d(r),n=0);var y=c.call(t,n,n+=f);return n&7&&(n=(n|7)+1),y}}});var Ln=_e((ao,Un)=>{"use strict";Un.exports=Me;var rt=$e();function Me(d,c){this.lo=d>>>0,this.hi=c>>>0}var qe=Me.zero=new Me(0,0);qe.toNumber=function(){return 0};qe.zzEncode=qe.zzDecode=function(){return this};qe.length=function(){return 1};var $r=Me.zeroHash="\0\0\0\0\0\0\0\0";Me.fromNumber=function(c){if(c===0)return qe;var l=c<0;l&&(c=-c);var r=c>>>0,e=(c-r)/4294967296>>>0;return l&&(e=~e>>>0,r=~r>>>0,++r>4294967295&&(r=0,++e>4294967295&&(e=0))),new Me(r,e)};Me.from=function(c){if(typeof c=="number")return Me.fromNumber(c);if(rt.isString(c))if(rt.Long)c=rt.Long.fromString(c);else return Me.fromNumber(parseInt(c,10));return c.low||c.high?new Me(c.low>>>0,c.high>>>0):qe};Me.prototype.toNumber=function(c){if(!c&&this.hi>>>31){var l=~this.lo+1>>>0,r=~this.hi>>>0;return l||(r=r+1>>>0),-(l+r*4294967296)}return this.lo+this.hi*4294967296};Me.prototype.toLong=function(c){return rt.Long?new rt.Long(this.lo|0,this.hi|0,Boolean(c)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(c)}};var Ke=String.prototype.charCodeAt;Me.fromHash=function(c){return c===$r?qe:new Me((Ke.call(c,0)|Ke.call(c,1)<<8|Ke.call(c,2)<<16|Ke.call(c,3)<<24)>>>0,(Ke.call(c,4)|Ke.call(c,5)<<8|Ke.call(c,6)<<16|Ke.call(c,7)<<24)>>>0)};Me.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Me.prototype.zzEncode=function(){var c=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^c)>>>0,this.lo=(this.lo<<1^c)>>>0,this};Me.prototype.zzDecode=function(){var c=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^c)>>>0,this.hi=(this.hi>>>1^c)>>>0,this};Me.prototype.length=function(){var c=this.lo,l=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?l===0?c<16384?c<128?1:2:c<2097152?3:4:l<16384?l<128?5:6:l<2097152?7:8:r<128?9:10}});var $e=_e(Rt=>{"use strict";var Z=Rt;Z.asPromise=wn();Z.base64=In();Z.EventEmitter=En();Z.float=Tn();Z.inquire=jn();Z.utf8=xn();Z.pool=Rn();Z.LongBits=Ln();Z.isNode=Boolean(typeof __webpack_require__.g!="undefined"&&__webpack_require__.g&&__webpack_require__.g.process&&__webpack_require__.g.process.versions&&__webpack_require__.g.process.versions.node);Z.global=Z.isNode&&__webpack_require__.g||typeof window!="undefined"&&window||typeof self!="undefined"&&self||Rt;Z.emptyArray=Object.freeze?Object.freeze([]):[];Z.emptyObject=Object.freeze?Object.freeze({}):{};Z.isInteger=Number.isInteger||function(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c};Z.isString=function(c){return typeof c=="string"||c instanceof String};Z.isObject=function(c){return c&&typeof c=="object"};Z.isset=Z.isSet=function(c,l){var r=c[l];return r!=null&&c.hasOwnProperty(l)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};Z.Buffer=function(){try{var d=Z.inquire("buffer").Buffer;return d.prototype.utf8Write?d:null}catch{return null}}();Z._Buffer_from=null;Z._Buffer_allocUnsafe=null;Z.newBuffer=function(c){return typeof c=="number"?Z.Buffer?Z._Buffer_allocUnsafe(c):new Z.Array(c):Z.Buffer?Z._Buffer_from(c):typeof Uint8Array=="undefined"?c:new Uint8Array(c)};Z.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;Z.Long=Z.global.dcodeIO&&Z.global.dcodeIO.Long||Z.global.Long||Z.inquire("long");Z.key2Re=/^true|false|0|1$/;Z.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Z.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Z.longToHash=function(c){return c?Z.LongBits.from(c).toHash():Z.LongBits.zeroHash};Z.longFromHash=function(c,l){var r=Z.LongBits.fromHash(c);return Z.Long?Z.Long.fromBits(r.lo,r.hi,l):r.toNumber(Boolean(l))};function Vn(d,c,l){for(var r=Object.keys(c),e=0;e<r.length;++e)(d[r[e]]===void 0||!l)&&(d[r[e]]=c[r[e]]);return d}Z.merge=Vn;Z.lcFirst=function(c){return c.charAt(0).toLowerCase()+c.substring(1)};function Cn(d){function c(l,r){if(!(this instanceof c))return new c(l,r);Object.defineProperty(this,"message",{get:function(){return l}}),Error.captureStackTrace?Error.captureStackTrace(this,c):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&Vn(this,r)}return(c.prototype=Object.create(Error.prototype)).constructor=c,Object.defineProperty(c.prototype,"name",{get:function(){return d}}),c.prototype.toString=function(){return this.name+": "+this.message},c}Z.newError=Cn;Z.ProtocolError=Cn("ProtocolError");Z.oneOfGetter=function(c){for(var l={},r=0;r<c.length;++r)l[c[r]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;t>-1;--t)if(l[e[t]]===1&&this[e[t]]!==void 0&&this[e[t]]!==null)return e[t]}};Z.oneOfSetter=function(c){return function(l){for(var r=0;r<c.length;++r)c[r]!==l&&delete this[c[r]]}};Z.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Z._configure=function(){var d=Z.Buffer;if(!d){Z._Buffer_from=Z._Buffer_allocUnsafe=null;return}Z._Buffer_from=d.from!==Uint8Array.from&&d.from||function(l,r){return new d(l,r)},Z._Buffer_allocUnsafe=d.allocUnsafe||function(l){return new d(l)}}});var Wt=_e((fo,Kn)=>{"use strict";Kn.exports=pe;var xe=$e(),Ut,vt=xe.LongBits,Fn=xe.base64,Hn=xe.utf8;function it(d,c,l){this.fn=d,this.len=c,this.next=void 0,this.val=l}function Lt(){}function Jr(d){this.head=d.head,this.tail=d.tail,this.len=d.len,this.next=d.states}function pe(){this.len=0,this.head=new it(Lt,0,0),this.tail=this.head,this.states=null}var Wn=function(){return xe.Buffer?function(){return(pe.create=function(){return new Ut})()}:function(){return new pe}};pe.create=Wn();pe.alloc=function(c){return new xe.Array(c)};xe.Array!==Array&&(pe.alloc=xe.pool(pe.alloc,xe.Array.prototype.subarray));pe.prototype._push=function(c,l,r){return this.tail=this.tail.next=new it(c,l,r),this.len+=l,this};function Vt(d,c,l){c[l]=d&255}function qr(d,c,l){for(;d>127;)c[l++]=d&127|128,d>>>=7;c[l]=d}function Ct(d,c){this.len=d,this.next=void 0,this.val=c}Ct.prototype=Object.create(it.prototype);Ct.prototype.fn=qr;pe.prototype.uint32=function(c){return this.len+=(this.tail=this.tail.next=new Ct((c=c>>>0)<128?1:c<16384?2:c<2097152?3:c<268435456?4:5,c)).len,this};pe.prototype.int32=function(c){return c<0?this._push(Ft,10,vt.fromNumber(c)):this.uint32(c)};pe.prototype.sint32=function(c){return this.uint32((c<<1^c>>31)>>>0)};function Ft(d,c,l){for(;d.hi;)c[l++]=d.lo&127|128,d.lo=(d.lo>>>7|d.hi<<25)>>>0,d.hi>>>=7;for(;d.lo>127;)c[l++]=d.lo&127|128,d.lo=d.lo>>>7;c[l++]=d.lo}pe.prototype.uint64=function(c){var l=vt.from(c);return this._push(Ft,l.length(),l)};pe.prototype.int64=pe.prototype.uint64;pe.prototype.sint64=function(c){var l=vt.from(c).zzEncode();return this._push(Ft,l.length(),l)};pe.prototype.bool=function(c){return this._push(Vt,1,c?1:0)};function Ht(d,c,l){c[l]=d&255,c[l+1]=d>>>8&255,c[l+2]=d>>>16&255,c[l+3]=d>>>24}pe.prototype.fixed32=function(c){return this._push(Ht,4,c>>>0)};pe.prototype.sfixed32=pe.prototype.fixed32;pe.prototype.fixed64=function(c){var l=vt.from(c);return this._push(Ht,4,l.lo)._push(Ht,4,l.hi)};pe.prototype.sfixed64=pe.prototype.fixed64;pe.prototype.float=function(c){return this._push(xe.float.writeFloatLE,4,c)};pe.prototype.double=function(c){return this._push(xe.float.writeDoubleLE,8,c)};var Gr=xe.Array.prototype.set?function(c,l,r){l.set(c,r)}:function(c,l,r){for(var e=0;e<c.length;++e)l[r+e]=c[e]};pe.prototype.bytes=function(c){var l=c.length>>>0;if(!l)return this._push(Vt,1,0);if(xe.isString(c)){var r=pe.alloc(l=Fn.length(c));Fn.decode(c,r,0),c=r}return this.uint32(l)._push(Gr,l,c)};pe.prototype.string=function(c){var l=Hn.length(c);return l?this.uint32(l)._push(Hn.write,l,c):this._push(Vt,1,0)};pe.prototype.fork=function(){return this.states=new Jr(this),this.head=this.tail=new it(Lt,0,0),this.len=0,this};pe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new it(Lt,0,0),this.len=0),this};pe.prototype.ldelim=function(){var c=this.head,l=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=c.next,this.tail=l,this.len+=r),this};pe.prototype.finish=function(){for(var c=this.head.next,l=this.constructor.alloc(this.len),r=0;c;)c.fn(c.val,l,r),r+=c.len,c=c.next;return l};pe._configure=function(d){Ut=d,pe.create=Wn(),Ut._configure()}});var qn=_e((so,Jn)=>{"use strict";Jn.exports=Ue;var $n=Wt();(Ue.prototype=Object.create($n.prototype)).constructor=Ue;var Je=$e();function Ue(){$n.call(this)}Ue._configure=function(){Ue.alloc=Je._Buffer_allocUnsafe,Ue.writeBytesBuffer=Je.Buffer&&Je.Buffer.prototype instanceof Uint8Array&&Je.Buffer.prototype.set.name==="set"?function(c,l,r){l.set(c,r)}:function(c,l,r){if(c.copy)c.copy(l,r,0,c.length);else for(var e=0;e<c.length;)l[r++]=c[e++]}};Ue.prototype.bytes=function(c){Je.isString(c)&&(c=Je._Buffer_from(c,"base64"));var l=c.length>>>0;return this.uint32(l),l&&this._push(Ue.writeBytesBuffer,l,c),this};function zr(d,c,l){d.length<40?Je.utf8.write(d,c,l):c.utf8Write?c.utf8Write(d,l):c.write(d,l)}Ue.prototype.string=function(c){var l=Je.Buffer.byteLength(c);return this.uint32(l),l&&this._push(zr,l,c),this};Ue._configure()});var Jt=_e((ho,Zn)=>{"use strict";Zn.exports=Ie;var Le=$e(),Kt,Gn=Le.LongBits,Yr=Le.utf8;function Re(d,c){return RangeError("index out of range: "+d.pos+" + "+(c||1)+" > "+d.len)}function Ie(d){this.buf=d,this.pos=0,this.len=d.length}var zn=typeof Uint8Array!="undefined"?function(c){if(c instanceof Uint8Array||Array.isArray(c))return new Ie(c);throw Error("illegal buffer")}:function(c){if(Array.isArray(c))return new Ie(c);throw Error("illegal buffer")},Yn=function(){return Le.Buffer?function(l){return(Ie.create=function(e){return Le.Buffer.isBuffer(e)?new Kt(e):zn(e)})(l)}:zn};Ie.create=Yn();Ie.prototype._slice=Le.Array.prototype.subarray||Le.Array.prototype.slice;Ie.prototype.uint32=function(){var c=4294967295;return function(){if(c=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(c=(c|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return c;if((this.pos+=5)>this.len)throw this.pos=this.len,Re(this,10);return c}}();Ie.prototype.int32=function(){return this.uint32()|0};Ie.prototype.sint32=function(){var c=this.uint32();return c>>>1^-(c&1)|0};function $t(){var d=new Gn(0,0),c=0;if(this.len-this.pos>4){for(;c<4;++c)if(d.lo=(d.lo|(this.buf[this.pos]&127)<<c*7)>>>0,this.buf[this.pos++]<128)return d;if(d.lo=(d.lo|(this.buf[this.pos]&127)<<28)>>>0,d.hi=(d.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return d;c=0}else{for(;c<3;++c){if(this.pos>=this.len)throw Re(this);if(d.lo=(d.lo|(this.buf[this.pos]&127)<<c*7)>>>0,this.buf[this.pos++]<128)return d}return d.lo=(d.lo|(this.buf[this.pos++]&127)<<c*7)>>>0,d}if(this.len-this.pos>4){for(;c<5;++c)if(d.hi=(d.hi|(this.buf[this.pos]&127)<<c*7+3)>>>0,this.buf[this.pos++]<128)return d}else for(;c<5;++c){if(this.pos>=this.len)throw Re(this);if(d.hi=(d.hi|(this.buf[this.pos]&127)<<c*7+3)>>>0,this.buf[this.pos++]<128)return d}throw Error("invalid varint encoding")}Ie.prototype.bool=function(){return this.uint32()!==0};function bt(d,c){return(d[c-4]|d[c-3]<<8|d[c-2]<<16|d[c-1]<<24)>>>0}Ie.prototype.fixed32=function(){if(this.pos+4>this.len)throw Re(this,4);return bt(this.buf,this.pos+=4)};Ie.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Re(this,4);return bt(this.buf,this.pos+=4)|0};function Xn(){if(this.pos+8>this.len)throw Re(this,8);return new Gn(bt(this.buf,this.pos+=4),bt(this.buf,this.pos+=4))}Ie.prototype.float=function(){if(this.pos+4>this.len)throw Re(this,4);var c=Le.float.readFloatLE(this.buf,this.pos);return this.pos+=4,c};Ie.prototype.double=function(){if(this.pos+8>this.len)throw Re(this,4);var c=Le.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,c};Ie.prototype.bytes=function(){var c=this.uint32(),l=this.pos,r=this.pos+c;if(r>this.len)throw Re(this,c);return this.pos+=c,Array.isArray(this.buf)?this.buf.slice(l,r):l===r?new this.buf.constructor(0):this._slice.call(this.buf,l,r)};Ie.prototype.string=function(){var c=this.bytes();return Yr.read(c,0,c.length)};Ie.prototype.skip=function(c){if(typeof c=="number"){if(this.pos+c>this.len)throw Re(this,c);this.pos+=c}else do if(this.pos>=this.len)throw Re(this);while(this.buf[this.pos++]&128);return this};Ie.prototype.skipType=function(d){switch(d){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(d=this.uint32()&7)!=4;)this.skipType(d);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+d+" at offset "+this.pos)}return this};Ie._configure=function(d){Kt=d,Ie.create=Yn(),Kt._configure();var c=Le.Long?"toLong":"toNumber";Le.merge(Ie.prototype,{int64:function(){return $t.call(this)[c](!1)},uint64:function(){return $t.call(this)[c](!0)},sint64:function(){return $t.call(this).zzDecode()[c](!1)},fixed64:function(){return Xn.call(this)[c](!0)},sfixed64:function(){return Xn.call(this)[c](!1)}})}});var nr=_e((po,tr)=>{"use strict";tr.exports=Ge;var Qn=Jt();(Ge.prototype=Object.create(Qn.prototype)).constructor=Ge;var er=$e();function Ge(d){Qn.call(this,d)}Ge._configure=function(){er.Buffer&&(Ge.prototype._slice=er.Buffer.prototype.slice)};Ge.prototype.string=function(){var c=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+c,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+c,this.len))};Ge._configure()});var ir=_e((yo,rr)=>{"use strict";rr.exports=ot;var qt=$e();(ot.prototype=Object.create(qt.EventEmitter.prototype)).constructor=ot;function ot(d,c,l){if(typeof d!="function")throw TypeError("rpcImpl must be a function");qt.EventEmitter.call(this),this.rpcImpl=d,this.requestDelimited=Boolean(c),this.responseDelimited=Boolean(l)}ot.prototype.rpcCall=function d(c,l,r,e,t){if(!e)throw TypeError("request must be specified");var n=this;if(!t)return qt.asPromise(d,n,c,l,r,e);if(!n.rpcImpl){setTimeout(function(){t(Error("already ended"))},0);return}try{return n.rpcImpl(c,l[n.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(f,y){if(f)return n.emit("error",f,c),t(f);if(y===null){n.end(!0);return}if(!(y instanceof r))try{y=r[n.responseDelimited?"decodeDelimited":"decode"](y)}catch(O){return n.emit("error",O,c),t(O)}return n.emit("data",y,c),t(null,y)})}catch(o){n.emit("error",o,c),setTimeout(function(){t(o)},0);return}};ot.prototype.end=function(c){return this.rpcImpl&&(c||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var lr=_e(or=>{"use strict";var Xr=or;Xr.Service=ir()});var ar=_e((bo,cr)=>{"use strict";cr.exports={}});var sr=_e(fr=>{"use strict";var je=fr;je.build="minimal";je.Writer=Wt();je.BufferWriter=qn();je.Reader=Jt();je.BufferReader=nr();je.util=$e();je.rpc=lr();je.roots=ar();je.configure=ur;function ur(){je.util._configure(),je.Writer._configure(je.BufferWriter),je.Reader._configure(je.BufferReader)}ur()});var hr=_e((Oo,dr)=>{"use strict";dr.exports=sr()});var pr=_e((lt,wt)=>{(function(d,c){"use strict";var l="1.0.2",r="",e="?",t="function",n="undefined",o="object",f="string",y="major",O="model",b="name",u="type",p="vendor",I="version",P="architecture",g="console",w="mobile",v="tablet",m="smarttv",S="wearable",_="embedded",B=255,R="Amazon",$="Apple",F="ASUS",C="BlackBerry",Y="Browser",N="Chrome",H="Edge",J="Firefox",ce="Google",Q="Huawei",q="LG",oe="Microsoft",k="Motorola",A="Opera",j="Samsung",L="Sony",K="Xiaomi",G="Zebra",z="Facebook",re=function(ne,he){var a={};for(var s in ne)he[s]&&he[s].length%2==0?a[s]=he[s].concat(ne[s]):a[s]=ne[s];return a},te=function(ne){for(var he={},a=0;a<ne.length;a++)he[ne[a].toUpperCase()]=ne[a];return he},ue=function(ne,he){return typeof ne===f?le(he).indexOf(le(ne))!==-1:!1},le=function(ne){return ne.toLowerCase()},D=function(ne){return typeof ne===f?ne.replace(/[^\d\.]/g,r).split(".")[0]:c},E=function(ne,he){if(typeof ne===f)return ne=ne.replace(/^\s\s*/,r).replace(/\s\s*$/,r),typeof he===n?ne:ne.substring(0,B)},W=function(ne,he){for(var a=0,s,h,M,T,x,V;a<he.length&&!x;){var ie=he[a],se=he[a+1];for(s=h=0;s<ie.length&&!x;)if(x=ie[s++].exec(ne),x)for(M=0;M<se.length;M++)V=x[++h],T=se[M],typeof T===o&&T.length>0?T.length===2?typeof T[1]==t?this[T[0]]=T[1].call(this,V):this[T[0]]=T[1]:T.length===3?typeof T[1]===t&&!(T[1].exec&&T[1].test)?this[T[0]]=V?T[1].call(this,V,T[2]):c:this[T[0]]=V?V.replace(T[1],T[2]):c:T.length===4&&(this[T[0]]=V?T[3].call(this,V.replace(T[1],T[2])):c):this[T]=V||c;a+=2}},X=function(ne,he){for(var a in he)if(typeof he[a]===o&&he[a].length>0){for(var s=0;s<he[a].length;s++)if(ue(he[a][s],ne))return a===e?c:a}else if(ue(he[a],ne))return a===e?c:a;return ne},ve={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Oe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0","2000":"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0","7":"NT 6.1","8":"NT 6.2","8.1":"NT 6.3","10":["NT 6.4","NT 10.0"],RT:"ARM"},ee={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[I,[b,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[I,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,I],[/opios[\/ ]+([\w\.]+)/i],[I,[b,A+" Mini"]],[/\bopr\/([\w\.]+)/i],[I,[b,A]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[b,I],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[I,[b,"UC"+Y]],[/\bqbcore\/([\w\.]+)/i],[I,[b,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[I,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[I,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[I,[b,"IE"]],[/yabrowser\/([\w\.]+)/i],[I,[b,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure "+Y],I],[/\bfocus\/([\w\.]+)/i],[I,[b,J+" Focus"]],[/\bopt\/([\w\.]+)/i],[I,[b,A+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[I,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[I,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[I,[b,A+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[I,[b,"MIUI "+Y]],[/fxios\/([-\w\.]+)/i],[I,[b,J]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360 "+Y]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1 "+Y],I],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],I],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[b,I],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,z],I],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[b,I],[/\bgsa\/([\w\.]+) .*safari\//i],[I,[b,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[I,[b,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,N+" WebView"],I],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[I,[b,"Android "+Y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,I],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[I,[b,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[I,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[I,X,ve]],[/(webkit|khtml)\/([\w\.]+)/i],[b,I],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],I],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[I,[b,J+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[b,I]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[P,"amd64"]],[/(ia32(?=;))/i],[[P,le]],[/((?:i[346]|x)86)[;\)]/i],[[P,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[P,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[P,"armhf"]],[/windows (ce|mobile); ppc;/i],[[P,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[P,/ower/,r,le]],[/(sun4\w)[;\)]/i],[[P,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[P,le]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[O,[p,j],[u,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[O,[p,j],[u,w]],[/\((ip(?:hone|od)[\w ]*);/i],[O,[p,$],[u,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[O,[p,$],[u,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[O,[p,Q],[u,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[O,[p,Q],[u,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[O,/_/g," "],[p,K],[u,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[O,/_/g," "],[p,K],[u,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[O,[p,"OPPO"],[u,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[O,[p,"Vivo"],[u,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[O,[p,"Realme"],[u,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[O,[p,k],[u,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[O,[p,k],[u,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[O,[p,q],[u,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[O,[p,q],[u,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[O,[p,"Lenovo"],[u,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[O,/_/g," "],[p,"Nokia"],[u,w]],[/(pixel c)\b/i],[O,[p,ce],[u,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[O,[p,ce],[u,w]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[O,[p,L],[u,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[O,"Xperia Tablet"],[p,L],[u,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[O,[p,"OnePlus"],[u,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[O,[p,R],[u,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[O,/(.+)/g,"Fire Phone $1"],[p,R],[u,w]],[/(playbook);[-\w\),; ]+(rim)/i],[O,p,[u,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[O,[p,C],[u,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[O,[p,F],[u,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[O,[p,F],[u,w]],[/(nexus 9)/i],[O,[p,"HTC"],[u,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[O,/_/g," "],[u,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[O,[p,"Acer"],[u,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[O,[p,"Meizu"],[u,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[O,[p,"Sharp"],[u,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,O,[u,w]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,O,[u,v]],[/(surface duo)/i],[O,[p,oe],[u,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[O,[p,"Fairphone"],[u,w]],[/(u304aa)/i],[O,[p,"AT&T"],[u,w]],[/\bsie-(\w*)/i],[O,[p,"Siemens"],[u,w]],[/\b(rct\w+) b/i],[O,[p,"RCA"],[u,v]],[/\b(venue[\d ]{2,7}) b/i],[O,[p,"Dell"],[u,v]],[/\b(q(?:mv|ta)\w+) b/i],[O,[p,"Verizon"],[u,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[O,[p,"Barnes & Noble"],[u,v]],[/\b(tm\d{3}\w+) b/i],[O,[p,"NuVision"],[u,v]],[/\b(k88) b/i],[O,[p,"ZTE"],[u,v]],[/\b(nx\d{3}j) b/i],[O,[p,"ZTE"],[u,w]],[/\b(gen\d{3}) b.+49h/i],[O,[p,"Swiss"],[u,w]],[/\b(zur\d{3}) b/i],[O,[p,"Swiss"],[u,v]],[/\b((zeki)?tb.*\b) b/i],[O,[p,"Zeki"],[u,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],O,[u,v]],[/\b(ns-?\w{0,9}) b/i],[O,[p,"Insignia"],[u,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[O,[p,"NextBook"],[u,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],O,[u,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],O,[u,w]],[/\b(ph-1) /i],[O,[p,"Essential"],[u,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[O,[p,"Envizen"],[u,v]],[/\b(trio[-\w\. ]+) b/i],[O,[p,"MachSpeed"],[u,v]],[/\btu_(1491) b/i],[O,[p,"Rotor"],[u,v]],[/(shield[\w ]+) b/i],[O,[p,"Nvidia"],[u,v]],[/(sprint) (\w+)/i],[p,O,[u,w]],[/(kin\.[onetw]{3})/i],[[O,/\./g," "],[p,oe],[u,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[O,[p,G],[u,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[O,[p,G],[u,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,O,[u,g]],[/droid.+; (shield) bui/i],[O,[p,"Nvidia"],[u,g]],[/(playstation [345portablevi]+)/i],[O,[p,L],[u,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[O,[p,oe],[u,g]],[/smart-tv.+(samsung)/i],[p,[u,m]],[/hbbtv.+maple;(\d+)/i],[[O,/^/,"SmartTV"],[p,j],[u,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,q],[u,m]],[/(apple) ?tv/i],[p,[O,$+" TV"],[u,m]],[/crkey/i],[[O,N+"cast"],[p,ce],[u,m]],[/droid.+aft(\w)( bui|\))/i],[O,[p,R],[u,m]],[/\(dtv[\);].+(aquos)/i],[O,[p,"Sharp"],[u,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,E],[O,E],[u,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,m]],[/((pebble))app/i],[p,O,[u,S]],[/droid.+; (glass) \d/i],[O,[p,ce],[u,S]],[/droid.+; (wt63?0{2,3})\)/i],[O,[p,G],[u,S]],[/(quest( 2)?)/i],[O,[p,z],[u,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[u,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[O,[u,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[O,[u,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,v]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[u,w]],[/(android[-\w\. ]{0,9});.+buil/i],[O,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[I,[b,H+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[I,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[b,I],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[I,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,I],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[b,[I,X,Oe]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[b,"Windows"],[I,X,Oe]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[I,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,"Mac OS"],[I,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[I,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,I],[/\(bb(10);/i],[I,[b,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[I,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[I,[b,J+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[I,[b,"webOS"]],[/crkey\/([\d\.]+)/i],[I,[b,N+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[b,"Chromium OS"],I],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,I],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],I],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[b,I]]},fe=function(ne,he){if(typeof ne===o&&(he=ne,ne=c),!(this instanceof fe))return new fe(ne,he).getResult();var a=ne||(typeof d!==n&&d.navigator&&d.navigator.userAgent?d.navigator.userAgent:r),s=he?re(ee,he):ee;return this.getBrowser=function(){var h={};return h[b]=c,h[I]=c,W.call(h,a,s.browser),h.major=D(h.version),h},this.getCPU=function(){var h={};return h[P]=c,W.call(h,a,s.cpu),h},this.getDevice=function(){var h={};return h[p]=c,h[O]=c,h[u]=c,W.call(h,a,s.device),h},this.getEngine=function(){var h={};return h[b]=c,h[I]=c,W.call(h,a,s.engine),h},this.getOS=function(){var h={};return h[b]=c,h[I]=c,W.call(h,a,s.os),h},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return a},this.setUA=function(h){return a=typeof h===f&&h.length>B?E(h,B):h,this},this.setUA(a),this};fe.VERSION=l,fe.BROWSER=te([b,I,y]),fe.CPU=te([P]),fe.DEVICE=te([O,p,u,g,w,m,v,S,_]),fe.ENGINE=fe.OS=te([b,I]),typeof lt!==n?(typeof wt!==n&&wt.exports&&(lt=wt.exports=fe),lt.UAParser=fe):typeof define===t&&__webpack_require__.amdO?define(function(){return fe}):typeof d!==n&&(d.UAParser=fe);var de=typeof d!==n&&(d.jQuery||d.Zepto);if(de&&!de.ua){var Ae=new fe;de.ua=Ae.getResult(),de.ua.get=function(){return Ae.getUA()},de.ua.set=function(ne){Ae.setUA(ne);var he=Ae.getResult();for(var a in he)de.ua[a]=he[a]}}})(typeof window=="object"?window:lt)});var ze=new Error("Unsupported platform"),Ce=new Error("Invalid argument"),Gt=new Error("Unexpected error"),et=new Error("Invalid key"),Fe=new Error("Invalid signature"),mt=new Error("Operation blocked");var ge={readonly:"readonly",readwrite:"readwrite"};function zt(d,c,l){return window.indexedDB||Promise.reject(ze),new Promise((r,e)=>{try{let t=!1,n=f=>{t||(t=!0,e(f))},o=window.indexedDB.open(d,c);o.onupgradeneeded=f=>{try{l(f.target.result,f.target.transaction,f.newVersion,f.oldVersion)}catch(y){n(y)}},o.onblocked=f=>{n(mt)},o.onerror=f=>{n(f.target.error)},o.onsuccess=f=>{if(!t){let y=f.target.result;y.onversionchange=O=>{y.close()},r(y)}}}catch(t){reject_once(t)}})}function Yt(d){d.close()}function Xt(d){return new Promise((c,l)=>{let r=window.indexedDB.deleteDatabase(d);r.onerror=e=>{l(Gt)},r.onsuccess=e=>{c()},r.onblocked=e=>{l(mt)}})}function De(d,c,l){let r=d.transaction(c,l);return r.result=null,r.promise=new Promise((e,t)=>{r.oncomplete=n=>{e(r.result)},r.onerror=n=>{t(r.error?r.error:n.target.error)},r.onabort=n=>{t(r.result)}}),r}function Pe(d){return d.error?Promise.reject(d.error):d.promise}function Ye(d,c,l){try{let e=d.objectStore(c).get(l);e.onsuccess=t=>{d.result=e.result},e.onerror=t=>{d.result=t.target.error,d.abort()}}catch(r){d.result=r,d.abort()}}function at(d,c,l){return new Promise((r,e)=>{try{let n=d.objectStore(c).get(l);n.onsuccess=o=>{r(n.result)},n.onerror=o=>{d.result=o.target.error,e(o.error)}}catch(t){d.result=t,e(t)}})}function It(d,c){try{let r=d.objectStore(c).getAll();r.onsuccess=e=>{d.result=r.result},r.onerror=e=>{d.result=e.target.error,d.abort()}}catch(l){d.result=l,d.abort()}}function Zt(d,c){return new Promise((l,r)=>{try{let t=d.objectStore(c).getAll();t.onsuccess=n=>{l(t.result)},t.onerror=n=>{d.result=n.target.error,r(n.error)}}catch(e){d.result=e,r(e)}})}function Be(d,c,l,r){try{let t=d.objectStore(c).put(l,r);t.onsuccess=n=>{d.result=t.result},t.onerror=n=>{d.result=n.target.error,d.abort()}}catch(e){d.result=e,d.abort()}}function Xe(d,c,l){try{let e=d.objectStore(c).delete(l);e.onsuccess=t=>{d.result=e.result},e.onerror=t=>{d.result=t.target.error,d.abort()}}catch(r){d.result=r,d.abort()}}function At(d,c){try{let r=d.objectStore(c).clear();r.onsuccess=e=>{d.result=r.result},r.onerror=e=>{d.result=e.target.error,d.abort()}}catch(l){d.result=l,d.abort()}}var Qt="keymaker",Et=[gr,Dr,Pr,Mr,Tr,jr],He="certificates",We="keys",Se="credentials",_t="id",Ve="appSettings";function Ar(d){return new Promise(async(c,l)=>{d===void 0&&(d=Et.length);try{let r=await zt(Qt,d,kr);c(r)}catch(r){l(r)}})}function Er(d){return new Promise(async(c,l)=>{try{Yt(d),c()}catch(r){l(r)}})}function _r(){return new Promise(async(d,c)=>{try{await Xt(Qt),d()}catch(l){c(l)}})}function kr(d,c,l,r){if(!d||!l)throw Ce;if(l>Et.length)throw Ce;for(;r<l;r++)Et[r](d,c)}function gr(d,c){d.createObjectStore(Se,{keyPath:"handle"}),d.createObjectStore(He),d.createObjectStore(We)}function Dr(d,c){d.createObjectStore(Ve,{keyPath:"instanceId"})}function Pr(d,c){let r=c.objectStore(Se).openCursor();r.onsuccess=e=>{let t=e.target.result;t&&(t.value.state||(t.value.state="Active",t.update(t.value)),t.continue())}}function Mr(d,c){}function Tr(d,c){let r=c.objectStore(Se).openCursor();r.onsuccess=e=>{let t=e.target.result;t&&(t.value.id||(t.value.id=xr(16,"cr"),t.update(t.value)),t.continue())}}function jr(d,c){c.objectStore(Se).createIndex(_t,"id",{unique:!0})}function Br(d){let c=new Uint8Array(d);return window.crypto.getRandomValues(c),c}function xr(d,c){return(c??"")+[...Br(d/2)].map(l=>l.toString(16).padStart(2,"0")).join("")}function ai(d,c){return new Promise(async(l,r)=>{try{let e=De(d,He,ge.readonly);Ye(e,He,c);let t=await Pe(e);l(new Uint8Array(t))}catch(e){r(e)}})}function ui(d,c,l){return new Promise(async(r,e)=>{try{let t=De(d,He,ge.readwrite);Be(t,He,l,c),await Pe(t),r()}catch(t){e(t)}})}function fi(d,c){return new Promise(async(l,r)=>{try{let e=De(d,He,ge.readwrite);Xe(e,He,c),await Pe(e),l()}catch(e){r(e)}})}function en(d,c,l){return new Promise(async(r,e)=>{try{let t=De(d,We,ge.readwrite);Be(t,We,l,c),await Pe(t),r()}catch(t){e(t)}})}function Ze(d,c){return new Promise(async(l,r)=>{try{let e=De(d,We,ge.readonly);Ye(e,We,c);let t=await Pe(e);t?l(t):r(et)}catch(e){r(e)}})}function yi(d,c){return new Promise(async(l,r)=>{try{let e=De(d,We,ge.readwrite);Xe(e,We,c),await Pe(e),l()}catch(e){r(e)}})}function ut(d){window.crypto.getRandomValues(d)}function kt(d,c){return new Promise((l,r)=>{window.crypto.subtle.exportKey(c,d).then(e=>{l(new Uint8Array(e))},e=>{r(e)})})}function tn(d){return new Promise((c,l)=>{let r={name:"ECDSA",namedCurve:d};window.crypto.subtle.generateKey(r,!1,["sign","verify"]).then(e=>{c(e)},e=>{l(e)})})}function ft(d,c,l,r){return new Promise((e,t)=>{let n={name:"ECDSA",namedCurve:c};window.crypto.subtle.importKey(d,l,n,!0,[r]).then(o=>{e(o)},o=>{t(o)})})}function nn(d,c,l){return new Promise((r,e)=>{let t={name:"ECDSA",hash:c};window.crypto.subtle.sign(t,d,l).then(n=>{n=new Uint8Array(n),r(n)},n=>{e(n)})})}function rn(d,c,l,r){return new Promise((e,t)=>{let n={name:"ECDSA",hash:c};window.crypto.subtle.verify(n,d,l,r).then(o=>{e(o)},o=>{t(o)})})}function gt(){return new Promise((d,c)=>{let l={name:"AES-GCM",length:256};window.crypto.subtle.generateKey(l,!1,["encrypt","decrypt"]).then(r=>{d(r)},r=>{c(r)})})}function Dt(d,c,l){return new Promise((r,e)=>{let t={name:"AES-GCM",iv:c};window.crypto.subtle.encrypt(t,d,l).then(n=>{r(new Uint8Array(n))},n=>{e(n)})})}function Pt(d,c,l){return new Promise((r,e)=>{let t={name:"AES-GCM",iv:c};window.crypto.subtle.decrypt(t,d,l).then(n=>{r(new Uint8Array(n))},n=>{e(n)})})}var Tt=St(on()),ln="subtle",cn="webauthn";function Ai(d,c,l){return new Promise(async(r,e)=>{try{let n=await(await fn(d)).generateKey(l);await en(c,l,n),r()}catch(t){e(t)}})}function Ei(d,c){return new Promise(async(l,r)=>{try{let e=await Ze(d,c),t=nt(e);l(t===st)}catch(e){r(e)}})}function _i(d,c,l){return new Promise(async(r,e)=>{try{let t=await Ze(d,c),o=await nt(t).sign(t,l);r(o)}catch(t){e(t)}})}function Nr(d){if(d.subtle!==void 0){if(d=d.subtle.signature,d.length==64)return d;if(d.length<64)throw Fe;if(d[0]!=48)throw Fe;let c=new Uint8Array(64),l=2;if(d[l++]!=2)throw Fe;let r=d[l++];if(r==33)l++;else if(r!=32)throw Fe;if(c.set(d.slice(l,l+32),0),l+=32,d[l++]!=2)throw Fe;if(r=d[l++],r==33)l++;else if(r!=32)throw Fe;return c.set(d.slice(l,l+32),32),c}else throw d.webauthn!==void 0?new Error("Not implemented"):Fe}function ki(d,c,l,r){return new Promise(async(e,t)=>{try{let n=await Rr(d,c),o=await ft("raw","P-256",n,"verify");l=Nr(l);let f=await rn(o,"SHA-256",l,r);e(f)}catch(n){t(n)}})}function Rr(d,c){return new Promise(async(l,r)=>{try{let e=await Ze(d,c),n=await nt(e).publicKey(e);l(new Uint8Array(n))}catch(e){r(e)}})}function gi(d,c,l){return new Promise(async(r,e)=>{try{let t=await Ze(d,c),o=await nt(t).encrypt(t,l);r(o)}catch(t){e(t)}})}function Di(d,c,l){return new Promise(async(r,e)=>{try{let t=await Ze(d,c),o=await nt(t).decrypt(t,data);r(o)}catch(t){e(t)}})}async function an(){let d=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),c=window.localStorage?.getItem("EnableWebAuthn")==="true";return!!(!d&&window.PublicKeyCredential&&await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()&&c)}function un(){return!!window.crypto.subtle}async function fn(d){switch(d){case void 0:{if(await an())return st;if(un())return jt;throw ze}case ln:if(un())return jt;throw ze;case cn:if(await an())return st;throw ze;default:throw Ce}}function sn(d,c){return c in d}function nt(d){if("subtle"in d)return jt;if("webauthn"in d)return st;throw Ce}var jt=new class{extractKeys(c){if(sn(c,ln))return c.subtle;throw et}async generateKey(c){let l=await tn("P-256"),r=await gt();return{subtle:{signingKey:l,encryptionKey:r}}}async publicKey(c){let l=this.extractKeys(c);return await kt(l.signingKey.publicKey,"raw")}async sign(c,l){let r=this.extractKeys(c);return{subtle:{signature:await nn(r.signingKey.privateKey,"SHA-256",l)}}}async encrypt(c,l){let r=this.extractKeys(c),e=new Uint8Array(12);ut(e);let t=await Dt(r.encryptionKey,e,l),n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}async decrypt(c,l){let r=this.extractKeys(c),e=l.slice(0,12);return l=l.slice(12),await Pt(r.encryptionKey,e,l)}},st=new class{extractKeys(c){if(sn(c,cn))return c.webauthn;throw et}async generateKey(c){await fn("subtle");let l=new Uint8Array(16);ut(l);let r={rp:{name:"Beyond Identity, Inc.",id:location.hostname},challenge:new Uint8Array(0),user:{id:l,name:c,displayName:c},pubKeyCredParams:[{type:"public-key",alg:-7}],attestation:"none",authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"}},e;try{e=await navigator.credentials.create({publicKey:r})}catch(b){let u=new Error(b.message);throw u.name="WebAuthnError",u}if(!e)return Promise.reject(Ce);let t=e.response,o=(await(0,Tt.decodeFirst)(t.attestationObject)).authData;if(typeof t.getPublicKey=="function"){let b=t.getPublicKey();var f=await ft("spki","P-256",b,"verify")}else{let u=new DataView(o.buffer.slice(o.byteOffset+53,o.byteOffset+55)).getUint16(),p=o.slice(55+u),I=await(0,Tt.decodeFirst)(p),P=new Uint8Array(65);P[0]=4,P.set(I.get(-2),1),P.set(I.get(-3),33);var f=await ft("raw","P-256",P,"verify")}let y=[];typeof t.getTransports=="function"&&(y=t.getTransports());let O=await gt();return{webauthn:{signingKey:{rawId:e.rawId,transports:y,publicKey:f,authenticatorData:o},encryptionKey:O}}}async publicKey(c){let l=this.extractKeys(c);return await kt(l.signingKey.publicKey,"raw")}async sign(c,l){let r=this.extractKeys(c),e={challenge:l,allowCredentials:[{id:r.signingKey.rawId,type:"public-key",transports:r.signingKey.transports}],userVerification:"required",timeout:6e4},t=await navigator.credentials.get({publicKey:e});if(!t)return Promise.reject(Ce);let n=t.response;return{webauthn:{authenticatorData:n.authenticatorData,clientDataJSON:n.clientDataJSON,signature:n.signature}}}async encrypt(c,l){let r=this.extractKeys(c),e=new Uint8Array(12);ut(e);let t=await Dt(r.encryptionKey,e,l),n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}async decrypt(c,l){let r=this.extractKeys(c),e=l.slice(0,12);return l=l.slice(12),await Pt(r.encryptionKey,e,l)}};var dt,Ur=new Uint8Array(16);function Bt(){if(!dt&&(dt=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dt(Ur)}var dn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Lr(d){return typeof d=="string"&&dn.test(d)}var hn=Lr;var Te=[];for(ht=0;ht<256;++ht)Te.push((ht+256).toString(16).substr(1));var ht;function Vr(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=(Te[d[c+0]]+Te[d[c+1]]+Te[d[c+2]]+Te[d[c+3]]+"-"+Te[d[c+4]]+Te[d[c+5]]+"-"+Te[d[c+6]]+Te[d[c+7]]+"-"+Te[d[c+8]]+Te[d[c+9]]+"-"+Te[d[c+10]]+Te[d[c+11]]+Te[d[c+12]]+Te[d[c+13]]+Te[d[c+14]]+Te[d[c+15]]).toLowerCase();if(!hn(l))throw TypeError("Stringified UUID is invalid");return l}var pn=Vr;function Cr(d,c,l){d=d||{};var r=d.random||(d.rng||Bt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,c){l=l||0;for(var e=0;e<16;++e)c[l+e]=r[e];return c}return pn(r)}var xt=Cr;function Ji(d,c){return new Promise(async(l,r)=>{try{let e=De(d,Se,ge.readwrite);Be(e,Se,c),await Pe(e),l()}catch(e){r(e)}})}function qi(d,c){return new Promise(async(l,r)=>{try{let e=De(d,Se,ge.readwrite),t=e.objectStore(Se),n=t.index(_t),o=!1,f=n.openCursor().on_success=y=>{f&&(!update&&f.value.id==c.id&&(f.update(c),o=!0),f.continue())};o||t.put(c),await Pe(e),l()}catch(e){r(e)}})}function Gi(d,c,l){return new Promise(async(r,e)=>{try{let t=De(d,Se,ge.readwrite),n=await at(t,Se,c);n.name=l.name,n.image_url=l.image_url,n.enroll_uri=l.enroll_uri,n.login_uri=l.login_uri,n.desktop_login_url=l.desktop_login_url,n.device_gateway_url=l.device_gateway_url,n.migrate_addr=l.migrate_addr,Be(t,Se,n),await Pe(t),r()}catch(t){e(t)}})}function zi(d,c){return new Promise(async(l,r)=>{try{l(!!await Fr(d,c))}catch(e){r(e)}})}function Fr(d,c){return new Promise(async(l,r)=>{try{let e=De(d,Se,ge.readonly);Ye(e,Se,c);let t=await Pe(e);l(t)}catch(e){r(e)}})}function Yi(d,c){return new Promise(async(l,r)=>{try{let t=(await Hr(d)).find(n=>n.id===c);l(t)}catch(e){r(e)}})}function Hr(d){return new Promise(async(c,l)=>{try{let r=De(d,Se,ge.readonly);It(r,Se);let e=await Pe(r);c(e)}catch(r){l(r)}})}function Xi(d,c){return new Promise(async(l,r)=>{try{let e=De(d,Se,ge.readwrite);Xe(e,Se,c),await Pe(e),l()}catch(e){r(e)}})}function Zi(d,c,l){return new Promise(async(r,e)=>{try{let t=De(d,Se,ge.readwrite),n=await at(t,Se,c);n.auth_client_ids.push(l),Be(t,Se,n),await Pe(t),r()}catch(t){e(t)}})}function Qi(d,c){return new Promise(async(l,r)=>{try{let e=De(d,Se,ge.readwrite),t=await at(e,Se,c);t.auth_client_ids=[],Be(e,Se,t),await Pe(e),l()}catch(e){r(e)}})}async function yn(d){return await vn(d,void 0)}async function eo(d,c){await vn(d,c)}async function vn(d,c){let l=De(d,Ve,ge.readwrite),r=()=>(c===void 0&&(c={instanceId:xt()}),c),e=await Zt(l,Ve);if(e.length===0?Be(l,Ve,r()):e.length>1?(At(l,Ve),Be(l,Ve,r())):c!==void 0&&(c.instanceId!==e[0].instanceId&&At(),Be(l,Ve,r())),It(l,Ve),e=await Pe(l),e.length!==1)throw new Error("Transaction failure");return e[0]}var ae=St(hr()),U=ae.Reader,we=ae.Writer,ke=ae.util,i=ae.roots.default||(ae.roots.default={}),ye=i.device=(()=>{let d={};return d.Platform=function(){let c={},l=Object.create(c);return l[c[0]="UNSPECIFIED"]=0,l[c[1]="MACOS"]=1,l[c[2]="IOS"]=2,l[c[3]="ANDROID"]=3,l[c[4]="WINDOWS"]=4,l[c[5]="LINUX"]=5,l[c[6]="WEB"]=6,l}(),d.Core=function(){let c={},l=Object.create(c);return l[c[0]="GO"]=0,l[c[1]="RUST"]=1,l}(),d.AnswerType=function(){let c={},l=Object.create(c);return l[c[0]="UNSUPPORTED"]=0,l[c[1]="UNKNOWN"]=1,l[c[2]="ERROR"]=2,l[c[3]="VALUE"]=3,l}(),d.Answer=function(){function c(l){if(l)for(let r=Object.keys(l),e=0;e<r.length;++e)l[r[e]]!=null&&(this[r[e]]=l[r[e]])}return c.prototype.type=0,c.prototype.error="",c.create=function(r){return new c(r)},c.encode=function(r,e){return e||(e=we.create()),r.type!=null&&Object.hasOwnProperty.call(r,"type")&&e.uint32(8).int32(r.type),r.error!=null&&Object.hasOwnProperty.call(r,"error")&&e.uint32(18).string(r.error),e},c.encodeDelimited=function(r,e){return this.encode(r,e).ldelim()},c.decode=function(r,e){r instanceof U||(r=U.create(r));let t=e===void 0?r.len:r.pos+e,n=new i.device.Answer;for(;r.pos<t;){let o=r.uint32();switch(o>>>3){case 1:n.type=r.int32();break;case 2:n.error=r.string();break;default:r.skipType(o&7);break}}return n},c.decodeDelimited=function(r){return r instanceof U||(r=new U(r)),this.decode(r,r.uint32())},c.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.type!=null&&r.hasOwnProperty("type"))switch(r.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:break}return r.error!=null&&r.hasOwnProperty("error")&&!ke.isString(r.error)?"error: string expected":null},c.fromObject=function(r){if(r instanceof i.device.Answer)return r;let e=new i.device.Answer;switch(r.type){case"UNSUPPORTED":case 0:e.type=0;break;case"UNKNOWN":case 1:e.type=1;break;case"ERROR":case 2:e.type=2;break;case"VALUE":case 3:e.type=3;break}return r.error!=null&&(e.error=String(r.error)),e},c.toObject=function(r,e){e||(e={});let t={};return e.defaults&&(t.type=e.enums===String?"UNSUPPORTED":0,t.error=""),r.type!=null&&r.hasOwnProperty("type")&&(t.type=e.enums===String?i.device.AnswerType[r.type]:r.type),r.error!=null&&r.hasOwnProperty("error")&&(t.error=r.error),t},c.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},c}(),d.StringMaybe=function(){function c(l){if(l)for(let r=Object.keys(l),e=0;e<r.length;++e)l[r[e]]!=null&&(this[r[e]]=l[r[e]])}return c.prototype.answer=null,c.prototype.value="",c.create=function(r){return new c(r)},c.encode=function(r,e){return e||(e=we.create()),r.answer!=null&&Object.hasOwnProperty.call(r,"answer")&&i.device.Answer.encode(r.answer,e.uint32(10).fork()).ldelim(),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&e.uint32(18).string(r.value),e},c.encodeDelimited=function(r,e){return this.encode(r,e).ldelim()},c.decode=function(r,e){r instanceof U||(r=U.create(r));let t=e===void 0?r.len:r.pos+e,n=new i.device.StringMaybe;for(;r.pos<t;){let o=r.uint32();switch(o>>>3){case 1:n.answer=i.device.Answer.decode(r,r.uint32());break;case 2:n.value=r.string();break;default:r.skipType(o&7);break}}return n},c.decodeDelimited=function(r){return r instanceof U||(r=new U(r)),this.decode(r,r.uint32())},c.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.answer!=null&&r.hasOwnProperty("answer")){let e=i.device.Answer.verify(r.answer);if(e)return"answer."+e}return r.value!=null&&r.hasOwnProperty("value")&&!ke.isString(r.value)?"value: string expected":null},c.fromObject=function(r){if(r instanceof i.device.StringMaybe)return r;let e=new i.device.StringMaybe;if(r.answer!=null){if(typeof r.answer!="object")throw TypeError(".device.StringMaybe.answer: object expected");e.answer=i.device.Answer.fromObject(r.answer)}return r.value!=null&&(e.value=String(r.value)),e},c.toObject=function(r,e){e||(e={});let t={};return e.defaults&&(t.answer=null,t.value=""),r.answer!=null&&r.hasOwnProperty("answer")&&(t.answer=i.device.Answer.toObject(r.answer,e)),r.value!=null&&r.hasOwnProperty("value")&&(t.value=r.value),t},c.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},c}(),d.Int32Maybe=function(){function c(l){if(l)for(let r=Object.keys(l),e=0;e<r.length;++e)l[r[e]]!=null&&(this[r[e]]=l[r[e]])}return c.prototype.answer=null,c.prototype.value=0,c.create=function(r){return new c(r)},c.encode=function(r,e){return e||(e=we.create()),r.answer!=null&&Object.hasOwnProperty.call(r,"answer")&&i.device.Answer.encode(r.answer,e.uint32(10).fork()).ldelim(),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&e.uint32(16).int32(r.value),e},c.encodeDelimited=function(r,e){return this.encode(r,e).ldelim()},c.decode=function(r,e){r instanceof U||(r=U.create(r));let t=e===void 0?r.len:r.pos+e,n=new i.device.Int32Maybe;for(;r.pos<t;){let o=r.uint32();switch(o>>>3){case 1:n.answer=i.device.Answer.decode(r,r.uint32());break;case 2:n.value=r.int32();break;default:r.skipType(o&7);break}}return n},c.decodeDelimited=function(r){return r instanceof U||(r=new U(r)),this.decode(r,r.uint32())},c.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.answer!=null&&r.hasOwnProperty("answer")){let e=i.device.Answer.verify(r.answer);if(e)return"answer."+e}return r.value!=null&&r.hasOwnProperty("value")&&!ke.isInteger(r.value)?"value: integer expected":null},c.fromObject=function(r){if(r instanceof i.device.Int32Maybe)return r;let e=new i.device.Int32Maybe;if(r.answer!=null){if(typeof r.answer!="object")throw TypeError(".device.Int32Maybe.answer: object expected");e.answer=i.device.Answer.fromObject(r.answer)}return r.value!=null&&(e.value=r.value|0),e},c.toObject=function(r,e){e||(e={});let t={};return e.defaults&&(t.answer=null,t.value=0),r.answer!=null&&r.hasOwnProperty("answer")&&(t.answer=i.device.Answer.toObject(r.answer,e)),r.value!=null&&r.hasOwnProperty("value")&&(t.value=r.value),t},c.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},c}(),d.Int64Maybe=function(){function c(l){if(l)for(let r=Object.keys(l),e=0;e<r.length;++e)l[r[e]]!=null&&(this[r[e]]=l[r[e]])}return c.prototype.answer=null,c.prototype.value=ke.Long?ke.Long.fromBits(0,0,!1):0,c.create=function(r){return new c(r)},c.encode=function(r,e){return e||(e=we.create()),r.answer!=null&&Object.hasOwnProperty.call(r,"answer")&&i.device.Answer.encode(r.answer,e.uint32(10).fork()).ldelim(),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&e.uint32(16).int64(r.value),e},c.encodeDelimited=function(r,e){return this.encode(r,e).ldelim()},c.decode=function(r,e){r instanceof U||(r=U.create(r));let t=e===void 0?r.len:r.pos+e,n=new i.device.Int64Maybe;for(;r.pos<t;){let o=r.uint32();switch(o>>>3){case 1:n.answer=i.device.Answer.decode(r,r.uint32());break;case 2:n.value=r.int64();break;default:r.skipType(o&7);break}}return n},c.decodeDelimited=function(r){return r instanceof U||(r=new U(r)),this.decode(r,r.uint32())},c.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.answer!=null&&r.hasOwnProperty("answer")){let e=i.device.Answer.verify(r.answer);if(e)return"answer."+e}return r.value!=null&&r.hasOwnProperty("value")&&!ke.isInteger(r.value)&&!(r.value&&ke.isInteger(r.value.low)&&ke.isInteger(r.value.high))?"value: integer|Long expected":null},c.fromObject=function(r){if(r instanceof i.device.Int64Maybe)return r;let e=new i.device.Int64Maybe;if(r.answer!=null){if(typeof r.answer!="object")throw TypeError(".device.Int64Maybe.answer: object expected");e.answer=i.device.Answer.fromObject(r.answer)}return r.value!=null&&(ke.Long?(e.value=ke.Long.fromValue(r.value)).unsigned=!1:typeof r.value=="string"?e.value=parseInt(r.value,10):typeof r.value=="number"?e.value=r.value:typeof r.value=="object"&&(e.value=new ke.LongBits(r.value.low>>>0,r.value.high>>>0).toNumber())),e},c.toObject=function(r,e){e||(e={});let t={};if(e.defaults)if(t.answer=null,ke.Long){let n=new ke.Long(0,0,!1);t.value=e.longs===String?n.toString():e.longs===Number?n.toNumber():n}else t.value=e.longs===String?"0":0;return r.answer!=null&&r.hasOwnProperty("answer")&&(t.answer=i.device.Answer.toObject(r.answer,e)),r.value!=null&&r.hasOwnProperty("value")&&(typeof r.value=="number"?t.value=e.longs===String?String(r.value):r.value:t.value=e.longs===String?ke.Long.prototype.toString.call(r.value):e.longs===Number?new ke.LongBits(r.value.low>>>0,r.value.high>>>0).toNumber():r.value),t},c.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},c}(),d.BoolMaybe=function(){function c(l){if(l)for(let r=Object.keys(l),e=0;e<r.length;++e)l[r[e]]!=null&&(this[r[e]]=l[r[e]])}return c.prototype.answer=null,c.prototype.value=!1,c.create=function(r){return new c(r)},c.encode=function(r,e){return e||(e=we.create()),r.answer!=null&&Object.hasOwnProperty.call(r,"answer")&&i.device.Answer.encode(r.answer,e.uint32(10).fork()).ldelim(),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&e.uint32(16).bool(r.value),e},c.encodeDelimited=function(r,e){return this.encode(r,e).ldelim()},c.decode=function(r,e){r instanceof U||(r=U.create(r));let t=e===void 0?r.len:r.pos+e,n=new i.device.BoolMaybe;for(;r.pos<t;){let o=r.uint32();switch(o>>>3){case 1:n.answer=i.device.Answer.decode(r,r.uint32());break;case 2:n.value=r.bool();break;default:r.skipType(o&7);break}}return n},c.decodeDelimited=function(r){return r instanceof U||(r=new U(r)),this.decode(r,r.uint32())},c.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.answer!=null&&r.hasOwnProperty("answer")){let e=i.device.Answer.verify(r.answer);if(e)return"answer."+e}return r.value!=null&&r.hasOwnProperty("value")&&typeof r.value!="boolean"?"value: boolean expected":null},c.fromObject=function(r){if(r instanceof i.device.BoolMaybe)return r;let e=new i.device.BoolMaybe;if(r.answer!=null){if(typeof r.answer!="object")throw TypeError(".device.BoolMaybe.answer: object expected");e.answer=i.device.Answer.fromObject(r.answer)}return r.value!=null&&(e.value=Boolean(r.value)),e},c.toObject=function(r,e){e||(e={});let t={};return e.defaults&&(t.answer=null,t.value=!1),r.answer!=null&&r.hasOwnProperty("answer")&&(t.answer=i.device.Answer.toObject(r.answer,e)),r.value!=null&&r.hasOwnProperty("value")&&(t.value=r.value),t},c.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},c}(),d.DeviceInfo=function(){function c(l){if(l)for(let r=Object.keys(l),e=0;e<r.length;++e)l[r[e]]!=null&&(this[r[e]]=l[r[e]])}return c.prototype.answer=null,c.prototype.platform=0,c.prototype.appVersion=null,c.prototype.core=0,c.prototype.osVersion=null,c.prototype.deviceType=null,c.prototype.authentication=null,c.prototype.volumes=null,c.prototype.securitySoftware=null,c.prototype.authorizationSettings=null,c.prototype.applications=null,c.prototype.appInstanceId=null,c.prototype.hardwareUuid=null,c.prototype.intuneManagedDeviceId=null,c.prototype.osDomainName=null,c.prototype.hostname=null,c.prototype.hardwareSerialNum=null,c.prototype.tpmInfo=null,c.prototype.crowdstrikeAgentId=null,c.prototype.biSdkInfo=null,c.prototype.keyProvenances=null,c.prototype.isHalEnabled=null,c.prototype.locale=null,c.create=function(r){return new c(r)},c.encode=function(r,e){return e||(e=we.create()),r.answer!=null&&Object.hasOwnProperty.call(r,"answer")&&i.device.Answer.encode(r.answer,e.uint32(10).fork()).ldelim(),r.platform!=null&&Object.hasOwnProperty.call(r,"platform")&&e.uint32(16).int32(r.platform),r.appVersion!=null&&Object.hasOwnProperty.call(r,"appVersion")&&i.device.StringMaybe.encode(r.appVersion,e.uint32(26).fork()).ldelim(),r.osVersion!=null&&Object.hasOwnProperty.call(r,"osVersion")&&i.device.DeviceInfo.OSVersion.encode(r.osVersion,e.uint32(34).fork()).ldelim(),r.deviceType!=null&&Object.hasOwnProperty.call(r,"deviceType")&&i.device.DeviceInfo.DeviceType.encode(r.deviceType,e.uint32(42).fork()).ldelim(),r.authentication!=null&&Object.hasOwnProperty.call(r,"authentication")&&i.device.DeviceInfo.Authentication.encode(r.authentication,e.uint32(50).fork()).ldelim(),r.volumes!=null&&Object.hasOwnProperty.call(r,"volumes")&&i.device.DeviceInfo.Volumes.encode(r.volumes,e.uint32(58).fork()).ldelim(),r.securitySoftware!=null&&Object.hasOwnProperty.call(r,"securitySoftware")&&i.device.DeviceInfo.SecuritySoftware.encode(r.securitySoftware,e.uint32(66).fork()).ldelim(),r.authorizationSettings!=null&&Object.hasOwnProperty.call(r,"authorizationSettings")&&i.device.DeviceInfo.AuthorizationSettings.encode(r.authorizationSettings,e.uint32(74).fork()).ldelim(),r.applications!=null&&Object.hasOwnProperty.call(r,"applications")&&i.device.DeviceInfo.Applications.encode(r.applications,e.uint32(82).fork()).ldelim(),r.appInstanceId!=null&&Object.hasOwnProperty.call(r,"appInstanceId")&&i.device.StringMaybe.encode(r.appInstanceId,e.uint32(90).fork()).ldelim(),r.hardwareUuid!=null&&Object.hasOwnProperty.call(r,"hardwareUuid")&&i.device.StringMaybe.encode(r.hardwareUuid,e.uint32(98).fork()).ldelim(),r.core!=null&&Object.hasOwnProperty.call(r,"core")&&e.uint32(104).int32(r.core),r.intuneManagedDeviceId!=null&&Object.hasOwnProperty.call(r,"intuneManagedDeviceId")&&i.device.StringMaybe.encode(r.intuneManagedDeviceId,e.uint32(114).fork()).ldelim(),r.osDomainName!=null&&Object.hasOwnProperty.call(r,"osDomainName")&&i.device.StringMaybe.encode(r.osDomainName,e.uint32(122).fork()).ldelim(),r.hostname!=null&&Object.hasOwnProperty.call(r,"hostname")&&i.device.StringMaybe.encode(r.hostname,e.uint32(130).fork()).ldelim(),r.hardwareSerialNum!=null&&Object.hasOwnProperty.call(r,"hardwareSerialNum")&&i.device.StringMaybe.encode(r.hardwareSerialNum,e.uint32(138).fork()).ldelim(),r.tpmInfo!=null&&Object.hasOwnProperty.call(r,"tpmInfo")&&i.device.DeviceInfo.TPMInfo.encode(r.tpmInfo,e.uint32(146).fork()).ldelim(),r.crowdstrikeAgentId!=null&&Object.hasOwnProperty.call(r,"crowdstrikeAgentId")&&i.device.StringMaybe.encode(r.crowdstrikeAgentId,e.uint32(154).fork()).ldelim(),r.biSdkInfo!=null&&Object.hasOwnProperty.call(r,"biSdkInfo")&&i.device.DeviceInfo.BiSdkInfo.encode(r.biSdkInfo,e.uint32(162).fork()).ldelim(),r.keyProvenances!=null&&Object.hasOwnProperty.call(r,"keyProvenances")&&i.device.DeviceInfo.KeyProvenances.encode(r.keyProvenances,e.uint32(170).fork()).ldelim(),r.isHalEnabled!=null&&Object.hasOwnProperty.call(r,"isHalEnabled")&&i.device.BoolMaybe.encode(r.isHalEnabled,e.uint32(178).fork()).ldelim(),r.locale!=null&&Object.hasOwnProperty.call(r,"locale")&&i.device.DeviceInfo.Locale.encode(r.locale,e.uint32(186).fork()).ldelim(),e},c.encodeDelimited=function(r,e){return this.encode(r,e).ldelim()},c.decode=function(r,e){r instanceof U||(r=U.create(r));let t=e===void 0?r.len:r.pos+e,n=new i.device.DeviceInfo;for(;r.pos<t;){let o=r.uint32();switch(o>>>3){case 1:n.answer=i.device.Answer.decode(r,r.uint32());break;case 2:n.platform=r.int32();break;case 3:n.appVersion=i.device.StringMaybe.decode(r,r.uint32());break;case 13:n.core=r.int32();break;case 4:n.osVersion=i.device.DeviceInfo.OSVersion.decode(r,r.uint32());break;case 5:n.deviceType=i.device.DeviceInfo.DeviceType.decode(r,r.uint32());break;case 6:n.authentication=i.device.DeviceInfo.Authentication.decode(r,r.uint32());break;case 7:n.volumes=i.device.DeviceInfo.Volumes.decode(r,r.uint32());break;case 8:n.securitySoftware=i.device.DeviceInfo.SecuritySoftware.decode(r,r.uint32());break;case 9:n.authorizationSettings=i.device.DeviceInfo.AuthorizationSettings.decode(r,r.uint32());break;case 10:n.applications=i.device.DeviceInfo.Applications.decode(r,r.uint32());break;case 11:n.appInstanceId=i.device.StringMaybe.decode(r,r.uint32());break;case 12:n.hardwareUuid=i.device.StringMaybe.decode(r,r.uint32());break;case 14:n.intuneManagedDeviceId=i.device.StringMaybe.decode(r,r.uint32());break;case 15:n.osDomainName=i.device.StringMaybe.decode(r,r.uint32());break;case 16:n.hostname=i.device.StringMaybe.decode(r,r.uint32());break;case 17:n.hardwareSerialNum=i.device.StringMaybe.decode(r,r.uint32());break;case 18:n.tpmInfo=i.device.DeviceInfo.TPMInfo.decode(r,r.uint32());break;case 19:n.crowdstrikeAgentId=i.device.StringMaybe.decode(r,r.uint32());break;case 20:n.biSdkInfo=i.device.DeviceInfo.BiSdkInfo.decode(r,r.uint32());break;case 21:n.keyProvenances=i.device.DeviceInfo.KeyProvenances.decode(r,r.uint32());break;case 22:n.isHalEnabled=i.device.BoolMaybe.decode(r,r.uint32());break;case 23:n.locale=i.device.DeviceInfo.Locale.decode(r,r.uint32());break;default:r.skipType(o&7);break}}return n},c.decodeDelimited=function(r){return r instanceof U||(r=new U(r)),this.decode(r,r.uint32())},c.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.answer!=null&&r.hasOwnProperty("answer")){let e=i.device.Answer.verify(r.answer);if(e)return"answer."+e}if(r.platform!=null&&r.hasOwnProperty("platform"))switch(r.platform){default:return"platform: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}if(r.appVersion!=null&&r.hasOwnProperty("appVersion")){let e=i.device.StringMaybe.verify(r.appVersion);if(e)return"appVersion."+e}if(r.core!=null&&r.hasOwnProperty("core"))switch(r.core){default:return"core: enum value expected";case 0:case 1:break}if(r.osVersion!=null&&r.hasOwnProperty("osVersion")){let e=i.device.DeviceInfo.OSVersion.verify(r.osVersion);if(e)return"osVersion."+e}if(r.deviceType!=null&&r.hasOwnProperty("deviceType")){let e=i.device.DeviceInfo.DeviceType.verify(r.deviceType);if(e)return"deviceType."+e}if(r.authentication!=null&&r.hasOwnProperty("authentication")){let e=i.device.DeviceInfo.Authentication.verify(r.authentication);if(e)return"authentication."+e}if(r.volumes!=null&&r.hasOwnProperty("volumes")){let e=i.device.DeviceInfo.Volumes.verify(r.volumes);if(e)return"volumes."+e}if(r.securitySoftware!=null&&r.hasOwnProperty("securitySoftware")){let e=i.device.DeviceInfo.SecuritySoftware.verify(r.securitySoftware);if(e)return"securitySoftware."+e}if(r.authorizationSettings!=null&&r.hasOwnProperty("authorizationSettings")){let e=i.device.DeviceInfo.AuthorizationSettings.verify(r.authorizationSettings);if(e)return"authorizationSettings."+e}if(r.applications!=null&&r.hasOwnProperty("applications")){let e=i.device.DeviceInfo.Applications.verify(r.applications);if(e)return"applications."+e}if(r.appInstanceId!=null&&r.hasOwnProperty("appInstanceId")){let e=i.device.StringMaybe.verify(r.appInstanceId);if(e)return"appInstanceId."+e}if(r.hardwareUuid!=null&&r.hasOwnProperty("hardwareUuid")){let e=i.device.StringMaybe.verify(r.hardwareUuid);if(e)return"hardwareUuid."+e}if(r.intuneManagedDeviceId!=null&&r.hasOwnProperty("intuneManagedDeviceId")){let e=i.device.StringMaybe.verify(r.intuneManagedDeviceId);if(e)return"intuneManagedDeviceId."+e}if(r.osDomainName!=null&&r.hasOwnProperty("osDomainName")){let e=i.device.StringMaybe.verify(r.osDomainName);if(e)return"osDomainName."+e}if(r.hostname!=null&&r.hasOwnProperty("hostname")){let e=i.device.StringMaybe.verify(r.hostname);if(e)return"hostname."+e}if(r.hardwareSerialNum!=null&&r.hasOwnProperty("hardwareSerialNum")){let e=i.device.StringMaybe.verify(r.hardwareSerialNum);if(e)return"hardwareSerialNum."+e}if(r.tpmInfo!=null&&r.hasOwnProperty("tpmInfo")){let e=i.device.DeviceInfo.TPMInfo.verify(r.tpmInfo);if(e)return"tpmInfo."+e}if(r.crowdstrikeAgentId!=null&&r.hasOwnProperty("crowdstrikeAgentId")){let e=i.device.StringMaybe.verify(r.crowdstrikeAgentId);if(e)return"crowdstrikeAgentId."+e}if(r.biSdkInfo!=null&&r.hasOwnProperty("biSdkInfo")){let e=i.device.DeviceInfo.BiSdkInfo.verify(r.biSdkInfo);if(e)return"biSdkInfo."+e}if(r.keyProvenances!=null&&r.hasOwnProperty("keyProvenances")){let e=i.device.DeviceInfo.KeyProvenances.verify(r.keyProvenances);if(e)return"keyProvenances."+e}if(r.isHalEnabled!=null&&r.hasOwnProperty("isHalEnabled")){let e=i.device.BoolMaybe.verify(r.isHalEnabled);if(e)return"isHalEnabled."+e}if(r.locale!=null&&r.hasOwnProperty("locale")){let e=i.device.DeviceInfo.Locale.verify(r.locale);if(e)return"locale."+e}return null},c.fromObject=function(r){if(r instanceof i.device.DeviceInfo)return r;let e=new i.device.DeviceInfo;if(r.answer!=null){if(typeof r.answer!="object")throw TypeError(".device.DeviceInfo.answer: object expected");e.answer=i.device.Answer.fromObject(r.answer)}switch(r.platform){case"UNSPECIFIED":case 0:e.platform=0;break;case"MACOS":case 1:e.platform=1;break;case"IOS":case 2:e.platform=2;break;case"ANDROID":case 3:e.platform=3;break;case"WINDOWS":case 4:e.platform=4;break;case"LINUX":case 5:e.platform=5;break;case"WEB":case 6:e.platform=6;break}if(r.appVersion!=null){if(typeof r.appVersion!="object")throw TypeError(".device.DeviceInfo.appVersion: object expected");e.appVersion=i.device.StringMaybe.fromObject(r.appVersion)}switch(r.core){case"GO":case 0:e.core=0;break;case"RUST":case 1:e.core=1;break}if(r.osVersion!=null){if(typeof r.osVersion!="object")throw TypeError(".device.DeviceInfo.osVersion: object expected");e.osVersion=i.device.DeviceInfo.OSVersion.fromObject(r.osVersion)}if(r.deviceType!=null){if(typeof r.deviceType!="object")throw TypeError(".device.DeviceInfo.deviceType: object expected");e.deviceType=i.device.DeviceInfo.DeviceType.fromObject(r.deviceType)}if(r.authentication!=null){if(typeof r.authentication!="object")throw TypeError(".device.DeviceInfo.authentication: object expected");e.authentication=i.device.DeviceInfo.Authentication.fromObject(r.authentication)}if(r.volumes!=null){if(typeof r.volumes!="object")throw TypeError(".device.DeviceInfo.volumes: object expected");e.volumes=i.device.DeviceInfo.Volumes.fromObject(r.volumes)}if(r.securitySoftware!=null){if(typeof r.securitySoftware!="object")throw TypeError(".device.DeviceInfo.securitySoftware: object expected");e.securitySoftware=i.device.DeviceInfo.SecuritySoftware.fromObject(r.securitySoftware)}if(r.authorizationSettings!=null){if(typeof r.authorizationSettings!="object")throw TypeError(".device.DeviceInfo.authorizationSettings: object expected");e.authorizationSettings=i.device.DeviceInfo.AuthorizationSettings.fromObject(r.authorizationSettings)}if(r.applications!=null){if(typeof r.applications!="object")throw TypeError(".device.DeviceInfo.applications: object expected");e.applications=i.device.DeviceInfo.Applications.fromObject(r.applications)}if(r.appInstanceId!=null){if(typeof r.appInstanceId!="object")throw TypeError(".device.DeviceInfo.appInstanceId: object expected");e.appInstanceId=i.device.StringMaybe.fromObject(r.appInstanceId)}if(r.hardwareUuid!=null){if(typeof r.hardwareUuid!="object")throw TypeError(".device.DeviceInfo.hardwareUuid: object expected");e.hardwareUuid=i.device.StringMaybe.fromObject(r.hardwareUuid)}if(r.intuneManagedDeviceId!=null){if(typeof r.intuneManagedDeviceId!="object")throw TypeError(".device.DeviceInfo.intuneManagedDeviceId: object expected");e.intuneManagedDeviceId=i.device.StringMaybe.fromObject(r.intuneManagedDeviceId)}if(r.osDomainName!=null){if(typeof r.osDomainName!="object")throw TypeError(".device.DeviceInfo.osDomainName: object expected");e.osDomainName=i.device.StringMaybe.fromObject(r.osDomainName)}if(r.hostname!=null){if(typeof r.hostname!="object")throw TypeError(".device.DeviceInfo.hostname: object expected");e.hostname=i.device.StringMaybe.fromObject(r.hostname)}if(r.hardwareSerialNum!=null){if(typeof r.hardwareSerialNum!="object")throw TypeError(".device.DeviceInfo.hardwareSerialNum: object expected");e.hardwareSerialNum=i.device.StringMaybe.fromObject(r.hardwareSerialNum)}if(r.tpmInfo!=null){if(typeof r.tpmInfo!="object")throw TypeError(".device.DeviceInfo.tpmInfo: object expected");e.tpmInfo=i.device.DeviceInfo.TPMInfo.fromObject(r.tpmInfo)}if(r.crowdstrikeAgentId!=null){if(typeof r.crowdstrikeAgentId!="object")throw TypeError(".device.DeviceInfo.crowdstrikeAgentId: object expected");e.crowdstrikeAgentId=i.device.StringMaybe.fromObject(r.crowdstrikeAgentId)}if(r.biSdkInfo!=null){if(typeof r.biSdkInfo!="object")throw TypeError(".device.DeviceInfo.biSdkInfo: object expected");e.biSdkInfo=i.device.DeviceInfo.BiSdkInfo.fromObject(r.biSdkInfo)}if(r.keyProvenances!=null){if(typeof r.keyProvenances!="object")throw TypeError(".device.DeviceInfo.keyProvenances: object expected");e.keyProvenances=i.device.DeviceInfo.KeyProvenances.fromObject(r.keyProvenances)}if(r.isHalEnabled!=null){if(typeof r.isHalEnabled!="object")throw TypeError(".device.DeviceInfo.isHalEnabled: object expected");e.isHalEnabled=i.device.BoolMaybe.fromObject(r.isHalEnabled)}if(r.locale!=null){if(typeof r.locale!="object")throw TypeError(".device.DeviceInfo.locale: object expected");e.locale=i.device.DeviceInfo.Locale.fromObject(r.locale)}return e},c.toObject=function(r,e){e||(e={});let t={};return e.defaults&&(t.answer=null,t.platform=e.enums===String?"UNSPECIFIED":0,t.appVersion=null,t.osVersion=null,t.deviceType=null,t.authentication=null,t.volumes=null,t.securitySoftware=null,t.authorizationSettings=null,t.applications=null,t.appInstanceId=null,t.hardwareUuid=null,t.core=e.enums===String?"GO":0,t.intuneManagedDeviceId=null,t.osDomainName=null,t.hostname=null,t.hardwareSerialNum=null,t.tpmInfo=null,t.crowdstrikeAgentId=null,t.biSdkInfo=null,t.keyProvenances=null,t.isHalEnabled=null,t.locale=null),r.answer!=null&&r.hasOwnProperty("answer")&&(t.answer=i.device.Answer.toObject(r.answer,e)),r.platform!=null&&r.hasOwnProperty("platform")&&(t.platform=e.enums===String?i.device.Platform[r.platform]:r.platform),r.appVersion!=null&&r.hasOwnProperty("appVersion")&&(t.appVersion=i.device.StringMaybe.toObject(r.appVersion,e)),r.osVersion!=null&&r.hasOwnProperty("osVersion")&&(t.osVersion=i.device.DeviceInfo.OSVersion.toObject(r.osVersion,e)),r.deviceType!=null&&r.hasOwnProperty("deviceType")&&(t.deviceType=i.device.DeviceInfo.DeviceType.toObject(r.deviceType,e)),r.authentication!=null&&r.hasOwnProperty("authentication")&&(t.authentication=i.device.DeviceInfo.Authentication.toObject(r.authentication,e)),r.volumes!=null&&r.hasOwnProperty("volumes")&&(t.volumes=i.device.DeviceInfo.Volumes.toObject(r.volumes,e)),r.securitySoftware!=null&&r.hasOwnProperty("securitySoftware")&&(t.securitySoftware=i.device.DeviceInfo.SecuritySoftware.toObject(r.securitySoftware,e)),r.authorizationSettings!=null&&r.hasOwnProperty("authorizationSettings")&&(t.authorizationSettings=i.device.DeviceInfo.AuthorizationSettings.toObject(r.authorizationSettings,e)),r.applications!=null&&r.hasOwnProperty("applications")&&(t.applications=i.device.DeviceInfo.Applications.toObject(r.applications,e)),r.appInstanceId!=null&&r.hasOwnProperty("appInstanceId")&&(t.appInstanceId=i.device.StringMaybe.toObject(r.appInstanceId,e)),r.hardwareUuid!=null&&r.hasOwnProperty("hardwareUuid")&&(t.hardwareUuid=i.device.StringMaybe.toObject(r.hardwareUuid,e)),r.core!=null&&r.hasOwnProperty("core")&&(t.core=e.enums===String?i.device.Core[r.core]:r.core),r.intuneManagedDeviceId!=null&&r.hasOwnProperty("intuneManagedDeviceId")&&(t.intuneManagedDeviceId=i.device.StringMaybe.toObject(r.intuneManagedDeviceId,e)),r.osDomainName!=null&&r.hasOwnProperty("osDomainName")&&(t.osDomainName=i.device.StringMaybe.toObject(r.osDomainName,e)),r.hostname!=null&&r.hasOwnProperty("hostname")&&(t.hostname=i.device.StringMaybe.toObject(r.hostname,e)),r.hardwareSerialNum!=null&&r.hasOwnProperty("hardwareSerialNum")&&(t.hardwareSerialNum=i.device.StringMaybe.toObject(r.hardwareSerialNum,e)),r.tpmInfo!=null&&r.hasOwnProperty("tpmInfo")&&(t.tpmInfo=i.device.DeviceInfo.TPMInfo.toObject(r.tpmInfo,e)),r.crowdstrikeAgentId!=null&&r.hasOwnProperty("crowdstrikeAgentId")&&(t.crowdstrikeAgentId=i.device.StringMaybe.toObject(r.crowdstrikeAgentId,e)),r.biSdkInfo!=null&&r.hasOwnProperty("biSdkInfo")&&(t.biSdkInfo=i.device.DeviceInfo.BiSdkInfo.toObject(r.biSdkInfo,e)),r.keyProvenances!=null&&r.hasOwnProperty("keyProvenances")&&(t.keyProvenances=i.device.DeviceInfo.KeyProvenances.toObject(r.keyProvenances,e)),r.isHalEnabled!=null&&r.hasOwnProperty("isHalEnabled")&&(t.isHalEnabled=i.device.BoolMaybe.toObject(r.isHalEnabled,e)),r.locale!=null&&r.hasOwnProperty("locale")&&(t.locale=i.device.DeviceInfo.Locale.toObject(r.locale,e)),t},c.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},c.Applications=function(){function l(r){if(this.software=[],r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.software=ke.emptyArray,l.create=function(e){return new l(e)},l.encode=function(e,t){if(t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.software!=null&&e.software.length)for(let n=0;n<e.software.length;++n)i.device.DeviceInfo.Applications.Software.encode(e.software[n],t.uint32(18).fork()).ldelim();return t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.Applications;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.software&&o.software.length||(o.software=[]),o.software.push(i.device.DeviceInfo.Applications.Software.decode(e,e.uint32()));break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.software!=null&&e.hasOwnProperty("software")){if(!Array.isArray(e.software))return"software: array expected";for(let t=0;t<e.software.length;++t){let n=i.device.DeviceInfo.Applications.Software.verify(e.software[t]);if(n)return"software."+n}}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.Applications)return e;let t=new i.device.DeviceInfo.Applications;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.Applications.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.software){if(!Array.isArray(e.software))throw TypeError(".device.DeviceInfo.Applications.software: array expected");t.software=[];for(let n=0;n<e.software.length;++n){if(typeof e.software[n]!="object")throw TypeError(".device.DeviceInfo.Applications.software: object expected");t.software[n]=i.device.DeviceInfo.Applications.Software.fromObject(e.software[n])}}return t},l.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.software=[]),t.defaults&&(n.answer=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.software&&e.software.length){n.software=[];for(let o=0;o<e.software.length;++o)n.software[o]=i.device.DeviceInfo.Applications.Software.toObject(e.software[o],t)}return n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l.Software=function(){function r(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.answer=null,r.prototype.architecture=0,r.prototype.installDomain=0,r.prototype.identifier=null,r.prototype.name=null,r.prototype.version=null,r.prototype.publisher=null,r.prototype.installLocation=null,r.prototype.installDate=null,r.prototype.language=null,r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=we.create()),t.answer!=null&&Object.hasOwnProperty.call(t,"answer")&&i.device.Answer.encode(t.answer,n.uint32(10).fork()).ldelim(),t.architecture!=null&&Object.hasOwnProperty.call(t,"architecture")&&n.uint32(16).int32(t.architecture),t.installDomain!=null&&Object.hasOwnProperty.call(t,"installDomain")&&n.uint32(24).int32(t.installDomain),t.identifier!=null&&Object.hasOwnProperty.call(t,"identifier")&&i.device.StringMaybe.encode(t.identifier,n.uint32(34).fork()).ldelim(),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.device.StringMaybe.encode(t.name,n.uint32(42).fork()).ldelim(),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&i.device.StringMaybe.encode(t.version,n.uint32(50).fork()).ldelim(),t.publisher!=null&&Object.hasOwnProperty.call(t,"publisher")&&i.device.StringMaybe.encode(t.publisher,n.uint32(58).fork()).ldelim(),t.installLocation!=null&&Object.hasOwnProperty.call(t,"installLocation")&&i.device.StringMaybe.encode(t.installLocation,n.uint32(66).fork()).ldelim(),t.installDate!=null&&Object.hasOwnProperty.call(t,"installDate")&&i.device.StringMaybe.encode(t.installDate,n.uint32(74).fork()).ldelim(),t.language!=null&&Object.hasOwnProperty.call(t,"language")&&i.device.StringMaybe.encode(t.language,n.uint32(82).fork()).ldelim(),n},r.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},r.decode=function(t,n){t instanceof U||(t=U.create(t));let o=n===void 0?t.len:t.pos+n,f=new i.device.DeviceInfo.Applications.Software;for(;t.pos<o;){let y=t.uint32();switch(y>>>3){case 1:f.answer=i.device.Answer.decode(t,t.uint32());break;case 2:f.architecture=t.int32();break;case 3:f.installDomain=t.int32();break;case 4:f.identifier=i.device.StringMaybe.decode(t,t.uint32());break;case 5:f.name=i.device.StringMaybe.decode(t,t.uint32());break;case 6:f.version=i.device.StringMaybe.decode(t,t.uint32());break;case 7:f.publisher=i.device.StringMaybe.decode(t,t.uint32());break;case 8:f.installLocation=i.device.StringMaybe.decode(t,t.uint32());break;case 9:f.installDate=i.device.StringMaybe.decode(t,t.uint32());break;case 10:f.language=i.device.StringMaybe.decode(t,t.uint32());break;default:t.skipType(y&7);break}}return f},r.decodeDelimited=function(t){return t instanceof U||(t=new U(t)),this.decode(t,t.uint32())},r.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.answer!=null&&t.hasOwnProperty("answer")){let n=i.device.Answer.verify(t.answer);if(n)return"answer."+n}if(t.architecture!=null&&t.hasOwnProperty("architecture"))switch(t.architecture){default:return"architecture: enum value expected";case 0:case 1:case 2:case 3:break}if(t.installDomain!=null&&t.hasOwnProperty("installDomain"))switch(t.installDomain){default:return"installDomain: enum value expected";case 0:case 1:case 2:case 3:break}if(t.identifier!=null&&t.hasOwnProperty("identifier")){let n=i.device.StringMaybe.verify(t.identifier);if(n)return"identifier."+n}if(t.name!=null&&t.hasOwnProperty("name")){let n=i.device.StringMaybe.verify(t.name);if(n)return"name."+n}if(t.version!=null&&t.hasOwnProperty("version")){let n=i.device.StringMaybe.verify(t.version);if(n)return"version."+n}if(t.publisher!=null&&t.hasOwnProperty("publisher")){let n=i.device.StringMaybe.verify(t.publisher);if(n)return"publisher."+n}if(t.installLocation!=null&&t.hasOwnProperty("installLocation")){let n=i.device.StringMaybe.verify(t.installLocation);if(n)return"installLocation."+n}if(t.installDate!=null&&t.hasOwnProperty("installDate")){let n=i.device.StringMaybe.verify(t.installDate);if(n)return"installDate."+n}if(t.language!=null&&t.hasOwnProperty("language")){let n=i.device.StringMaybe.verify(t.language);if(n)return"language."+n}return null},r.fromObject=function(t){if(t instanceof i.device.DeviceInfo.Applications.Software)return t;let n=new i.device.DeviceInfo.Applications.Software;if(t.answer!=null){if(typeof t.answer!="object")throw TypeError(".device.DeviceInfo.Applications.Software.answer: object expected");n.answer=i.device.Answer.fromObject(t.answer)}switch(t.architecture){case"ARCH_UNSUPPORTED":case 0:n.architecture=0;break;case"ARCH_UNKNOWN":case 1:n.architecture=1;break;case"ARCH_BIT32":case 2:n.architecture=2;break;case"ARCH_BIT64":case 3:n.architecture=3;break}switch(t.installDomain){case"DOMAIN_UNSUPPORTED":case 0:n.installDomain=0;break;case"DOMAIN_UNKNOWN":case 1:n.installDomain=1;break;case"DOMAIN_USER":case 2:n.installDomain=2;break;case"DOMAIN_MACHINE":case 3:n.installDomain=3;break}if(t.identifier!=null){if(typeof t.identifier!="object")throw TypeError(".device.DeviceInfo.Applications.Software.identifier: object expected");n.identifier=i.device.StringMaybe.fromObject(t.identifier)}if(t.name!=null){if(typeof t.name!="object")throw TypeError(".device.DeviceInfo.Applications.Software.name: object expected");n.name=i.device.StringMaybe.fromObject(t.name)}if(t.version!=null){if(typeof t.version!="object")throw TypeError(".device.DeviceInfo.Applications.Software.version: object expected");n.version=i.device.StringMaybe.fromObject(t.version)}if(t.publisher!=null){if(typeof t.publisher!="object")throw TypeError(".device.DeviceInfo.Applications.Software.publisher: object expected");n.publisher=i.device.StringMaybe.fromObject(t.publisher)}if(t.installLocation!=null){if(typeof t.installLocation!="object")throw TypeError(".device.DeviceInfo.Applications.Software.installLocation: object expected");n.installLocation=i.device.StringMaybe.fromObject(t.installLocation)}if(t.installDate!=null){if(typeof t.installDate!="object")throw TypeError(".device.DeviceInfo.Applications.Software.installDate: object expected");n.installDate=i.device.StringMaybe.fromObject(t.installDate)}if(t.language!=null){if(typeof t.language!="object")throw TypeError(".device.DeviceInfo.Applications.Software.language: object expected");n.language=i.device.StringMaybe.fromObject(t.language)}return n},r.toObject=function(t,n){n||(n={});let o={};return n.defaults&&(o.answer=null,o.architecture=n.enums===String?"ARCH_UNSUPPORTED":0,o.installDomain=n.enums===String?"DOMAIN_UNSUPPORTED":0,o.identifier=null,o.name=null,o.version=null,o.publisher=null,o.installLocation=null,o.installDate=null,o.language=null),t.answer!=null&&t.hasOwnProperty("answer")&&(o.answer=i.device.Answer.toObject(t.answer,n)),t.architecture!=null&&t.hasOwnProperty("architecture")&&(o.architecture=n.enums===String?i.device.DeviceInfo.Applications.Arch[t.architecture]:t.architecture),t.installDomain!=null&&t.hasOwnProperty("installDomain")&&(o.installDomain=n.enums===String?i.device.DeviceInfo.Applications.InstallDomain[t.installDomain]:t.installDomain),t.identifier!=null&&t.hasOwnProperty("identifier")&&(o.identifier=i.device.StringMaybe.toObject(t.identifier,n)),t.name!=null&&t.hasOwnProperty("name")&&(o.name=i.device.StringMaybe.toObject(t.name,n)),t.version!=null&&t.hasOwnProperty("version")&&(o.version=i.device.StringMaybe.toObject(t.version,n)),t.publisher!=null&&t.hasOwnProperty("publisher")&&(o.publisher=i.device.StringMaybe.toObject(t.publisher,n)),t.installLocation!=null&&t.hasOwnProperty("installLocation")&&(o.installLocation=i.device.StringMaybe.toObject(t.installLocation,n)),t.installDate!=null&&t.hasOwnProperty("installDate")&&(o.installDate=i.device.StringMaybe.toObject(t.installDate,n)),t.language!=null&&t.hasOwnProperty("language")&&(o.language=i.device.StringMaybe.toObject(t.language,n)),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},r}(),l.InstallDomain=function(){let r={},e=Object.create(r);return e[r[0]="DOMAIN_UNSUPPORTED"]=0,e[r[1]="DOMAIN_UNKNOWN"]=1,e[r[2]="DOMAIN_USER"]=2,e[r[3]="DOMAIN_MACHINE"]=3,e}(),l.Arch=function(){let r={},e=Object.create(r);return e[r[0]="ARCH_UNSUPPORTED"]=0,e[r[1]="ARCH_UNKNOWN"]=1,e[r[2]="ARCH_BIT32"]=2,e[r[3]="ARCH_BIT64"]=3,e}(),l}(),c.OSVersion=function(){function l(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.major=null,l.prototype.minor=null,l.prototype.build=null,l.prototype.patch=null,l.prototype.revision=null,l.prototype.servicePack=null,l.prototype.isServer=null,l.prototype.sdk=null,l.prototype.previewSdk=null,l.prototype.incremental=null,l.prototype.securityPatch=null,l.prototype.userAgent=null,l.prototype.userAgentData=null,l.create=function(e){return new l(e)},l.encode=function(e,t){return t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.major!=null&&Object.hasOwnProperty.call(e,"major")&&i.device.Int32Maybe.encode(e.major,t.uint32(18).fork()).ldelim(),e.minor!=null&&Object.hasOwnProperty.call(e,"minor")&&i.device.Int32Maybe.encode(e.minor,t.uint32(26).fork()).ldelim(),e.build!=null&&Object.hasOwnProperty.call(e,"build")&&i.device.StringMaybe.encode(e.build,t.uint32(34).fork()).ldelim(),e.patch!=null&&Object.hasOwnProperty.call(e,"patch")&&i.device.Int32Maybe.encode(e.patch,t.uint32(42).fork()).ldelim(),e.revision!=null&&Object.hasOwnProperty.call(e,"revision")&&i.device.Int32Maybe.encode(e.revision,t.uint32(50).fork()).ldelim(),e.servicePack!=null&&Object.hasOwnProperty.call(e,"servicePack")&&i.device.StringMaybe.encode(e.servicePack,t.uint32(58).fork()).ldelim(),e.isServer!=null&&Object.hasOwnProperty.call(e,"isServer")&&i.device.BoolMaybe.encode(e.isServer,t.uint32(66).fork()).ldelim(),e.sdk!=null&&Object.hasOwnProperty.call(e,"sdk")&&i.device.Int32Maybe.encode(e.sdk,t.uint32(74).fork()).ldelim(),e.previewSdk!=null&&Object.hasOwnProperty.call(e,"previewSdk")&&i.device.Int32Maybe.encode(e.previewSdk,t.uint32(82).fork()).ldelim(),e.incremental!=null&&Object.hasOwnProperty.call(e,"incremental")&&i.device.StringMaybe.encode(e.incremental,t.uint32(90).fork()).ldelim(),e.securityPatch!=null&&Object.hasOwnProperty.call(e,"securityPatch")&&i.device.StringMaybe.encode(e.securityPatch,t.uint32(98).fork()).ldelim(),e.userAgent!=null&&Object.hasOwnProperty.call(e,"userAgent")&&i.device.StringMaybe.encode(e.userAgent,t.uint32(106).fork()).ldelim(),e.userAgentData!=null&&Object.hasOwnProperty.call(e,"userAgentData")&&i.device.DeviceInfo.OSVersion.UserAgentData.encode(e.userAgentData,t.uint32(114).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.OSVersion;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.major=i.device.Int32Maybe.decode(e,e.uint32());break;case 3:o.minor=i.device.Int32Maybe.decode(e,e.uint32());break;case 4:o.build=i.device.StringMaybe.decode(e,e.uint32());break;case 5:o.patch=i.device.Int32Maybe.decode(e,e.uint32());break;case 6:o.revision=i.device.Int32Maybe.decode(e,e.uint32());break;case 7:o.servicePack=i.device.StringMaybe.decode(e,e.uint32());break;case 8:o.isServer=i.device.BoolMaybe.decode(e,e.uint32());break;case 9:o.sdk=i.device.Int32Maybe.decode(e,e.uint32());break;case 10:o.previewSdk=i.device.Int32Maybe.decode(e,e.uint32());break;case 11:o.incremental=i.device.StringMaybe.decode(e,e.uint32());break;case 12:o.securityPatch=i.device.StringMaybe.decode(e,e.uint32());break;case 13:o.userAgent=i.device.StringMaybe.decode(e,e.uint32());break;case 14:o.userAgentData=i.device.DeviceInfo.OSVersion.UserAgentData.decode(e,e.uint32());break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.major!=null&&e.hasOwnProperty("major")){let t=i.device.Int32Maybe.verify(e.major);if(t)return"major."+t}if(e.minor!=null&&e.hasOwnProperty("minor")){let t=i.device.Int32Maybe.verify(e.minor);if(t)return"minor."+t}if(e.build!=null&&e.hasOwnProperty("build")){let t=i.device.StringMaybe.verify(e.build);if(t)return"build."+t}if(e.patch!=null&&e.hasOwnProperty("patch")){let t=i.device.Int32Maybe.verify(e.patch);if(t)return"patch."+t}if(e.revision!=null&&e.hasOwnProperty("revision")){let t=i.device.Int32Maybe.verify(e.revision);if(t)return"revision."+t}if(e.servicePack!=null&&e.hasOwnProperty("servicePack")){let t=i.device.StringMaybe.verify(e.servicePack);if(t)return"servicePack."+t}if(e.isServer!=null&&e.hasOwnProperty("isServer")){let t=i.device.BoolMaybe.verify(e.isServer);if(t)return"isServer."+t}if(e.sdk!=null&&e.hasOwnProperty("sdk")){let t=i.device.Int32Maybe.verify(e.sdk);if(t)return"sdk."+t}if(e.previewSdk!=null&&e.hasOwnProperty("previewSdk")){let t=i.device.Int32Maybe.verify(e.previewSdk);if(t)return"previewSdk."+t}if(e.incremental!=null&&e.hasOwnProperty("incremental")){let t=i.device.StringMaybe.verify(e.incremental);if(t)return"incremental."+t}if(e.securityPatch!=null&&e.hasOwnProperty("securityPatch")){let t=i.device.StringMaybe.verify(e.securityPatch);if(t)return"securityPatch."+t}if(e.userAgent!=null&&e.hasOwnProperty("userAgent")){let t=i.device.StringMaybe.verify(e.userAgent);if(t)return"userAgent."+t}if(e.userAgentData!=null&&e.hasOwnProperty("userAgentData")){let t=i.device.DeviceInfo.OSVersion.UserAgentData.verify(e.userAgentData);if(t)return"userAgentData."+t}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.OSVersion)return e;let t=new i.device.DeviceInfo.OSVersion;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.OSVersion.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.major!=null){if(typeof e.major!="object")throw TypeError(".device.DeviceInfo.OSVersion.major: object expected");t.major=i.device.Int32Maybe.fromObject(e.major)}if(e.minor!=null){if(typeof e.minor!="object")throw TypeError(".device.DeviceInfo.OSVersion.minor: object expected");t.minor=i.device.Int32Maybe.fromObject(e.minor)}if(e.build!=null){if(typeof e.build!="object")throw TypeError(".device.DeviceInfo.OSVersion.build: object expected");t.build=i.device.StringMaybe.fromObject(e.build)}if(e.patch!=null){if(typeof e.patch!="object")throw TypeError(".device.DeviceInfo.OSVersion.patch: object expected");t.patch=i.device.Int32Maybe.fromObject(e.patch)}if(e.revision!=null){if(typeof e.revision!="object")throw TypeError(".device.DeviceInfo.OSVersion.revision: object expected");t.revision=i.device.Int32Maybe.fromObject(e.revision)}if(e.servicePack!=null){if(typeof e.servicePack!="object")throw TypeError(".device.DeviceInfo.OSVersion.servicePack: object expected");t.servicePack=i.device.StringMaybe.fromObject(e.servicePack)}if(e.isServer!=null){if(typeof e.isServer!="object")throw TypeError(".device.DeviceInfo.OSVersion.isServer: object expected");t.isServer=i.device.BoolMaybe.fromObject(e.isServer)}if(e.sdk!=null){if(typeof e.sdk!="object")throw TypeError(".device.DeviceInfo.OSVersion.sdk: object expected");t.sdk=i.device.Int32Maybe.fromObject(e.sdk)}if(e.previewSdk!=null){if(typeof e.previewSdk!="object")throw TypeError(".device.DeviceInfo.OSVersion.previewSdk: object expected");t.previewSdk=i.device.Int32Maybe.fromObject(e.previewSdk)}if(e.incremental!=null){if(typeof e.incremental!="object")throw TypeError(".device.DeviceInfo.OSVersion.incremental: object expected");t.incremental=i.device.StringMaybe.fromObject(e.incremental)}if(e.securityPatch!=null){if(typeof e.securityPatch!="object")throw TypeError(".device.DeviceInfo.OSVersion.securityPatch: object expected");t.securityPatch=i.device.StringMaybe.fromObject(e.securityPatch)}if(e.userAgent!=null){if(typeof e.userAgent!="object")throw TypeError(".device.DeviceInfo.OSVersion.userAgent: object expected");t.userAgent=i.device.StringMaybe.fromObject(e.userAgent)}if(e.userAgentData!=null){if(typeof e.userAgentData!="object")throw TypeError(".device.DeviceInfo.OSVersion.userAgentData: object expected");t.userAgentData=i.device.DeviceInfo.OSVersion.UserAgentData.fromObject(e.userAgentData)}return t},l.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.answer=null,n.major=null,n.minor=null,n.build=null,n.patch=null,n.revision=null,n.servicePack=null,n.isServer=null,n.sdk=null,n.previewSdk=null,n.incremental=null,n.securityPatch=null,n.userAgent=null,n.userAgentData=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.major!=null&&e.hasOwnProperty("major")&&(n.major=i.device.Int32Maybe.toObject(e.major,t)),e.minor!=null&&e.hasOwnProperty("minor")&&(n.minor=i.device.Int32Maybe.toObject(e.minor,t)),e.build!=null&&e.hasOwnProperty("build")&&(n.build=i.device.StringMaybe.toObject(e.build,t)),e.patch!=null&&e.hasOwnProperty("patch")&&(n.patch=i.device.Int32Maybe.toObject(e.patch,t)),e.revision!=null&&e.hasOwnProperty("revision")&&(n.revision=i.device.Int32Maybe.toObject(e.revision,t)),e.servicePack!=null&&e.hasOwnProperty("servicePack")&&(n.servicePack=i.device.StringMaybe.toObject(e.servicePack,t)),e.isServer!=null&&e.hasOwnProperty("isServer")&&(n.isServer=i.device.BoolMaybe.toObject(e.isServer,t)),e.sdk!=null&&e.hasOwnProperty("sdk")&&(n.sdk=i.device.Int32Maybe.toObject(e.sdk,t)),e.previewSdk!=null&&e.hasOwnProperty("previewSdk")&&(n.previewSdk=i.device.Int32Maybe.toObject(e.previewSdk,t)),e.incremental!=null&&e.hasOwnProperty("incremental")&&(n.incremental=i.device.StringMaybe.toObject(e.incremental,t)),e.securityPatch!=null&&e.hasOwnProperty("securityPatch")&&(n.securityPatch=i.device.StringMaybe.toObject(e.securityPatch,t)),e.userAgent!=null&&e.hasOwnProperty("userAgent")&&(n.userAgent=i.device.StringMaybe.toObject(e.userAgent,t)),e.userAgentData!=null&&e.hasOwnProperty("userAgentData")&&(n.userAgentData=i.device.DeviceInfo.OSVersion.UserAgentData.toObject(e.userAgentData,t)),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l.UserAgentData=function(){function r(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.answer=null,r.prototype.browser=null,r.prototype.platform=null,r.prototype.hostPlatform=null,r.prototype.device=null,r.prototype.clientData=null,r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=we.create()),t.answer!=null&&Object.hasOwnProperty.call(t,"answer")&&i.device.Answer.encode(t.answer,n.uint32(10).fork()).ldelim(),t.browser!=null&&Object.hasOwnProperty.call(t,"browser")&&i.device.DeviceInfo.OSVersion.UserAgentData.Browser.encode(t.browser,n.uint32(18).fork()).ldelim(),t.platform!=null&&Object.hasOwnProperty.call(t,"platform")&&i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.encode(t.platform,n.uint32(26).fork()).ldelim(),t.device!=null&&Object.hasOwnProperty.call(t,"device")&&i.device.DeviceInfo.OSVersion.UserAgentData.Device.encode(t.device,n.uint32(34).fork()).ldelim(),t.clientData!=null&&Object.hasOwnProperty.call(t,"clientData")&&i.device.DeviceInfo.OSVersion.UserAgentData.ClientData.encode(t.clientData,n.uint32(42).fork()).ldelim(),t.hostPlatform!=null&&Object.hasOwnProperty.call(t,"hostPlatform")&&i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.encode(t.hostPlatform,n.uint32(50).fork()).ldelim(),n},r.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},r.decode=function(t,n){t instanceof U||(t=U.create(t));let o=n===void 0?t.len:t.pos+n,f=new i.device.DeviceInfo.OSVersion.UserAgentData;for(;t.pos<o;){let y=t.uint32();switch(y>>>3){case 1:f.answer=i.device.Answer.decode(t,t.uint32());break;case 2:f.browser=i.device.DeviceInfo.OSVersion.UserAgentData.Browser.decode(t,t.uint32());break;case 3:f.platform=i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.decode(t,t.uint32());break;case 6:f.hostPlatform=i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.decode(t,t.uint32());break;case 4:f.device=i.device.DeviceInfo.OSVersion.UserAgentData.Device.decode(t,t.uint32());break;case 5:f.clientData=i.device.DeviceInfo.OSVersion.UserAgentData.ClientData.decode(t,t.uint32());break;default:t.skipType(y&7);break}}return f},r.decodeDelimited=function(t){return t instanceof U||(t=new U(t)),this.decode(t,t.uint32())},r.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.answer!=null&&t.hasOwnProperty("answer")){let n=i.device.Answer.verify(t.answer);if(n)return"answer."+n}if(t.browser!=null&&t.hasOwnProperty("browser")){let n=i.device.DeviceInfo.OSVersion.UserAgentData.Browser.verify(t.browser);if(n)return"browser."+n}if(t.platform!=null&&t.hasOwnProperty("platform")){let n=i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.verify(t.platform);if(n)return"platform."+n}if(t.hostPlatform!=null&&t.hasOwnProperty("hostPlatform")){let n=i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.verify(t.hostPlatform);if(n)return"hostPlatform."+n}if(t.device!=null&&t.hasOwnProperty("device")){let n=i.device.DeviceInfo.OSVersion.UserAgentData.Device.verify(t.device);if(n)return"device."+n}if(t.clientData!=null&&t.hasOwnProperty("clientData")){let n=i.device.DeviceInfo.OSVersion.UserAgentData.ClientData.verify(t.clientData);if(n)return"clientData."+n}return null},r.fromObject=function(t){if(t instanceof i.device.DeviceInfo.OSVersion.UserAgentData)return t;let n=new i.device.DeviceInfo.OSVersion.UserAgentData;if(t.answer!=null){if(typeof t.answer!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.answer: object expected");n.answer=i.device.Answer.fromObject(t.answer)}if(t.browser!=null){if(typeof t.browser!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.browser: object expected");n.browser=i.device.DeviceInfo.OSVersion.UserAgentData.Browser.fromObject(t.browser)}if(t.platform!=null){if(typeof t.platform!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.platform: object expected");n.platform=i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.fromObject(t.platform)}if(t.hostPlatform!=null){if(typeof t.hostPlatform!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.hostPlatform: object expected");n.hostPlatform=i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.fromObject(t.hostPlatform)}if(t.device!=null){if(typeof t.device!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.device: object expected");n.device=i.device.DeviceInfo.OSVersion.UserAgentData.Device.fromObject(t.device)}if(t.clientData!=null){if(typeof t.clientData!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.clientData: object expected");n.clientData=i.device.DeviceInfo.OSVersion.UserAgentData.ClientData.fromObject(t.clientData)}return n},r.toObject=function(t,n){n||(n={});let o={};return n.defaults&&(o.answer=null,o.browser=null,o.platform=null,o.device=null,o.clientData=null,o.hostPlatform=null),t.answer!=null&&t.hasOwnProperty("answer")&&(o.answer=i.device.Answer.toObject(t.answer,n)),t.browser!=null&&t.hasOwnProperty("browser")&&(o.browser=i.device.DeviceInfo.OSVersion.UserAgentData.Browser.toObject(t.browser,n)),t.platform!=null&&t.hasOwnProperty("platform")&&(o.platform=i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.toObject(t.platform,n)),t.device!=null&&t.hasOwnProperty("device")&&(o.device=i.device.DeviceInfo.OSVersion.UserAgentData.Device.toObject(t.device,n)),t.clientData!=null&&t.hasOwnProperty("clientData")&&(o.clientData=i.device.DeviceInfo.OSVersion.UserAgentData.ClientData.toObject(t.clientData,n)),t.hostPlatform!=null&&t.hasOwnProperty("hostPlatform")&&(o.hostPlatform=i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.toObject(t.hostPlatform,n)),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},r.Browser=function(){function e(t){if(t)for(let n=Object.keys(t),o=0;o<n.length;++o)t[n[o]]!=null&&(this[n[o]]=t[n[o]])}return e.prototype.answer=null,e.prototype.name=null,e.prototype.version=null,e.prototype.engineName=null,e.prototype.engineVersion=null,e.create=function(n){return new e(n)},e.encode=function(n,o){return o||(o=we.create()),n.answer!=null&&Object.hasOwnProperty.call(n,"answer")&&i.device.Answer.encode(n.answer,o.uint32(10).fork()).ldelim(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&i.device.StringMaybe.encode(n.name,o.uint32(18).fork()).ldelim(),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&i.device.StringMaybe.encode(n.version,o.uint32(26).fork()).ldelim(),n.engineName!=null&&Object.hasOwnProperty.call(n,"engineName")&&i.device.StringMaybe.encode(n.engineName,o.uint32(34).fork()).ldelim(),n.engineVersion!=null&&Object.hasOwnProperty.call(n,"engineVersion")&&i.device.StringMaybe.encode(n.engineVersion,o.uint32(42).fork()).ldelim(),o},e.encodeDelimited=function(n,o){return this.encode(n,o).ldelim()},e.decode=function(n,o){n instanceof U||(n=U.create(n));let f=o===void 0?n.len:n.pos+o,y=new i.device.DeviceInfo.OSVersion.UserAgentData.Browser;for(;n.pos<f;){let O=n.uint32();switch(O>>>3){case 1:y.answer=i.device.Answer.decode(n,n.uint32());break;case 2:y.name=i.device.StringMaybe.decode(n,n.uint32());break;case 3:y.version=i.device.StringMaybe.decode(n,n.uint32());break;case 4:y.engineName=i.device.StringMaybe.decode(n,n.uint32());break;case 5:y.engineVersion=i.device.StringMaybe.decode(n,n.uint32());break;default:n.skipType(O&7);break}}return y},e.decodeDelimited=function(n){return n instanceof U||(n=new U(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.answer!=null&&n.hasOwnProperty("answer")){let o=i.device.Answer.verify(n.answer);if(o)return"answer."+o}if(n.name!=null&&n.hasOwnProperty("name")){let o=i.device.StringMaybe.verify(n.name);if(o)return"name."+o}if(n.version!=null&&n.hasOwnProperty("version")){let o=i.device.StringMaybe.verify(n.version);if(o)return"version."+o}if(n.engineName!=null&&n.hasOwnProperty("engineName")){let o=i.device.StringMaybe.verify(n.engineName);if(o)return"engineName."+o}if(n.engineVersion!=null&&n.hasOwnProperty("engineVersion")){let o=i.device.StringMaybe.verify(n.engineVersion);if(o)return"engineVersion."+o}return null},e.fromObject=function(n){if(n instanceof i.device.DeviceInfo.OSVersion.UserAgentData.Browser)return n;let o=new i.device.DeviceInfo.OSVersion.UserAgentData.Browser;if(n.answer!=null){if(typeof n.answer!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Browser.answer: object expected");o.answer=i.device.Answer.fromObject(n.answer)}if(n.name!=null){if(typeof n.name!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Browser.name: object expected");o.name=i.device.StringMaybe.fromObject(n.name)}if(n.version!=null){if(typeof n.version!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Browser.version: object expected");o.version=i.device.StringMaybe.fromObject(n.version)}if(n.engineName!=null){if(typeof n.engineName!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Browser.engineName: object expected");o.engineName=i.device.StringMaybe.fromObject(n.engineName)}if(n.engineVersion!=null){if(typeof n.engineVersion!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Browser.engineVersion: object expected");o.engineVersion=i.device.StringMaybe.fromObject(n.engineVersion)}return o},e.toObject=function(n,o){o||(o={});let f={};return o.defaults&&(f.answer=null,f.name=null,f.version=null,f.engineName=null,f.engineVersion=null),n.answer!=null&&n.hasOwnProperty("answer")&&(f.answer=i.device.Answer.toObject(n.answer,o)),n.name!=null&&n.hasOwnProperty("name")&&(f.name=i.device.StringMaybe.toObject(n.name,o)),n.version!=null&&n.hasOwnProperty("version")&&(f.version=i.device.StringMaybe.toObject(n.version,o)),n.engineName!=null&&n.hasOwnProperty("engineName")&&(f.engineName=i.device.StringMaybe.toObject(n.engineName,o)),n.engineVersion!=null&&n.hasOwnProperty("engineVersion")&&(f.engineVersion=i.device.StringMaybe.toObject(n.engineVersion,o)),f},e.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},e}(),r.HostPlatform=function(){function e(t){if(t)for(let n=Object.keys(t),o=0;o<n.length;++o)t[n[o]]!=null&&(this[n[o]]=t[n[o]])}return e.prototype.answer=null,e.prototype.name=null,e.prototype.version=null,e.create=function(n){return new e(n)},e.encode=function(n,o){return o||(o=we.create()),n.answer!=null&&Object.hasOwnProperty.call(n,"answer")&&i.device.Answer.encode(n.answer,o.uint32(10).fork()).ldelim(),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&i.device.StringMaybe.encode(n.name,o.uint32(18).fork()).ldelim(),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&i.device.StringMaybe.encode(n.version,o.uint32(26).fork()).ldelim(),o},e.encodeDelimited=function(n,o){return this.encode(n,o).ldelim()},e.decode=function(n,o){n instanceof U||(n=U.create(n));let f=o===void 0?n.len:n.pos+o,y=new i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform;for(;n.pos<f;){let O=n.uint32();switch(O>>>3){case 1:y.answer=i.device.Answer.decode(n,n.uint32());break;case 2:y.name=i.device.StringMaybe.decode(n,n.uint32());break;case 3:y.version=i.device.StringMaybe.decode(n,n.uint32());break;default:n.skipType(O&7);break}}return y},e.decodeDelimited=function(n){return n instanceof U||(n=new U(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.answer!=null&&n.hasOwnProperty("answer")){let o=i.device.Answer.verify(n.answer);if(o)return"answer."+o}if(n.name!=null&&n.hasOwnProperty("name")){let o=i.device.StringMaybe.verify(n.name);if(o)return"name."+o}if(n.version!=null&&n.hasOwnProperty("version")){let o=i.device.StringMaybe.verify(n.version);if(o)return"version."+o}return null},e.fromObject=function(n){if(n instanceof i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform)return n;let o=new i.device.DeviceInfo.OSVersion.UserAgentData.HostPlatform;if(n.answer!=null){if(typeof n.answer!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.answer: object expected");o.answer=i.device.Answer.fromObject(n.answer)}if(n.name!=null){if(typeof n.name!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.name: object expected");o.name=i.device.StringMaybe.fromObject(n.name)}if(n.version!=null){if(typeof n.version!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.HostPlatform.version: object expected");o.version=i.device.StringMaybe.fromObject(n.version)}return o},e.toObject=function(n,o){o||(o={});let f={};return o.defaults&&(f.answer=null,f.name=null,f.version=null),n.answer!=null&&n.hasOwnProperty("answer")&&(f.answer=i.device.Answer.toObject(n.answer,o)),n.name!=null&&n.hasOwnProperty("name")&&(f.name=i.device.StringMaybe.toObject(n.name,o)),n.version!=null&&n.hasOwnProperty("version")&&(f.version=i.device.StringMaybe.toObject(n.version,o)),f},e.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},e}(),r.Device=function(){function e(t){if(t)for(let n=Object.keys(t),o=0;o<n.length;++o)t[n[o]]!=null&&(this[n[o]]=t[n[o]])}return e.prototype.answer=null,e.prototype.architecture=null,e.prototype.model=null,e.prototype.type=null,e.prototype.vendor=null,e.create=function(n){return new e(n)},e.encode=function(n,o){return o||(o=we.create()),n.answer!=null&&Object.hasOwnProperty.call(n,"answer")&&i.device.Answer.encode(n.answer,o.uint32(10).fork()).ldelim(),n.architecture!=null&&Object.hasOwnProperty.call(n,"architecture")&&i.device.StringMaybe.encode(n.architecture,o.uint32(18).fork()).ldelim(),n.model!=null&&Object.hasOwnProperty.call(n,"model")&&i.device.StringMaybe.encode(n.model,o.uint32(26).fork()).ldelim(),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&i.device.StringMaybe.encode(n.type,o.uint32(34).fork()).ldelim(),n.vendor!=null&&Object.hasOwnProperty.call(n,"vendor")&&i.device.StringMaybe.encode(n.vendor,o.uint32(42).fork()).ldelim(),o},e.encodeDelimited=function(n,o){return this.encode(n,o).ldelim()},e.decode=function(n,o){n instanceof U||(n=U.create(n));let f=o===void 0?n.len:n.pos+o,y=new i.device.DeviceInfo.OSVersion.UserAgentData.Device;for(;n.pos<f;){let O=n.uint32();switch(O>>>3){case 1:y.answer=i.device.Answer.decode(n,n.uint32());break;case 2:y.architecture=i.device.StringMaybe.decode(n,n.uint32());break;case 3:y.model=i.device.StringMaybe.decode(n,n.uint32());break;case 4:y.type=i.device.StringMaybe.decode(n,n.uint32());break;case 5:y.vendor=i.device.StringMaybe.decode(n,n.uint32());break;default:n.skipType(O&7);break}}return y},e.decodeDelimited=function(n){return n instanceof U||(n=new U(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.answer!=null&&n.hasOwnProperty("answer")){let o=i.device.Answer.verify(n.answer);if(o)return"answer."+o}if(n.architecture!=null&&n.hasOwnProperty("architecture")){let o=i.device.StringMaybe.verify(n.architecture);if(o)return"architecture."+o}if(n.model!=null&&n.hasOwnProperty("model")){let o=i.device.StringMaybe.verify(n.model);if(o)return"model."+o}if(n.type!=null&&n.hasOwnProperty("type")){let o=i.device.StringMaybe.verify(n.type);if(o)return"type."+o}if(n.vendor!=null&&n.hasOwnProperty("vendor")){let o=i.device.StringMaybe.verify(n.vendor);if(o)return"vendor."+o}return null},e.fromObject=function(n){if(n instanceof i.device.DeviceInfo.OSVersion.UserAgentData.Device)return n;let o=new i.device.DeviceInfo.OSVersion.UserAgentData.Device;if(n.answer!=null){if(typeof n.answer!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Device.answer: object expected");o.answer=i.device.Answer.fromObject(n.answer)}if(n.architecture!=null){if(typeof n.architecture!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Device.architecture: object expected");o.architecture=i.device.StringMaybe.fromObject(n.architecture)}if(n.model!=null){if(typeof n.model!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Device.model: object expected");o.model=i.device.StringMaybe.fromObject(n.model)}if(n.type!=null){if(typeof n.type!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Device.type: object expected");o.type=i.device.StringMaybe.fromObject(n.type)}if(n.vendor!=null){if(typeof n.vendor!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.Device.vendor: object expected");o.vendor=i.device.StringMaybe.fromObject(n.vendor)}return o},e.toObject=function(n,o){o||(o={});let f={};return o.defaults&&(f.answer=null,f.architecture=null,f.model=null,f.type=null,f.vendor=null),n.answer!=null&&n.hasOwnProperty("answer")&&(f.answer=i.device.Answer.toObject(n.answer,o)),n.architecture!=null&&n.hasOwnProperty("architecture")&&(f.architecture=i.device.StringMaybe.toObject(n.architecture,o)),n.model!=null&&n.hasOwnProperty("model")&&(f.model=i.device.StringMaybe.toObject(n.model,o)),n.type!=null&&n.hasOwnProperty("type")&&(f.type=i.device.StringMaybe.toObject(n.type,o)),n.vendor!=null&&n.hasOwnProperty("vendor")&&(f.vendor=i.device.StringMaybe.toObject(n.vendor,o)),f},e.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},e}(),r.ClientData=function(){function e(t){if(t)for(let n=Object.keys(t),o=0;o<n.length;++o)t[n[o]]!=null&&(this[n[o]]=t[n[o]])}return e.prototype.answer=null,e.prototype.platform=null,e.prototype.mobile=null,e.prototype.architecture=null,e.prototype.bitness=null,e.prototype.model=null,e.prototype.platformVersion=null,e.prototype.uaFullVerson=null,e.create=function(n){return new e(n)},e.encode=function(n,o){return o||(o=we.create()),n.answer!=null&&Object.hasOwnProperty.call(n,"answer")&&i.device.Answer.encode(n.answer,o.uint32(10).fork()).ldelim(),n.platform!=null&&Object.hasOwnProperty.call(n,"platform")&&i.device.StringMaybe.encode(n.platform,o.uint32(18).fork()).ldelim(),n.mobile!=null&&Object.hasOwnProperty.call(n,"mobile")&&i.device.BoolMaybe.encode(n.mobile,o.uint32(26).fork()).ldelim(),n.architecture!=null&&Object.hasOwnProperty.call(n,"architecture")&&i.device.StringMaybe.encode(n.architecture,o.uint32(34).fork()).ldelim(),n.bitness!=null&&Object.hasOwnProperty.call(n,"bitness")&&i.device.StringMaybe.encode(n.bitness,o.uint32(42).fork()).ldelim(),n.model!=null&&Object.hasOwnProperty.call(n,"model")&&i.device.StringMaybe.encode(n.model,o.uint32(50).fork()).ldelim(),n.platformVersion!=null&&Object.hasOwnProperty.call(n,"platformVersion")&&i.device.StringMaybe.encode(n.platformVersion,o.uint32(58).fork()).ldelim(),n.uaFullVerson!=null&&Object.hasOwnProperty.call(n,"uaFullVerson")&&i.device.StringMaybe.encode(n.uaFullVerson,o.uint32(66).fork()).ldelim(),o},e.encodeDelimited=function(n,o){return this.encode(n,o).ldelim()},e.decode=function(n,o){n instanceof U||(n=U.create(n));let f=o===void 0?n.len:n.pos+o,y=new i.device.DeviceInfo.OSVersion.UserAgentData.ClientData;for(;n.pos<f;){let O=n.uint32();switch(O>>>3){case 1:y.answer=i.device.Answer.decode(n,n.uint32());break;case 2:y.platform=i.device.StringMaybe.decode(n,n.uint32());break;case 3:y.mobile=i.device.BoolMaybe.decode(n,n.uint32());break;case 4:y.architecture=i.device.StringMaybe.decode(n,n.uint32());break;case 5:y.bitness=i.device.StringMaybe.decode(n,n.uint32());break;case 6:y.model=i.device.StringMaybe.decode(n,n.uint32());break;case 7:y.platformVersion=i.device.StringMaybe.decode(n,n.uint32());break;case 8:y.uaFullVerson=i.device.StringMaybe.decode(n,n.uint32());break;default:n.skipType(O&7);break}}return y},e.decodeDelimited=function(n){return n instanceof U||(n=new U(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.answer!=null&&n.hasOwnProperty("answer")){let o=i.device.Answer.verify(n.answer);if(o)return"answer."+o}if(n.platform!=null&&n.hasOwnProperty("platform")){let o=i.device.StringMaybe.verify(n.platform);if(o)return"platform."+o}if(n.mobile!=null&&n.hasOwnProperty("mobile")){let o=i.device.BoolMaybe.verify(n.mobile);if(o)return"mobile."+o}if(n.architecture!=null&&n.hasOwnProperty("architecture")){let o=i.device.StringMaybe.verify(n.architecture);if(o)return"architecture."+o}if(n.bitness!=null&&n.hasOwnProperty("bitness")){let o=i.device.StringMaybe.verify(n.bitness);if(o)return"bitness."+o}if(n.model!=null&&n.hasOwnProperty("model")){let o=i.device.StringMaybe.verify(n.model);if(o)return"model."+o}if(n.platformVersion!=null&&n.hasOwnProperty("platformVersion")){let o=i.device.StringMaybe.verify(n.platformVersion);if(o)return"platformVersion."+o}if(n.uaFullVerson!=null&&n.hasOwnProperty("uaFullVerson")){let o=i.device.StringMaybe.verify(n.uaFullVerson);if(o)return"uaFullVerson."+o}return null},e.fromObject=function(n){if(n instanceof i.device.DeviceInfo.OSVersion.UserAgentData.ClientData)return n;let o=new i.device.DeviceInfo.OSVersion.UserAgentData.ClientData;if(n.answer!=null){if(typeof n.answer!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.ClientData.answer: object expected");o.answer=i.device.Answer.fromObject(n.answer)}if(n.platform!=null){if(typeof n.platform!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.ClientData.platform: object expected");o.platform=i.device.StringMaybe.fromObject(n.platform)}if(n.mobile!=null){if(typeof n.mobile!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.ClientData.mobile: object expected");o.mobile=i.device.BoolMaybe.fromObject(n.mobile)}if(n.architecture!=null){if(typeof n.architecture!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.ClientData.architecture: object expected");o.architecture=i.device.StringMaybe.fromObject(n.architecture)}if(n.bitness!=null){if(typeof n.bitness!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.ClientData.bitness: object expected");o.bitness=i.device.StringMaybe.fromObject(n.bitness)}if(n.model!=null){if(typeof n.model!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.ClientData.model: object expected");o.model=i.device.StringMaybe.fromObject(n.model)}if(n.platformVersion!=null){if(typeof n.platformVersion!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.ClientData.platformVersion: object expected");o.platformVersion=i.device.StringMaybe.fromObject(n.platformVersion)}if(n.uaFullVerson!=null){if(typeof n.uaFullVerson!="object")throw TypeError(".device.DeviceInfo.OSVersion.UserAgentData.ClientData.uaFullVerson: object expected");o.uaFullVerson=i.device.StringMaybe.fromObject(n.uaFullVerson)}return o},e.toObject=function(n,o){o||(o={});let f={};return o.defaults&&(f.answer=null,f.platform=null,f.mobile=null,f.architecture=null,f.bitness=null,f.model=null,f.platformVersion=null,f.uaFullVerson=null),n.answer!=null&&n.hasOwnProperty("answer")&&(f.answer=i.device.Answer.toObject(n.answer,o)),n.platform!=null&&n.hasOwnProperty("platform")&&(f.platform=i.device.StringMaybe.toObject(n.platform,o)),n.mobile!=null&&n.hasOwnProperty("mobile")&&(f.mobile=i.device.BoolMaybe.toObject(n.mobile,o)),n.architecture!=null&&n.hasOwnProperty("architecture")&&(f.architecture=i.device.StringMaybe.toObject(n.architecture,o)),n.bitness!=null&&n.hasOwnProperty("bitness")&&(f.bitness=i.device.StringMaybe.toObject(n.bitness,o)),n.model!=null&&n.hasOwnProperty("model")&&(f.model=i.device.StringMaybe.toObject(n.model,o)),n.platformVersion!=null&&n.hasOwnProperty("platformVersion")&&(f.platformVersion=i.device.StringMaybe.toObject(n.platformVersion,o)),n.uaFullVerson!=null&&n.hasOwnProperty("uaFullVerson")&&(f.uaFullVerson=i.device.StringMaybe.toObject(n.uaFullVerson,o)),f},e.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},e}(),r}(),l}(),c.BiSdkInfo=function(){function l(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.sdkVersion=null,l.prototype.appVersion=null,l.prototype.clientId=null,l.create=function(e){return new l(e)},l.encode=function(e,t){return t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.sdkVersion!=null&&Object.hasOwnProperty.call(e,"sdkVersion")&&i.device.StringMaybe.encode(e.sdkVersion,t.uint32(18).fork()).ldelim(),e.appVersion!=null&&Object.hasOwnProperty.call(e,"appVersion")&&i.device.StringMaybe.encode(e.appVersion,t.uint32(26).fork()).ldelim(),e.clientId!=null&&Object.hasOwnProperty.call(e,"clientId")&&i.device.StringMaybe.encode(e.clientId,t.uint32(34).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.BiSdkInfo;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.sdkVersion=i.device.StringMaybe.decode(e,e.uint32());break;case 3:o.appVersion=i.device.StringMaybe.decode(e,e.uint32());break;case 4:o.clientId=i.device.StringMaybe.decode(e,e.uint32());break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.sdkVersion!=null&&e.hasOwnProperty("sdkVersion")){let t=i.device.StringMaybe.verify(e.sdkVersion);if(t)return"sdkVersion."+t}if(e.appVersion!=null&&e.hasOwnProperty("appVersion")){let t=i.device.StringMaybe.verify(e.appVersion);if(t)return"appVersion."+t}if(e.clientId!=null&&e.hasOwnProperty("clientId")){let t=i.device.StringMaybe.verify(e.clientId);if(t)return"clientId."+t}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.BiSdkInfo)return e;let t=new i.device.DeviceInfo.BiSdkInfo;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.BiSdkInfo.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.sdkVersion!=null){if(typeof e.sdkVersion!="object")throw TypeError(".device.DeviceInfo.BiSdkInfo.sdkVersion: object expected");t.sdkVersion=i.device.StringMaybe.fromObject(e.sdkVersion)}if(e.appVersion!=null){if(typeof e.appVersion!="object")throw TypeError(".device.DeviceInfo.BiSdkInfo.appVersion: object expected");t.appVersion=i.device.StringMaybe.fromObject(e.appVersion)}if(e.clientId!=null){if(typeof e.clientId!="object")throw TypeError(".device.DeviceInfo.BiSdkInfo.clientId: object expected");t.clientId=i.device.StringMaybe.fromObject(e.clientId)}return t},l.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.answer=null,n.sdkVersion=null,n.appVersion=null,n.clientId=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.sdkVersion!=null&&e.hasOwnProperty("sdkVersion")&&(n.sdkVersion=i.device.StringMaybe.toObject(e.sdkVersion,t)),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(n.appVersion=i.device.StringMaybe.toObject(e.appVersion,t)),e.clientId!=null&&e.hasOwnProperty("clientId")&&(n.clientId=i.device.StringMaybe.toObject(e.clientId,t)),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l}(),c.DeviceType=function(){function l(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.model=null,l.prototype.isJailbroken=null,l.prototype.manufacturer=null,l.prototype.isRooted=null,l.create=function(e){return new l(e)},l.encode=function(e,t){return t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.model!=null&&Object.hasOwnProperty.call(e,"model")&&i.device.StringMaybe.encode(e.model,t.uint32(18).fork()).ldelim(),e.isJailbroken!=null&&Object.hasOwnProperty.call(e,"isJailbroken")&&i.device.BoolMaybe.encode(e.isJailbroken,t.uint32(26).fork()).ldelim(),e.manufacturer!=null&&Object.hasOwnProperty.call(e,"manufacturer")&&i.device.StringMaybe.encode(e.manufacturer,t.uint32(34).fork()).ldelim(),e.isRooted!=null&&Object.hasOwnProperty.call(e,"isRooted")&&i.device.BoolMaybe.encode(e.isRooted,t.uint32(42).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.DeviceType;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.model=i.device.StringMaybe.decode(e,e.uint32());break;case 3:o.isJailbroken=i.device.BoolMaybe.decode(e,e.uint32());break;case 4:o.manufacturer=i.device.StringMaybe.decode(e,e.uint32());break;case 5:o.isRooted=i.device.BoolMaybe.decode(e,e.uint32());break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.model!=null&&e.hasOwnProperty("model")){let t=i.device.StringMaybe.verify(e.model);if(t)return"model."+t}if(e.isJailbroken!=null&&e.hasOwnProperty("isJailbroken")){let t=i.device.BoolMaybe.verify(e.isJailbroken);if(t)return"isJailbroken."+t}if(e.manufacturer!=null&&e.hasOwnProperty("manufacturer")){let t=i.device.StringMaybe.verify(e.manufacturer);if(t)return"manufacturer."+t}if(e.isRooted!=null&&e.hasOwnProperty("isRooted")){let t=i.device.BoolMaybe.verify(e.isRooted);if(t)return"isRooted."+t}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.DeviceType)return e;let t=new i.device.DeviceInfo.DeviceType;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.DeviceType.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.model!=null){if(typeof e.model!="object")throw TypeError(".device.DeviceInfo.DeviceType.model: object expected");t.model=i.device.StringMaybe.fromObject(e.model)}if(e.isJailbroken!=null){if(typeof e.isJailbroken!="object")throw TypeError(".device.DeviceInfo.DeviceType.isJailbroken: object expected");t.isJailbroken=i.device.BoolMaybe.fromObject(e.isJailbroken)}if(e.manufacturer!=null){if(typeof e.manufacturer!="object")throw TypeError(".device.DeviceInfo.DeviceType.manufacturer: object expected");t.manufacturer=i.device.StringMaybe.fromObject(e.manufacturer)}if(e.isRooted!=null){if(typeof e.isRooted!="object")throw TypeError(".device.DeviceInfo.DeviceType.isRooted: object expected");t.isRooted=i.device.BoolMaybe.fromObject(e.isRooted)}return t},l.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.answer=null,n.model=null,n.isJailbroken=null,n.manufacturer=null,n.isRooted=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.model!=null&&e.hasOwnProperty("model")&&(n.model=i.device.StringMaybe.toObject(e.model,t)),e.isJailbroken!=null&&e.hasOwnProperty("isJailbroken")&&(n.isJailbroken=i.device.BoolMaybe.toObject(e.isJailbroken,t)),e.manufacturer!=null&&e.hasOwnProperty("manufacturer")&&(n.manufacturer=i.device.StringMaybe.toObject(e.manufacturer,t)),e.isRooted!=null&&e.hasOwnProperty("isRooted")&&(n.isRooted=i.device.BoolMaybe.toObject(e.isRooted,t)),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l}(),c.Authentication=function(){function l(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.loginProviderName=null,l.prototype.loginProviderGuid=null,l.prototype.isTpmAvailable=null,l.prototype.isPasswordSet=null,l.prototype.isBiometricsSet=null,l.prototype.isWatchAuthenticationEnabled=null,l.prototype.isSecureEnclaveAvailable=null,l.prototype.isWebauthnAvailable=null,l.prototype.isPlatformAuthenticatorAvailable=null,l.create=function(e){return new l(e)},l.encode=function(e,t){return t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.loginProviderName!=null&&Object.hasOwnProperty.call(e,"loginProviderName")&&i.device.StringMaybe.encode(e.loginProviderName,t.uint32(18).fork()).ldelim(),e.loginProviderGuid!=null&&Object.hasOwnProperty.call(e,"loginProviderGuid")&&i.device.StringMaybe.encode(e.loginProviderGuid,t.uint32(26).fork()).ldelim(),e.isTpmAvailable!=null&&Object.hasOwnProperty.call(e,"isTpmAvailable")&&i.device.BoolMaybe.encode(e.isTpmAvailable,t.uint32(34).fork()).ldelim(),e.isPasswordSet!=null&&Object.hasOwnProperty.call(e,"isPasswordSet")&&i.device.BoolMaybe.encode(e.isPasswordSet,t.uint32(42).fork()).ldelim(),e.isBiometricsSet!=null&&Object.hasOwnProperty.call(e,"isBiometricsSet")&&i.device.BoolMaybe.encode(e.isBiometricsSet,t.uint32(50).fork()).ldelim(),e.isWatchAuthenticationEnabled!=null&&Object.hasOwnProperty.call(e,"isWatchAuthenticationEnabled")&&i.device.BoolMaybe.encode(e.isWatchAuthenticationEnabled,t.uint32(58).fork()).ldelim(),e.isSecureEnclaveAvailable!=null&&Object.hasOwnProperty.call(e,"isSecureEnclaveAvailable")&&i.device.BoolMaybe.encode(e.isSecureEnclaveAvailable,t.uint32(66).fork()).ldelim(),e.isWebauthnAvailable!=null&&Object.hasOwnProperty.call(e,"isWebauthnAvailable")&&i.device.BoolMaybe.encode(e.isWebauthnAvailable,t.uint32(74).fork()).ldelim(),e.isPlatformAuthenticatorAvailable!=null&&Object.hasOwnProperty.call(e,"isPlatformAuthenticatorAvailable")&&i.device.BoolMaybe.encode(e.isPlatformAuthenticatorAvailable,t.uint32(82).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.Authentication;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.loginProviderName=i.device.StringMaybe.decode(e,e.uint32());break;case 3:o.loginProviderGuid=i.device.StringMaybe.decode(e,e.uint32());break;case 4:o.isTpmAvailable=i.device.BoolMaybe.decode(e,e.uint32());break;case 5:o.isPasswordSet=i.device.BoolMaybe.decode(e,e.uint32());break;case 6:o.isBiometricsSet=i.device.BoolMaybe.decode(e,e.uint32());break;case 7:o.isWatchAuthenticationEnabled=i.device.BoolMaybe.decode(e,e.uint32());break;case 8:o.isSecureEnclaveAvailable=i.device.BoolMaybe.decode(e,e.uint32());break;case 9:o.isWebauthnAvailable=i.device.BoolMaybe.decode(e,e.uint32());break;case 10:o.isPlatformAuthenticatorAvailable=i.device.BoolMaybe.decode(e,e.uint32());break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.loginProviderName!=null&&e.hasOwnProperty("loginProviderName")){let t=i.device.StringMaybe.verify(e.loginProviderName);if(t)return"loginProviderName."+t}if(e.loginProviderGuid!=null&&e.hasOwnProperty("loginProviderGuid")){let t=i.device.StringMaybe.verify(e.loginProviderGuid);if(t)return"loginProviderGuid."+t}if(e.isTpmAvailable!=null&&e.hasOwnProperty("isTpmAvailable")){let t=i.device.BoolMaybe.verify(e.isTpmAvailable);if(t)return"isTpmAvailable."+t}if(e.isPasswordSet!=null&&e.hasOwnProperty("isPasswordSet")){let t=i.device.BoolMaybe.verify(e.isPasswordSet);if(t)return"isPasswordSet."+t}if(e.isBiometricsSet!=null&&e.hasOwnProperty("isBiometricsSet")){let t=i.device.BoolMaybe.verify(e.isBiometricsSet);if(t)return"isBiometricsSet."+t}if(e.isWatchAuthenticationEnabled!=null&&e.hasOwnProperty("isWatchAuthenticationEnabled")){let t=i.device.BoolMaybe.verify(e.isWatchAuthenticationEnabled);if(t)return"isWatchAuthenticationEnabled."+t}if(e.isSecureEnclaveAvailable!=null&&e.hasOwnProperty("isSecureEnclaveAvailable")){let t=i.device.BoolMaybe.verify(e.isSecureEnclaveAvailable);if(t)return"isSecureEnclaveAvailable."+t}if(e.isWebauthnAvailable!=null&&e.hasOwnProperty("isWebauthnAvailable")){let t=i.device.BoolMaybe.verify(e.isWebauthnAvailable);if(t)return"isWebauthnAvailable."+t}if(e.isPlatformAuthenticatorAvailable!=null&&e.hasOwnProperty("isPlatformAuthenticatorAvailable")){let t=i.device.BoolMaybe.verify(e.isPlatformAuthenticatorAvailable);if(t)return"isPlatformAuthenticatorAvailable."+t}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.Authentication)return e;let t=new i.device.DeviceInfo.Authentication;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.Authentication.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.loginProviderName!=null){if(typeof e.loginProviderName!="object")throw TypeError(".device.DeviceInfo.Authentication.loginProviderName: object expected");t.loginProviderName=i.device.StringMaybe.fromObject(e.loginProviderName)}if(e.loginProviderGuid!=null){if(typeof e.loginProviderGuid!="object")throw TypeError(".device.DeviceInfo.Authentication.loginProviderGuid: object expected");t.loginProviderGuid=i.device.StringMaybe.fromObject(e.loginProviderGuid)}if(e.isTpmAvailable!=null){if(typeof e.isTpmAvailable!="object")throw TypeError(".device.DeviceInfo.Authentication.isTpmAvailable: object expected");t.isTpmAvailable=i.device.BoolMaybe.fromObject(e.isTpmAvailable)}if(e.isPasswordSet!=null){if(typeof e.isPasswordSet!="object")throw TypeError(".device.DeviceInfo.Authentication.isPasswordSet: object expected");t.isPasswordSet=i.device.BoolMaybe.fromObject(e.isPasswordSet)}if(e.isBiometricsSet!=null){if(typeof e.isBiometricsSet!="object")throw TypeError(".device.DeviceInfo.Authentication.isBiometricsSet: object expected");t.isBiometricsSet=i.device.BoolMaybe.fromObject(e.isBiometricsSet)}if(e.isWatchAuthenticationEnabled!=null){if(typeof e.isWatchAuthenticationEnabled!="object")throw TypeError(".device.DeviceInfo.Authentication.isWatchAuthenticationEnabled: object expected");t.isWatchAuthenticationEnabled=i.device.BoolMaybe.fromObject(e.isWatchAuthenticationEnabled)}if(e.isSecureEnclaveAvailable!=null){if(typeof e.isSecureEnclaveAvailable!="object")throw TypeError(".device.DeviceInfo.Authentication.isSecureEnclaveAvailable: object expected");t.isSecureEnclaveAvailable=i.device.BoolMaybe.fromObject(e.isSecureEnclaveAvailable)}if(e.isWebauthnAvailable!=null){if(typeof e.isWebauthnAvailable!="object")throw TypeError(".device.DeviceInfo.Authentication.isWebauthnAvailable: object expected");t.isWebauthnAvailable=i.device.BoolMaybe.fromObject(e.isWebauthnAvailable)}if(e.isPlatformAuthenticatorAvailable!=null){if(typeof e.isPlatformAuthenticatorAvailable!="object")throw TypeError(".device.DeviceInfo.Authentication.isPlatformAuthenticatorAvailable: object expected");t.isPlatformAuthenticatorAvailable=i.device.BoolMaybe.fromObject(e.isPlatformAuthenticatorAvailable)}return t},l.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.answer=null,n.loginProviderName=null,n.loginProviderGuid=null,n.isTpmAvailable=null,n.isPasswordSet=null,n.isBiometricsSet=null,n.isWatchAuthenticationEnabled=null,n.isSecureEnclaveAvailable=null,n.isWebauthnAvailable=null,n.isPlatformAuthenticatorAvailable=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.loginProviderName!=null&&e.hasOwnProperty("loginProviderName")&&(n.loginProviderName=i.device.StringMaybe.toObject(e.loginProviderName,t)),e.loginProviderGuid!=null&&e.hasOwnProperty("loginProviderGuid")&&(n.loginProviderGuid=i.device.StringMaybe.toObject(e.loginProviderGuid,t)),e.isTpmAvailable!=null&&e.hasOwnProperty("isTpmAvailable")&&(n.isTpmAvailable=i.device.BoolMaybe.toObject(e.isTpmAvailable,t)),e.isPasswordSet!=null&&e.hasOwnProperty("isPasswordSet")&&(n.isPasswordSet=i.device.BoolMaybe.toObject(e.isPasswordSet,t)),e.isBiometricsSet!=null&&e.hasOwnProperty("isBiometricsSet")&&(n.isBiometricsSet=i.device.BoolMaybe.toObject(e.isBiometricsSet,t)),e.isWatchAuthenticationEnabled!=null&&e.hasOwnProperty("isWatchAuthenticationEnabled")&&(n.isWatchAuthenticationEnabled=i.device.BoolMaybe.toObject(e.isWatchAuthenticationEnabled,t)),e.isSecureEnclaveAvailable!=null&&e.hasOwnProperty("isSecureEnclaveAvailable")&&(n.isSecureEnclaveAvailable=i.device.BoolMaybe.toObject(e.isSecureEnclaveAvailable,t)),e.isWebauthnAvailable!=null&&e.hasOwnProperty("isWebauthnAvailable")&&(n.isWebauthnAvailable=i.device.BoolMaybe.toObject(e.isWebauthnAvailable,t)),e.isPlatformAuthenticatorAvailable!=null&&e.hasOwnProperty("isPlatformAuthenticatorAvailable")&&(n.isPlatformAuthenticatorAvailable=i.device.BoolMaybe.toObject(e.isPlatformAuthenticatorAvailable,t)),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l}(),c.SecuritySoftware=function(){function l(r){if(this.software=[],r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.software=ke.emptyArray,l.create=function(e){return new l(e)},l.encode=function(e,t){if(t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.software!=null&&e.software.length)for(let n=0;n<e.software.length;++n)i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.encode(e.software[n],t.uint32(18).fork()).ldelim();return t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.SecuritySoftware;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.software&&o.software.length||(o.software=[]),o.software.push(i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.decode(e,e.uint32()));break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.software!=null&&e.hasOwnProperty("software")){if(!Array.isArray(e.software))return"software: array expected";for(let t=0;t<e.software.length;++t){let n=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.verify(e.software[t]);if(n)return"software."+n}}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.SecuritySoftware)return e;let t=new i.device.DeviceInfo.SecuritySoftware;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.software){if(!Array.isArray(e.software))throw TypeError(".device.DeviceInfo.SecuritySoftware.software: array expected");t.software=[];for(let n=0;n<e.software.length;++n){if(typeof e.software[n]!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.software: object expected");t.software[n]=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.fromObject(e.software[n])}}return t},l.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.software=[]),t.defaults&&(n.answer=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.software&&e.software.length){n.software=[];for(let o=0;o<e.software.length;++o)n.software[o]=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.toObject(e.software[o],t)}return n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l.SoftwareInfo=function(){function r(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.answer=null,r.prototype.category=null,r.prototype.name=null,r.prototype.version=null,r.prototype.enabled=null,r.prototype.status=null,r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=we.create()),t.answer!=null&&Object.hasOwnProperty.call(t,"answer")&&i.device.Answer.encode(t.answer,n.uint32(10).fork()).ldelim(),t.category!=null&&Object.hasOwnProperty.call(t,"category")&&i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.CategoryMaybe.encode(t.category,n.uint32(18).fork()).ldelim(),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.device.StringMaybe.encode(t.name,n.uint32(26).fork()).ldelim(),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&i.device.StringMaybe.encode(t.version,n.uint32(34).fork()).ldelim(),t.enabled!=null&&Object.hasOwnProperty.call(t,"enabled")&&i.device.BoolMaybe.encode(t.enabled,n.uint32(42).fork()).ldelim(),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.StatusMaybe.encode(t.status,n.uint32(50).fork()).ldelim(),n},r.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},r.decode=function(t,n){t instanceof U||(t=U.create(t));let o=n===void 0?t.len:t.pos+n,f=new i.device.DeviceInfo.SecuritySoftware.SoftwareInfo;for(;t.pos<o;){let y=t.uint32();switch(y>>>3){case 1:f.answer=i.device.Answer.decode(t,t.uint32());break;case 2:f.category=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.CategoryMaybe.decode(t,t.uint32());break;case 3:f.name=i.device.StringMaybe.decode(t,t.uint32());break;case 4:f.version=i.device.StringMaybe.decode(t,t.uint32());break;case 5:f.enabled=i.device.BoolMaybe.decode(t,t.uint32());break;case 6:f.status=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.StatusMaybe.decode(t,t.uint32());break;default:t.skipType(y&7);break}}return f},r.decodeDelimited=function(t){return t instanceof U||(t=new U(t)),this.decode(t,t.uint32())},r.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.answer!=null&&t.hasOwnProperty("answer")){let n=i.device.Answer.verify(t.answer);if(n)return"answer."+n}if(t.category!=null&&t.hasOwnProperty("category")){let n=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.CategoryMaybe.verify(t.category);if(n)return"category."+n}if(t.name!=null&&t.hasOwnProperty("name")){let n=i.device.StringMaybe.verify(t.name);if(n)return"name."+n}if(t.version!=null&&t.hasOwnProperty("version")){let n=i.device.StringMaybe.verify(t.version);if(n)return"version."+n}if(t.enabled!=null&&t.hasOwnProperty("enabled")){let n=i.device.BoolMaybe.verify(t.enabled);if(n)return"enabled."+n}if(t.status!=null&&t.hasOwnProperty("status")){let n=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.StatusMaybe.verify(t.status);if(n)return"status."+n}return null},r.fromObject=function(t){if(t instanceof i.device.DeviceInfo.SecuritySoftware.SoftwareInfo)return t;let n=new i.device.DeviceInfo.SecuritySoftware.SoftwareInfo;if(t.answer!=null){if(typeof t.answer!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.SoftwareInfo.answer: object expected");n.answer=i.device.Answer.fromObject(t.answer)}if(t.category!=null){if(typeof t.category!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.SoftwareInfo.category: object expected");n.category=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.CategoryMaybe.fromObject(t.category)}if(t.name!=null){if(typeof t.name!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.SoftwareInfo.name: object expected");n.name=i.device.StringMaybe.fromObject(t.name)}if(t.version!=null){if(typeof t.version!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.SoftwareInfo.version: object expected");n.version=i.device.StringMaybe.fromObject(t.version)}if(t.enabled!=null){if(typeof t.enabled!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.SoftwareInfo.enabled: object expected");n.enabled=i.device.BoolMaybe.fromObject(t.enabled)}if(t.status!=null){if(typeof t.status!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.SoftwareInfo.status: object expected");n.status=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.StatusMaybe.fromObject(t.status)}return n},r.toObject=function(t,n){n||(n={});let o={};return n.defaults&&(o.answer=null,o.category=null,o.name=null,o.version=null,o.enabled=null,o.status=null),t.answer!=null&&t.hasOwnProperty("answer")&&(o.answer=i.device.Answer.toObject(t.answer,n)),t.category!=null&&t.hasOwnProperty("category")&&(o.category=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.CategoryMaybe.toObject(t.category,n)),t.name!=null&&t.hasOwnProperty("name")&&(o.name=i.device.StringMaybe.toObject(t.name,n)),t.version!=null&&t.hasOwnProperty("version")&&(o.version=i.device.StringMaybe.toObject(t.version,n)),t.enabled!=null&&t.hasOwnProperty("enabled")&&(o.enabled=i.device.BoolMaybe.toObject(t.enabled,n)),t.status!=null&&t.hasOwnProperty("status")&&(o.status=i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.StatusMaybe.toObject(t.status,n)),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},r.Category=function(){let e={},t=Object.create(e);return t[e[0]="FIREWALL"]=0,t[e[1]="ANTIMALWARE"]=1,t[e[2]="ANTISPYWARE"]=2,t[e[3]="ANTIVIRUS"]=3,t}(),r.CategoryMaybe=function(){function e(t){if(t)for(let n=Object.keys(t),o=0;o<n.length;++o)t[n[o]]!=null&&(this[n[o]]=t[n[o]])}return e.prototype.answer=null,e.prototype.value=0,e.create=function(n){return new e(n)},e.encode=function(n,o){return o||(o=we.create()),n.answer!=null&&Object.hasOwnProperty.call(n,"answer")&&i.device.Answer.encode(n.answer,o.uint32(10).fork()).ldelim(),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&o.uint32(16).int32(n.value),o},e.encodeDelimited=function(n,o){return this.encode(n,o).ldelim()},e.decode=function(n,o){n instanceof U||(n=U.create(n));let f=o===void 0?n.len:n.pos+o,y=new i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.CategoryMaybe;for(;n.pos<f;){let O=n.uint32();switch(O>>>3){case 1:y.answer=i.device.Answer.decode(n,n.uint32());break;case 2:y.value=n.int32();break;default:n.skipType(O&7);break}}return y},e.decodeDelimited=function(n){return n instanceof U||(n=new U(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.answer!=null&&n.hasOwnProperty("answer")){let o=i.device.Answer.verify(n.answer);if(o)return"answer."+o}if(n.value!=null&&n.hasOwnProperty("value"))switch(n.value){default:return"value: enum value expected";case 0:case 1:case 2:case 3:break}return null},e.fromObject=function(n){if(n instanceof i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.CategoryMaybe)return n;let o=new i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.CategoryMaybe;if(n.answer!=null){if(typeof n.answer!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.SoftwareInfo.CategoryMaybe.answer: object expected");o.answer=i.device.Answer.fromObject(n.answer)}switch(n.value){case"FIREWALL":case 0:o.value=0;break;case"ANTIMALWARE":case 1:o.value=1;break;case"ANTISPYWARE":case 2:o.value=2;break;case"ANTIVIRUS":case 3:o.value=3;break}return o},e.toObject=function(n,o){o||(o={});let f={};return o.defaults&&(f.answer=null,f.value=o.enums===String?"FIREWALL":0),n.answer!=null&&n.hasOwnProperty("answer")&&(f.answer=i.device.Answer.toObject(n.answer,o)),n.value!=null&&n.hasOwnProperty("value")&&(f.value=o.enums===String?i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.Category[n.value]:n.value),f},e.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},e}(),r.Status=function(){let e={},t=Object.create(e);return t[e[0]="OFF"]=0,t[e[1]="ON"]=1,t[e[2]="SNOOZED"]=2,t[e[3]="EXPIRED"]=3,t}(),r.StatusMaybe=function(){function e(t){if(t)for(let n=Object.keys(t),o=0;o<n.length;++o)t[n[o]]!=null&&(this[n[o]]=t[n[o]])}return e.prototype.answer=null,e.prototype.value=0,e.create=function(n){return new e(n)},e.encode=function(n,o){return o||(o=we.create()),n.answer!=null&&Object.hasOwnProperty.call(n,"answer")&&i.device.Answer.encode(n.answer,o.uint32(10).fork()).ldelim(),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&o.uint32(16).int32(n.value),o},e.encodeDelimited=function(n,o){return this.encode(n,o).ldelim()},e.decode=function(n,o){n instanceof U||(n=U.create(n));let f=o===void 0?n.len:n.pos+o,y=new i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.StatusMaybe;for(;n.pos<f;){let O=n.uint32();switch(O>>>3){case 1:y.answer=i.device.Answer.decode(n,n.uint32());break;case 2:y.value=n.int32();break;default:n.skipType(O&7);break}}return y},e.decodeDelimited=function(n){return n instanceof U||(n=new U(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.answer!=null&&n.hasOwnProperty("answer")){let o=i.device.Answer.verify(n.answer);if(o)return"answer."+o}if(n.value!=null&&n.hasOwnProperty("value"))switch(n.value){default:return"value: enum value expected";case 0:case 1:case 2:case 3:break}return null},e.fromObject=function(n){if(n instanceof i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.StatusMaybe)return n;let o=new i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.StatusMaybe;if(n.answer!=null){if(typeof n.answer!="object")throw TypeError(".device.DeviceInfo.SecuritySoftware.SoftwareInfo.StatusMaybe.answer: object expected");o.answer=i.device.Answer.fromObject(n.answer)}switch(n.value){case"OFF":case 0:o.value=0;break;case"ON":case 1:o.value=1;break;case"SNOOZED":case 2:o.value=2;break;case"EXPIRED":case 3:o.value=3;break}return o},e.toObject=function(n,o){o||(o={});let f={};return o.defaults&&(f.answer=null,f.value=o.enums===String?"OFF":0),n.answer!=null&&n.hasOwnProperty("answer")&&(f.answer=i.device.Answer.toObject(n.answer,o)),n.value!=null&&n.hasOwnProperty("value")&&(f.value=o.enums===String?i.device.DeviceInfo.SecuritySoftware.SoftwareInfo.Status[n.value]:n.value),f},e.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},e}(),r}(),l}(),c.Volumes=function(){function l(r){if(this.volumes=[],r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.volumes=ke.emptyArray,l.prototype.filevault=null,l.create=function(e){return new l(e)},l.encode=function(e,t){if(t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.volumes!=null&&e.volumes.length)for(let n=0;n<e.volumes.length;++n)i.device.DeviceInfo.Volumes.VolumeInfo.encode(e.volumes[n],t.uint32(18).fork()).ldelim();return e.filevault!=null&&Object.hasOwnProperty.call(e,"filevault")&&i.device.DeviceInfo.Volumes.FileVaultStatusMaybe.encode(e.filevault,t.uint32(26).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.Volumes;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.volumes&&o.volumes.length||(o.volumes=[]),o.volumes.push(i.device.DeviceInfo.Volumes.VolumeInfo.decode(e,e.uint32()));break;case 3:o.filevault=i.device.DeviceInfo.Volumes.FileVaultStatusMaybe.decode(e,e.uint32());break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.volumes!=null&&e.hasOwnProperty("volumes")){if(!Array.isArray(e.volumes))return"volumes: array expected";for(let t=0;t<e.volumes.length;++t){let n=i.device.DeviceInfo.Volumes.VolumeInfo.verify(e.volumes[t]);if(n)return"volumes."+n}}if(e.filevault!=null&&e.hasOwnProperty("filevault")){let t=i.device.DeviceInfo.Volumes.FileVaultStatusMaybe.verify(e.filevault);if(t)return"filevault."+t}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.Volumes)return e;let t=new i.device.DeviceInfo.Volumes;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.Volumes.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.volumes){if(!Array.isArray(e.volumes))throw TypeError(".device.DeviceInfo.Volumes.volumes: array expected");t.volumes=[];for(let n=0;n<e.volumes.length;++n){if(typeof e.volumes[n]!="object")throw TypeError(".device.DeviceInfo.Volumes.volumes: object expected");t.volumes[n]=i.device.DeviceInfo.Volumes.VolumeInfo.fromObject(e.volumes[n])}}if(e.filevault!=null){if(typeof e.filevault!="object")throw TypeError(".device.DeviceInfo.Volumes.filevault: object expected");t.filevault=i.device.DeviceInfo.Volumes.FileVaultStatusMaybe.fromObject(e.filevault)}return t},l.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.volumes=[]),t.defaults&&(n.answer=null,n.filevault=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.volumes&&e.volumes.length){n.volumes=[];for(let o=0;o<e.volumes.length;++o)n.volumes[o]=i.device.DeviceInfo.Volumes.VolumeInfo.toObject(e.volumes[o],t)}return e.filevault!=null&&e.hasOwnProperty("filevault")&&(n.filevault=i.device.DeviceInfo.Volumes.FileVaultStatusMaybe.toObject(e.filevault,t)),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l.VolumeInfo=function(){function r(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.answer=null,r.prototype.name=null,r.prototype.isBitlockerEnabled=null,r.prototype.isSystemDrive=null,r.prototype.isEncrypted=null,r.prototype.isRemovable=null,r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=we.create()),t.answer!=null&&Object.hasOwnProperty.call(t,"answer")&&i.device.Answer.encode(t.answer,n.uint32(10).fork()).ldelim(),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&i.device.StringMaybe.encode(t.name,n.uint32(18).fork()).ldelim(),t.isBitlockerEnabled!=null&&Object.hasOwnProperty.call(t,"isBitlockerEnabled")&&i.device.BoolMaybe.encode(t.isBitlockerEnabled,n.uint32(26).fork()).ldelim(),t.isSystemDrive!=null&&Object.hasOwnProperty.call(t,"isSystemDrive")&&i.device.BoolMaybe.encode(t.isSystemDrive,n.uint32(34).fork()).ldelim(),t.isEncrypted!=null&&Object.hasOwnProperty.call(t,"isEncrypted")&&i.device.BoolMaybe.encode(t.isEncrypted,n.uint32(42).fork()).ldelim(),t.isRemovable!=null&&Object.hasOwnProperty.call(t,"isRemovable")&&i.device.BoolMaybe.encode(t.isRemovable,n.uint32(50).fork()).ldelim(),n},r.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},r.decode=function(t,n){t instanceof U||(t=U.create(t));let o=n===void 0?t.len:t.pos+n,f=new i.device.DeviceInfo.Volumes.VolumeInfo;for(;t.pos<o;){let y=t.uint32();switch(y>>>3){case 1:f.answer=i.device.Answer.decode(t,t.uint32());break;case 2:f.name=i.device.StringMaybe.decode(t,t.uint32());break;case 3:f.isBitlockerEnabled=i.device.BoolMaybe.decode(t,t.uint32());break;case 4:f.isSystemDrive=i.device.BoolMaybe.decode(t,t.uint32());break;case 5:f.isEncrypted=i.device.BoolMaybe.decode(t,t.uint32());break;case 6:f.isRemovable=i.device.BoolMaybe.decode(t,t.uint32());break;default:t.skipType(y&7);break}}return f},r.decodeDelimited=function(t){return t instanceof U||(t=new U(t)),this.decode(t,t.uint32())},r.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.answer!=null&&t.hasOwnProperty("answer")){let n=i.device.Answer.verify(t.answer);if(n)return"answer."+n}if(t.name!=null&&t.hasOwnProperty("name")){let n=i.device.StringMaybe.verify(t.name);if(n)return"name."+n}if(t.isBitlockerEnabled!=null&&t.hasOwnProperty("isBitlockerEnabled")){let n=i.device.BoolMaybe.verify(t.isBitlockerEnabled);if(n)return"isBitlockerEnabled."+n}if(t.isSystemDrive!=null&&t.hasOwnProperty("isSystemDrive")){let n=i.device.BoolMaybe.verify(t.isSystemDrive);if(n)return"isSystemDrive."+n}if(t.isEncrypted!=null&&t.hasOwnProperty("isEncrypted")){let n=i.device.BoolMaybe.verify(t.isEncrypted);if(n)return"isEncrypted."+n}if(t.isRemovable!=null&&t.hasOwnProperty("isRemovable")){let n=i.device.BoolMaybe.verify(t.isRemovable);if(n)return"isRemovable."+n}return null},r.fromObject=function(t){if(t instanceof i.device.DeviceInfo.Volumes.VolumeInfo)return t;let n=new i.device.DeviceInfo.Volumes.VolumeInfo;if(t.answer!=null){if(typeof t.answer!="object")throw TypeError(".device.DeviceInfo.Volumes.VolumeInfo.answer: object expected");n.answer=i.device.Answer.fromObject(t.answer)}if(t.name!=null){if(typeof t.name!="object")throw TypeError(".device.DeviceInfo.Volumes.VolumeInfo.name: object expected");n.name=i.device.StringMaybe.fromObject(t.name)}if(t.isBitlockerEnabled!=null){if(typeof t.isBitlockerEnabled!="object")throw TypeError(".device.DeviceInfo.Volumes.VolumeInfo.isBitlockerEnabled: object expected");n.isBitlockerEnabled=i.device.BoolMaybe.fromObject(t.isBitlockerEnabled)}if(t.isSystemDrive!=null){if(typeof t.isSystemDrive!="object")throw TypeError(".device.DeviceInfo.Volumes.VolumeInfo.isSystemDrive: object expected");n.isSystemDrive=i.device.BoolMaybe.fromObject(t.isSystemDrive)}if(t.isEncrypted!=null){if(typeof t.isEncrypted!="object")throw TypeError(".device.DeviceInfo.Volumes.VolumeInfo.isEncrypted: object expected");n.isEncrypted=i.device.BoolMaybe.fromObject(t.isEncrypted)}if(t.isRemovable!=null){if(typeof t.isRemovable!="object")throw TypeError(".device.DeviceInfo.Volumes.VolumeInfo.isRemovable: object expected");n.isRemovable=i.device.BoolMaybe.fromObject(t.isRemovable)}return n},r.toObject=function(t,n){n||(n={});let o={};return n.defaults&&(o.answer=null,o.name=null,o.isBitlockerEnabled=null,o.isSystemDrive=null,o.isEncrypted=null,o.isRemovable=null),t.answer!=null&&t.hasOwnProperty("answer")&&(o.answer=i.device.Answer.toObject(t.answer,n)),t.name!=null&&t.hasOwnProperty("name")&&(o.name=i.device.StringMaybe.toObject(t.name,n)),t.isBitlockerEnabled!=null&&t.hasOwnProperty("isBitlockerEnabled")&&(o.isBitlockerEnabled=i.device.BoolMaybe.toObject(t.isBitlockerEnabled,n)),t.isSystemDrive!=null&&t.hasOwnProperty("isSystemDrive")&&(o.isSystemDrive=i.device.BoolMaybe.toObject(t.isSystemDrive,n)),t.isEncrypted!=null&&t.hasOwnProperty("isEncrypted")&&(o.isEncrypted=i.device.BoolMaybe.toObject(t.isEncrypted,n)),t.isRemovable!=null&&t.hasOwnProperty("isRemovable")&&(o.isRemovable=i.device.BoolMaybe.toObject(t.isRemovable,n)),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},r}(),l.FileVaultStatus=function(){let r={},e=Object.create(r);return e[r[0]="FILE_VAULT_ON"]=0,e[r[1]="FILE_VAULT_OFF"]=1,e}(),l.FileVaultStatusMaybe=function(){function r(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.answer=null,r.prototype.value=0,r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=we.create()),t.answer!=null&&Object.hasOwnProperty.call(t,"answer")&&i.device.Answer.encode(t.answer,n.uint32(10).fork()).ldelim(),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&n.uint32(16).int32(t.value),n},r.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},r.decode=function(t,n){t instanceof U||(t=U.create(t));let o=n===void 0?t.len:t.pos+n,f=new i.device.DeviceInfo.Volumes.FileVaultStatusMaybe;for(;t.pos<o;){let y=t.uint32();switch(y>>>3){case 1:f.answer=i.device.Answer.decode(t,t.uint32());break;case 2:f.value=t.int32();break;default:t.skipType(y&7);break}}return f},r.decodeDelimited=function(t){return t instanceof U||(t=new U(t)),this.decode(t,t.uint32())},r.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.answer!=null&&t.hasOwnProperty("answer")){let n=i.device.Answer.verify(t.answer);if(n)return"answer."+n}if(t.value!=null&&t.hasOwnProperty("value"))switch(t.value){default:return"value: enum value expected";case 0:case 1:break}return null},r.fromObject=function(t){if(t instanceof i.device.DeviceInfo.Volumes.FileVaultStatusMaybe)return t;let n=new i.device.DeviceInfo.Volumes.FileVaultStatusMaybe;if(t.answer!=null){if(typeof t.answer!="object")throw TypeError(".device.DeviceInfo.Volumes.FileVaultStatusMaybe.answer: object expected");n.answer=i.device.Answer.fromObject(t.answer)}switch(t.value){case"FILE_VAULT_ON":case 0:n.value=0;break;case"FILE_VAULT_OFF":case 1:n.value=1;break}return n},r.toObject=function(t,n){n||(n={});let o={};return n.defaults&&(o.answer=null,o.value=n.enums===String?"FILE_VAULT_ON":0),t.answer!=null&&t.hasOwnProperty("answer")&&(o.answer=i.device.Answer.toObject(t.answer,n)),t.value!=null&&t.hasOwnProperty("value")&&(o.value=n.enums===String?i.device.DeviceInfo.Volumes.FileVaultStatus[t.value]:t.value),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},r}(),l}(),c.AuthorizationSettings=function(){function l(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.isLocalhostServiceEnabled=null,l.prototype.isAccessibilityServiceEnabled=null,l.create=function(e){return new l(e)},l.encode=function(e,t){return t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.isLocalhostServiceEnabled!=null&&Object.hasOwnProperty.call(e,"isLocalhostServiceEnabled")&&i.device.BoolMaybe.encode(e.isLocalhostServiceEnabled,t.uint32(18).fork()).ldelim(),e.isAccessibilityServiceEnabled!=null&&Object.hasOwnProperty.call(e,"isAccessibilityServiceEnabled")&&i.device.BoolMaybe.encode(e.isAccessibilityServiceEnabled,t.uint32(26).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.AuthorizationSettings;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.isLocalhostServiceEnabled=i.device.BoolMaybe.decode(e,e.uint32());break;case 3:o.isAccessibilityServiceEnabled=i.device.BoolMaybe.decode(e,e.uint32());break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.isLocalhostServiceEnabled!=null&&e.hasOwnProperty("isLocalhostServiceEnabled")){let t=i.device.BoolMaybe.verify(e.isLocalhostServiceEnabled);if(t)return"isLocalhostServiceEnabled."+t}if(e.isAccessibilityServiceEnabled!=null&&e.hasOwnProperty("isAccessibilityServiceEnabled")){let t=i.device.BoolMaybe.verify(e.isAccessibilityServiceEnabled);if(t)return"isAccessibilityServiceEnabled."+t}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.AuthorizationSettings)return e;let t=new i.device.DeviceInfo.AuthorizationSettings;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.AuthorizationSettings.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.isLocalhostServiceEnabled!=null){if(typeof e.isLocalhostServiceEnabled!="object")throw TypeError(".device.DeviceInfo.AuthorizationSettings.isLocalhostServiceEnabled: object expected");t.isLocalhostServiceEnabled=i.device.BoolMaybe.fromObject(e.isLocalhostServiceEnabled)}if(e.isAccessibilityServiceEnabled!=null){if(typeof e.isAccessibilityServiceEnabled!="object")throw TypeError(".device.DeviceInfo.AuthorizationSettings.isAccessibilityServiceEnabled: object expected");t.isAccessibilityServiceEnabled=i.device.BoolMaybe.fromObject(e.isAccessibilityServiceEnabled)}return t},l.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.answer=null,n.isLocalhostServiceEnabled=null,n.isAccessibilityServiceEnabled=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.isLocalhostServiceEnabled!=null&&e.hasOwnProperty("isLocalhostServiceEnabled")&&(n.isLocalhostServiceEnabled=i.device.BoolMaybe.toObject(e.isLocalhostServiceEnabled,t)),e.isAccessibilityServiceEnabled!=null&&e.hasOwnProperty("isAccessibilityServiceEnabled")&&(n.isAccessibilityServiceEnabled=i.device.BoolMaybe.toObject(e.isAccessibilityServiceEnabled,t)),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l}(),c.TPMInfo=function(){function l(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.Version=null,l.prototype.Level=null,l.prototype.Revision=null,l.prototype.VendorID=null,l.prototype.Firmware=null,l.create=function(e){return new l(e)},l.encode=function(e,t){return t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.Version!=null&&Object.hasOwnProperty.call(e,"Version")&&i.device.StringMaybe.encode(e.Version,t.uint32(18).fork()).ldelim(),e.Level!=null&&Object.hasOwnProperty.call(e,"Level")&&i.device.StringMaybe.encode(e.Level,t.uint32(26).fork()).ldelim(),e.Revision!=null&&Object.hasOwnProperty.call(e,"Revision")&&i.device.StringMaybe.encode(e.Revision,t.uint32(34).fork()).ldelim(),e.VendorID!=null&&Object.hasOwnProperty.call(e,"VendorID")&&i.device.StringMaybe.encode(e.VendorID,t.uint32(42).fork()).ldelim(),e.Firmware!=null&&Object.hasOwnProperty.call(e,"Firmware")&&i.device.StringMaybe.encode(e.Firmware,t.uint32(50).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.TPMInfo;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.Version=i.device.StringMaybe.decode(e,e.uint32());break;case 3:o.Level=i.device.StringMaybe.decode(e,e.uint32());break;case 4:o.Revision=i.device.StringMaybe.decode(e,e.uint32());break;case 5:o.VendorID=i.device.StringMaybe.decode(e,e.uint32());break;case 6:o.Firmware=i.device.StringMaybe.decode(e,e.uint32());break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.Version!=null&&e.hasOwnProperty("Version")){let t=i.device.StringMaybe.verify(e.Version);if(t)return"Version."+t}if(e.Level!=null&&e.hasOwnProperty("Level")){let t=i.device.StringMaybe.verify(e.Level);if(t)return"Level."+t}if(e.Revision!=null&&e.hasOwnProperty("Revision")){let t=i.device.StringMaybe.verify(e.Revision);if(t)return"Revision."+t}if(e.VendorID!=null&&e.hasOwnProperty("VendorID")){let t=i.device.StringMaybe.verify(e.VendorID);if(t)return"VendorID."+t}if(e.Firmware!=null&&e.hasOwnProperty("Firmware")){let t=i.device.StringMaybe.verify(e.Firmware);if(t)return"Firmware."+t}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.TPMInfo)return e;let t=new i.device.DeviceInfo.TPMInfo;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.TPMInfo.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.Version!=null){if(typeof e.Version!="object")throw TypeError(".device.DeviceInfo.TPMInfo.Version: object expected");t.Version=i.device.StringMaybe.fromObject(e.Version)}if(e.Level!=null){if(typeof e.Level!="object")throw TypeError(".device.DeviceInfo.TPMInfo.Level: object expected");t.Level=i.device.StringMaybe.fromObject(e.Level)}if(e.Revision!=null){if(typeof e.Revision!="object")throw TypeError(".device.DeviceInfo.TPMInfo.Revision: object expected");t.Revision=i.device.StringMaybe.fromObject(e.Revision)}if(e.VendorID!=null){if(typeof e.VendorID!="object")throw TypeError(".device.DeviceInfo.TPMInfo.VendorID: object expected");t.VendorID=i.device.StringMaybe.fromObject(e.VendorID)}if(e.Firmware!=null){if(typeof e.Firmware!="object")throw TypeError(".device.DeviceInfo.TPMInfo.Firmware: object expected");t.Firmware=i.device.StringMaybe.fromObject(e.Firmware)}return t},l.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.answer=null,n.Version=null,n.Level=null,n.Revision=null,n.VendorID=null,n.Firmware=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.Version!=null&&e.hasOwnProperty("Version")&&(n.Version=i.device.StringMaybe.toObject(e.Version,t)),e.Level!=null&&e.hasOwnProperty("Level")&&(n.Level=i.device.StringMaybe.toObject(e.Level,t)),e.Revision!=null&&e.hasOwnProperty("Revision")&&(n.Revision=i.device.StringMaybe.toObject(e.Revision,t)),e.VendorID!=null&&e.hasOwnProperty("VendorID")&&(n.VendorID=i.device.StringMaybe.toObject(e.VendorID,t)),e.Firmware!=null&&e.hasOwnProperty("Firmware")&&(n.Firmware=i.device.StringMaybe.toObject(e.Firmware,t)),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l}(),c.KeyProvenances=function(){function l(r){if(this.info=[],r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.info=ke.emptyArray,l.create=function(e){return new l(e)},l.encode=function(e,t){if(t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.info!=null&&e.info.length)for(let n=0;n<e.info.length;++n)i.device.DeviceInfo.KeyProvenances.Info.encode(e.info[n],t.uint32(18).fork()).ldelim();return t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.KeyProvenances;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.info&&o.info.length||(o.info=[]),o.info.push(i.device.DeviceInfo.KeyProvenances.Info.decode(e,e.uint32()));break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.info!=null&&e.hasOwnProperty("info")){if(!Array.isArray(e.info))return"info: array expected";for(let t=0;t<e.info.length;++t){let n=i.device.DeviceInfo.KeyProvenances.Info.verify(e.info[t]);if(n)return"info."+n}}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.KeyProvenances)return e;let t=new i.device.DeviceInfo.KeyProvenances;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.KeyProvenances.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.info){if(!Array.isArray(e.info))throw TypeError(".device.DeviceInfo.KeyProvenances.info: array expected");t.info=[];for(let n=0;n<e.info.length;++n){if(typeof e.info[n]!="object")throw TypeError(".device.DeviceInfo.KeyProvenances.info: object expected");t.info[n]=i.device.DeviceInfo.KeyProvenances.Info.fromObject(e.info[n])}}return t},l.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.info=[]),t.defaults&&(n.answer=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.info&&e.info.length){n.info=[];for(let o=0;o<e.info.length;++o)n.info[o]=i.device.DeviceInfo.KeyProvenances.Info.toObject(e.info[o],t)}return n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l.KeyProvenance=function(){let r={},e=Object.create(r);return e[r[0]="UNKNOWN"]=0,e[r[1]="TEE"]=1,e[r[2]="FILE"]=2,e}(),l.KeyProvenanceMaybe=function(){function r(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.answer=null,r.prototype.value=0,r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=we.create()),t.answer!=null&&Object.hasOwnProperty.call(t,"answer")&&i.device.Answer.encode(t.answer,n.uint32(10).fork()).ldelim(),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&n.uint32(16).int32(t.value),n},r.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},r.decode=function(t,n){t instanceof U||(t=U.create(t));let o=n===void 0?t.len:t.pos+n,f=new i.device.DeviceInfo.KeyProvenances.KeyProvenanceMaybe;for(;t.pos<o;){let y=t.uint32();switch(y>>>3){case 1:f.answer=i.device.Answer.decode(t,t.uint32());break;case 2:f.value=t.int32();break;default:t.skipType(y&7);break}}return f},r.decodeDelimited=function(t){return t instanceof U||(t=new U(t)),this.decode(t,t.uint32())},r.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.answer!=null&&t.hasOwnProperty("answer")){let n=i.device.Answer.verify(t.answer);if(n)return"answer."+n}if(t.value!=null&&t.hasOwnProperty("value"))switch(t.value){default:return"value: enum value expected";case 0:case 1:case 2:break}return null},r.fromObject=function(t){if(t instanceof i.device.DeviceInfo.KeyProvenances.KeyProvenanceMaybe)return t;let n=new i.device.DeviceInfo.KeyProvenances.KeyProvenanceMaybe;if(t.answer!=null){if(typeof t.answer!="object")throw TypeError(".device.DeviceInfo.KeyProvenances.KeyProvenanceMaybe.answer: object expected");n.answer=i.device.Answer.fromObject(t.answer)}switch(t.value){case"UNKNOWN":case 0:n.value=0;break;case"TEE":case 1:n.value=1;break;case"FILE":case 2:n.value=2;break}return n},r.toObject=function(t,n){n||(n={});let o={};return n.defaults&&(o.answer=null,o.value=n.enums===String?"UNKNOWN":0),t.answer!=null&&t.hasOwnProperty("answer")&&(o.answer=i.device.Answer.toObject(t.answer,n)),t.value!=null&&t.hasOwnProperty("value")&&(o.value=n.enums===String?i.device.DeviceInfo.KeyProvenances.KeyProvenance[t.value]:t.value),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},r}(),l.Info=function(){function r(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.profileHandle=null,r.prototype.keyHandle=null,r.prototype.keyProvenance=null,r.create=function(t){return new r(t)},r.encode=function(t,n){return n||(n=we.create()),t.profileHandle!=null&&Object.hasOwnProperty.call(t,"profileHandle")&&i.device.StringMaybe.encode(t.profileHandle,n.uint32(10).fork()).ldelim(),t.keyHandle!=null&&Object.hasOwnProperty.call(t,"keyHandle")&&i.device.StringMaybe.encode(t.keyHandle,n.uint32(18).fork()).ldelim(),t.keyProvenance!=null&&Object.hasOwnProperty.call(t,"keyProvenance")&&i.device.DeviceInfo.KeyProvenances.KeyProvenanceMaybe.encode(t.keyProvenance,n.uint32(26).fork()).ldelim(),n},r.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},r.decode=function(t,n){t instanceof U||(t=U.create(t));let o=n===void 0?t.len:t.pos+n,f=new i.device.DeviceInfo.KeyProvenances.Info;for(;t.pos<o;){let y=t.uint32();switch(y>>>3){case 1:f.profileHandle=i.device.StringMaybe.decode(t,t.uint32());break;case 2:f.keyHandle=i.device.StringMaybe.decode(t,t.uint32());break;case 3:f.keyProvenance=i.device.DeviceInfo.KeyProvenances.KeyProvenanceMaybe.decode(t,t.uint32());break;default:t.skipType(y&7);break}}return f},r.decodeDelimited=function(t){return t instanceof U||(t=new U(t)),this.decode(t,t.uint32())},r.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.profileHandle!=null&&t.hasOwnProperty("profileHandle")){let n=i.device.StringMaybe.verify(t.profileHandle);if(n)return"profileHandle."+n}if(t.keyHandle!=null&&t.hasOwnProperty("keyHandle")){let n=i.device.StringMaybe.verify(t.keyHandle);if(n)return"keyHandle."+n}if(t.keyProvenance!=null&&t.hasOwnProperty("keyProvenance")){let n=i.device.DeviceInfo.KeyProvenances.KeyProvenanceMaybe.verify(t.keyProvenance);if(n)return"keyProvenance."+n}return null},r.fromObject=function(t){if(t instanceof i.device.DeviceInfo.KeyProvenances.Info)return t;let n=new i.device.DeviceInfo.KeyProvenances.Info;if(t.profileHandle!=null){if(typeof t.profileHandle!="object")throw TypeError(".device.DeviceInfo.KeyProvenances.Info.profileHandle: object expected");n.profileHandle=i.device.StringMaybe.fromObject(t.profileHandle)}if(t.keyHandle!=null){if(typeof t.keyHandle!="object")throw TypeError(".device.DeviceInfo.KeyProvenances.Info.keyHandle: object expected");n.keyHandle=i.device.StringMaybe.fromObject(t.keyHandle)}if(t.keyProvenance!=null){if(typeof t.keyProvenance!="object")throw TypeError(".device.DeviceInfo.KeyProvenances.Info.keyProvenance: object expected");n.keyProvenance=i.device.DeviceInfo.KeyProvenances.KeyProvenanceMaybe.fromObject(t.keyProvenance)}return n},r.toObject=function(t,n){n||(n={});let o={};return n.defaults&&(o.profileHandle=null,o.keyHandle=null,o.keyProvenance=null),t.profileHandle!=null&&t.hasOwnProperty("profileHandle")&&(o.profileHandle=i.device.StringMaybe.toObject(t.profileHandle,n)),t.keyHandle!=null&&t.hasOwnProperty("keyHandle")&&(o.keyHandle=i.device.StringMaybe.toObject(t.keyHandle,n)),t.keyProvenance!=null&&t.hasOwnProperty("keyProvenance")&&(o.keyProvenance=i.device.DeviceInfo.KeyProvenances.KeyProvenanceMaybe.toObject(t.keyProvenance,n)),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},r}(),l}(),c.Locale=function(){function l(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return l.prototype.answer=null,l.prototype.current=null,l.create=function(e){return new l(e)},l.encode=function(e,t){return t||(t=we.create()),e.answer!=null&&Object.hasOwnProperty.call(e,"answer")&&i.device.Answer.encode(e.answer,t.uint32(10).fork()).ldelim(),e.current!=null&&Object.hasOwnProperty.call(e,"current")&&i.device.StringMaybe.encode(e.current,t.uint32(18).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof U||(e=U.create(e));let n=t===void 0?e.len:e.pos+t,o=new i.device.DeviceInfo.Locale;for(;e.pos<n;){let f=e.uint32();switch(f>>>3){case 1:o.answer=i.device.Answer.decode(e,e.uint32());break;case 2:o.current=i.device.StringMaybe.decode(e,e.uint32());break;default:e.skipType(f&7);break}}return o},l.decodeDelimited=function(e){return e instanceof U||(e=new U(e)),this.decode(e,e.uint32())},l.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.answer!=null&&e.hasOwnProperty("answer")){let t=i.device.Answer.verify(e.answer);if(t)return"answer."+t}if(e.current!=null&&e.hasOwnProperty("current")){let t=i.device.StringMaybe.verify(e.current);if(t)return"current."+t}return null},l.fromObject=function(e){if(e instanceof i.device.DeviceInfo.Locale)return e;let t=new i.device.DeviceInfo.Locale;if(e.answer!=null){if(typeof e.answer!="object")throw TypeError(".device.DeviceInfo.Locale.answer: object expected");t.answer=i.device.Answer.fromObject(e.answer)}if(e.current!=null){if(typeof e.current!="object")throw TypeError(".device.DeviceInfo.Locale.current: object expected");t.current=i.device.StringMaybe.fromObject(e.current)}return t},l.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.answer=null,n.current=null),e.answer!=null&&e.hasOwnProperty("answer")&&(n.answer=i.device.Answer.toObject(e.answer,t)),e.current!=null&&e.hasOwnProperty("current")&&(n.current=i.device.StringMaybe.toObject(e.current,t)),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,ae.util.toJSONOptions)},l}(),c}(),d})();var yr=St(pr()),ct=class{constructor(c,l,r){this.ua=c,this.ch=l,this.appSettings=r}static async collect(c){let l=new yr.UAParser().getResult(),r={};if(navigator.userAgentData){let t={brands:navigator.userAgentData.brands,mobile:navigator.userAgentData.mobile,platform:navigator.userAgentData.platform},n=await navigator.userAgentData.getHighEntropyValues(["architecture","bitness","model","platformVersion","uaFullVersion"]);r={...t,...n}}let e={};return c&&(e=await yn(c)),new ct(l,r,e)}getUserAgent(){return{browser:{name:this.ua.browser.name,version:this.ua.browser.version,engineName:this.ua.engine.name,engineVersion:this.ua.engine.version},platform:{name:this.ua.os.name,version:this.ua.os.version},device:{architecture:this.ua.cpu.architecture,model:this.ua.device.model,type:this.ua.device.type,vendor:this.ua.device.vendor},clientData:{...this.ch}}}getClientHints(){return this.ch}async getAppInstanceId(){return this.appSettings?{answer:{type:ye.AnswerType.VALUE},value:this.appSettings.instanceId}:void 0}getOsVersion(){let c=this.getUserAgent(),l={};if(c.clientData){l.answer={type:ye.AnswerType.VALUE};for(let r in c.clientData)r!=="brands"&&(l[r]={value:c.clientData[r]})}else l.answer={type:ye.AnswerType.UNSUPPORTED};return{answer:{type:ye.AnswerType.VALUE},userAgent:{type:ye.AnswerType.VALUE,value:navigator.userAgent},userAgentData:{answer:{type:ye.AnswerType.VALUE},browser:{answer:{type:ye.AnswerType.VALUE},name:{answer:{type:ye.AnswerType.VALUE},value:this.ua.browser.name},version:{answer:{type:ye.AnswerType.VALUE},value:this.ua.browser.version},engineName:{answer:{type:ye.AnswerType.VALUE},value:this.ua.engine.name},engineVersion:{answer:{type:ye.AnswerType.VALUE},value:this.ua.engine.version}},platform:{answer:{type:ye.AnswerType.VALUE},name:{answer:{type:ye.AnswerType.VALUE},value:this.ua.os.name},version:{answer:{type:ye.AnswerType.VALUE},value:this.ua.os.version}},hostPlatform:{answer:{type:ye.AnswerType.VALUE},name:{answer:{type:ye.AnswerType.VALUE},value:this.ua.os.name},version:{answer:{type:ye.AnswerType.VALUE},value:this.ua.os.version}},device:{answer:{type:ye.AnswerType.VALUE},architecture:{answer:{type:ye.AnswerType.VALUE},value:this.ua.cpu.architecture},model:{answer:{type:ye.AnswerType.VALUE},value:this.ua.device.model},type:{answer:{type:ye.AnswerType.VALUE},value:this.ua.device.type},vendor:{answer:{type:ye.AnswerType.VALUE},value:this.ua.device.vendor}},clientData:l}}}async getAuthentication(){let c=!!window.PublicKeyCredential,l=c&&await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();return{answer:{type:ye.AnswerType.VALUE},isWebauthnAvailable:{answer:{type:ye.AnswerType.VALUE},value:c},isPlatformAuthenticatorAvailable:{answer:{type:ye.AnswerType.VALUE},value:l}}}};async function Ao(){return(await ct.collect()).getUserAgent()}async function Eo(d){let c=new ye.DeviceInfo,l=await ct.collect(d);c.answer={type:ye.AnswerType.VALUE},c.platform=ye.Platform.WEB,c.osVersion=l.getOsVersion(),c.core=ye.Core.RUST;let r="1.0.0",e="1.0.0";return c.appVersion={answer:{type:ye.AnswerType.VALUE},value:r},c.appInstanceId=await l.getAppInstanceId(),c.authentication=await l.getAuthentication(),Zr(c)}function Zr(d){return ye.DeviceInfo.encode(d).finish()}function _o(d){return ye.DeviceInfo.decode(d)}
/*! For license information please see cbor.js.LICENSE.txt */


/***/ }),

/***/ "./node_modules/murmurhash/murmurhash.js":
/*!***********************************************!*\
  !*** ./node_modules/murmurhash/murmurhash.js ***!
  \***********************************************/
/***/ ((module) => {

(function(){
  var _global = this;

  /**
   * JS Implementation of MurmurHash2
   *
   * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
   * @see http://github.com/garycourt/murmurhash-js
   * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
   * @see http://sites.google.com/site/murmurhash/
   *
   * @param {string} str ASCII only
   * @param {number} seed Positive integer only
   * @return {number} 32-bit positive integer hash
   */
  function MurmurHashV2(str, seed) {
    var
      l = str.length,
      h = seed ^ l,
      i = 0,
      k;

    while (l >= 4) {
      k =
        ((str.charCodeAt(i) & 0xff)) |
        ((str.charCodeAt(++i) & 0xff) << 8) |
        ((str.charCodeAt(++i) & 0xff) << 16) |
        ((str.charCodeAt(++i) & 0xff) << 24);

      k = (((k & 0xffff) * 0x5bd1e995) + ((((k >>> 16) * 0x5bd1e995) & 0xffff) << 16));
      k ^= k >>> 24;
      k = (((k & 0xffff) * 0x5bd1e995) + ((((k >>> 16) * 0x5bd1e995) & 0xffff) << 16));

    h = (((h & 0xffff) * 0x5bd1e995) + ((((h >>> 16) * 0x5bd1e995) & 0xffff) << 16)) ^ k;

      l -= 4;
      ++i;
    }

    switch (l) {
    case 3: h ^= (str.charCodeAt(i + 2) & 0xff) << 16;
    case 2: h ^= (str.charCodeAt(i + 1) & 0xff) << 8;
    case 1: h ^= (str.charCodeAt(i) & 0xff);
            h = (((h & 0xffff) * 0x5bd1e995) + ((((h >>> 16) * 0x5bd1e995) & 0xffff) << 16));
    }

    h ^= h >>> 13;
    h = (((h & 0xffff) * 0x5bd1e995) + ((((h >>> 16) * 0x5bd1e995) & 0xffff) << 16));
    h ^= h >>> 15;

    return h >>> 0;
  };

  /**
   * JS Implementation of MurmurHash3 (r136) (as of May 20, 2011)
   *
   * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
   * @see http://github.com/garycourt/murmurhash-js
   * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
   * @see http://sites.google.com/site/murmurhash/
   *
   * @param {string} key ASCII only
   * @param {number} seed Positive integer only
   * @return {number} 32-bit positive integer hash
   */
  function MurmurHashV3(key, seed) {
    var remainder, bytes, h1, h1b, c1, c1b, c2, c2b, k1, i;

    remainder = key.length & 3; // key.length % 4
    bytes = key.length - remainder;
    h1 = seed;
    c1 = 0xcc9e2d51;
    c2 = 0x1b873593;
    i = 0;

    while (i < bytes) {
        k1 =
          ((key.charCodeAt(i) & 0xff)) |
          ((key.charCodeAt(++i) & 0xff) << 8) |
          ((key.charCodeAt(++i) & 0xff) << 16) |
          ((key.charCodeAt(++i) & 0xff) << 24);
      ++i;

      k1 = ((((k1 & 0xffff) * c1) + ((((k1 >>> 16) * c1) & 0xffff) << 16))) & 0xffffffff;
      k1 = (k1 << 15) | (k1 >>> 17);
      k1 = ((((k1 & 0xffff) * c2) + ((((k1 >>> 16) * c2) & 0xffff) << 16))) & 0xffffffff;

      h1 ^= k1;
          h1 = (h1 << 13) | (h1 >>> 19);
      h1b = ((((h1 & 0xffff) * 5) + ((((h1 >>> 16) * 5) & 0xffff) << 16))) & 0xffffffff;
      h1 = (((h1b & 0xffff) + 0x6b64) + ((((h1b >>> 16) + 0xe654) & 0xffff) << 16));
    }

    k1 = 0;

    switch (remainder) {
      case 3: k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;
      case 2: k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;
      case 1: k1 ^= (key.charCodeAt(i) & 0xff);

      k1 = (((k1 & 0xffff) * c1) + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff;
      k1 = (k1 << 15) | (k1 >>> 17);
      k1 = (((k1 & 0xffff) * c2) + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff;
      h1 ^= k1;
    }

    h1 ^= key.length;

    h1 ^= h1 >>> 16;
    h1 = (((h1 & 0xffff) * 0x85ebca6b) + ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) & 0xffffffff;
    h1 ^= h1 >>> 13;
    h1 = ((((h1 & 0xffff) * 0xc2b2ae35) + ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16))) & 0xffffffff;
    h1 ^= h1 >>> 16;

    return h1 >>> 0;
  }

  var murmur = MurmurHashV3;
  murmur.v2 = MurmurHashV2;
  murmur.v3 = MurmurHashV3;

  if (true) {
    module.exports = murmur;
  } else { var _previousRoot; }
}());


/***/ }),

/***/ "./src/configuration.ts":
/*!******************************!*\
  !*** ./src/configuration.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Configuration": () => (/* binding */ Configuration)
/* harmony export */ });
/**
 * TODO: Doc
 */
class Configuration {
}


/***/ }),

/***/ "./src/core.ts":
/*!*********************!*\
  !*** ./src/core.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CoreBuilder": () => (/* binding */ CoreBuilder),
/* harmony export */   "Core": () => (/* binding */ Core)
/* harmony export */ });
/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configuration */ "./src/configuration.ts");
/* harmony import */ var _coreDispatch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./coreDispatch */ "./src/coreDispatch.ts");
/* harmony import */ var kmc_ffi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! kmc-ffi */ "./node_modules/kmc-ffi/kmc.js");
/* harmony import */ var _util_optimizely__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/optimizely */ "./src/util/optimizely.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var _a;




/**
 * CoreBuilder is a wrapper around `CoreConfig` with a "fluent" interface.
 */
class CoreBuilder {
    constructor() {
        this.config = new _configuration__WEBPACK_IMPORTED_MODULE_0__.Configuration();
    }
    mock(data) {
        this.config.mock = data;
        return this;
    }
    log(log) {
        this.config.log = log;
        return this;
    }
    allowedDomains(allowedDomains) {
        this.config.allowedDomains = allowedDomains;
        return this;
    }
    /**
     * Construct the `Core`.
     * @returns `Core`
     */
    build() {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.config.mock) {
                yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_3__["default"])();
            }
            let core = new Core((0,_coreDispatch__WEBPACK_IMPORTED_MODULE_1__.createDispatch)(this.config));
            yield core.init(this.config);
            return core;
        });
    }
}
/**
 * The only thing you need!
 * Wraps the core dispatch so it can be configured with a Mock interface.
 */
class Core {
    constructor(dispatch) {
        /**
         * Perform one-time initialization; specifically,
         * this is done to initially populate appSettings objectStore
         * with an appInstanceId, which is required for the import flow.
         */
        this.init = (config) => __awaiter(this, void 0, void 0, function* () {
            this.dispatch.migrateDatabase(config.allowedDomains);
            // Get the appInstanceID to pass into the
            // queryFeatureFlag closure
            let instanceId = yield this.dispatch.getAppInstanceId();
            try {
                this.optimizely = yield _util_optimizely__WEBPACK_IMPORTED_MODULE_2__.Optimizely.init();
                this.dispatch.host.queryFeatureFlag = (flag) => {
                    return this.optimizely
                        ? this.optimizely.queryFeatureFlag(flag, instanceId || "")
                        : false;
                };
            }
            catch (err) {
                console.error("Optimizely initialization failure: ", err);
            }
        });
        this.bindCredentialUrl = (url) => __awaiter(this, void 0, void 0, function* () { return yield this.dispatch.bindCredentialUrl(url); });
        this.getUrlType = (url) => this.dispatch.getUrlType(url);
        this.cancel = () => __awaiter(this, void 0, void 0, function* () { return this.dispatch.cancel(); });
        this.createPKCE = () => __awaiter(this, void 0, void 0, function* () { return this.dispatch.createPkce(); });
        this.createCredential = (handle, name, imageUrl, loginUri, enrollUri) => __awaiter(this, void 0, void 0, function* () { return this.dispatch.createCredential(handle, name, imageUrl, loginUri, enrollUri); });
        this.deleteCredential = (handle) => __awaiter(this, void 0, void 0, function* () { return this.dispatch.deleteCredential(handle); });
        this.deleteCredentialV1 = (id) => __awaiter(this, void 0, void 0, function* () { return this.dispatch.deleteCredentialV1(id); });
        this.authenticateConfidential = (authURL, clientId, redirectURI, scope, PKCECodeChallenge, nonce) => __awaiter(this, void 0, void 0, function* () {
            return this.dispatch.authenticateConfidential(authURL, clientId, redirectURI, scope, PKCECodeChallenge, nonce);
        });
        /**
         * Authenticates a credential.
         */
        this.authenticate = (url, trusted, onSelectCredential) => __awaiter(this, void 0, void 0, function* () {
            this.dispatch.host.events.onSelectCredentialV1 = onSelectCredential
                ? (credentials) => __awaiter(this, void 0, void 0, function* () { return onSelectCredential === null || onSelectCredential === void 0 ? void 0 : onSelectCredential(credentials); })
                : undefined; // use default credential selection handling defined by the host
            try {
                return yield this.dispatch.authenticate(url, trusted, onSelectCredential);
            }
            finally {
                // reset select credential callback
                this.dispatch.host.events.onSelectCredentialV1 = undefined;
            }
        });
        this.authenticatePublic = (authURL, tokenURL, clientId, redirectURI, nonce) => __awaiter(this, void 0, void 0, function* () {
            return this.dispatch.authenticatePublic(authURL, tokenURL, clientId, redirectURI, nonce);
        });
        /**
         * Begins an export of the specified credential.
         * @param handle
         * @param url
         * @returns A promise that resolves to a rendezvous token
         * that is the result of an export "started" event.
         * This does not indicate that the operation has completed.
         * The caller must then periodically poll the `core's`
         * `exportStatus` member to check for an updated token in
         * the event of a timeout.
         *
         * If the operation fails for any reason, then the promise
         * will be rejected.
         */
        this.export = (handle, onExport) => __awaiter(this, void 0, void 0, function* () {
            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {
                this.dispatch.host.events.onexport = (ev) => {
                    // We don't expect failed or cancelled events from the Host.
                    if (ev.type == "started") {
                        // Return the rendezvous token.
                        resolve(ev.data);
                    }
                    onExport(ev);
                };
                // Kick off the operation.
                // This promise resolves when the "started" event is
                // received. Any failures from export (including cancellation)
                // will reject the promise. The return value of export upon
                // success is ignored.
                try {
                    yield this.dispatch.export(handle);
                }
                catch (err) {
                    reject(err);
                }
                finally {
                    this.dispatch.host.events.onexport = undefined;
                }
            }));
        });
        this.getCredentials = () => __awaiter(this, void 0, void 0, function* () { return this.dispatch.getCredentials(); });
        this.listCredentials = () => __awaiter(this, void 0, void 0, function* () { return this.dispatch.listCredentials(); });
        this.handleURL = (url, trusted) => __awaiter(this, void 0, void 0, function* () { return this.dispatch.handleURL(url, trusted); });
        /**
         * TODO: whn should this promise be resolved?
         * @param token
         * @param address
         * @returns
         */
        this.import = (token, onImport) => __awaiter(this, void 0, void 0, function* () {
            this.dispatch.host.events.onimport = onImport;
            try {
                return yield this.dispatch.import(token);
            }
            finally {
                this.dispatch.host.events.onimport = undefined;
            }
        });
        this.register = (url, trusted) => __awaiter(this, void 0, void 0, function* () { return this.dispatch.register(url, trusted); });
        this.getAppInstanceId = () => __awaiter(this, void 0, void 0, function* () {
            let halVersion;
            if (this.dispatch.host.queryFeatureFlag("crypto_provider_hal")) {
                halVersion = "H";
            }
            else {
                halVersion = "L";
            }
            return (yield this.dispatch.getAppInstanceId()) + `[${halVersion}]`;
        });
        this.getBrowserInfo = () => __awaiter(this, void 0, void 0, function* () { return yield this.dispatch.getBrowserInfo(); });
        this.dispatch = dispatch;
    }
    get events() {
        return this.dispatch.host.events;
    }
}
_a = Core;
/**
 * TESTING ONLY!
 * Deletes the keymaker database.
 */
Core.reset = () => __awaiter(void 0, void 0, void 0, function* () {
    return new Promise((resolve, reject) => {
        let rq = window.indexedDB.deleteDatabase("keymaker");
        rq.onerror = (e) => {
            reject("unexpected error");
        };
        rq.onsuccess = (e) => {
            resolve();
        };
    });
});


/***/ }),

/***/ "./src/coreDispatch.ts":
/*!*****************************!*\
  !*** ./src/coreDispatch.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createDispatch": () => (/* binding */ createDispatch)
/* harmony export */ });
/* harmony import */ var _messaging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messaging */ "./src/messaging/index.ts");
/* harmony import */ var _host__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./host */ "./src/host/index.ts");
/* harmony import */ var kmc_ffi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! kmc-ffi */ "./node_modules/kmc-ffi/kmc.js");
/* harmony import */ var _host_webHost__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./host/webHost */ "./src/host/webHost.ts");
/* harmony import */ var _mock_mockDispatch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mock/mockDispatch */ "./src/mock/mockDispatch.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};





class KmcDispatch {
    constructor(config) {
        this.bindCredentialUrl = (url) => __awaiter(this, void 0, void 0, function* () {
            const rawUrlType = (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_url_type)(url);
            if (_messaging__WEBPACK_IMPORTED_MODULE_0__.Types.toUrlType(rawUrlType).type !== "Bind") {
                return Promise.reject(new Error("Invalid Url Type. Expected a Bind Credential Url."));
            }
            // TODO: modify the trusted source
            const rsp = yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_handle_url)(url, undefined, "EmbeddedSource", (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            });
            const urlResponse = _messaging__WEBPACK_IMPORTED_MODULE_0__.Types.toUrlResponse(rsp);
            switch (urlResponse.type) {
                case "bindCredential": {
                    return urlResponse.bindCredential;
                }
                default: {
                    return Promise.reject(new Error("Invalid response type"));
                }
            }
        });
        this.getUrlType = (url) => {
            const rawUrlType = (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_url_type)(url);
            return _messaging__WEBPACK_IMPORTED_MODULE_0__.Types.toUrlType(rawUrlType);
        };
        this.migrateDatabase = (allowedDomains) => {
            (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_migrate_database)(allowedDomains);
        };
        this.auth = (url, trusted) => __awaiter(this, void 0, void 0, function* () { return Promise.reject("Not implemented"); });
        this.cancel = () => __awaiter(this, void 0, void 0, function* () { return yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_cancel)(); });
        this.createPkce = () => __awaiter(this, void 0, void 0, function* () {
            let pkce = yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_create_pkce)();
            return {
                codeVerifier: pkce.code_verifier,
                codeChallenge: {
                    challenge: pkce.code_challenge.challenge,
                    method: pkce.code_challenge.method,
                },
            };
        });
        this.createCredential = (handle, name, imageUrl, loginUri, enrollUri) => __awaiter(this, void 0, void 0, function* () {
            let profile = yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_create_profile)(handle, name, imageUrl, enrollUri, loginUri, undefined, undefined, undefined, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            });
            let credential = _messaging__WEBPACK_IMPORTED_MODULE_0__.Types.credentialFromProfile(profile);
            yield this.updateCredentialInfo(credential);
            return credential;
        });
        this.deleteCredential = (handle) => __awaiter(this, void 0, void 0, function* () {
            return yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_delete_profile)(handle, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            });
        });
        this.deleteCredentialV1 = (id) => __awaiter(this, void 0, void 0, function* () {
            return yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_delete_credential)(id, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            });
        });
        this.authenticate = (url, trusted) => __awaiter(this, void 0, void 0, function* () {
            const rsp = yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_handle_url)(url, undefined, trusted, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            });
            let urlResponse = _messaging__WEBPACK_IMPORTED_MODULE_0__.Types.toUrlResponse(rsp);
            switch (urlResponse.type) {
                case "biAuthenticate": {
                    return urlResponse.biAuthenticate;
                }
                default: {
                    return Promise.reject(new Error("Invalid response type"));
                }
            }
        });
        this.authenticateConfidential = (authURL, clientId, redirectURI, scope, challenge, nonce) => __awaiter(this, void 0, void 0, function* () {
            let code = (yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_embedded_confidential_oidc)(authURL, clientId, redirectURI, scope, challenge, nonce, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            }));
            return code;
        });
        this.authenticatePublic = (authURL, tokenURL, clientId, redirectURI, nonce) => __awaiter(this, void 0, void 0, function* () {
            let token = (yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_embedded_public_oidc)(authURL, tokenURL, clientId, redirectURI, nonce, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            }));
            return {
                accessToken: token.access_token,
                idToken: token.id_token,
                tokenType: token.token_type,
                expiresIn: token.expires_in,
            };
        });
        this.export = (handle) => __awaiter(this, void 0, void 0, function* () {
            return yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_export)(handle, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            });
        });
        this.getCredentials = () => __awaiter(this, void 0, void 0, function* () {
            // Retrieve the credentials from the database.
            let creds = (yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_all_credentials)((msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            }));
            // Convert the raw credentials into a more friendly type.
            let credentials = creds.map((cred) => _messaging__WEBPACK_IMPORTED_MODULE_0__.Types.credentialFromCore(cred));
            // Supply the key type for each credential.
            for (let cred of credentials) {
                yield this.updateCredentialInfo(cred);
            }
            return credentials;
        });
        this.listCredentials = () => __awaiter(this, void 0, void 0, function* () {
            let creds = (yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_list_credentials)((msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            }));
            let credentials = creds.map((cred) => _messaging__WEBPACK_IMPORTED_MODULE_0__.Types.credentialV1FromCredential(cred));
            for (let credential of credentials) {
                credential.keyType = yield this.getKeyType(credential.keyHandle);
            }
            return credentials;
        });
        this.getKeyType = (keyHandle) => __awaiter(this, void 0, void 0, function* () {
            let rsp = yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_get_key_type)(keyHandle);
            return rsp;
        });
        this.handleURL = (url, trusted) => __awaiter(this, void 0, void 0, function* () {
            // FIXME: get allowed domains from somewhere
            let rsp = yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_handle_url)(url, undefined, trusted, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            });
            return _messaging__WEBPACK_IMPORTED_MODULE_0__.Types.toUrlResponse(rsp);
        });
        this.import = (token) => __awaiter(this, void 0, void 0, function* () {
            let profile = yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_import)(token, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            });
            if (profile === undefined)
                return undefined;
            let credential = _messaging__WEBPACK_IMPORTED_MODULE_0__.Types.credentialFromProfile(profile);
            yield this.updateCredentialInfo(credential);
            return credential;
        });
        this.register = (url, trusted) => __awaiter(this, void 0, void 0, function* () {
            /// FIXME Allowed domains?
            let rsp = yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_handle_url)(url, undefined, trusted, (msg) => {
                return (0,_host__WEBPACK_IMPORTED_MODULE_1__.hostCall)(this.host, msg);
            });
            return _messaging__WEBPACK_IMPORTED_MODULE_0__.Types.toUrlResponse(rsp);
        });
        this.getAppInstanceId = () => __awaiter(this, void 0, void 0, function* () { return yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_get_app_instance_id)(); });
        this.getBrowserInfo = () => __awaiter(this, void 0, void 0, function* () { return yield (0,kmc_ffi__WEBPACK_IMPORTED_MODULE_4__.kmc_get_user_agent)(); });
        this.updateCredentialInfo = (cred) => __awaiter(this, void 0, void 0, function* () {
            try {
                cred.keyType = yield this.getKeyType(cred.keyHandle);
            }
            catch (err) {
                // Update the integrity failure map as needed.
                if (cred.integrityFailures === undefined) {
                    cred.integrityFailures = {};
                }
                cred.integrityFailures["keyType"] = {
                    KeyType: err instanceof Error ? err.message : JSON.stringify(err),
                };
            }
        });
        this.host = new _host_webHost__WEBPACK_IMPORTED_MODULE_2__.WebHost(config);
    }
}
/**
 * Creates the CoreDispatch that Core uses.
 *
 * @param config Configuration data
 * @returns a new CoreDispatch object: `KmcDispatch | `MockDispatch`
 */
function createDispatch(config) {
    if (config.mock) {
        if (config.mock.dispatch) {
            if (config.mock.dispatch instanceof Function)
                return config.mock.dispatch();
            else
                return new _mock_mockDispatch__WEBPACK_IMPORTED_MODULE_3__.MockDispatch(config);
        }
    }
    return new KmcDispatch(config);
}


/***/ }),

/***/ "./src/env.ts":
/*!********************!*\
  !*** ./src/env.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Environment": () => (/* binding */ Environment)
/* harmony export */ });
/**
 * Environmental parameters defined at build time
 */
const Environment = new (class {
    constructor() {
        this.channel = undefined !== null && undefined !== void 0 ? undefined : "devel";
        this.deviceGatewayUrl = undefined !== null && undefined !== void 0 ? undefined : "http://dockerhost:8008";
        this.optimizelySdkKey = undefined !== null && undefined !== void 0 ? undefined : "";
    }
})();


/***/ }),

/***/ "./src/host/host.ts":
/*!**************************!*\
  !*** ./src/host/host.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "hostCall": () => (/* binding */ hostCall)
/* harmony export */ });
/* harmony import */ var _messaging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../messaging */ "./src/messaging/index.ts");
/* harmony import */ var _util_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/error */ "./src/util/error.ts");
/* harmony import */ var _messaging_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messaging/types */ "./src/messaging/types.ts");



/**
 * Dispatches the HostRequest to a Host function. host function is
 * only ever called from Kmc, so we can assume that host will be
 * the WebHost (aka us).
 *
 * Note that this function is not asynchronous. If a Host receives
 * a request that begins an asynchronous operation (like `newKey`) then
 * the host will return a `Pending(token)` primitive to Core.
 * Core will then continually poll for the result until the async
 * operation completes successfully or fails. (see `AsyncDispatch`.)
 *
 * @param host The host that will respond to the request.
 * @param msg The JSON request received from KMC
 * @returns A JSON serialized CoreResult
 */
function hostCall(host, msg) {
    let rsp;
    try {
        let rq = (0,_messaging__WEBPACK_IMPORTED_MODULE_0__.readRequest)(msg);
        let result = dispatch(host, rq);
        if (typeof result.then === "function") {
            rsp = result.then((result) => (0,_messaging__WEBPACK_IMPORTED_MODULE_0__.writeResponse)(result));
        }
        else {
            rsp = (0,_messaging__WEBPACK_IMPORTED_MODULE_0__.writeResponse)(result);
        }
    }
    catch (err) {
        // Hand-crafted Error indication (JSON.stringify may throw)
        rsp = `{Err:${(0,_util_error__WEBPACK_IMPORTED_MODULE_1__.makeError)(err).message}}`;
    }
    return rsp;
}
/**
 * Unpacks the hostRequest and calls the appropriate handler.
 * Only called from hostCall, which manages exception handling,
 * so implementors need not worry about catching exceptions here.
 *
 * Note that the MockDispatch can make calls directly to the
 * handlers & does not need to call `dispatch`.
 *
 * TODO: make a host dispatch table.
 * @param rq
 */
function dispatch(host, rq) {
    try {
        if (typeof rq === "string") {
            if (rq == "GetDeviceGatewayUrl") {
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.deviceGatewayUrl(host.getDeviceGatewayUrl());
            }
            else if (rq == "ClientEnvironment") {
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.clientEnvironment(host.getClientEnvironment());
            }
        }
        else {
            if ("Ask" in rq) {
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.bool(host.ask(rq.Ask));
            }
            else if ("AuthenticationPrompt" in rq) {
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.bool(host.authenticationPrompt(rq.AuthenticationPrompt.appName, rq.AuthenticationPrompt.detailList));
            }
            else if ("CheckFeatureFlags" in rq) {
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.featureFlagResponse(host.checkFeatureFlags(rq.CheckFeatureFlags));
            }
            else if ("ExportRequestReceived" in rq) {
                host.exportRequestReceived(rq.ExportRequestReceived);
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.ok();
            }
            else if ("ExportStarted" in rq) {
                host.exportStarted(rq.ExportStarted);
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.ok();
            }
            else if ("ExportTokenTimeout" in rq) {
                host.exportTokenTimeout(rq.ExportTokenTimeout);
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.ok();
            }
            else if ("GetFilePath" in rq) {
                let path = host.getFilePath(rq.GetFilePath);
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.filePath({
                    path_type: path.type,
                    path: path.path,
                });
            }
            else if ("ImportManifestReceived" in rq) {
                host.importManifestReceived(rq.ImportManifestReceived);
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.ok();
            }
            else if ("ImportReceivedSigned" in rq) {
                host.importReceivedSigned(rq.ImportReceivedSigned);
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.ok();
            }
            else if ("ImportRequestsToSign" in rq) {
                host.importRequestsToSign(rq.ImportRequestsToSign);
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.ok();
            }
            else if ("ImportStarted" in rq) {
                host.importStarted(rq.ImportStarted);
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.ok();
            }
            else if ("Log" in rq) {
                host.log(rq.Log);
                return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.ok();
            }
            else if ("SelectAuthNCredential" in rq) {
                return host
                    .selectCredentialV1(rq.SelectAuthNCredential.map((cred) => (0,_messaging_types__WEBPACK_IMPORTED_MODULE_2__.credentialV1FromCredential)(cred)))
                    .then((id) => _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.selectedAuthNCredential(id));
            }
        }
    }
    catch (err) {
        return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.error(err);
    }
    return _messaging__WEBPACK_IMPORTED_MODULE_0__.CoreMessage.error("Not implemented");
}


/***/ }),

/***/ "./src/host/index.ts":
/*!***************************!*\
  !*** ./src/host/index.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "hostCall": () => (/* reexport safe */ _host__WEBPACK_IMPORTED_MODULE_0__.hostCall),
/* harmony export */   "createHost": () => (/* binding */ createHost)
/* harmony export */ });
/* harmony import */ var _host__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./host */ "./src/host/host.ts");
/* harmony import */ var _webHost__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./webHost */ "./src/host/webHost.ts");
/* harmony import */ var _mock_mockHost__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mock/mockHost */ "./src/mock/mockHost.ts");



function createHost(config) {
    if (config.mock) {
        if (config.mock.host) {
            if (config.mock.host instanceof Function)
                return config.mock.host();
            else
                return new _mock_mockHost__WEBPACK_IMPORTED_MODULE_2__.MockHost(config);
        }
    }
    return new _webHost__WEBPACK_IMPORTED_MODULE_1__.WebHost(config);
}


/***/ }),

/***/ "./src/host/webHost.ts":
/*!*****************************!*\
  !*** ./src/host/webHost.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebHost": () => (/* binding */ WebHost)
/* harmony export */ });
/* harmony import */ var _log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../log */ "./src/log.ts");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../env */ "./src/env.ts");


/**
 * The WebHost is the live implementation of the Host interface.
 * It is responsible for dispatching messages from Core to the
 * Enclave, or DeviceQuery, or the UI.
 */
class WebHost {
    constructor(config) {
        // Install a default feature flag provider.
        this.queryFeatureFlag = (string) => {
            return false;
        };
        this.logger = config.log ? config.log : new _log__WEBPACK_IMPORTED_MODULE_0__.ConsoleLog();
    }
    get events() {
        return this;
    }
    checkFeatureFlags(feature_flags) {
        return [];
    }
    exportStarted(token) {
        if (this.onexport)
            this.onexport({ type: "started", data: token });
    }
    exportTokenTimeout(rendezvous_token) {
        if (this.onexport)
            this.onexport({ type: "timeout", data: rendezvous_token });
    }
    exportRequestReceived(requests) {
        if (this.onexport)
            this.onexport({ type: "requestReceived", data: requests });
    }
    getClientEnvironment() {
        // cryptoSource shall be set to "Host" so that Workforce flows 
        // (register, import, export, oidcPublic, oidcConfidential, ...) 
        // will only ever use the Host-based CryptoProvider and never the 
        // HAL-based Crypto Provider; that is, HAL shall *only* be constructed 
        // for PLG flows (bindCredential, authenticate).
        // The Host-based Crypto provider examines the value of 
        // `window.localStorage.EnableWebauthn`:
        // * if "true", then the CryptoProvider will try to use WebAuthn for 
        // key generation. 
        // * otherwise, the CryptoProvider will use Subtle Crypto for key
        // generation.
        // `window.localStorage.EnableWebauthn` is undefined by default, and 
        // can only be set manually per browser, effectively restricting 
        // Workforce to use Subtle Crypto keys. This is consistent with 
        // current Workforce deployments.
        // keyStorageStrategy shall be set to "TeeIfAvailable" so that HAL 
        // will always try to use WebAuthn for key generation. As HAL is 
        // only constructed for PLG flows, this value only affects the key 
        // generation during PLG's bindCredential function.
        // HAL does not examine `window.localStorage.EnableWebauthn` to 
        // determine key generation strategy.
        return {
            cryptoSource: "Host",
            keyStorageStrategy: "TeeIfAvailable",
        };
    }
    getDeviceGatewayUrl() {
        return _env__WEBPACK_IMPORTED_MODULE_1__.Environment.deviceGatewayUrl;
    }
    getFilePath(path_type) {
        return {
            type: path_type,
            path: "",
        };
    }
    importStarted(token) {
        if (this.onimport) {
            this.onimport({ type: "started", data: token });
        }
    }
    importManifestReceived(manifests) {
        if (this.onimport) {
            this.onimport({ type: "manifestsReceived", data: manifests });
        }
    }
    importRequestsToSign(requests) {
        if (this.onimport) {
            this.onimport({ type: "requestsToSign", data: requests });
        }
    }
    importReceivedSigned(signed) {
        if (this.onimport) {
            this.onimport({ type: "receivedSigned", data: signed });
        }
    }
    ask(profile_handle) {
        return true;
    }
    authenticationPrompt(app_name, detail_list) {
        return true;
    }
    log(msg) {
        this.logger.write(msg);
        return;
    }
    selectCredentialV1(credentials) {
        if (this.onSelectCredentialV1) {
            return this.onSelectCredentialV1(credentials);
        }
        return Promise.resolve(credentials[0].id);
    }
}


/***/ }),

/***/ "./src/log.ts":
/*!********************!*\
  !*** ./src/log.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ConsoleLog": () => (/* binding */ ConsoleLog)
/* harmony export */ });
/**
 * The default implementatino of the Log interface.
 * Data is logged to the debug console.
 */
class ConsoleLog {
    write(...data) {
        console.log(data);
    }
}


/***/ }),

/***/ "./src/messaging/coreMessage.ts":
/*!**************************************!*\
  !*** ./src/messaging/coreMessage.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ok": () => (/* binding */ ok),
/* harmony export */   "error": () => (/* binding */ error),
/* harmony export */   "featureFlagResponse": () => (/* binding */ featureFlagResponse),
/* harmony export */   "deviceGatewayUrl": () => (/* binding */ deviceGatewayUrl),
/* harmony export */   "clientEnvironment": () => (/* binding */ clientEnvironment),
/* harmony export */   "deviceInfo": () => (/* binding */ deviceInfo),
/* harmony export */   "filePath": () => (/* binding */ filePath),
/* harmony export */   "bool": () => (/* binding */ bool),
/* harmony export */   "bytes": () => (/* binding */ bytes),
/* harmony export */   "selectedAuthNCredential": () => (/* binding */ selectedAuthNCredential)
/* harmony export */ });
function makeError(err) {
    if (typeof err === "string")
        return new Error(err);
    else if ("message" in err)
        return err;
    else
        return new Error(err);
}
function ok(rsp) {
    return { Ok: rsp ? rsp : "Unit" };
}
function error(err) {
    return { Err: makeError(err).message };
}
function featureFlagResponse(flags) {
    return ok({ FeatureFlags: flags });
}
function deviceGatewayUrl(url) {
    return ok({ DeviceGatewayUrl: url });
}
function clientEnvironment(clientEnvironment) {
    return ok({
        ClientEnvironment: {
            crypto_source: clientEnvironment.cryptoSource,
            key_storage_strategy: clientEnvironment.keyStorageStrategy,
        },
    });
}
function deviceInfo(info) {
    return ok({ DeviceInfo: info });
}
function filePath(path) {
    return ok({ FilePath: path });
}
function bool(value) {
    return ok({ Bool: value });
}
function bytes(data) {
    return ok({ Bytes: Array.from(data) });
}
function selectedAuthNCredential(id) {
    return ok({ SelectedAuthNCredentialId: id });
}


/***/ }),

/***/ "./src/messaging/hostMessage.ts":
/*!**************************************!*\
  !*** ./src/messaging/hostMessage.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./src/messaging/index.ts":
/*!********************************!*\
  !*** ./src/messaging/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Types": () => (/* reexport module object */ _types__WEBPACK_IMPORTED_MODULE_0__),
/* harmony export */   "CoreMessage": () => (/* reexport module object */ _coreMessage__WEBPACK_IMPORTED_MODULE_1__),
/* harmony export */   "HostMessage": () => (/* reexport module object */ _hostMessage__WEBPACK_IMPORTED_MODULE_2__),
/* harmony export */   "messageType": () => (/* binding */ messageType),
/* harmony export */   "writeResponse": () => (/* binding */ writeResponse),
/* harmony export */   "readRequest": () => (/* binding */ readRequest)
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/messaging/types.ts");
/* harmony import */ var _coreMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./coreMessage */ "./src/messaging/coreMessage.ts");
/* harmony import */ var _hostMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hostMessage */ "./src/messaging/hostMessage.ts");



/**
 * Returns the type the request/response type from the interface.
*/
function messageType(msg) {
    if (typeof msg === "string")
        return msg;
    else
        return Object.keys(msg)[0];
}
function ok(res) {
    return messageType(res) == "Ok";
}
/**
 * Writes a core result as a JSON string.
 * @param res The result to be serialized.
 * @returns
 */
function writeResponse(res) {
    return JSON.stringify(res);
}
/**
 * Parses a host request from a JSON string
 * @param req the request to parse.
 */
function readRequest(req) {
    return JSON.parse(req);
}


/***/ }),

/***/ "./src/messaging/types.ts":
/*!********************************!*\
  !*** ./src/messaging/types.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PathType": () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_0__.PathType),
/* harmony export */   "credentialFromProfile": () => (/* binding */ credentialFromProfile),
/* harmony export */   "credentialFromCore": () => (/* binding */ credentialFromCore),
/* harmony export */   "toUrlResponse": () => (/* binding */ toUrlResponse),
/* harmony export */   "credentialV1FromCredential": () => (/* binding */ credentialV1FromCredential),
/* harmony export */   "toUrlType": () => (/* binding */ toUrlType)
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/types/index.ts");
/**
 * These messaging types are duplicates of the application types
 * with the exception that they have snake_case spellings
 * so that they are properly serialized into/out of Core.
 *
 * Some types have the same spelling, so they are re-exports
 * of the application types.
 */

/** Helper method for constructing Credentials from rust Profile objects. */
function credentialFromProfile(profile) {
    return {
        state: profile.state,
        created: profile.created,
        handle: profile.handle,
        keyHandle: profile.key_handle,
        keyType: profile.key_type,
        name: profile.name,
        imageURL: profile.image_url,
        loginURI: profile.login_uri,
        enrollURI: profile.enroll_uri,
        chain: profile.chain,
        rootFingerprint: profile.root_fingerprint,
        userId: profile.user_id,
    };
}
function unwrapString(result, name, errors) {
    var _a;
    if ("Ok" in result) {
        return result["Ok"];
    }
    else {
        errors[name] = (_a = result["Err"]) !== null && _a !== void 0 ? _a : "ResultParse";
        return "";
    }
}
function unwrapStringArray(results, name, errors) {
    return results.map((result) => {
        return unwrapString(result, name, errors);
    });
}
function credentialFromCore(cred) {
    let errors = {};
    let newCred = {
        state: cred.state,
        created: unwrapString(cred.created, "created", errors),
        handle: unwrapString(cred.handle, "handle", errors),
        keyHandle: unwrapString(cred.key_handle, "keyHandle", errors),
        keyType: undefined,
        name: cred.name,
        imageURL: cred.image_url,
        loginURI: cred.login_uri,
        enrollURI: cred.enroll_uri,
        chain: unwrapStringArray(cred.chain_handles, "chain", errors),
        rootFingerprint: unwrapString(cred.root_fingerprint, "rootFingerprint", errors),
        userId: undefined,
        user: {},
        deviceCredential: {},
        integrityFailures: Object.keys(errors).length ? errors : undefined,
    };
    return newCred;
}
/** Helper method for constructing UrlResponse from rust HandleUrlRespone objects. */
function toUrlResponse(rsp) {
    if ("SelfIssue" in rsp) {
        return {
            type: "selfIssue",
            selfIssue: {
                credential: credentialFromProfile(rsp["SelfIssue"].profile),
                redirectURL: rsp["SelfIssue"].redirect_url,
                handledRedirectExternally: rsp["SelfIssue"].handled_redirect_externally,
            },
        };
    }
    else if ("Registration" in rsp) {
        return {
            type: "registration",
            registration: {
                credential: credentialFromProfile(rsp["Registration"].profile),
            },
        };
    }
    else if ("BiAuthenticate" in rsp) {
        return {
            type: "biAuthenticate",
            biAuthenticate: {
                redirectURL: rsp["BiAuthenticate"].redirect_url,
                message: rsp["BiAuthenticate"].message,
            },
        };
    }
    else if ("BindCredential" in rsp) {
        return {
            type: "bindCredential",
            bindCredential: {
                credential: rsp["BindCredential"].credential,
                postBindRedirect: rsp["BindCredential"].post_binding_redirect_uri,
            },
        };
    }
    else {
        throw new Error("Unexpected error");
    }
}
function credentialV1FromCredential(coreCred) {
    let cred = {
        id: coreCred.id,
        localCreated: coreCred.local_created,
        localUpdated: coreCred.local_updated,
        apiBaseUrl: coreCred.api_base_url,
        tenantId: coreCred.tenant_id,
        realmId: coreCred.realm_id,
        identityId: coreCred.identity_id,
        keyHandle: coreCred.key_handle,
        state: coreCred.state,
        created: coreCred.created,
        updated: coreCred.updated,
        realm: {
            displayName: coreCred.realm.display_name,
        },
        identity: {
            displayName: coreCred.identity.display_name,
            username: coreCred.identity.username,
            emailAddress: "", // FIXME: email is missing from CoreIdentityV1
        },
        theme: {
            logoUrlLight: coreCred.theme.logo_url_light,
            logoUrlDark: coreCred.theme.logo_url_dark,
            supportUrl: coreCred.theme.support_url,
        },
    };
    return cred;
}
/** Helper method for constructing UrlType from string. */
function toUrlType(rawUrlType) {
    switch (rawUrlType) {
        case "Authenticate": {
            return { type: "Authenticate" };
        }
        case "Bind": {
            return { type: "Bind" };
        }
        default: {
            throw new Error("Unexpected Url Type");
        }
    }
}


/***/ }),

/***/ "./src/mock/mockData.ts":
/*!******************************!*\
  !*** ./src/mock/mockData.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "get": () => (/* binding */ get),
/* harmony export */   "resolve": () => (/* binding */ resolve)
/* harmony export */ });
function get(x) {
    if (x instanceof Function) {
        return x();
    }
    else {
        return x;
    }
}
function resolve(x) {
    if (x instanceof Function) {
        return Promise.resolve(x());
    }
    else {
        return Promise.resolve(x);
    }
}


/***/ }),

/***/ "./src/mock/mockDispatch.ts":
/*!**********************************!*\
  !*** ./src/mock/mockDispatch.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MockDispatch": () => (/* binding */ MockDispatch)
/* harmony export */ });
/* harmony import */ var _host__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../host */ "./src/host/index.ts");
/* harmony import */ var _mockData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mockData */ "./src/mock/mockData.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};


class MockDispatch {
    // FIXME: supply default config data
    constructor(config) {
        this.getAppInstanceId = () => __awaiter(this, void 0, void 0, function* () {
            return Promise.resolve("123");
        });
        this.getBrowserInfo = () => __awaiter(this, void 0, void 0, function* () {
            return {};
        });
        this.mock = config.mock ? config.mock.dispatch : {};
        this.host = (0,_host__WEBPACK_IMPORTED_MODULE_0__.createHost)(config);
    }
    bindCredentialUrl(url) {
        if (this.mock.bindCredential)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.bindCredential);
        return Promise.resolve({
            credential: {
                id: "123-456",
                localCreated: new Date().toISOString(),
                localUpdated: new Date().toISOString(),
                apiBaseUrl: "www.example.com",
                tenantId: "tenant-id",
                realmId: "realm-id",
                identityId: "identity-id",
                credentialId: "abc",
                keyHandle: "abc",
                state: "Active",
                created: new Date().toISOString(),
                updated: new Date().toISOString(),
                realm: {
                    name: "realm",
                    displayName: "My First Realm",
                },
                identity: {
                    displayName: "First User",
                    username: "FirstUser",
                    emailAddress: "",
                },
                theme: {
                    logoUrlLight: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                    logoUrlDark: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                    primaryColorLight: "#4673D3",
                    primaryColorDark: "#FFFFFF",
                    supportUrl: "https://beyondidentity.atlassian.net/wiki/spaces/CS/overview",
                },
            },
            postBindRedirect: "https://google.com",
        });
    }
    getUrlType(url) {
        return { type: "Authenticate" };
    }
    updateCredential(credentialId) {
        return Promise.resolve({
            id: "123-456",
            localCreated: new Date().toISOString(),
            localUpdated: new Date().toISOString(),
            apiBaseUrl: "www.example.com",
            tenantId: "tenant-id",
            realmId: "realm-id",
            identityId: "identity-id",
            credentialId: "abc",
            keyHandle: "abc",
            state: "Revoked",
            created: new Date().toISOString(),
            updated: new Date().toISOString(),
            realm: {
                name: "realm",
                displayName: "My First Realm",
            },
            identity: {
                displayName: "First User",
                username: "FirstUser",
                emailAddress: "",
            },
            theme: {
                logoUrlLight: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                logoUrlDark: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                primaryColorLight: "#4673D3",
                primaryColorDark: "#FFFFFF",
                supportUrl: "https://beyondidentity.atlassian.net/wiki/spaces/CS/overview",
            },
        });
    }
    migrateDatabase(allowedDomains) { }
    cancel() {
        if (this.mock.cancel)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.cancel);
        return Promise.resolve();
    }
    createPkce() {
        if (this.mock.createPkce)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.createPkce);
        let response = {
            codeVerifier: "",
            codeChallenge: {
                challenge: "123",
                method: "",
            },
        };
        return Promise.resolve(response);
    }
    createCredential(handle, name, imageUrl, loginUri, enrollUri) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.mock.createCredential)
                return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.createCredential);
            // return the profile.
            let profile = {
                state: "Active",
                created: new Date().toISOString(),
                handle: "abcde",
                keyHandle: "12345",
                name: "Carl Hungus",
                imageURL: "www.example.com",
                chain: ["qwerty", "asdfg"],
                rootFingerprint: "3",
            };
            return profile;
        });
    }
    deleteCredential(handle) {
        if (this.mock.deleteCredential)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.deleteCredential);
        return Promise.resolve();
    }
    deleteCredentialV1(id) {
        return Promise.resolve();
    }
    authenticate(url, trusted, onSelectCredential) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            const credentials = (_a = (yield (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.listCredentials))) !== null && _a !== void 0 ? _a : [
                {
                    id: "456-123",
                    localCreated: new Date().toISOString(),
                    localUpdated: new Date().toISOString(),
                    apiBaseUrl: "www.example.com",
                    tenantId: "tenant-id",
                    realmId: "realm-id",
                    identityId: "identity-id-1",
                    keyHandle: "abc",
                    state: "Active",
                    created: new Date().toISOString(),
                    updated: new Date().toISOString(),
                    realm: {
                        name: "realm",
                        displayName: "My First Realm",
                    },
                    identity: {
                        displayName: "First User",
                        username: "FirstUser",
                        emailAddress: "",
                    },
                    theme: {
                        logoUrlLight: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                        logoUrlDark: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                        primaryColorLight: "#4673D3",
                        primaryColorDark: "#FFFFFF",
                        supportUrl: "https://beyondidentity.atlassian.net/wiki/spaces/CS/overview",
                    },
                },
                {
                    id: "123-456",
                    localCreated: new Date().toISOString(),
                    localUpdated: new Date().toISOString(),
                    apiBaseUrl: "www.example.com",
                    tenantId: "tenant-id",
                    realmId: "realm-id",
                    identityId: "identity-id-2",
                    keyHandle: "def",
                    state: "Active",
                    created: new Date().toISOString(),
                    updated: new Date().toISOString(),
                    realm: {
                        name: "realm",
                        displayName: "My First Realm",
                    },
                    identity: {
                        displayName: "Second User",
                        username: "SecondUser",
                        emailAddress: "",
                    },
                    theme: {
                        logoUrlLight: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                        logoUrlDark: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                        primaryColorLight: "#4673D3",
                        primaryColorDark: "#FFFFFF",
                        supportUrl: "https://beyondidentity.atlassian.net/wiki/spaces/CS/overview",
                    },
                },
            ];
            const selectedCredentialId = yield (onSelectCredential
                ? onSelectCredential(credentials)
                : this.host.selectCredentialV1(credentials));
            if (this.mock.authenticate) {
                let response = yield (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.authenticate);
                if (response.type == "biAuthenticate")
                    return response.biAuthenticate;
                else
                    throw new Error("Invalid response type");
            }
            return Promise.resolve({
                redirectURL: "https://example.com/bi-authenticate-done",
                message: "ok",
            });
        });
    }
    authenticateConfidential(authURL, clientId, redirectURI, scope, PKCECodeChallenge, nonce) {
        if (this.mock.authenticateConfidential)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.authenticateConfidential);
        let response = {
            code: "lmnop",
        };
        return Promise.resolve(response);
    }
    authenticatePublic(authURL, tokenURL, clientId, redirectURI, nonce) {
        if (this.mock.authenticatePublic)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.authenticatePublic);
        let response = {
            accessToken: "123",
            idToken: "abc",
            tokenType: "bearer",
            expiresIn: 5,
        };
        return Promise.resolve(response);
    }
    export(handle) {
        if (this.mock.export)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.export);
        return Promise.resolve();
    }
    getCredentials() {
        if (this.mock.getCredentials)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.getCredentials);
        let response = {
            state: "Active",
            created: new Date().toISOString(),
            handle: "abcde",
            keyHandle: "12345",
            name: "Carl Hungus",
            imageURL: "www.example.com",
            chain: ["qwerty", "asdfg"],
            rootFingerprint: "3",
        };
        return Promise.resolve([response]);
    }
    listCredentials() {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            let response = {
                id: "abc",
                localCreated: new Date().toISOString(),
                localUpdated: new Date().toISOString(),
                apiBaseUrl: "www.example.com",
                tenantId: "tenant-id",
                realmId: "realm-id",
                identityId: "identity-id",
                keyHandle: "abc",
                state: "Active",
                created: new Date().toISOString(),
                updated: new Date().toISOString(),
                realm: {
                    displayName: "My First Realm",
                },
                identity: {
                    displayName: "First User",
                    username: "FirstUser",
                    emailAddress: "",
                },
                theme: {
                    logoUrlLight: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                    logoUrlDark: "https://app.rolling.byndid.run/static/img/logo.eada4aebc845fb4514b5.png",
                    supportUrl: "https://beyondidentity.atlassian.net/wiki/spaces/CS/overview",
                },
            };
            return ((_a = (yield (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.listCredentials))) !== null && _a !== void 0 ? _a : Promise.resolve([response]));
        });
    }
    getKeyType(keyHandle) {
        return Promise.resolve("subtle");
    }
    handleURL(url, trusted) {
        if (this.mock.handleURL)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.handleURL);
        return Promise.reject("Not sure what to return here...");
    }
    import(token) {
        if (this.mock.import)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.import);
        let response = {
            state: "Active",
            created: new Date().toISOString(),
            handle: "abcde",
            keyHandle: "12345",
            name: "Carl Hungus",
            imageURL: "www.example.com",
            chain: ["qwerty", "asdfg"],
            rootFingerprint: "3",
        };
        return Promise.resolve(response);
    }
    register(url, trusted) {
        if (this.mock.register)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.mock.register);
        let credential = {
            state: "Active",
            created: new Date().toISOString(),
            handle: "abcde",
            keyHandle: "12345",
            name: "Carl Hungus",
            imageURL: "www.example.com",
            chain: ["qwerty", "asdfg"],
            rootFingerprint: "3",
        };
        let response = {
            type: "registration",
            registration: {
                credential: credential,
            },
        };
        return Promise.resolve(response);
    }
}


/***/ }),

/***/ "./src/mock/mockHost.ts":
/*!******************************!*\
  !*** ./src/mock/mockHost.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MockHost": () => (/* binding */ MockHost)
/* harmony export */ });
/* harmony import */ var _mockData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mockData */ "./src/mock/mockData.ts");

class MockHost {
    constructor(config) {
        this.queryFeatureFlag = (string) => {
            return false;
        };
        this.mock = config.mock ? config.mock.host : {};
    }
    get events() {
        return this;
    }
    checkFeatureFlags(feature_flags) {
        if (this.mock.checkFeatureFlags)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.checkFeatureFlags);
        throw new Error("unimplemented");
    }
    getClientEnvironment() {
        return {
            cryptoSource: "Hal",
            keyStorageStrategy: "ForceSoftware",
        };
    }
    exportStarted(rendezvous_token) {
        if (this.mock.exportStarted)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.exportStarted);
    }
    exportTokenTimeout(rendezvous_token) {
        if (this.mock.exportTokenTimeout)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.exportTokenTimeout);
    }
    exportRequestReceived(requests) {
        if (this.mock.exportRequestReceived)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.exportRequestReceived);
    }
    getDeviceGatewayUrl() {
        if (this.mock.getDeviceGatewayUrl)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.getDeviceGatewayUrl);
        throw new Error("unimplemented");
    }
    getFilePath(path_type) {
        if (this.mock.getFilePath)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.getFilePath);
        throw new Error("unimplemented");
    }
    importStarted(token) {
        if (this.mock.importStarted)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.importStarted);
    }
    importManifestReceived(manifests) {
        if (this.mock.importManifestReceived)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.importManifestReceived);
    }
    importRequestsToSign(requests) {
        if (this.mock.importRequestsToSign)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.importRequestsToSign);
    }
    importReceivedSigned(signed) {
        if (this.mock.importReceivedSigned)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.importReceivedSigned);
    }
    ask(profile_handle) {
        if (this.mock.ask)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.ask);
        throw new Error("unimplemented");
    }
    authenticationPrompt(app_name, detail_list) {
        if (this.mock.authenticationPrompt)
            return (0,_mockData__WEBPACK_IMPORTED_MODULE_0__.get)(this.mock.authenticationPrompt);
        throw new Error("unimplemented");
    }
    log(msg) {
        console.log(msg);
    }
    selectCredentialV1(credentials) {
        if (this.onSelectCredentialV1) {
            return this.onSelectCredentialV1(credentials);
        }
        return Promise.resolve(credentials[0].id);
    }
}


/***/ }),

/***/ "./src/types/index.ts":
/*!****************************!*\
  !*** ./src/types/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PathType": () => (/* binding */ PathType)
/* harmony export */ });
var PathType;
(function (PathType) {
    PathType[PathType["osQuery"] = 0] = "osQuery";
})(PathType || (PathType = {}));


/***/ }),

/***/ "./src/util/error.ts":
/*!***************************!*\
  !*** ./src/util/error.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "makeError": () => (/* binding */ makeError)
/* harmony export */ });
function makeError(err) {
    if (typeof err === "string")
        return new Error(err);
    else if ("message" in err)
        return err;
    else
        return new Error(err);
}


/***/ }),

/***/ "./src/util/optimizely.ts":
/*!********************************!*\
  !*** ./src/util/optimizely.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Optimizely": () => (/* binding */ Optimizely)
/* harmony export */ });
/* harmony import */ var _optimizely_optimizely_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @optimizely/optimizely-sdk */ "./node_modules/@optimizely/optimizely-sdk/dist/optimizely.browser.min.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../env */ "./src/env.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};


class Optimizely {
    constructor(client) {
        this.client = client;
    }
    static init() {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            const client = _optimizely_optimizely_sdk__WEBPACK_IMPORTED_MODULE_0__.createInstance({
                sdkKey: _env__WEBPACK_IMPORTED_MODULE_1__.Environment.optimizelySdkKey,
            });
            const ready = yield client.onReady();
            if (!ready.success) {
                throw new Error((_a = ready.reason) !== null && _a !== void 0 ? _a : "Optimizely error");
            }
            return new Optimizely(client);
        });
    }
    queryFeatureFlag(flag, appInstanceId) {
        switch (flag) {
            case "crypto_provider_hal":
                return this.client.isFeatureEnabled(flag, appInstanceId);
            default:
                return false;
        }
    }
}
/**
 * Global opimizely instance.
 *
 * We read optimizely data in response to a synchronous host
 * callback, so we can't init optimizely & get the app instance
 * id at the point of the call (both async). So we init once at
 * startup and save the data globally.
 */
var optimizely = undefined;


/***/ }),

/***/ "./node_modules/uuid/index.js":
/*!************************************!*\
  !*** ./node_modules/uuid/index.js ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var v1 = __webpack_require__(/*! ./v1 */ "./node_modules/uuid/v1.js");
var v4 = __webpack_require__(/*! ./v4 */ "./node_modules/uuid/v4.js");

var uuid = v4;
uuid.v1 = v1;
uuid.v4 = v4;

module.exports = uuid;


/***/ }),

/***/ "./node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/
/***/ ((module) => {

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */
var byteToHex = [];
for (var i = 0; i < 256; ++i) {
  byteToHex[i] = (i + 0x100).toString(16).substr(1);
}

function bytesToUuid(buf, offset) {
  var i = offset || 0;
  var bth = byteToHex;
  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4
  return ([
    bth[buf[i++]], bth[buf[i++]],
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]],
    bth[buf[i++]], bth[buf[i++]],
    bth[buf[i++]], bth[buf[i++]]
  ]).join('');
}

module.exports = bytesToUuid;


/***/ }),

/***/ "./node_modules/uuid/lib/rng-browser.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************/
/***/ ((module) => {

// Unique ID creation requires a high quality random # generator.  In the
// browser this is a little complicated due to unknown quality of Math.random()
// and inconsistent support for the `crypto` API.  We do the best we can via
// feature-detection

// getRandomValues needs to be invoked in a context where "this" is a Crypto
// implementation. Also, find the complete implementation of crypto on IE11.
var getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||
                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));

if (getRandomValues) {
  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto
  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef

  module.exports = function whatwgRNG() {
    getRandomValues(rnds8);
    return rnds8;
  };
} else {
  // Math.random()-based (RNG)
  //
  // If all else fails, use Math.random().  It's fast, but is of unspecified
  // quality.
  var rnds = new Array(16);

  module.exports = function mathRNG() {
    for (var i = 0, r; i < 16; i++) {
      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;
      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;
    }

    return rnds;
  };
}


/***/ }),

/***/ "./node_modules/uuid/v1.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v1.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var rng = __webpack_require__(/*! ./lib/rng */ "./node_modules/uuid/lib/rng-browser.js");
var bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ "./node_modules/uuid/lib/bytesToUuid.js");

// **`v1()` - Generate time-based UUID**
//
// Inspired by https://github.com/LiosK/UUID.js
// and http://docs.python.org/library/uuid.html

var _nodeId;
var _clockseq;

// Previous uuid creation time
var _lastMSecs = 0;
var _lastNSecs = 0;

// See https://github.com/uuidjs/uuid for API details
function v1(options, buf, offset) {
  var i = buf && offset || 0;
  var b = buf || [];

  options = options || {};
  var node = options.node || _nodeId;
  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;

  // node and clockseq need to be initialized to random values if they're not
  // specified.  We do this lazily to minimize issues related to insufficient
  // system entropy.  See #189
  if (node == null || clockseq == null) {
    var seedBytes = rng();
    if (node == null) {
      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)
      node = _nodeId = [
        seedBytes[0] | 0x01,
        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]
      ];
    }
    if (clockseq == null) {
      // Per 4.2.2, randomize (14 bit) clockseq
      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;
    }
  }

  // UUID timestamps are 100 nano-second units since the Gregorian epoch,
  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so
  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'
  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.
  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();

  // Per 4.2.1.2, use count of uuid's generated during the current clock
  // cycle to simulate higher resolution clock
  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;

  // Time since last uuid creation (in msecs)
  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;

  // Per 4.2.1.2, Bump clockseq on clock regression
  if (dt < 0 && options.clockseq === undefined) {
    clockseq = clockseq + 1 & 0x3fff;
  }

  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new
  // time interval
  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {
    nsecs = 0;
  }

  // Per 4.2.1.2 Throw error if too many uuids are requested
  if (nsecs >= 10000) {
    throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');
  }

  _lastMSecs = msecs;
  _lastNSecs = nsecs;
  _clockseq = clockseq;

  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch
  msecs += 12219292800000;

  // `time_low`
  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;
  b[i++] = tl >>> 24 & 0xff;
  b[i++] = tl >>> 16 & 0xff;
  b[i++] = tl >>> 8 & 0xff;
  b[i++] = tl & 0xff;

  // `time_mid`
  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;
  b[i++] = tmh >>> 8 & 0xff;
  b[i++] = tmh & 0xff;

  // `time_high_and_version`
  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version
  b[i++] = tmh >>> 16 & 0xff;

  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)
  b[i++] = clockseq >>> 8 | 0x80;

  // `clock_seq_low`
  b[i++] = clockseq & 0xff;

  // `node`
  for (var n = 0; n < 6; ++n) {
    b[i + n] = node[n];
  }

  return buf ? buf : bytesToUuid(b);
}

module.exports = v1;


/***/ }),

/***/ "./node_modules/uuid/v4.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v4.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var rng = __webpack_require__(/*! ./lib/rng */ "./node_modules/uuid/lib/rng-browser.js");
var bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ "./node_modules/uuid/lib/bytesToUuid.js");

function v4(options, buf, offset) {
  var i = buf && offset || 0;

  if (typeof(options) == 'string') {
    buf = options === 'binary' ? new Array(16) : null;
    options = null;
  }
  options = options || {};

  var rnds = options.random || (options.rng || rng)();

  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
  rnds[6] = (rnds[6] & 0x0f) | 0x40;
  rnds[8] = (rnds[8] & 0x3f) | 0x80;

  // Copy bytes to buffer, if provided
  if (buf) {
    for (var ii = 0; ii < 16; ++ii) {
      buf[i + ii] = rnds[ii];
    }
  }

  return buf || bytesToUuid(rnds);
}

module.exports = v4;


/***/ }),

/***/ "./node_modules/kmc-ffi/kmc_bg.wasm":
/*!******************************************!*\
  !*** ./node_modules/kmc-ffi/kmc_bg.wasm ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "kmc_bg.f71242309ab2b7079ddd.wasm";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd options */
/******/ 	(() => {
/******/ 		__webpack_require__.amdO = {};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Configuration": () => (/* reexport safe */ _configuration__WEBPACK_IMPORTED_MODULE_0__.Configuration),
/* harmony export */   "Core": () => (/* reexport safe */ _core__WEBPACK_IMPORTED_MODULE_1__.Core),
/* harmony export */   "CoreBuilder": () => (/* reexport safe */ _core__WEBPACK_IMPORTED_MODULE_1__.CoreBuilder),
/* harmony export */   "PathType": () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_2__.PathType),
/* harmony export */   "Environment": () => (/* reexport safe */ _env__WEBPACK_IMPORTED_MODULE_3__.Environment)
/* harmony export */ });
/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configuration */ "./src/configuration.ts");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core */ "./src/core.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ "./src/types/index.ts");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./env */ "./src/env.ts");





})();

/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7Ozs7Ozs7Ozs7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MERBQTBEO0FBQzFEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNkRBQTZEO0FBQzdEO0FBQ0EsS0FBSztBQUNMLDZEQUE2RDtBQUM3RDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0EsS0FBSztBQUNMLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0EsS0FBSztBQUNMLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0EsS0FBSztBQUNMLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0EsS0FBSztBQUNMLDZEQUE2RDtBQUM3RCxvQkFBb0IscUJBQU07QUFDMUI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBLEtBQUs7QUFDTCwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBLEtBQUs7QUFDTCxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7O0FBSUEsWUFBWSxtQkFBbUI7O0FBRS9CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxJQUFJLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxaUNwQjtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixJQUFJO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsR0FBRztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUU7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxUUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYixLQUFLO0FBQ0w7O0FBRUE7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2IsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYixLQUFLO0FBQ0w7O0FBRUE7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYixLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLEtBQUs7QUFDTDs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2IsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYixLQUFLO0FBQ0w7O0FBRU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2IsS0FBSztBQUNMOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGFBQWE7QUFDaEY7QUFDQSxxREFBcUQsYUFBYTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGdHQUFnRztBQUNqSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxvRUFBb0UsOENBQThDLElBQUksaUNBQWlDO0FBQ3hQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0hBQXNILHdCQUFVO0FBQ2hJLEtBQUs7QUFDTDtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsYUFBYTtBQUNiLHlCQUF5QixRQUFRO0FBQ2pDO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsaUdBQWlHLFNBQVM7QUFDMUc7QUFDQTtBQUNBO0FBQ0EsNkxBQTZMLE9BQU87QUFDcE07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixTQUFTO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsY0FBYztBQUNkLDREQUE0RCxTQUFTO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxpQ0FBaUM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7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Q1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsU0FBUztBQUNULFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSwrQkFBK0I7QUFDMUcsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxnSEFBZ0gsaUJBQWlCLDZDQUE2QyxhQUFhO0FBQzNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1mQUFtZjtBQUM5Z0I7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsSUFBSTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLEdBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxHQUFHO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELHVCQUF1QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsc0JBQXNCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG1CQUFtQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx1QkFBdUI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGNBQWM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNO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V0NBQTtXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7O1dDTkE7Ozs7O1dDQUE7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JCZ0Q7QUFDTDtBQUNuQjtBQUVZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29yZXNkay93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstZGF0YWZpbGUtbWFuYWdlci9saWIvYmFja29mZkNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstZGF0YWZpbGUtbWFuYWdlci9saWIvYnJvd3NlckRhdGFmaWxlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL0BvcHRpbWl6ZWx5L2pzLXNkay1kYXRhZmlsZS1tYW5hZ2VyL2xpYi9icm93c2VyUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL0BvcHRpbWl6ZWx5L2pzLXNkay1kYXRhZmlsZS1tYW5hZ2VyL2xpYi9jb25maWcuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstZGF0YWZpbGUtbWFuYWdlci9saWIvZXZlbnRFbWl0dGVyLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMvQG9wdGltaXplbHkvanMtc2RrLWRhdGFmaWxlLW1hbmFnZXIvbGliL2h0dHBQb2xsaW5nRGF0YWZpbGVNYW5hZ2VyLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMvQG9wdGltaXplbHkvanMtc2RrLWRhdGFmaWxlLW1hbmFnZXIvbGliL2luZGV4LmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstZXZlbnQtcHJvY2Vzc29yL2xpYi9ldmVudERpc3BhdGNoZXIuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstZXZlbnQtcHJvY2Vzc29yL2xpYi9ldmVudFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL0BvcHRpbWl6ZWx5L2pzLXNkay1ldmVudC1wcm9jZXNzb3IvbGliL2V2ZW50UXVldWUuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstZXZlbnQtcHJvY2Vzc29yL2xpYi9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstZXZlbnQtcHJvY2Vzc29yL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL0BvcHRpbWl6ZWx5L2pzLXNkay1ldmVudC1wcm9jZXNzb3IvbGliL21hbmFnZWQuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstZXZlbnQtcHJvY2Vzc29yL2xpYi9wZW5kaW5nRXZlbnRzRGlzcGF0Y2hlci5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL0BvcHRpbWl6ZWx5L2pzLXNkay1ldmVudC1wcm9jZXNzb3IvbGliL3BlbmRpbmdFdmVudHNTdG9yZS5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL0BvcHRpbWl6ZWx5L2pzLXNkay1ldmVudC1wcm9jZXNzb3IvbGliL3JlcXVlc3RUcmFja2VyLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMvQG9wdGltaXplbHkvanMtc2RrLWV2ZW50LXByb2Nlc3Nvci9saWIvdjEvYnVpbGRFdmVudFYxLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMvQG9wdGltaXplbHkvanMtc2RrLWV2ZW50LXByb2Nlc3Nvci9saWIvdjEvdjFFdmVudFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL0BvcHRpbWl6ZWx5L2pzLXNkay1sb2dnaW5nL2xpYi9lcnJvckhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstbG9nZ2luZy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9qcy1zZGstbG9nZ2luZy9saWIvbG9nZ2VyLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMvQG9wdGltaXplbHkvanMtc2RrLWxvZ2dpbmcvbGliL21vZGVscy5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL0BvcHRpbWl6ZWx5L2pzLXNkay11dGlscy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9Ab3B0aW1pemVseS9vcHRpbWl6ZWx5LXNkay9kaXN0L29wdGltaXplbHkuYnJvd3Nlci5taW4uanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9rbWMtZmZpL2ttYy5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL2ttYy1mZmkvc25pcHBldHMvYXV0aGxpYi05ZTcxM2ExOGY0OTVkYjVmL3NyYy9zdG9yZS9jcmVkZW50aWFsL2RiL2luZGV4ZWRkYi9qcy90YXJnZXQvY3JlZHN0b3JlLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMva21jLWZmaS9zbmlwcGV0cy9jb21tb24tOTk1OGIyODZlMWFjZjkyOS9pbmxpbmUwLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMva21jLWZmaS9zbmlwcGV0cy9jcnlwdG8tNzQzOTA5NmQzNWQ2ZmMxZi9zcmMvZWNkc2Ffd2FzbS9qcy9jcnlwdG8uanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9rbWMtZmZpL3NuaXBwZXRzL2hhbC05ZWI0YjlmMGRmYjUxZjJlL3NyYy93YXNtL2xlZ2FjeS9qcy90YXJnZXQvaGFsLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMva21jLWZmaS9zbmlwcGV0cy9rbWMtanMtYTg0NzkxOTkxMDRjZmIwOS9zcmMvanMvZGlzdC9rbWMuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy9tdXJtdXJoYXNoL211cm11cmhhc2guanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy9jb25maWd1cmF0aW9uLnRzIiwid2VicGFjazovL2NvcmVzZGsvLi9zcmMvY29yZS50cyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vc3JjL2NvcmVEaXNwYXRjaC50cyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vc3JjL2Vudi50cyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vc3JjL2hvc3QvaG9zdC50cyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vc3JjL2hvc3QvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy9ob3N0L3dlYkhvc3QudHMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy9sb2cudHMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy9tZXNzYWdpbmcvY29yZU1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy9tZXNzYWdpbmcvaG9zdE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy9tZXNzYWdpbmcvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy9tZXNzYWdpbmcvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy9tb2NrL21vY2tEYXRhLnRzIiwid2VicGFjazovL2NvcmVzZGsvLi9zcmMvbW9jay9tb2NrRGlzcGF0Y2gudHMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy9tb2NrL21vY2tIb3N0LnRzIiwid2VicGFjazovL2NvcmVzZGsvLi9zcmMvdHlwZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL3NyYy91dGlsL2Vycm9yLnRzIiwid2VicGFjazovL2NvcmVzZGsvLi9zcmMvdXRpbC9vcHRpbWl6ZWx5LnRzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMvdXVpZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvcm5nLWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vY29yZXNkay8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2NvcmVzZGsvLi9ub2RlX21vZHVsZXMvdXVpZC92NC5qcyIsIndlYnBhY2s6Ly9jb3Jlc2RrL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NvcmVzZGsvd2VicGFjay9ydW50aW1lL2FtZCBvcHRpb25zIiwid2VicGFjazovL2NvcmVzZGsvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NvcmVzZGsvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9jb3Jlc2RrL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY29yZXNkay93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NvcmVzZGsvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vY29yZXNkay93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9jb3Jlc2RrLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImNvcmVzZGtcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiY29yZXNka1wiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOS0yMDIwLCBPcHRpbWl6ZWx5XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb25maWdfMSA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbmZ1bmN0aW9uIHJhbmRvbU1pbGxpc2Vjb25kcygpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCk7XG59XG52YXIgQmFja29mZkNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFja29mZkNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHRoaXMuZXJyb3JDb3VudCA9IDA7XG4gICAgfVxuICAgIEJhY2tvZmZDb250cm9sbGVyLnByb3RvdHlwZS5nZXREZWxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXJyb3JDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VXYWl0U2Vjb25kcyA9IGNvbmZpZ18xLkJBQ0tPRkZfQkFTRV9XQUlUX1NFQ09ORFNfQllfRVJST1JfQ09VTlRbTWF0aC5taW4oY29uZmlnXzEuQkFDS09GRl9CQVNFX1dBSVRfU0VDT05EU19CWV9FUlJPUl9DT1VOVC5sZW5ndGggLSAxLCB0aGlzLmVycm9yQ291bnQpXTtcbiAgICAgICAgcmV0dXJuIGJhc2VXYWl0U2Vjb25kcyAqIDEwMDAgKyByYW5kb21NaWxsaXNlY29uZHMoKTtcbiAgICB9O1xuICAgIEJhY2tvZmZDb250cm9sbGVyLnByb3RvdHlwZS5jb3VudEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5lcnJvckNvdW50IDwgY29uZmlnXzEuQkFDS09GRl9CQVNFX1dBSVRfU0VDT05EU19CWV9FUlJPUl9DT1VOVC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yQ291bnQrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFja29mZkNvbnRyb2xsZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVycm9yQ291bnQgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEJhY2tvZmZDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJhY2tvZmZDb250cm9sbGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDE5LTIwMjAsIE9wdGltaXplbHlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYnJvd3NlclJlcXVlc3RfMSA9IHJlcXVpcmUoXCIuL2Jyb3dzZXJSZXF1ZXN0XCIpO1xudmFyIGh0dHBQb2xsaW5nRGF0YWZpbGVNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vaHR0cFBvbGxpbmdEYXRhZmlsZU1hbmFnZXJcIikpO1xudmFyIEJyb3dzZXJEYXRhZmlsZU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJyb3dzZXJEYXRhZmlsZU1hbmFnZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnJvd3NlckRhdGFmaWxlTWFuYWdlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBCcm93c2VyRGF0YWZpbGVNYW5hZ2VyLnByb3RvdHlwZS5tYWtlR2V0UmVxdWVzdCA9IGZ1bmN0aW9uIChyZXFVcmwsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIGJyb3dzZXJSZXF1ZXN0XzEubWFrZUdldFJlcXVlc3QocmVxVXJsLCBoZWFkZXJzKTtcbiAgICB9O1xuICAgIEJyb3dzZXJEYXRhZmlsZU1hbmFnZXIucHJvdG90eXBlLmdldENvbmZpZ0RlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXV0b1VwZGF0ZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gQnJvd3NlckRhdGFmaWxlTWFuYWdlcjtcbn0oaHR0cFBvbGxpbmdEYXRhZmlsZU1hbmFnZXJfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCcm93c2VyRGF0YWZpbGVNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDE5LTIwMjAsIE9wdGltaXplbHlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZShcIi4vY29uZmlnXCIpO1xudmFyIGpzX3Nka19sb2dnaW5nXzEgPSByZXF1aXJlKFwiQG9wdGltaXplbHkvanMtc2RrLWxvZ2dpbmdcIik7XG52YXIgbG9nZ2VyID0ganNfc2RrX2xvZ2dpbmdfMS5nZXRMb2dnZXIoJ0RhdGFmaWxlTWFuYWdlcicpO1xudmFyIEdFVF9NRVRIT0QgPSAnR0VUJztcbnZhciBSRUFEWV9TVEFURV9ET05FID0gNDtcbmZ1bmN0aW9uIHBhcnNlSGVhZGVyc0Zyb21YaHIocmVxKSB7XG4gICAgdmFyIGFsbEhlYWRlcnNTdHJpbmcgPSByZXEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7XG4gICAgaWYgKGFsbEhlYWRlcnNTdHJpbmcgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICB2YXIgaGVhZGVyTGluZXMgPSBhbGxIZWFkZXJzU3RyaW5nLnNwbGl0KCdcXHJcXG4nKTtcbiAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgIGhlYWRlckxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGhlYWRlckxpbmUpIHtcbiAgICAgICAgdmFyIHNlcGFyYXRvckluZGV4ID0gaGVhZGVyTGluZS5pbmRleE9mKCc6ICcpO1xuICAgICAgICBpZiAoc2VwYXJhdG9ySW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdmFyIGhlYWRlck5hbWUgPSBoZWFkZXJMaW5lLnNsaWNlKDAsIHNlcGFyYXRvckluZGV4KTtcbiAgICAgICAgICAgIHZhciBoZWFkZXJWYWx1ZSA9IGhlYWRlckxpbmUuc2xpY2Uoc2VwYXJhdG9ySW5kZXggKyAyKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXJWYWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyc1toZWFkZXJOYW1lXSA9IGhlYWRlclZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGhlYWRlcnM7XG59XG5mdW5jdGlvbiBzZXRIZWFkZXJzSW5YaHIoaGVhZGVycywgcmVxKSB7XG4gICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyTmFtZSkge1xuICAgICAgICB2YXIgaGVhZGVyID0gaGVhZGVyc1toZWFkZXJOYW1lXTtcbiAgICAgICAgcmVxLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyTmFtZSwgaGVhZGVyKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG1ha2VHZXRSZXF1ZXN0KHJlcVVybCwgaGVhZGVycykge1xuICAgIHZhciByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB2YXIgcmVzcG9uc2VQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByZXEub3BlbihHRVRfTUVUSE9ELCByZXFVcmwsIHRydWUpO1xuICAgICAgICBzZXRIZWFkZXJzSW5YaHIoaGVhZGVycywgcmVxKTtcbiAgICAgICAgcmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZXEucmVhZHlTdGF0ZSA9PT0gUkVBRFlfU1RBVEVfRE9ORSkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVxLnN0YXR1cztcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IGVycm9yJykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzXzEgPSBwYXJzZUhlYWRlcnNGcm9tWGhyKHJlcSk7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3AgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlcS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHJlcS5yZXNwb25zZVRleHQsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNfMSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJlcS50aW1lb3V0ID0gY29uZmlnXzEuUkVRVUVTVF9USU1FT1VUX01TO1xuICAgICAgICByZXEub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdSZXF1ZXN0IHRpbWVkIG91dCcpO1xuICAgICAgICB9O1xuICAgICAgICByZXEuc2VuZCgpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlUHJvbWlzZTogcmVzcG9uc2VQcm9taXNlLFxuICAgICAgICBhYm9ydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVxLmFib3J0KCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMubWFrZUdldFJlcXVlc3QgPSBtYWtlR2V0UmVxdWVzdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOS0yMDIwLCBPcHRpbWl6ZWx5XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuREVGQVVMVF9VUERBVEVfSU5URVJWQUwgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnV0ZXNcbmV4cG9ydHMuTUlOX1VQREFURV9JTlRFUlZBTCA9IDEwMDA7XG5leHBvcnRzLkRFRkFVTFRfVVJMX1RFTVBMQVRFID0gXCJodHRwczovL2Nkbi5vcHRpbWl6ZWx5LmNvbS9kYXRhZmlsZXMvJXMuanNvblwiO1xuZXhwb3J0cy5ERUZBVUxUX0FVVEhFTlRJQ0FURURfVVJMX1RFTVBMQVRFID0gXCJodHRwczovL2NvbmZpZy5vcHRpbWl6ZWx5LmNvbS9kYXRhZmlsZXMvYXV0aC8lcy5qc29uXCI7XG5leHBvcnRzLkJBQ0tPRkZfQkFTRV9XQUlUX1NFQ09ORFNfQllfRVJST1JfQ09VTlQgPSBbMCwgOCwgMTYsIDMyLCA2NCwgMTI4LCAyNTYsIDUxMl07XG5leHBvcnRzLlJFUVVFU1RfVElNRU9VVF9NUyA9IDYwICogMTAwMDsgLy8gMSBtaW51dGVcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOS0yMDIwLCBPcHRpbWl6ZWx5XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgICAgICB0aGlzLmxpc3RlbmVySWQgPSAxO1xuICAgIH1cbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRMaXN0ZW5lcklkID0gU3RyaW5nKHRoaXMubGlzdGVuZXJJZCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJJZCsrO1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdW2N1cnJlbnRMaXN0ZW5lcklkXSA9IGxpc3RlbmVyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdW2N1cnJlbnRMaXN0ZW5lcklkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGFyZykge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMobGlzdGVuZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcklkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2xpc3RlbmVySWRdO1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0ge307XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjtcbi8vIFRPRE86IENyZWF0ZSBhIHR5cGVkIGV2ZW50IGVtaXR0ZXIgZm9yIHVzZSBpbiBUUyBvbmx5IChub3QgSlMpXG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTktMjAyMCwgT3B0aW1pemVseVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGpzX3Nka19sb2dnaW5nXzEgPSByZXF1aXJlKFwiQG9wdGltaXplbHkvanMtc2RrLWxvZ2dpbmdcIik7XG52YXIganNfc2RrX3V0aWxzXzEgPSByZXF1aXJlKFwiQG9wdGltaXplbHkvanMtc2RrLXV0aWxzXCIpO1xudmFyIGV2ZW50RW1pdHRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2V2ZW50RW1pdHRlclwiKSk7XG52YXIgY29uZmlnXzEgPSByZXF1aXJlKFwiLi9jb25maWdcIik7XG52YXIgYmFja29mZkNvbnRyb2xsZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9iYWNrb2ZmQ29udHJvbGxlclwiKSk7XG52YXIgbG9nZ2VyID0ganNfc2RrX2xvZ2dpbmdfMS5nZXRMb2dnZXIoJ0RhdGFmaWxlTWFuYWdlcicpO1xudmFyIFVQREFURV9FVlQgPSAndXBkYXRlJztcbmZ1bmN0aW9uIGlzVmFsaWRVcGRhdGVJbnRlcnZhbCh1cGRhdGVJbnRlcnZhbCkge1xuICAgIHJldHVybiB1cGRhdGVJbnRlcnZhbCA+PSBjb25maWdfMS5NSU5fVVBEQVRFX0lOVEVSVkFMO1xufVxuZnVuY3Rpb24gaXNTdWNjZXNzU3RhdHVzQ29kZShzdGF0dXNDb2RlKSB7XG4gICAgcmV0dXJuIHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPCA0MDA7XG59XG52YXIgbm9PcEtleVZhbHVlQ2FjaGUgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9LFxuICAgIGNvbnRhaW5zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9LFxufTtcbnZhciBIdHRwUG9sbGluZ0RhdGFmaWxlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIdHRwUG9sbGluZ0RhdGFmaWxlTWFuYWdlcihjb25maWcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbmZpZ1dpdGhEZWZhdWx0c0FwcGxpZWQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5nZXRDb25maWdEZWZhdWx0cygpKSwgY29uZmlnKTtcbiAgICAgICAgdmFyIGRhdGFmaWxlID0gY29uZmlnV2l0aERlZmF1bHRzQXBwbGllZC5kYXRhZmlsZSwgX2EgPSBjb25maWdXaXRoRGVmYXVsdHNBcHBsaWVkLmF1dG9VcGRhdGUsIGF1dG9VcGRhdGUgPSBfYSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYSwgc2RrS2V5ID0gY29uZmlnV2l0aERlZmF1bHRzQXBwbGllZC5zZGtLZXksIF9iID0gY29uZmlnV2l0aERlZmF1bHRzQXBwbGllZC51cGRhdGVJbnRlcnZhbCwgdXBkYXRlSW50ZXJ2YWwgPSBfYiA9PT0gdm9pZCAwID8gY29uZmlnXzEuREVGQVVMVF9VUERBVEVfSU5URVJWQUwgOiBfYiwgX2MgPSBjb25maWdXaXRoRGVmYXVsdHNBcHBsaWVkLnVybFRlbXBsYXRlLCB1cmxUZW1wbGF0ZSA9IF9jID09PSB2b2lkIDAgPyBjb25maWdfMS5ERUZBVUxUX1VSTF9URU1QTEFURSA6IF9jLCBfZCA9IGNvbmZpZ1dpdGhEZWZhdWx0c0FwcGxpZWQuY2FjaGUsIGNhY2hlID0gX2QgPT09IHZvaWQgMCA/IG5vT3BLZXlWYWx1ZUNhY2hlIDogX2Q7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBjYWNoZTtcbiAgICAgICAgdGhpcy5jYWNoZUtleSA9ICdvcHQtZGF0YWZpbGUtJyArIHNka0tleTtcbiAgICAgICAgdGhpcy5pc1JlYWR5UHJvbWlzZVNldHRsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWFkeVByb21pc2VSZXNvbHZlciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgdGhpcy5yZWFkeVByb21pc2VSZWplY3RlciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgdGhpcy5yZWFkeVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBfdGhpcy5yZWFkeVByb21pc2VSZXNvbHZlciA9IHJlc29sdmU7XG4gICAgICAgICAgICBfdGhpcy5yZWFkeVByb21pc2VSZWplY3RlciA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkYXRhZmlsZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0YWZpbGUgPSBkYXRhZmlsZTtcbiAgICAgICAgICAgIGlmICghc2RrS2V5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlUmVhZHlQcm9taXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRhZmlsZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGF0YWZpbGVVcmwgPSBqc19zZGtfdXRpbHNfMS5zcHJpbnRmKHVybFRlbXBsYXRlLCBzZGtLZXkpO1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgZXZlbnRFbWl0dGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmF1dG9VcGRhdGUgPSBhdXRvVXBkYXRlO1xuICAgICAgICBpZiAoaXNWYWxpZFVwZGF0ZUludGVydmFsKHVwZGF0ZUludGVydmFsKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IHVwZGF0ZUludGVydmFsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0ludmFsaWQgdXBkYXRlSW50ZXJ2YWwgJXMsIGRlZmF1bHRpbmcgdG8gJXMnLCB1cGRhdGVJbnRlcnZhbCwgY29uZmlnXzEuREVGQVVMVF9VUERBVEVfSU5URVJWQUwpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IGNvbmZpZ18xLkRFRkFVTFRfVVBEQVRFX0lOVEVSVkFMO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYWNrb2ZmQ29udHJvbGxlciA9IG5ldyBiYWNrb2ZmQ29udHJvbGxlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zeW5jT25DdXJyZW50UmVxdWVzdENvbXBsZXRlID0gZmFsc2U7XG4gICAgfVxuICAgIEh0dHBQb2xsaW5nRGF0YWZpbGVNYW5hZ2VyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREYXRhZmlsZTtcbiAgICB9O1xuICAgIEh0dHBQb2xsaW5nRGF0YWZpbGVNYW5hZ2VyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RhcnRlZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdEYXRhZmlsZSBtYW5hZ2VyIHN0YXJ0ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuaXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZkNvbnRyb2xsZXIucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0YWZpbGVGcm9tQ2FjaGVJZkF2YWlsYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5zeW5jRGF0YWZpbGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSHR0cFBvbGxpbmdEYXRhZmlsZU1hbmFnZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnRGF0YWZpbGUgbWFuYWdlciBzdG9wcGVkJyk7XG4gICAgICAgIHRoaXMuaXNTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jdXJyZW50VGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICBIdHRwUG9sbGluZ0RhdGFmaWxlTWFuYWdlci5wcm90b3R5cGUub25SZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZHlQcm9taXNlO1xuICAgIH07XG4gICAgSHR0cFBvbGxpbmdEYXRhZmlsZU1hbmFnZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdHRlci5vbihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIEh0dHBQb2xsaW5nRGF0YWZpbGVNYW5hZ2VyLnByb3RvdHlwZS5vblJlcXVlc3RSZWplY3RlZCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFja29mZkNvbnRyb2xsZXIuY291bnRFcnJvcigpO1xuICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGF0YWZpbGU6ICVzJywgZXJyLm1lc3NhZ2UsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGVyciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGF0YWZpbGU6ICVzJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGF0YWZpbGUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSHR0cFBvbGxpbmdEYXRhZmlsZU1hbmFnZXIucHJvdG90eXBlLm9uUmVxdWVzdFJlc29sdmVkID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09ICd1bmRlZmluZWQnICYmIGlzU3VjY2Vzc1N0YXR1c0NvZGUocmVzcG9uc2Uuc3RhdHVzQ29kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZkNvbnRyb2xsZXIucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZkNvbnRyb2xsZXIuY291bnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJ5U2F2aW5nTGFzdE1vZGlmaWVkKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICB2YXIgZGF0YWZpbGUgPSB0aGlzLmdldE5leHREYXRhZmlsZUZyb21SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGlmIChkYXRhZmlsZSAhPT0gJycpIHtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdVcGRhdGluZyBkYXRhZmlsZSBmcm9tIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRhZmlsZSA9IGRhdGFmaWxlO1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5zZXQodGhpcy5jYWNoZUtleSwgZGF0YWZpbGUpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUmVhZHlQcm9taXNlU2V0dGxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZVJlYWR5UHJvbWlzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFmaWxlVXBkYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhZmlsZTogZGF0YWZpbGUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdChVUERBVEVfRVZULCBkYXRhZmlsZVVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEh0dHBQb2xsaW5nRGF0YWZpbGVNYW5hZ2VyLnByb3RvdHlwZS5vblJlcXVlc3RDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFJlcXVlc3QgPSBudWxsO1xuICAgICAgICBpZiAoIXRoaXMuaXNSZWFkeVByb21pc2VTZXR0bGVkICYmICF0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIC8vIFdlIHdpbGwgbmV2ZXIgcmVzb2x2ZSByZWFkeSwgc28gcmVqZWN0IGl0XG4gICAgICAgICAgICB0aGlzLnJlamVjdFJlYWR5UHJvbWlzZShuZXcgRXJyb3IoJ0ZhaWxlZCB0byBiZWNvbWUgcmVhZHknKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSAmJiB0aGlzLnN5bmNPbkN1cnJlbnRSZXF1ZXN0Q29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3luY0RhdGFmaWxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zeW5jT25DdXJyZW50UmVxdWVzdENvbXBsZXRlID0gZmFsc2U7XG4gICAgfTtcbiAgICBIdHRwUG9sbGluZ0RhdGFmaWxlTWFuYWdlci5wcm90b3R5cGUuc3luY0RhdGFmaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5sYXN0UmVzcG9uc2VMYXN0TW9kaWZpZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ2lmLW1vZGlmaWVkLXNpbmNlJ10gPSB0aGlzLmxhc3RSZXNwb25zZUxhc3RNb2RpZmllZDtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZGVidWcoJ01ha2luZyBkYXRhZmlsZSByZXF1ZXN0IHRvIHVybCAlcyB3aXRoIGhlYWRlcnM6ICVzJywgdGhpcy5kYXRhZmlsZVVybCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaGVhZGVycyk7IH0pO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZXF1ZXN0ID0gdGhpcy5tYWtlR2V0UmVxdWVzdCh0aGlzLmRhdGFmaWxlVXJsLCBoZWFkZXJzKTtcbiAgICAgICAgdmFyIG9uUmVxdWVzdENvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMub25SZXF1ZXN0Q29tcGxldGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uUmVxdWVzdFJlc29sdmVkID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpcy5vblJlcXVlc3RSZXNvbHZlZChyZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvblJlcXVlc3RSZWplY3RlZCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIF90aGlzLm9uUmVxdWVzdFJlamVjdGVkKGVycik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3VycmVudFJlcXVlc3QucmVzcG9uc2VQcm9taXNlXG4gICAgICAgICAgICAudGhlbihvblJlcXVlc3RSZXNvbHZlZCwgb25SZXF1ZXN0UmVqZWN0ZWQpXG4gICAgICAgICAgICAudGhlbihvblJlcXVlc3RDb21wbGV0ZSwgb25SZXF1ZXN0Q29tcGxldGUpO1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlTmV4dFVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIdHRwUG9sbGluZ0RhdGFmaWxlTWFuYWdlci5wcm90b3R5cGUucmVzb2x2ZVJlYWR5UHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZWFkeVByb21pc2VSZXNvbHZlcigpO1xuICAgICAgICB0aGlzLmlzUmVhZHlQcm9taXNlU2V0dGxlZCA9IHRydWU7XG4gICAgfTtcbiAgICBIdHRwUG9sbGluZ0RhdGFmaWxlTWFuYWdlci5wcm90b3R5cGUucmVqZWN0UmVhZHlQcm9taXNlID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLnJlYWR5UHJvbWlzZVJlamVjdGVyKGVycik7XG4gICAgICAgIHRoaXMuaXNSZWFkeVByb21pc2VTZXR0bGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIEh0dHBQb2xsaW5nRGF0YWZpbGVNYW5hZ2VyLnByb3RvdHlwZS5zY2hlZHVsZU5leHRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjdXJyZW50QmFja29mZkRlbGF5ID0gdGhpcy5iYWNrb2ZmQ29udHJvbGxlci5nZXREZWxheSgpO1xuICAgICAgICB2YXIgbmV4dFVwZGF0ZURlbGF5ID0gTWF0aC5tYXgoY3VycmVudEJhY2tvZmZEZWxheSwgdGhpcy51cGRhdGVJbnRlcnZhbCk7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnU2NoZWR1bGluZyBzeW5jIGluICVzIG1zJywgbmV4dFVwZGF0ZURlbGF5KTtcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3luY09uQ3VycmVudFJlcXVlc3RDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRGF0YWZpbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgbmV4dFVwZGF0ZURlbGF5KTtcbiAgICB9O1xuICAgIEh0dHBQb2xsaW5nRGF0YWZpbGVNYW5hZ2VyLnByb3RvdHlwZS5nZXROZXh0RGF0YWZpbGVGcm9tUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdSZXNwb25zZSBzdGF0dXMgY29kZTogJXMnLCByZXNwb25zZS5zdGF0dXNDb2RlKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5zdGF0dXNDb2RlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAzMDQpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdWNjZXNzU3RhdHVzQ29kZShyZXNwb25zZS5zdGF0dXNDb2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH07XG4gICAgSHR0cFBvbGxpbmdEYXRhZmlsZU1hbmFnZXIucHJvdG90eXBlLnRyeVNhdmluZ0xhc3RNb2RpZmllZCA9IGZ1bmN0aW9uIChoZWFkZXJzKSB7XG4gICAgICAgIHZhciBsYXN0TW9kaWZpZWRIZWFkZXIgPSBoZWFkZXJzWydsYXN0LW1vZGlmaWVkJ10gfHwgaGVhZGVyc1snTGFzdC1Nb2RpZmllZCddO1xuICAgICAgICBpZiAodHlwZW9mIGxhc3RNb2RpZmllZEhlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFJlc3BvbnNlTGFzdE1vZGlmaWVkID0gbGFzdE1vZGlmaWVkSGVhZGVyO1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdTYXZlZCBsYXN0IG1vZGlmaWVkIGhlYWRlciB2YWx1ZSBmcm9tIHJlc3BvbnNlOiAlcycsIHRoaXMubGFzdFJlc3BvbnNlTGFzdE1vZGlmaWVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSHR0cFBvbGxpbmdEYXRhZmlsZU1hbmFnZXIucHJvdG90eXBlLnNldERhdGFmaWxlRnJvbUNhY2hlSWZBdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2FjaGUuZ2V0KHRoaXMuY2FjaGVLZXkpLnRoZW4oZnVuY3Rpb24gKGRhdGFmaWxlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNTdGFydGVkICYmICFfdGhpcy5pc1JlYWR5UHJvbWlzZVNldHRsZWQgJiYgZGF0YWZpbGUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdVc2luZyBkYXRhZmlsZSBmcm9tIGNhY2hlJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudERhdGFmaWxlID0gZGF0YWZpbGU7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzb2x2ZVJlYWR5UHJvbWlzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBIdHRwUG9sbGluZ0RhdGFmaWxlTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBIdHRwUG9sbGluZ0RhdGFmaWxlTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOS0yMDIwLCBPcHRpbWl6ZWx5XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBicm93c2VyRGF0YWZpbGVNYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi9icm93c2VyRGF0YWZpbGVNYW5hZ2VyXCIpO1xuZXhwb3J0cy5IdHRwUG9sbGluZ0RhdGFmaWxlTWFuYWdlciA9IGJyb3dzZXJEYXRhZmlsZU1hbmFnZXJfMS5kZWZhdWx0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2VuZEV2ZW50Tm90aWZpY2F0aW9uID0gZXhwb3J0cy5nZXRRdWV1ZSA9IGV4cG9ydHMudmFsaWRhdGVBbmRHZXRCYXRjaFNpemUgPSBleHBvcnRzLnZhbGlkYXRlQW5kR2V0Rmx1c2hJbnRlcnZhbCA9IGV4cG9ydHMuREVGQVVMVF9CQVRDSF9TSVpFID0gZXhwb3J0cy5ERUZBVUxUX0ZMVVNIX0lOVEVSVkFMID0gdm9pZCAwO1xudmFyIGV2ZW50UXVldWVfMSA9IHJlcXVpcmUoXCIuL2V2ZW50UXVldWVcIik7XG52YXIganNfc2RrX2xvZ2dpbmdfMSA9IHJlcXVpcmUoXCJAb3B0aW1pemVseS9qcy1zZGstbG9nZ2luZ1wiKTtcbnZhciBqc19zZGtfdXRpbHNfMSA9IHJlcXVpcmUoXCJAb3B0aW1pemVseS9qcy1zZGstdXRpbHNcIik7XG5leHBvcnRzLkRFRkFVTFRfRkxVU0hfSU5URVJWQUwgPSAzMDAwMDsgLy8gVW5pdCBpcyBtcyAtIGRlZmF1bHQgZmx1c2ggaW50ZXJ2YWwgaXMgMzBzXG5leHBvcnRzLkRFRkFVTFRfQkFUQ0hfU0laRSA9IDEwO1xudmFyIGxvZ2dlciA9IGpzX3Nka19sb2dnaW5nXzEuZ2V0TG9nZ2VyKCdFdmVudFByb2Nlc3NvcicpO1xuZnVuY3Rpb24gdmFsaWRhdGVBbmRHZXRGbHVzaEludGVydmFsKGZsdXNoSW50ZXJ2YWwpIHtcbiAgICBpZiAoZmx1c2hJbnRlcnZhbCA8PSAwKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiSW52YWxpZCBmbHVzaEludGVydmFsIFwiICsgZmx1c2hJbnRlcnZhbCArIFwiLCBkZWZhdWx0aW5nIHRvIFwiICsgZXhwb3J0cy5ERUZBVUxUX0ZMVVNIX0lOVEVSVkFMKTtcbiAgICAgICAgZmx1c2hJbnRlcnZhbCA9IGV4cG9ydHMuREVGQVVMVF9GTFVTSF9JTlRFUlZBTDtcbiAgICB9XG4gICAgcmV0dXJuIGZsdXNoSW50ZXJ2YWw7XG59XG5leHBvcnRzLnZhbGlkYXRlQW5kR2V0Rmx1c2hJbnRlcnZhbCA9IHZhbGlkYXRlQW5kR2V0Rmx1c2hJbnRlcnZhbDtcbmZ1bmN0aW9uIHZhbGlkYXRlQW5kR2V0QmF0Y2hTaXplKGJhdGNoU2l6ZSkge1xuICAgIGJhdGNoU2l6ZSA9IE1hdGguZmxvb3IoYmF0Y2hTaXplKTtcbiAgICBpZiAoYmF0Y2hTaXplIDwgMSkge1xuICAgICAgICBsb2dnZXIud2FybihcIkludmFsaWQgYmF0Y2hTaXplIFwiICsgYmF0Y2hTaXplICsgXCIsIGRlZmF1bHRpbmcgdG8gXCIgKyBleHBvcnRzLkRFRkFVTFRfQkFUQ0hfU0laRSk7XG4gICAgICAgIGJhdGNoU2l6ZSA9IGV4cG9ydHMuREVGQVVMVF9CQVRDSF9TSVpFO1xuICAgIH1cbiAgICBiYXRjaFNpemUgPSBNYXRoLm1heCgxLCBiYXRjaFNpemUpO1xuICAgIHJldHVybiBiYXRjaFNpemU7XG59XG5leHBvcnRzLnZhbGlkYXRlQW5kR2V0QmF0Y2hTaXplID0gdmFsaWRhdGVBbmRHZXRCYXRjaFNpemU7XG5mdW5jdGlvbiBnZXRRdWV1ZShiYXRjaFNpemUsIGZsdXNoSW50ZXJ2YWwsIHNpbmssIGJhdGNoQ29tcGFyYXRvcikge1xuICAgIHZhciBxdWV1ZTtcbiAgICBpZiAoYmF0Y2hTaXplID4gMSkge1xuICAgICAgICBxdWV1ZSA9IG5ldyBldmVudFF1ZXVlXzEuRGVmYXVsdEV2ZW50UXVldWUoe1xuICAgICAgICAgICAgZmx1c2hJbnRlcnZhbDogZmx1c2hJbnRlcnZhbCxcbiAgICAgICAgICAgIG1heFF1ZXVlU2l6ZTogYmF0Y2hTaXplLFxuICAgICAgICAgICAgc2luazogc2luayxcbiAgICAgICAgICAgIGJhdGNoQ29tcGFyYXRvcjogYmF0Y2hDb21wYXJhdG9yLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHF1ZXVlID0gbmV3IGV2ZW50UXVldWVfMS5TaW5nbGVFdmVudFF1ZXVlKHsgc2luazogc2luayB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXVlO1xufVxuZXhwb3J0cy5nZXRRdWV1ZSA9IGdldFF1ZXVlO1xuZnVuY3Rpb24gc2VuZEV2ZW50Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbkNlbnRlciwgZXZlbnQpIHtcbiAgICBpZiAobm90aWZpY2F0aW9uQ2VudGVyKSB7XG4gICAgICAgIG5vdGlmaWNhdGlvbkNlbnRlci5zZW5kTm90aWZpY2F0aW9ucyhqc19zZGtfdXRpbHNfMS5OT1RJRklDQVRJT05fVFlQRVMuTE9HX0VWRU5ULCBldmVudCk7XG4gICAgfVxufVxuZXhwb3J0cy5zZW5kRXZlbnROb3RpZmljYXRpb24gPSBzZW5kRXZlbnROb3RpZmljYXRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTksIE9wdGltaXplbHlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EZWZhdWx0RXZlbnRRdWV1ZSA9IGV4cG9ydHMuU2luZ2xlRXZlbnRRdWV1ZSA9IHZvaWQgMDtcbnZhciBqc19zZGtfbG9nZ2luZ18xID0gcmVxdWlyZShcIkBvcHRpbWl6ZWx5L2pzLXNkay1sb2dnaW5nXCIpO1xudmFyIGxvZ2dlciA9IGpzX3Nka19sb2dnaW5nXzEuZ2V0TG9nZ2VyKCdFdmVudFByb2Nlc3NvcicpO1xudmFyIFRpbWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVyKF9hKSB7XG4gICAgICAgIHZhciB0aW1lb3V0ID0gX2EudGltZW91dCwgY2FsbGJhY2sgPSBfYS5jYWxsYmFjaztcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gTWF0aC5tYXgodGltZW91dCwgMCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgVGltZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy5jYWxsYmFjaywgdGhpcy50aW1lb3V0KTtcbiAgICB9O1xuICAgIFRpbWVyLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH07XG4gICAgVGltZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRpbWVyO1xufSgpKTtcbnZhciBTaW5nbGVFdmVudFF1ZXVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNpbmdsZUV2ZW50UXVldWUoX2EpIHtcbiAgICAgICAgdmFyIHNpbmsgPSBfYS5zaW5rO1xuICAgICAgICB0aGlzLnNpbmsgPSBzaW5rO1xuICAgIH1cbiAgICBTaW5nbGVFdmVudFF1ZXVlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gbm8tb3BcbiAgICB9O1xuICAgIFNpbmdsZUV2ZW50UXVldWUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG5vLW9wXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIFNpbmdsZUV2ZW50UXVldWUucHJvdG90eXBlLmVucXVldWUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zaW5rKFtldmVudF0pO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbmdsZUV2ZW50UXVldWU7XG59KCkpO1xuZXhwb3J0cy5TaW5nbGVFdmVudFF1ZXVlID0gU2luZ2xlRXZlbnRRdWV1ZTtcbnZhciBEZWZhdWx0RXZlbnRRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZhdWx0RXZlbnRRdWV1ZShfYSkge1xuICAgICAgICB2YXIgZmx1c2hJbnRlcnZhbCA9IF9hLmZsdXNoSW50ZXJ2YWwsIG1heFF1ZXVlU2l6ZSA9IF9hLm1heFF1ZXVlU2l6ZSwgc2luayA9IF9hLnNpbmssIGJhdGNoQ29tcGFyYXRvciA9IF9hLmJhdGNoQ29tcGFyYXRvcjtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5tYXhRdWV1ZVNpemUgPSBNYXRoLm1heChtYXhRdWV1ZVNpemUsIDEpO1xuICAgICAgICB0aGlzLnNpbmsgPSBzaW5rO1xuICAgICAgICB0aGlzLmJhdGNoQ29tcGFyYXRvciA9IGJhdGNoQ29tcGFyYXRvcjtcbiAgICAgICAgdGhpcy50aW1lciA9IG5ldyBUaW1lcih7XG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy5mbHVzaC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGltZW91dDogZmx1c2hJbnRlcnZhbCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBEZWZhdWx0RXZlbnRRdWV1ZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIC8vIGRvbnQgc3RhcnQgdGhlIHRpbWVyIHVudGlsIHRoZSBmaXJzdCBldmVudCBpcyBlbnF1ZXVlZFxuICAgIH07XG4gICAgRGVmYXVsdEV2ZW50UXVldWUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaW5rKHRoaXMuYnVmZmVyKTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy50aW1lci5zdG9wKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBEZWZhdWx0RXZlbnRRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1F1ZXVlIGlzIHN0b3BwZWQsIG5vdCBhY2NlcHRpbmcgZXZlbnQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBuZXcgZXZlbnQgY2Fubm90IGJlIGluY2x1ZGVkIGludG8gdGhlIGN1cnJlbnQgYmF0Y2gsIGZsdXNoIHNvIGl0IGNhblxuICAgICAgICAvLyBiZSBpbiBpdHMgb3duIG5ldyBiYXRjaC5cbiAgICAgICAgdmFyIGJ1ZmZlcmVkRXZlbnQgPSB0aGlzLmJ1ZmZlclswXTtcbiAgICAgICAgaWYgKGJ1ZmZlcmVkRXZlbnQgJiYgIXRoaXMuYmF0Y2hDb21wYXJhdG9yKGJ1ZmZlcmVkRXZlbnQsIGV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN0YXJ0IHRoZSB0aW1lciB3aGVuIHRoZSBmaXJzdCBldmVudCBpcyBwdXQgaW5cbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy50aW1lci5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXIucHVzaChldmVudCk7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPj0gdGhpcy5tYXhRdWV1ZVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEV2ZW50UXVldWUucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNpbmsodGhpcy5idWZmZXIpO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnRpbWVyLnN0b3AoKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWZhdWx0RXZlbnRRdWV1ZTtcbn0oKSk7XG5leHBvcnRzLkRlZmF1bHRFdmVudFF1ZXVlID0gRGVmYXVsdEV2ZW50UXVldWU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYXJlRXZlbnRDb250ZXh0c0VxdWFsID0gdm9pZCAwO1xuZnVuY3Rpb24gYXJlRXZlbnRDb250ZXh0c0VxdWFsKGV2ZW50QSwgZXZlbnRCKSB7XG4gICAgdmFyIGNvbnRleHRBID0gZXZlbnRBLmNvbnRleHQ7XG4gICAgdmFyIGNvbnRleHRCID0gZXZlbnRCLmNvbnRleHQ7XG4gICAgcmV0dXJuIChjb250ZXh0QS5hY2NvdW50SWQgPT09IGNvbnRleHRCLmFjY291bnRJZCAmJlxuICAgICAgICBjb250ZXh0QS5wcm9qZWN0SWQgPT09IGNvbnRleHRCLnByb2plY3RJZCAmJlxuICAgICAgICBjb250ZXh0QS5jbGllbnROYW1lID09PSBjb250ZXh0Qi5jbGllbnROYW1lICYmXG4gICAgICAgIGNvbnRleHRBLmNsaWVudFZlcnNpb24gPT09IGNvbnRleHRCLmNsaWVudFZlcnNpb24gJiZcbiAgICAgICAgY29udGV4dEEucmV2aXNpb24gPT09IGNvbnRleHRCLnJldmlzaW9uICYmXG4gICAgICAgIGNvbnRleHRBLmFub255bWl6ZUlQID09PSBjb250ZXh0Qi5hbm9ueW1pemVJUCAmJlxuICAgICAgICBjb250ZXh0QS5ib3RGaWx0ZXJpbmcgPT09IGNvbnRleHRCLmJvdEZpbHRlcmluZyk7XG59XG5leHBvcnRzLmFyZUV2ZW50Q29udGV4dHNFcXVhbCA9IGFyZUV2ZW50Q29udGV4dHNFcXVhbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOS0yMDIwLCBPcHRpbWl6ZWx5XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2V2ZW50c1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZXZlbnRQcm9jZXNzb3JcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2V2ZW50RGlzcGF0Y2hlclwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbWFuYWdlZFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcGVuZGluZ0V2ZW50c0Rpc3BhdGNoZXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3YxL2J1aWxkRXZlbnRWMVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdjEvdjFFdmVudFByb2Nlc3NvclwiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTG9jYWxTdG9yYWdlUGVuZGluZ0V2ZW50c0Rpc3BhdGNoZXIgPSBleHBvcnRzLlBlbmRpbmdFdmVudHNEaXNwYXRjaGVyID0gdm9pZCAwO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSwgT3B0aW1pemVseVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIganNfc2RrX2xvZ2dpbmdfMSA9IHJlcXVpcmUoXCJAb3B0aW1pemVseS9qcy1zZGstbG9nZ2luZ1wiKTtcbnZhciBwZW5kaW5nRXZlbnRzU3RvcmVfMSA9IHJlcXVpcmUoXCIuL3BlbmRpbmdFdmVudHNTdG9yZVwiKTtcbnZhciBqc19zZGtfdXRpbHNfMSA9IHJlcXVpcmUoXCJAb3B0aW1pemVseS9qcy1zZGstdXRpbHNcIik7XG52YXIgbG9nZ2VyID0ganNfc2RrX2xvZ2dpbmdfMS5nZXRMb2dnZXIoJ0V2ZW50UHJvY2Vzc29yJyk7XG52YXIgUGVuZGluZ0V2ZW50c0Rpc3BhdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGVuZGluZ0V2ZW50c0Rpc3BhdGNoZXIoX2EpIHtcbiAgICAgICAgdmFyIGV2ZW50RGlzcGF0Y2hlciA9IF9hLmV2ZW50RGlzcGF0Y2hlciwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZXZlbnREaXNwYXRjaGVyO1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgfVxuICAgIFBlbmRpbmdFdmVudHNEaXNwYXRjaGVyLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKHJlcXVlc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuc2VuZCh7XG4gICAgICAgICAgICB1dWlkOiBqc19zZGtfdXRpbHNfMS5nZW5lcmF0ZVVVSUQoKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDoganNfc2RrX3V0aWxzXzEuZ2V0VGltZXN0YW1wKCksXG4gICAgICAgICAgICByZXF1ZXN0OiByZXF1ZXN0LFxuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBQZW5kaW5nRXZlbnRzRGlzcGF0Y2hlci5wcm90b3R5cGUuc2VuZFBlbmRpbmdFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwZW5kaW5nRXZlbnRzID0gdGhpcy5zdG9yZS52YWx1ZXMoKTtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdTZW5kaW5nICVzIHBlbmRpbmcgZXZlbnRzIGZyb20gcHJldmlvdXMgcGFnZScsIHBlbmRpbmdFdmVudHMubGVuZ3RoKTtcbiAgICAgICAgcGVuZGluZ0V2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbmQoaXRlbSwgZnVuY3Rpb24gKCkgeyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQZW5kaW5nRXZlbnRzRGlzcGF0Y2hlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChlbnRyeSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zdG9yZS5zZXQoZW50cnkudXVpZCwgZW50cnkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuZGlzcGF0Y2hFdmVudChlbnRyeS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIF90aGlzLnN0b3JlLnJlbW92ZShlbnRyeS51dWlkKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUGVuZGluZ0V2ZW50c0Rpc3BhdGNoZXI7XG59KCkpO1xuZXhwb3J0cy5QZW5kaW5nRXZlbnRzRGlzcGF0Y2hlciA9IFBlbmRpbmdFdmVudHNEaXNwYXRjaGVyO1xudmFyIExvY2FsU3RvcmFnZVBlbmRpbmdFdmVudHNEaXNwYXRjaGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMb2NhbFN0b3JhZ2VQZW5kaW5nRXZlbnRzRGlzcGF0Y2hlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBMb2NhbFN0b3JhZ2VQZW5kaW5nRXZlbnRzRGlzcGF0Y2hlcihfYSkge1xuICAgICAgICB2YXIgZXZlbnREaXNwYXRjaGVyID0gX2EuZXZlbnREaXNwYXRjaGVyO1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgZXZlbnREaXNwYXRjaGVyOiBldmVudERpc3BhdGNoZXIsXG4gICAgICAgICAgICBzdG9yZTogbmV3IHBlbmRpbmdFdmVudHNTdG9yZV8xLkxvY2FsU3RvcmFnZVN0b3JlKHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIG1ha2UgdGhpcyBjb25maWd1cmFibGVcbiAgICAgICAgICAgICAgICBtYXhWYWx1ZXM6IDEwMCxcbiAgICAgICAgICAgICAgICBrZXk6ICdmc19vcHRseV9wZW5kaW5nX2V2ZW50cycsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIExvY2FsU3RvcmFnZVBlbmRpbmdFdmVudHNEaXNwYXRjaGVyO1xufShQZW5kaW5nRXZlbnRzRGlzcGF0Y2hlcikpO1xuZXhwb3J0cy5Mb2NhbFN0b3JhZ2VQZW5kaW5nRXZlbnRzRGlzcGF0Y2hlciA9IExvY2FsU3RvcmFnZVBlbmRpbmdFdmVudHNEaXNwYXRjaGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxvY2FsU3RvcmFnZVN0b3JlID0gdm9pZCAwO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSwgT3B0aW1pemVseVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIganNfc2RrX3V0aWxzXzEgPSByZXF1aXJlKFwiQG9wdGltaXplbHkvanMtc2RrLXV0aWxzXCIpO1xudmFyIGpzX3Nka19sb2dnaW5nXzEgPSByZXF1aXJlKFwiQG9wdGltaXplbHkvanMtc2RrLWxvZ2dpbmdcIik7XG52YXIgbG9nZ2VyID0ganNfc2RrX2xvZ2dpbmdfMS5nZXRMb2dnZXIoJ0V2ZW50UHJvY2Vzc29yJyk7XG52YXIgTG9jYWxTdG9yYWdlU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9jYWxTdG9yYWdlU3RvcmUoX2EpIHtcbiAgICAgICAgdmFyIGtleSA9IF9hLmtleSwgX2IgPSBfYS5tYXhWYWx1ZXMsIG1heFZhbHVlcyA9IF9iID09PSB2b2lkIDAgPyAxMDAwIDogX2I7XG4gICAgICAgIHRoaXMuTFNfS0VZID0ga2V5O1xuICAgICAgICB0aGlzLm1heFZhbHVlcyA9IG1heFZhbHVlcztcbiAgICB9XG4gICAgTG9jYWxTdG9yYWdlU3RvcmUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWFwKClba2V5XSB8fCBudWxsO1xuICAgIH07XG4gICAgTG9jYWxTdG9yYWdlU3RvcmUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICBtYXBba2V5XSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnJlcGxhY2UobWFwKTtcbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZVN0b3JlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICBkZWxldGUgbWFwW2tleV07XG4gICAgICAgIHRoaXMucmVwbGFjZShtYXApO1xuICAgIH07XG4gICAgTG9jYWxTdG9yYWdlU3RvcmUucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGpzX3Nka191dGlsc18xLm9iamVjdFZhbHVlcyh0aGlzLmdldE1hcCgpKTtcbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZVN0b3JlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXBsYWNlKHt9KTtcbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZVN0b3JlLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHRlbXBvcmFyeSBmaXggdG8gc3VwcG9ydCBSZWFjdCBOYXRpdmUgd2hpY2ggZG9lcyBub3QgaGF2ZSBsb2NhbFN0b3JhZ2UuXG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlICYmIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuTFNfS0VZLCBKU09OLnN0cmluZ2lmeShtYXApKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW4oKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMb2NhbFN0b3JhZ2VTdG9yZS5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG1hcCk7XG4gICAgICAgIHZhciB0b1JlbW92ZSA9IGtleXMubGVuZ3RoIC0gdGhpcy5tYXhWYWx1ZXM7XG4gICAgICAgIGlmICh0b1JlbW92ZSA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cmllcyA9IGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuICh7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHZhbHVlOiBtYXBba2V5XVxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIGVudHJpZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS52YWx1ZS50aW1lc3RhbXAgLSBiLnZhbHVlLnRpbWVzdGFtcDsgfSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9SZW1vdmU7IGkrKykge1xuICAgICAgICAgICAgZGVsZXRlIG1hcFtlbnRyaWVzW2ldLmtleV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXBsYWNlKG1hcCk7XG4gICAgfTtcbiAgICBMb2NhbFN0b3JhZ2VTdG9yZS5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHRlbXBvcmFyeSBmaXggdG8gc3VwcG9ydCBSZWFjdCBOYXRpdmUgd2hpY2ggZG9lcyBub3QgaGF2ZSBsb2NhbFN0b3JhZ2UuXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5MU19LRVkpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKSB8fCB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9O1xuICAgIHJldHVybiBMb2NhbFN0b3JhZ2VTdG9yZTtcbn0oKSk7XG5leHBvcnRzLkxvY2FsU3RvcmFnZVN0b3JlID0gTG9jYWxTdG9yYWdlU3RvcmU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAsIE9wdGltaXplbHlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBSZXF1ZXN0VHJhY2tlciBrZWVwcyB0cmFjayBvZiBpbi1mbGlnaHQgcmVxdWVzdHMgZm9yIEV2ZW50UHJvY2Vzc29yIHVzaW5nXG4gKiBhbiBpbnRlcm5hbCBjb3VudGVyLiBJdCBleHBvc2VzIG1ldGhvZHMgZm9yIGFkZGluZyBhIG5ldyByZXF1ZXN0IHRvIGJlXG4gKiB0cmFja2VkLCBhbmQgZ2V0dGluZyBhIFByb21pc2UgcmVwcmVzZW50aW5nIHRoZSBjb21wbGV0aW9uIG9mIGN1cnJlbnRseVxuICogdHJhY2tlZCByZXF1ZXN0cy5cbiAqL1xudmFyIFJlcXVlc3RUcmFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlcXVlc3RUcmFja2VyKCkge1xuICAgICAgICB0aGlzLnJlcXNJbkZsaWdodENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5yZXFzQ29tcGxldGVSZXNvbHZlcnMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhY2sgdGhlIGFyZ3VtZW50IHJlcXVlc3QgKHJlcHJlc2VudGVkIGJ5IGEgUHJvbWlzZSkuIHJlcVByb21pc2Ugd2lsbCBmZWVkXG4gICAgICogaW50byB0aGUgc3RhdGUgb2YgUHJvbWlzZXMgcmV0dXJuZWQgYnkgb25SZXF1ZXN0c0NvbXBsZXRlLlxuICAgICAqIEBwYXJhbSB7UHJvbWlzZTx2b2lkPn0gcmVxUHJvbWlzZVxuICAgICAqL1xuICAgIFJlcXVlc3RUcmFja2VyLnByb3RvdHlwZS50cmFja1JlcXVlc3QgPSBmdW5jdGlvbiAocmVxUHJvbWlzZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnJlcXNJbkZsaWdodENvdW50Kys7XG4gICAgICAgIHZhciBvblJlcUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVxc0luRmxpZ2h0Q291bnQtLTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5yZXFzSW5GbGlnaHRDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlcXNDb21wbGV0ZVJlc29sdmVycy5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvbHZlcikgeyByZXR1cm4gcmVzb2x2ZXIoKTsgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVxc0NvbXBsZXRlUmVzb2x2ZXJzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJlcVByb21pc2UudGhlbihvblJlcUNvbXBsZXRlLCBvblJlcUNvbXBsZXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhIFByb21pc2UgdGhhdCBmdWxmaWxscyBhZnRlciBhbGwgY3VycmVudGx5LXRyYWNrZWQgcmVxdWVzdCBwcm9taXNlc1xuICAgICAqIGFyZSByZXNvbHZlZC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIFJlcXVlc3RUcmFja2VyLnByb3RvdHlwZS5vblJlcXVlc3RzQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnJlcXNJbkZsaWdodENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVxc0NvbXBsZXRlUmVzb2x2ZXJzLnB1c2gocmVzb2x2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcXVlc3RUcmFja2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJlcXVlc3RUcmFja2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mb3JtYXRFdmVudHMgPSBleHBvcnRzLmJ1aWxkQ29udmVyc2lvbkV2ZW50VjEgPSBleHBvcnRzLmJ1aWxkSW1wcmVzc2lvbkV2ZW50VjEgPSBleHBvcnRzLm1ha2VCYXRjaGVkRXZlbnRWMSA9IHZvaWQgMDtcbnZhciBBQ1RJVkFURV9FVkVOVF9LRVkgPSAnY2FtcGFpZ25fYWN0aXZhdGVkJztcbnZhciBDVVNUT01fQVRUUklCVVRFX0ZFQVRVUkVfVFlQRSA9ICdjdXN0b20nO1xudmFyIEJPVF9GSUxURVJJTkdfS0VZID0gJyRvcHRfYm90X2ZpbHRlcmluZyc7XG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGJhdGNoYWJsZSBEZWNpc2lvbiBvciBDb252ZXJzaW9uRXZlbnQgZXZlbnRzIGl0IHJldHVybnNcbiAqIGEgc2luZ2xlIEV2ZW50VjEgd2l0aCBwcm9wZXIgYmF0Y2hpbmdcbiAqXG4gKiBAcGFyYW0ge1Byb2Nlc3NhYmxlRXZlbnRbXX0gZXZlbnRzXG4gKiBAcmV0dXJucyB7RXZlbnRWMX1cbiAqL1xuZnVuY3Rpb24gbWFrZUJhdGNoZWRFdmVudFYxKGV2ZW50cykge1xuICAgIHZhciB2aXNpdG9ycyA9IFtdO1xuICAgIHZhciBkYXRhID0gZXZlbnRzWzBdO1xuICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2NvbnZlcnNpb24nIHx8IGV2ZW50LnR5cGUgPT09ICdpbXByZXNzaW9uJykge1xuICAgICAgICAgICAgdmFyIHZpc2l0b3IgPSBtYWtlVmlzaXRvcihldmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2ltcHJlc3Npb24nKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRvci5zbmFwc2hvdHMucHVzaChtYWtlRGVjaXNpb25TbmFwc2hvdChldmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ2NvbnZlcnNpb24nKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRvci5zbmFwc2hvdHMucHVzaChtYWtlQ29udmVyc2lvblNuYXBzaG90KGV2ZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2aXNpdG9ycy5wdXNoKHZpc2l0b3IpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xpZW50X25hbWU6IGRhdGEuY29udGV4dC5jbGllbnROYW1lLFxuICAgICAgICBjbGllbnRfdmVyc2lvbjogZGF0YS5jb250ZXh0LmNsaWVudFZlcnNpb24sXG4gICAgICAgIGFjY291bnRfaWQ6IGRhdGEuY29udGV4dC5hY2NvdW50SWQsXG4gICAgICAgIHByb2plY3RfaWQ6IGRhdGEuY29udGV4dC5wcm9qZWN0SWQsXG4gICAgICAgIHJldmlzaW9uOiBkYXRhLmNvbnRleHQucmV2aXNpb24sXG4gICAgICAgIGFub255bWl6ZV9pcDogZGF0YS5jb250ZXh0LmFub255bWl6ZUlQLFxuICAgICAgICBlbnJpY2hfZGVjaXNpb25zOiB0cnVlLFxuICAgICAgICB2aXNpdG9yczogdmlzaXRvcnMsXG4gICAgfTtcbn1cbmV4cG9ydHMubWFrZUJhdGNoZWRFdmVudFYxID0gbWFrZUJhdGNoZWRFdmVudFYxO1xuZnVuY3Rpb24gbWFrZUNvbnZlcnNpb25TbmFwc2hvdChjb252ZXJzaW9uKSB7XG4gICAgdmFyIHRhZ3MgPSBfX2Fzc2lnbih7fSwgY29udmVyc2lvbi50YWdzKTtcbiAgICBkZWxldGUgdGFnc1sncmV2ZW51ZSddO1xuICAgIGRlbGV0ZSB0YWdzWyd2YWx1ZSddO1xuICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgZW50aXR5X2lkOiBjb252ZXJzaW9uLmV2ZW50LmlkLFxuICAgICAgICBrZXk6IGNvbnZlcnNpb24uZXZlbnQua2V5LFxuICAgICAgICB0aW1lc3RhbXA6IGNvbnZlcnNpb24udGltZXN0YW1wLFxuICAgICAgICB1dWlkOiBjb252ZXJzaW9uLnV1aWQsXG4gICAgfTtcbiAgICBpZiAoY29udmVyc2lvbi50YWdzKSB7XG4gICAgICAgIGV2ZW50LnRhZ3MgPSBjb252ZXJzaW9uLnRhZ3M7XG4gICAgfVxuICAgIGlmIChjb252ZXJzaW9uLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZXZlbnQudmFsdWUgPSBjb252ZXJzaW9uLnZhbHVlO1xuICAgIH1cbiAgICBpZiAoY29udmVyc2lvbi5yZXZlbnVlICE9IG51bGwpIHtcbiAgICAgICAgZXZlbnQucmV2ZW51ZSA9IGNvbnZlcnNpb24ucmV2ZW51ZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZlbnRzOiBbZXZlbnRdLFxuICAgIH07XG59XG5mdW5jdGlvbiBtYWtlRGVjaXNpb25TbmFwc2hvdChldmVudCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIGxheWVyID0gZXZlbnQubGF5ZXIsIGV4cGVyaW1lbnQgPSBldmVudC5leHBlcmltZW50LCB2YXJpYXRpb24gPSBldmVudC52YXJpYXRpb24sIHJ1bGVLZXkgPSBldmVudC5ydWxlS2V5LCBmbGFnS2V5ID0gZXZlbnQuZmxhZ0tleSwgcnVsZVR5cGUgPSBldmVudC5ydWxlVHlwZSwgZW5hYmxlZCA9IGV2ZW50LmVuYWJsZWQ7XG4gICAgdmFyIGxheWVySWQgPSBsYXllciA/IGxheWVyLmlkIDogbnVsbDtcbiAgICB2YXIgZXhwZXJpbWVudElkID0gKF9hID0gZXhwZXJpbWVudCA9PT0gbnVsbCB8fCBleHBlcmltZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBleHBlcmltZW50LmlkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJztcbiAgICB2YXIgdmFyaWF0aW9uSWQgPSAoX2IgPSB2YXJpYXRpb24gPT09IG51bGwgfHwgdmFyaWF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YXJpYXRpb24uaWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuICAgIHZhciB2YXJpYXRpb25LZXkgPSB2YXJpYXRpb24gPyB2YXJpYXRpb24ua2V5IDogJyc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVjaXNpb25zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FtcGFpZ25faWQ6IGxheWVySWQsXG4gICAgICAgICAgICAgICAgZXhwZXJpbWVudF9pZDogZXhwZXJpbWVudElkLFxuICAgICAgICAgICAgICAgIHZhcmlhdGlvbl9pZDogdmFyaWF0aW9uSWQsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ19rZXk6IGZsYWdLZXksXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVfa2V5OiBydWxlS2V5LFxuICAgICAgICAgICAgICAgICAgICBydWxlX3R5cGU6IHJ1bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICB2YXJpYXRpb25fa2V5OiB2YXJpYXRpb25LZXksXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGVuYWJsZWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGV2ZW50czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVudGl0eV9pZDogbGF5ZXJJZCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGV2ZW50LnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBrZXk6IEFDVElWQVRFX0VWRU5UX0tFWSxcbiAgICAgICAgICAgICAgICB1dWlkOiBldmVudC51dWlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xufVxuZnVuY3Rpb24gbWFrZVZpc2l0b3IoZGF0YSkge1xuICAgIHZhciB2aXNpdG9yID0ge1xuICAgICAgICBzbmFwc2hvdHM6IFtdLFxuICAgICAgICB2aXNpdG9yX2lkOiBkYXRhLnVzZXIuaWQsXG4gICAgICAgIGF0dHJpYnV0ZXM6IFtdLFxuICAgIH07XG4gICAgZGF0YS51c2VyLmF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICB2aXNpdG9yLmF0dHJpYnV0ZXMucHVzaCh7XG4gICAgICAgICAgICBlbnRpdHlfaWQ6IGF0dHIuZW50aXR5SWQsXG4gICAgICAgICAgICBrZXk6IGF0dHIua2V5LFxuICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICB2YWx1ZTogYXR0ci52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBkYXRhLmNvbnRleHQuYm90RmlsdGVyaW5nID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdmlzaXRvci5hdHRyaWJ1dGVzLnB1c2goe1xuICAgICAgICAgICAgZW50aXR5X2lkOiBCT1RfRklMVEVSSU5HX0tFWSxcbiAgICAgICAgICAgIGtleTogQk9UX0ZJTFRFUklOR19LRVksXG4gICAgICAgICAgICB0eXBlOiBDVVNUT01fQVRUUklCVVRFX0ZFQVRVUkVfVFlQRSxcbiAgICAgICAgICAgIHZhbHVlOiBkYXRhLmNvbnRleHQuYm90RmlsdGVyaW5nLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZpc2l0b3I7XG59XG4vKipcbiAqIEV2ZW50IGZvciB1c2FnZSB3aXRoIHYxIGxvZ3RpZXJcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEV2ZW50QnVpbGRlclYxXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkSW1wcmVzc2lvbkV2ZW50VjEoZGF0YSkge1xuICAgIHZhciB2aXNpdG9yID0gbWFrZVZpc2l0b3IoZGF0YSk7XG4gICAgdmlzaXRvci5zbmFwc2hvdHMucHVzaChtYWtlRGVjaXNpb25TbmFwc2hvdChkYXRhKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xpZW50X25hbWU6IGRhdGEuY29udGV4dC5jbGllbnROYW1lLFxuICAgICAgICBjbGllbnRfdmVyc2lvbjogZGF0YS5jb250ZXh0LmNsaWVudFZlcnNpb24sXG4gICAgICAgIGFjY291bnRfaWQ6IGRhdGEuY29udGV4dC5hY2NvdW50SWQsXG4gICAgICAgIHByb2plY3RfaWQ6IGRhdGEuY29udGV4dC5wcm9qZWN0SWQsXG4gICAgICAgIHJldmlzaW9uOiBkYXRhLmNvbnRleHQucmV2aXNpb24sXG4gICAgICAgIGFub255bWl6ZV9pcDogZGF0YS5jb250ZXh0LmFub255bWl6ZUlQLFxuICAgICAgICBlbnJpY2hfZGVjaXNpb25zOiB0cnVlLFxuICAgICAgICB2aXNpdG9yczogW3Zpc2l0b3JdLFxuICAgIH07XG59XG5leHBvcnRzLmJ1aWxkSW1wcmVzc2lvbkV2ZW50VjEgPSBidWlsZEltcHJlc3Npb25FdmVudFYxO1xuZnVuY3Rpb24gYnVpbGRDb252ZXJzaW9uRXZlbnRWMShkYXRhKSB7XG4gICAgdmFyIHZpc2l0b3IgPSBtYWtlVmlzaXRvcihkYXRhKTtcbiAgICB2aXNpdG9yLnNuYXBzaG90cy5wdXNoKG1ha2VDb252ZXJzaW9uU25hcHNob3QoZGF0YSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNsaWVudF9uYW1lOiBkYXRhLmNvbnRleHQuY2xpZW50TmFtZSxcbiAgICAgICAgY2xpZW50X3ZlcnNpb246IGRhdGEuY29udGV4dC5jbGllbnRWZXJzaW9uLFxuICAgICAgICBhY2NvdW50X2lkOiBkYXRhLmNvbnRleHQuYWNjb3VudElkLFxuICAgICAgICBwcm9qZWN0X2lkOiBkYXRhLmNvbnRleHQucHJvamVjdElkLFxuICAgICAgICByZXZpc2lvbjogZGF0YS5jb250ZXh0LnJldmlzaW9uLFxuICAgICAgICBhbm9ueW1pemVfaXA6IGRhdGEuY29udGV4dC5hbm9ueW1pemVJUCxcbiAgICAgICAgZW5yaWNoX2RlY2lzaW9uczogdHJ1ZSxcbiAgICAgICAgdmlzaXRvcnM6IFt2aXNpdG9yXSxcbiAgICB9O1xufVxuZXhwb3J0cy5idWlsZENvbnZlcnNpb25FdmVudFYxID0gYnVpbGRDb252ZXJzaW9uRXZlbnRWMTtcbmZ1bmN0aW9uIGZvcm1hdEV2ZW50cyhldmVudHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cmw6ICdodHRwczovL2xvZ3gub3B0aW1pemVseS5jb20vdjEvZXZlbnRzJyxcbiAgICAgICAgaHR0cFZlcmI6ICdQT1NUJyxcbiAgICAgICAgcGFyYW1zOiBtYWtlQmF0Y2hlZEV2ZW50VjEoZXZlbnRzKSxcbiAgICB9O1xufVxuZXhwb3J0cy5mb3JtYXRFdmVudHMgPSBmb3JtYXRFdmVudHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxvZ1RpZXJWMUV2ZW50UHJvY2Vzc29yID0gdm9pZCAwO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOS0yMDIwLCBPcHRpbWl6ZWx5XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBqc19zZGtfbG9nZ2luZ18xID0gcmVxdWlyZShcIkBvcHRpbWl6ZWx5L2pzLXNkay1sb2dnaW5nXCIpO1xudmFyIGV2ZW50UHJvY2Vzc29yXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRQcm9jZXNzb3JcIik7XG52YXIgcmVxdWVzdFRyYWNrZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vcmVxdWVzdFRyYWNrZXJcIikpO1xudmFyIGV2ZW50c18xID0gcmVxdWlyZShcIi4uL2V2ZW50c1wiKTtcbnZhciBidWlsZEV2ZW50VjFfMSA9IHJlcXVpcmUoXCIuL2J1aWxkRXZlbnRWMVwiKTtcbnZhciBsb2dnZXIgPSBqc19zZGtfbG9nZ2luZ18xLmdldExvZ2dlcignTG9nVGllclYxRXZlbnRQcm9jZXNzb3InKTtcbnZhciBMb2dUaWVyVjFFdmVudFByb2Nlc3NvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2dUaWVyVjFFdmVudFByb2Nlc3NvcihfYSkge1xuICAgICAgICB2YXIgZGlzcGF0Y2hlciA9IF9hLmRpc3BhdGNoZXIsIF9iID0gX2EuZmx1c2hJbnRlcnZhbCwgZmx1c2hJbnRlcnZhbCA9IF9iID09PSB2b2lkIDAgPyBldmVudFByb2Nlc3Nvcl8xLkRFRkFVTFRfRkxVU0hfSU5URVJWQUwgOiBfYiwgX2MgPSBfYS5iYXRjaFNpemUsIGJhdGNoU2l6ZSA9IF9jID09PSB2b2lkIDAgPyBldmVudFByb2Nlc3Nvcl8xLkRFRkFVTFRfQkFUQ0hfU0laRSA6IF9jLCBub3RpZmljYXRpb25DZW50ZXIgPSBfYS5ub3RpZmljYXRpb25DZW50ZXI7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uQ2VudGVyID0gbm90aWZpY2F0aW9uQ2VudGVyO1xuICAgICAgICB0aGlzLnJlcXVlc3RUcmFja2VyID0gbmV3IHJlcXVlc3RUcmFja2VyXzEuZGVmYXVsdCgpO1xuICAgICAgICBmbHVzaEludGVydmFsID0gZXZlbnRQcm9jZXNzb3JfMS52YWxpZGF0ZUFuZEdldEZsdXNoSW50ZXJ2YWwoZmx1c2hJbnRlcnZhbCk7XG4gICAgICAgIGJhdGNoU2l6ZSA9IGV2ZW50UHJvY2Vzc29yXzEudmFsaWRhdGVBbmRHZXRCYXRjaFNpemUoYmF0Y2hTaXplKTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IGV2ZW50UHJvY2Vzc29yXzEuZ2V0UXVldWUoYmF0Y2hTaXplLCBmbHVzaEludGVydmFsLCB0aGlzLmRyYWluUXVldWUuYmluZCh0aGlzKSwgZXZlbnRzXzEuYXJlRXZlbnRDb250ZXh0c0VxdWFsKTtcbiAgICB9XG4gICAgTG9nVGllclYxRXZlbnRQcm9jZXNzb3IucHJvdG90eXBlLmRyYWluUXVldWUgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByZXFQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnZHJhaW5pbmcgcXVldWUgd2l0aCAlcyBldmVudHMnLCBidWZmZXIubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRFdmVudCA9IGJ1aWxkRXZlbnRWMV8xLmZvcm1hdEV2ZW50cyhidWZmZXIpO1xuICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KGZvcm1hdHRlZEV2ZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBldmVudFByb2Nlc3Nvcl8xLnNlbmRFdmVudE5vdGlmaWNhdGlvbihfdGhpcy5ub3RpZmljYXRpb25DZW50ZXIsIGZvcm1hdHRlZEV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVxdWVzdFRyYWNrZXIudHJhY2tSZXF1ZXN0KHJlcVByb21pc2UpO1xuICAgICAgICByZXR1cm4gcmVxUHJvbWlzZTtcbiAgICB9O1xuICAgIExvZ1RpZXJWMUV2ZW50UHJvY2Vzc29yLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucXVldWUuZW5xdWV1ZShldmVudCk7XG4gICAgfTtcbiAgICBMb2dUaWVyVjFFdmVudFByb2Nlc3Nvci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gc3dhbGxvdyAtIGFuIGVycm9yIHN0b3BwaW5nIHRoaXMgcXVldWUgc2hvdWxkbid0IHByZXZlbnQgdGhpcyBmcm9tIHN0b3BwaW5nXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnN0b3AoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RUcmFja2VyLm9uUmVxdWVzdHNDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHN0b3BwaW5nIEV2ZW50UHJvY2Vzc29yOiBcIiVzXCInLCBlLm1lc3NhZ2UsIGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIExvZ1RpZXJWMUV2ZW50UHJvY2Vzc29yLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTG9nVGllclYxRXZlbnRQcm9jZXNzb3I7XG59KCkpO1xuZXhwb3J0cy5Mb2dUaWVyVjFFdmVudFByb2Nlc3NvciA9IExvZ1RpZXJWMUV2ZW50UHJvY2Vzc29yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBOb29wRXJyb3JIYW5kbGVyXG4gKiBAaW1wbGVtZW50cyB7RXJyb3JIYW5kbGVyfVxuICovXG52YXIgTm9vcEVycm9ySGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb29wRXJyb3JIYW5kbGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBleGNlcHRpb25cbiAgICAgKiBAbWVtYmVyb2YgTm9vcEVycm9ySGFuZGxlclxuICAgICAqL1xuICAgIE5vb3BFcnJvckhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUVycm9yID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgICAvLyBuby1vcFxuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICByZXR1cm4gTm9vcEVycm9ySGFuZGxlcjtcbn0oKSk7XG5leHBvcnRzLk5vb3BFcnJvckhhbmRsZXIgPSBOb29wRXJyb3JIYW5kbGVyO1xudmFyIGdsb2JhbEVycm9ySGFuZGxlciA9IG5ldyBOb29wRXJyb3JIYW5kbGVyKCk7XG4vKipcbiAqIEBleHBvcnRcbiAqIEBwYXJhbSB7RXJyb3JIYW5kbGVyfSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHNldEVycm9ySGFuZGxlcihoYW5kbGVyKSB7XG4gICAgZ2xvYmFsRXJyb3JIYW5kbGVyID0gaGFuZGxlcjtcbn1cbmV4cG9ydHMuc2V0RXJyb3JIYW5kbGVyID0gc2V0RXJyb3JIYW5kbGVyO1xuLyoqXG4gKiBAZXhwb3J0XG4gKiBAcmV0dXJucyB7RXJyb3JIYW5kbGVyfVxuICovXG5mdW5jdGlvbiBnZXRFcnJvckhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIGdsb2JhbEVycm9ySGFuZGxlcjtcbn1cbmV4cG9ydHMuZ2V0RXJyb3JIYW5kbGVyID0gZ2V0RXJyb3JIYW5kbGVyO1xuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmZ1bmN0aW9uIHJlc2V0RXJyb3JIYW5kbGVyKCkge1xuICAgIGdsb2JhbEVycm9ySGFuZGxlciA9IG5ldyBOb29wRXJyb3JIYW5kbGVyKCk7XG59XG5leHBvcnRzLnJlc2V0RXJyb3JIYW5kbGVyID0gcmVzZXRFcnJvckhhbmRsZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAyMDE5LCBPcHRpbWl6ZWx5XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2Vycm9ySGFuZGxlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9tb2RlbHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbG9nZ2VyXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcbiAgICByZXR1cm4gcjtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAyMDE5LCBPcHRpbWl6ZWx5XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBlcnJvckhhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL2Vycm9ySGFuZGxlclwiKTtcbnZhciBqc19zZGtfdXRpbHNfMSA9IHJlcXVpcmUoXCJAb3B0aW1pemVseS9qcy1zZGstdXRpbHNcIik7XG52YXIgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi9tb2RlbHNcIik7XG52YXIgc3RyaW5nVG9Mb2dMZXZlbCA9IHtcbiAgICBOT1RTRVQ6IDAsXG4gICAgREVCVUc6IDEsXG4gICAgSU5GTzogMixcbiAgICBXQVJOSU5HOiAzLFxuICAgIEVSUk9SOiA0LFxufTtcbmZ1bmN0aW9uIGNvZXJjZUxvZ0xldmVsKGxldmVsKSB7XG4gICAgaWYgKHR5cGVvZiBsZXZlbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGxldmVsO1xuICAgIH1cbiAgICBsZXZlbCA9IGxldmVsLnRvVXBwZXJDYXNlKCk7XG4gICAgaWYgKGxldmVsID09PSAnV0FSTicpIHtcbiAgICAgICAgbGV2ZWwgPSAnV0FSTklORyc7XG4gICAgfVxuICAgIGlmICghc3RyaW5nVG9Mb2dMZXZlbFtsZXZlbF0pIHtcbiAgICAgICAgcmV0dXJuIGxldmVsO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nVG9Mb2dMZXZlbFtsZXZlbF07XG59XG52YXIgRGVmYXVsdExvZ01hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVmYXVsdExvZ01hbmFnZXIoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdExvZ2dlckZhY2FkZSA9IG5ldyBPcHRpbWl6ZWx5TG9nZ2VyKCk7XG4gICAgICAgIHRoaXMubG9nZ2VycyA9IHt9O1xuICAgIH1cbiAgICBEZWZhdWx0TG9nTWFuYWdlci5wcm90b3R5cGUuZ2V0TG9nZ2VyID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0TG9nZ2VyRmFjYWRlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5sb2dnZXJzW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcnNbbmFtZV0gPSBuZXcgT3B0aW1pemVseUxvZ2dlcih7IG1lc3NhZ2VQcmVmaXg6IG5hbWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubG9nZ2Vyc1tuYW1lXTtcbiAgICB9O1xuICAgIHJldHVybiBEZWZhdWx0TG9nTWFuYWdlcjtcbn0oKSk7XG52YXIgQ29uc29sZUxvZ0hhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBDb25zb2xlTG9nZ2VyLlxuICAgICAqIEBwYXJhbSB7Q29uc29sZUxvZ0hhbmRsZXJDb25maWd9IGNvbmZpZ1xuICAgICAqIEBtZW1iZXJvZiBDb25zb2xlTG9nZ2VyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29uc29sZUxvZ0hhbmRsZXIoY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxuICAgICAgICB0aGlzLmxvZ0xldmVsID0gbW9kZWxzXzEuTG9nTGV2ZWwuTk9UU0VUO1xuICAgICAgICBpZiAoY29uZmlnLmxvZ0xldmVsICE9PSB1bmRlZmluZWQgJiYganNfc2RrX3V0aWxzXzEuaXNWYWxpZEVudW0obW9kZWxzXzEuTG9nTGV2ZWwsIGNvbmZpZy5sb2dMZXZlbCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TG9nTGV2ZWwoY29uZmlnLmxvZ0xldmVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ1RvQ29uc29sZSA9IGNvbmZpZy5sb2dUb0NvbnNvbGUgIT09IHVuZGVmaW5lZCA/ICEhY29uZmlnLmxvZ1RvQ29uc29sZSA6IHRydWU7XG4gICAgICAgIHRoaXMucHJlZml4ID0gY29uZmlnLnByZWZpeCAhPT0gdW5kZWZpbmVkID8gY29uZmlnLnByZWZpeCA6ICdbT1BUSU1JWkVMWV0nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0xvZ0xldmVsfSBsZXZlbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gICAgICogQG1lbWJlcm9mIENvbnNvbGVMb2dnZXJcbiAgICAgKi9cbiAgICBDb25zb2xlTG9nSGFuZGxlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGxldmVsLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRMb2cobGV2ZWwpIHx8ICF0aGlzLmxvZ1RvQ29uc29sZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsb2dNZXNzYWdlID0gdGhpcy5wcmVmaXggKyBcIiAtIFwiICsgdGhpcy5nZXRMb2dMZXZlbE5hbWUobGV2ZWwpICsgXCIgXCIgKyB0aGlzLmdldFRpbWUoKSArIFwiIFwiICsgbWVzc2FnZTtcbiAgICAgICAgdGhpcy5jb25zb2xlTG9nKGxldmVsLCBbbG9nTWVzc2FnZV0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtMb2dMZXZlbH0gbGV2ZWxcbiAgICAgKiBAbWVtYmVyb2YgQ29uc29sZUxvZ2dlclxuICAgICAqL1xuICAgIENvbnNvbGVMb2dIYW5kbGVyLnByb3RvdHlwZS5zZXRMb2dMZXZlbCA9IGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICBsZXZlbCA9IGNvZXJjZUxvZ0xldmVsKGxldmVsKTtcbiAgICAgICAgaWYgKCFqc19zZGtfdXRpbHNfMS5pc1ZhbGlkRW51bShtb2RlbHNfMS5Mb2dMZXZlbCwgbGV2ZWwpIHx8IGxldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nTGV2ZWwgPSBtb2RlbHNfMS5Mb2dMZXZlbC5FUlJPUjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nTGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgQ29uc29sZUxvZ2dlclxuICAgICAqL1xuICAgIENvbnNvbGVMb2dIYW5kbGVyLnByb3RvdHlwZS5nZXRUaW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0xvZ0xldmVsfSB0YXJnZXRMb2dMZXZlbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBDb25zb2xlTG9nZ2VyXG4gICAgICovXG4gICAgQ29uc29sZUxvZ0hhbmRsZXIucHJvdG90eXBlLnNob3VsZExvZyA9IGZ1bmN0aW9uICh0YXJnZXRMb2dMZXZlbCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0TG9nTGV2ZWwgPj0gdGhpcy5sb2dMZXZlbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtMb2dMZXZlbH0gbG9nTGV2ZWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBDb25zb2xlTG9nZ2VyXG4gICAgICovXG4gICAgQ29uc29sZUxvZ0hhbmRsZXIucHJvdG90eXBlLmdldExvZ0xldmVsTmFtZSA9IGZ1bmN0aW9uIChsb2dMZXZlbCkge1xuICAgICAgICBzd2l0Y2ggKGxvZ0xldmVsKSB7XG4gICAgICAgICAgICBjYXNlIG1vZGVsc18xLkxvZ0xldmVsLkRFQlVHOlxuICAgICAgICAgICAgICAgIHJldHVybiAnREVCVUcnO1xuICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5Mb2dMZXZlbC5JTkZPOlxuICAgICAgICAgICAgICAgIHJldHVybiAnSU5GTyAnO1xuICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5Mb2dMZXZlbC5XQVJOSU5HOlxuICAgICAgICAgICAgICAgIHJldHVybiAnV0FSTiAnO1xuICAgICAgICAgICAgY2FzZSBtb2RlbHNfMS5Mb2dMZXZlbC5FUlJPUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0VSUk9SJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdOT1RTRVQnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TG9nTGV2ZWx9IGxvZ0xldmVsXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbG9nQXJndW1lbnRzXG4gICAgICogQG1lbWJlcm9mIENvbnNvbGVMb2dnZXJcbiAgICAgKi9cbiAgICBDb25zb2xlTG9nSGFuZGxlci5wcm90b3R5cGUuY29uc29sZUxvZyA9IGZ1bmN0aW9uIChsb2dMZXZlbCwgbG9nQXJndW1lbnRzKSB7XG4gICAgICAgIHN3aXRjaCAobG9nTGV2ZWwpIHtcbiAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuTG9nTGV2ZWwuREVCVUc6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgbG9nQXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuTG9nTGV2ZWwuSU5GTzpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8uYXBwbHkoY29uc29sZSwgbG9nQXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuTG9nTGV2ZWwuV0FSTklORzpcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSwgbG9nQXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbW9kZWxzXzEuTG9nTGV2ZWwuRVJST1I6XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCBsb2dBcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBsb2dBcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29uc29sZUxvZ0hhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5Db25zb2xlTG9nSGFuZGxlciA9IENvbnNvbGVMb2dIYW5kbGVyO1xudmFyIGdsb2JhbExvZ0xldmVsID0gbW9kZWxzXzEuTG9nTGV2ZWwuTk9UU0VUO1xudmFyIGdsb2JhbExvZ0hhbmRsZXIgPSBudWxsO1xudmFyIE9wdGltaXplbHlMb2dnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT3B0aW1pemVseUxvZ2dlcihvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIHRoaXMubWVzc2FnZVByZWZpeCA9ICcnO1xuICAgICAgICBpZiAob3B0cy5tZXNzYWdlUHJlZml4KSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VQcmVmaXggPSBvcHRzLm1lc3NhZ2VQcmVmaXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHsoTG9nTGV2ZWwgfCBMb2dJbnB1dE9iamVjdCl9IGxldmVsT3JPYmpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW21lc3NhZ2VdXG4gICAgICogQG1lbWJlcm9mIE9wdGltaXplbHlMb2dnZXJcbiAgICAgKi9cbiAgICBPcHRpbWl6ZWx5TG9nZ2VyLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAobGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIHNwbGF0ID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBzcGxhdFtfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludGVybmFsTG9nKGNvZXJjZUxvZ0xldmVsKGxldmVsKSwge1xuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIHNwbGF0OiBzcGxhdCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPcHRpbWl6ZWx5TG9nZ2VyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIHNwbGF0ID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBzcGxhdFtfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWVkTG9nKG1vZGVsc18xLkxvZ0xldmVsLklORk8sIG1lc3NhZ2UsIHNwbGF0KTtcbiAgICB9O1xuICAgIE9wdGltaXplbHlMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIHNwbGF0ID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBzcGxhdFtfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWVkTG9nKG1vZGVsc18xLkxvZ0xldmVsLkRFQlVHLCBtZXNzYWdlLCBzcGxhdCk7XG4gICAgfTtcbiAgICBPcHRpbWl6ZWx5TG9nZ2VyLnByb3RvdHlwZS53YXJuID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIHNwbGF0ID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBzcGxhdFtfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWVkTG9nKG1vZGVsc18xLkxvZ0xldmVsLldBUk5JTkcsIG1lc3NhZ2UsIHNwbGF0KTtcbiAgICB9O1xuICAgIE9wdGltaXplbHlMb2dnZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIHNwbGF0ID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBzcGxhdFtfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWVkTG9nKG1vZGVsc18xLkxvZ0xldmVsLkVSUk9SLCBtZXNzYWdlLCBzcGxhdCk7XG4gICAgfTtcbiAgICBPcHRpbWl6ZWx5TG9nZ2VyLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gXCJcIiArICh0aGlzLm1lc3NhZ2VQcmVmaXggPyB0aGlzLm1lc3NhZ2VQcmVmaXggKyAnOiAnIDogJycpICsganNfc2RrX3V0aWxzXzEuc3ByaW50Zi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXlzKFtkYXRhLm1lc3NhZ2VdLCBkYXRhLnNwbGF0KSk7XG4gICAgfTtcbiAgICBPcHRpbWl6ZWx5TG9nZ2VyLnByb3RvdHlwZS5pbnRlcm5hbExvZyA9IGZ1bmN0aW9uIChsZXZlbCwgZGF0YSkge1xuICAgICAgICBpZiAoIWdsb2JhbExvZ0hhbmRsZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGV2ZWwgPCBnbG9iYWxMb2dMZXZlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbExvZ0hhbmRsZXIubG9nKGxldmVsLCB0aGlzLmZvcm1hdChkYXRhKSk7XG4gICAgICAgIGlmIChkYXRhLmVycm9yICYmIGRhdGEuZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgZXJyb3JIYW5kbGVyXzEuZ2V0RXJyb3JIYW5kbGVyKCkuaGFuZGxlRXJyb3IoZGF0YS5lcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9wdGltaXplbHlMb2dnZXIucHJvdG90eXBlLm5hbWVkTG9nID0gZnVuY3Rpb24gKGxldmVsLCBtZXNzYWdlLCBzcGxhdCkge1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yID0gbWVzc2FnZTtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbExvZyhsZXZlbCwge1xuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIHNwbGF0OiBzcGxhdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGxhdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxMb2cobGV2ZWwsIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIHNwbGF0OiBzcGxhdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0ID0gc3BsYXRbc3BsYXQubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChsYXN0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yID0gbGFzdDtcbiAgICAgICAgICAgIHNwbGF0LnNwbGljZSgtMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcm5hbExvZyhsZXZlbCwgeyBtZXNzYWdlOiBtZXNzYWdlLCBlcnJvcjogZXJyb3IsIHNwbGF0OiBzcGxhdCB9KTtcbiAgICB9O1xuICAgIHJldHVybiBPcHRpbWl6ZWx5TG9nZ2VyO1xufSgpKTtcbnZhciBnbG9iYWxMb2dNYW5hZ2VyID0gbmV3IERlZmF1bHRMb2dNYW5hZ2VyKCk7XG5mdW5jdGlvbiBnZXRMb2dnZXIobmFtZSkge1xuICAgIHJldHVybiBnbG9iYWxMb2dNYW5hZ2VyLmdldExvZ2dlcihuYW1lKTtcbn1cbmV4cG9ydHMuZ2V0TG9nZ2VyID0gZ2V0TG9nZ2VyO1xuZnVuY3Rpb24gc2V0TG9nSGFuZGxlcihsb2dnZXIpIHtcbiAgICBnbG9iYWxMb2dIYW5kbGVyID0gbG9nZ2VyO1xufVxuZXhwb3J0cy5zZXRMb2dIYW5kbGVyID0gc2V0TG9nSGFuZGxlcjtcbmZ1bmN0aW9uIHNldExvZ0xldmVsKGxldmVsKSB7XG4gICAgbGV2ZWwgPSBjb2VyY2VMb2dMZXZlbChsZXZlbCk7XG4gICAgaWYgKCFqc19zZGtfdXRpbHNfMS5pc1ZhbGlkRW51bShtb2RlbHNfMS5Mb2dMZXZlbCwgbGV2ZWwpIHx8IGxldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZ2xvYmFsTG9nTGV2ZWwgPSBtb2RlbHNfMS5Mb2dMZXZlbC5FUlJPUjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdsb2JhbExvZ0xldmVsID0gbGV2ZWw7XG4gICAgfVxufVxuZXhwb3J0cy5zZXRMb2dMZXZlbCA9IHNldExvZ0xldmVsO1xuZnVuY3Rpb24gZ2V0TG9nTGV2ZWwoKSB7XG4gICAgcmV0dXJuIGdsb2JhbExvZ0xldmVsO1xufVxuZXhwb3J0cy5nZXRMb2dMZXZlbCA9IGdldExvZ0xldmVsO1xuLyoqXG4gKiBSZXNldHMgYWxsIGdsb2JhbCBsb2dnZXIgc3RhdGUgdG8gaXQncyBvcmlnaW5hbFxuICovXG5mdW5jdGlvbiByZXNldExvZ2dlcigpIHtcbiAgICBnbG9iYWxMb2dNYW5hZ2VyID0gbmV3IERlZmF1bHRMb2dNYW5hZ2VyKCk7XG4gICAgZ2xvYmFsTG9nTGV2ZWwgPSBtb2RlbHNfMS5Mb2dMZXZlbC5OT1RTRVQ7XG59XG5leHBvcnRzLnJlc2V0TG9nZ2VyID0gcmVzZXRMb2dnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTksIE9wdGltaXplbHlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIExvZ0xldmVsO1xuKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiTk9UU0VUXCJdID0gMF0gPSBcIk5PVFNFVFwiO1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiREVCVUdcIl0gPSAxXSA9IFwiREVCVUdcIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIklORk9cIl0gPSAyXSA9IFwiSU5GT1wiO1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV0FSTklOR1wiXSA9IDNdID0gXCJXQVJOSU5HXCI7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJFUlJPUlwiXSA9IDRdID0gXCJFUlJPUlwiO1xufSkoTG9nTGV2ZWwgPSBleHBvcnRzLkxvZ0xldmVsIHx8IChleHBvcnRzLkxvZ0xldmVsID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSwgT3B0aW1pemVseVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgdXVpZF8xID0gcmVxdWlyZShcInV1aWRcIik7XG5mdW5jdGlvbiBnZW5lcmF0ZVVVSUQoKSB7XG4gICAgcmV0dXJuIHV1aWRfMS52NCgpO1xufVxuZXhwb3J0cy5nZW5lcmF0ZVVVSUQgPSBnZW5lcmF0ZVVVSUQ7XG5mdW5jdGlvbiBnZXRUaW1lc3RhbXAoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufVxuZXhwb3J0cy5nZXRUaW1lc3RhbXAgPSBnZXRUaW1lc3RhbXA7XG4vKipcbiAqIFZhbGlkYXRlcyBhIHZhbHVlIGlzIGEgdmFsaWQgVHlwZVNjcmlwdCBlbnVtXG4gKlxuICogQGV4cG9ydFxuICogQHBhcmFtIHtvYmplY3R9IGVudW1Ub0NoZWNrXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZEVudW0oZW51bVRvQ2hlY2ssIHZhbHVlKSB7XG4gICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhlbnVtVG9DaGVjayk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGtleXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gZW51bVRvQ2hlY2tba2V5c1tpbmRleF1dKSB7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG59XG5leHBvcnRzLmlzVmFsaWRFbnVtID0gaXNWYWxpZEVudW07XG5mdW5jdGlvbiBncm91cEJ5KGFyciwgZ3JvdXBlckZuKSB7XG4gICAgdmFyIGdyb3VwZXIgPSB7fTtcbiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIga2V5ID0gZ3JvdXBlckZuKGl0ZW0pO1xuICAgICAgICBncm91cGVyW2tleV0gPSBncm91cGVyW2tleV0gfHwgW107XG4gICAgICAgIGdyb3VwZXJba2V5XS5wdXNoKGl0ZW0pO1xuICAgIH0pO1xuICAgIHJldHVybiBvYmplY3RWYWx1ZXMoZ3JvdXBlcik7XG59XG5leHBvcnRzLmdyb3VwQnkgPSBncm91cEJ5O1xuZnVuY3Rpb24gb2JqZWN0VmFsdWVzKG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvYmpba2V5XTsgfSk7XG59XG5leHBvcnRzLm9iamVjdFZhbHVlcyA9IG9iamVjdFZhbHVlcztcbmZ1bmN0aW9uIG9iamVjdEVudHJpZXMob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFtrZXksIG9ialtrZXldXTsgfSk7XG59XG5leHBvcnRzLm9iamVjdEVudHJpZXMgPSBvYmplY3RFbnRyaWVzO1xuZnVuY3Rpb24gZmluZChhcnIsIGNvbmQpIHtcbiAgICB2YXIgZm91bmQ7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBhcnJfMSA9IGFycjsgX2kgPCBhcnJfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBhcnJfMVtfaV07XG4gICAgICAgIGlmIChjb25kKGl0ZW0pKSB7XG4gICAgICAgICAgICBmb3VuZCA9IGl0ZW07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG59XG5leHBvcnRzLmZpbmQgPSBmaW5kO1xuZnVuY3Rpb24ga2V5QnkoYXJyLCBrZXlCeUZuKSB7XG4gICAgdmFyIG1hcCA9IHt9O1xuICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlCeUZuKGl0ZW0pO1xuICAgICAgICBtYXBba2V5XSA9IGl0ZW07XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hcDtcbn1cbmV4cG9ydHMua2V5QnkgPSBrZXlCeTtcbmZ1bmN0aW9uIHNwcmludGYoZm9ybWF0KSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmcgPSBhcmdzW2krK107XG4gICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGFyZztcbiAgICAgICAgaWYgKHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoYXJnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5zcHJpbnRmID0gc3ByaW50Zjtcbi8qXG4gKiBOb3RpZmljYXRpb24gdHlwZXMgZm9yIHVzZSB3aXRoIE5vdGlmaWNhdGlvbkNlbnRlclxuICogRm9ybWF0IGlzIEVWRU5UOiA8bGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGNhbGxiYWNrPlxuICpcbiAqIFNESyBjb25zdW1lcnMgY2FuIHVzZSB0aGVzZSB0byByZWdpc3RlciBjYWxsYmFja3Mgd2l0aCB0aGUgbm90aWZpY2F0aW9uIGNlbnRlci5cbiAqXG4gKiAgQGRlcHJlY2F0ZWQgc2luY2UgMy4xLjBcbiAqICBBQ1RJVkFURTogQW4gaW1wcmVzc2lvbiBldmVudCB3aWxsIGJlIHNlbnQgdG8gT3B0aW1pemVseVxuICogIENhbGxiYWNrcyB3aWxsIHJlY2VpdmUgYW4gb2JqZWN0IGFyZ3VtZW50IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAgLSBleHBlcmltZW50IHtPYmplY3R9XG4gKiAgICAtIHVzZXJJZCB7c3RyaW5nfVxuICogICAgLSBhdHRyaWJ1dGVzIHtPYmplY3R8dW5kZWZpbmVkfVxuICogICAgLSB2YXJpYXRpb24ge09iamVjdH1cbiAqICAgIC0gbG9nRXZlbnQge09iamVjdH1cbiAqXG4gKiAgREVDSVNJT046IEEgZGVjaXNpb24gaXMgbWFkZSBpbiB0aGUgc3lzdGVtLiBpLmUuIHVzZXIgYWN0aXZhdGlvbixcbiAqICBmZWF0dXJlIGFjY2VzcyBvciBmZWF0dXJlLXZhcmlhYmxlIHZhbHVlIHJldHJpZXZhbFxuICogIENhbGxiYWNrcyB3aWxsIHJlY2VpdmUgYW4gb2JqZWN0IGFyZ3VtZW50IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAgLSB0eXBlIHtzdHJpbmd9XG4gKiAgICAtIHVzZXJJZCB7c3RyaW5nfVxuICogICAgLSBhdHRyaWJ1dGVzIHtPYmplY3R8dW5kZWZpbmVkfVxuICogICAgLSBkZWNpc2lvbkluZm8ge09iamVjdHx1bmRlZmluZWR9XG4gKlxuICogIExPR19FVkVOVDogQSBiYXRjaCBvZiBldmVudHMsIHdoaWNoIGNvdWxkIGNvbnRhaW4gaW1wcmVzc2lvbnMgYW5kL29yIGNvbnZlcnNpb25zLFxuICogIHdpbGwgYmUgc2VudCB0byBPcHRpbWl6ZWx5XG4gKiAgQ2FsbGJhY2tzIHdpbGwgcmVjZWl2ZSBhbiBvYmplY3QgYXJndW1lbnQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiAgICAtIHVybCB7c3RyaW5nfVxuICogICAgLSBodHRwVmVyYiB7c3RyaW5nfVxuICogICAgLSBwYXJhbXMge09iamVjdH1cbiAqXG4gKiAgT1BUSU1JWkVMWV9DT05GSUdfVVBEQVRFOiBUaGlzIE9wdGltaXplbHkgaW5zdGFuY2UgaGFzIGJlZW4gdXBkYXRlZCB3aXRoIGEgbmV3XG4gKiAgY29uZmlnXG4gKlxuICogIFRSQUNLOiBBIGNvbnZlcnNpb24gZXZlbnQgd2lsbCBiZSBzZW50IHRvIE9wdGltaXplbHlcbiAqICBDYWxsYmFja3Mgd2lsbCByZWNlaXZlIHRoZSBhbiBvYmplY3QgYXJndW1lbnQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiAgICAtIGV2ZW50S2V5IHtzdHJpbmd9XG4gKiAgICAtIHVzZXJJZCB7c3RyaW5nfVxuICogICAgLSBhdHRyaWJ1dGVzIHtPYmplY3R8dW5kZWZpbmVkfVxuICogICAgLSBldmVudFRhZ3Mge09iamVjdHx1bmRlZmluZWR9XG4gKiAgICAtIGxvZ0V2ZW50IHtPYmplY3R9XG4gKlxuICovXG52YXIgTk9USUZJQ0FUSU9OX1RZUEVTO1xuKGZ1bmN0aW9uIChOT1RJRklDQVRJT05fVFlQRVMpIHtcbiAgICBOT1RJRklDQVRJT05fVFlQRVNbXCJBQ1RJVkFURVwiXSA9IFwiQUNUSVZBVEU6ZXhwZXJpbWVudCwgdXNlcl9pZCxhdHRyaWJ1dGVzLCB2YXJpYXRpb24sIGV2ZW50XCI7XG4gICAgTk9USUZJQ0FUSU9OX1RZUEVTW1wiREVDSVNJT05cIl0gPSBcIkRFQ0lTSU9OOnR5cGUsIHVzZXJJZCwgYXR0cmlidXRlcywgZGVjaXNpb25JbmZvXCI7XG4gICAgTk9USUZJQ0FUSU9OX1RZUEVTW1wiTE9HX0VWRU5UXCJdID0gXCJMT0dfRVZFTlQ6bG9nRXZlbnRcIjtcbiAgICBOT1RJRklDQVRJT05fVFlQRVNbXCJPUFRJTUlaRUxZX0NPTkZJR19VUERBVEVcIl0gPSBcIk9QVElNSVpFTFlfQ09ORklHX1VQREFURVwiO1xuICAgIE5PVElGSUNBVElPTl9UWVBFU1tcIlRSQUNLXCJdID0gXCJUUkFDSzpldmVudF9rZXksIHVzZXJfaWQsIGF0dHJpYnV0ZXMsIGV2ZW50X3RhZ3MsIGV2ZW50XCI7XG59KShOT1RJRklDQVRJT05fVFlQRVMgPSBleHBvcnRzLk5PVElGSUNBVElPTl9UWVBFUyB8fCAoZXhwb3J0cy5OT1RJRklDQVRJT05fVFlQRVMgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGUsdD1yZXF1aXJlKFwiQG9wdGltaXplbHkvanMtc2RrLWxvZ2dpbmdcIikscj1yZXF1aXJlKFwiQG9wdGltaXplbHkvanMtc2RrLWV2ZW50LXByb2Nlc3NvclwiKSxpPXJlcXVpcmUoXCJAb3B0aW1pemVseS9qcy1zZGstdXRpbHNcIiksbj0oZT1yZXF1aXJlKFwibXVybXVyaGFzaFwiKSkmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImRlZmF1bHRcImluIGU/ZS5kZWZhdWx0OmUsbz1yZXF1aXJlKFwiQG9wdGltaXplbHkvanMtc2RrLWRhdGFmaWxlLW1hbmFnZXJcIiksYT1mdW5jdGlvbigpe3JldHVybihhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsaT1hcmd1bWVudHMubGVuZ3RoO3I8aTtyKyspZm9yKHZhciBuIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gcygpe2Zvcih2YXIgZT0wLHQ9MCxyPWFyZ3VtZW50cy5sZW5ndGg7dDxyO3QrKyllKz1hcmd1bWVudHNbdF0ubGVuZ3RoO3ZhciBpPUFycmF5KGUpLG49MDtmb3IodD0wO3Q8cjt0KyspZm9yKHZhciBvPWFyZ3VtZW50c1t0XSxhPTAscz1vLmxlbmd0aDthPHM7YSsrLG4rKylpW25dPW9bYV07cmV0dXJuIGl9dmFyIHU9e05PVFNFVDowLERFQlVHOjEsSU5GTzoyLFdBUk5JTkc6MyxFUlJPUjo0fSxsPXtDT05ESVRJT05fRVZBTFVBVE9SX0VSUk9SOlwiJXM6IEVycm9yIGV2YWx1YXRpbmcgYXVkaWVuY2UgY29uZGl0aW9uIG9mIHR5cGUgJXM6ICVzXCIsREFUQUZJTEVfQU5EX1NES19LRVlfTUlTU0lORzpcIiVzOiBZb3UgbXVzdCBwcm92aWRlIGF0IGxlYXN0IG9uZSBvZiBzZGtLZXkgb3IgZGF0YWZpbGUuIENhbm5vdCBzdGFydCBPcHRpbWl6ZWx5XCIsRVhQRVJJTUVOVF9LRVlfTk9UX0lOX0RBVEFGSUxFOlwiJXM6IEV4cGVyaW1lbnQga2V5ICVzIGlzIG5vdCBpbiBkYXRhZmlsZS5cIixGRUFUVVJFX05PVF9JTl9EQVRBRklMRTpcIiVzOiBGZWF0dXJlIGtleSAlcyBpcyBub3QgaW4gZGF0YWZpbGUuXCIsSU1QUk9QRVJMWV9GT1JNQVRURURfRVhQRVJJTUVOVDpcIiVzOiBFeHBlcmltZW50IGtleSAlcyBpcyBpbXByb3Blcmx5IGZvcm1hdHRlZC5cIixJTlZBTElEX0FUVFJJQlVURVM6XCIlczogUHJvdmlkZWQgYXR0cmlidXRlcyBhcmUgaW4gYW4gaW52YWxpZCBmb3JtYXQuXCIsSU5WQUxJRF9CVUNLRVRJTkdfSUQ6XCIlczogVW5hYmxlIHRvIGdlbmVyYXRlIGhhc2ggZm9yIGJ1Y2tldGluZyBJRCAlczogJXNcIixJTlZBTElEX0RBVEFGSUxFOlwiJXM6IERhdGFmaWxlIGlzIGludmFsaWQgLSBwcm9wZXJ0eSAlczogJXNcIixJTlZBTElEX0RBVEFGSUxFX01BTEZPUk1FRDpcIiVzOiBEYXRhZmlsZSBpcyBpbnZhbGlkIGJlY2F1c2UgaXQgaXMgbWFsZm9ybWVkLlwiLElOVkFMSURfQ09ORklHOlwiJXM6IFByb3ZpZGVkIE9wdGltaXplbHkgY29uZmlnIGlzIGluIGFuIGludmFsaWQgZm9ybWF0LlwiLElOVkFMSURfSlNPTjpcIiVzOiBKU09OIG9iamVjdCBpcyBub3QgdmFsaWQuXCIsSU5WQUxJRF9FUlJPUl9IQU5ETEVSOiclczogUHJvdmlkZWQgXCJlcnJvckhhbmRsZXJcIiBpcyBpbiBhbiBpbnZhbGlkIGZvcm1hdC4nLElOVkFMSURfRVZFTlRfRElTUEFUQ0hFUjonJXM6IFByb3ZpZGVkIFwiZXZlbnREaXNwYXRjaGVyXCIgaXMgaW4gYW4gaW52YWxpZCBmb3JtYXQuJyxJTlZBTElEX0VWRU5UX1RBR1M6XCIlczogUHJvdmlkZWQgZXZlbnQgdGFncyBhcmUgaW4gYW4gaW52YWxpZCBmb3JtYXQuXCIsSU5WQUxJRF9FWFBFUklNRU5UX0tFWTpcIiVzOiBFeHBlcmltZW50IGtleSAlcyBpcyBub3QgaW4gZGF0YWZpbGUuIEl0IGlzIGVpdGhlciBpbnZhbGlkLCBwYXVzZWQsIG9yIGFyY2hpdmVkLlwiLElOVkFMSURfRVhQRVJJTUVOVF9JRDpcIiVzOiBFeHBlcmltZW50IElEICVzIGlzIG5vdCBpbiBkYXRhZmlsZS5cIixJTlZBTElEX0dST1VQX0lEOlwiJXM6IEdyb3VwIElEICVzIGlzIG5vdCBpbiBkYXRhZmlsZS5cIixJTlZBTElEX0xPR0dFUjonJXM6IFByb3ZpZGVkIFwibG9nZ2VyXCIgaXMgaW4gYW4gaW52YWxpZCBmb3JtYXQuJyxJTlZBTElEX1JPTExPVVRfSUQ6XCIlczogSW52YWxpZCByb2xsb3V0IElEICVzIGF0dGFjaGVkIHRvIGZlYXR1cmUgJXNcIixJTlZBTElEX1VTRVJfSUQ6XCIlczogUHJvdmlkZWQgdXNlciBJRCBpcyBpbiBhbiBpbnZhbGlkIGZvcm1hdC5cIixJTlZBTElEX1VTRVJfUFJPRklMRV9TRVJWSUNFOlwiJXM6IFByb3ZpZGVkIHVzZXIgcHJvZmlsZSBzZXJ2aWNlIGluc3RhbmNlIGlzIGluIGFuIGludmFsaWQgZm9ybWF0OiAlcy5cIixOT19EQVRBRklMRV9TUEVDSUZJRUQ6XCIlczogTm8gZGF0YWZpbGUgc3BlY2lmaWVkLiBDYW5ub3Qgc3RhcnQgb3B0aW1pemVseS5cIixOT19KU09OX1BST1ZJREVEOlwiJXM6IE5vIEpTT04gb2JqZWN0IHRvIHZhbGlkYXRlIGFnYWluc3Qgc2NoZW1hLlwiLE5PX1ZBUklBVElPTl9GT1JfRVhQRVJJTUVOVF9LRVk6XCIlczogTm8gdmFyaWF0aW9uIGtleSAlcyBkZWZpbmVkIGluIGRhdGFmaWxlIGZvciBleHBlcmltZW50ICVzLlwiLFVOREVGSU5FRF9BVFRSSUJVVEU6XCIlczogUHJvdmlkZWQgYXR0cmlidXRlOiAlcyBoYXMgYW4gdW5kZWZpbmVkIHZhbHVlLlwiLFVOUkVDT0dOSVpFRF9BVFRSSUJVVEU6XCIlczogVW5yZWNvZ25pemVkIGF0dHJpYnV0ZSAlcyBwcm92aWRlZC4gUHJ1bmluZyBiZWZvcmUgc2VuZGluZyBldmVudCB0byBPcHRpbWl6ZWx5LlwiLFVOQUJMRV9UT19DQVNUX1ZBTFVFOlwiJXM6IFVuYWJsZSB0byBjYXN0IHZhbHVlICVzIHRvIHR5cGUgJXMsIHJldHVybmluZyBudWxsLlwiLFVTRVJfTk9UX0lOX0ZPUkNFRF9WQVJJQVRJT046XCIlczogVXNlciAlcyBpcyBub3QgaW4gdGhlIGZvcmNlZCB2YXJpYXRpb24gbWFwLiBDYW5ub3QgcmVtb3ZlIHRoZWlyIGZvcmNlZCB2YXJpYXRpb24uXCIsVVNFUl9QUk9GSUxFX0xPT0tVUF9FUlJPUjonJXM6IEVycm9yIHdoaWxlIGxvb2tpbmcgdXAgdXNlciBwcm9maWxlIGZvciB1c2VyIElEIFwiJXNcIjogJXMuJyxVU0VSX1BST0ZJTEVfU0FWRV9FUlJPUjonJXM6IEVycm9yIHdoaWxlIHNhdmluZyB1c2VyIHByb2ZpbGUgZm9yIHVzZXIgSUQgXCIlc1wiOiAlcy4nLFZBUklBQkxFX0tFWV9OT1RfSU5fREFUQUZJTEU6JyVzOiBWYXJpYWJsZSB3aXRoIGtleSBcIiVzXCIgYXNzb2NpYXRlZCB3aXRoIGZlYXR1cmUgd2l0aCBrZXkgXCIlc1wiIGlzIG5vdCBpbiBkYXRhZmlsZS4nLFZBUklBVElPTl9JRF9OT1RfSU5fREFUQUZJTEU6XCIlczogTm8gdmFyaWF0aW9uIElEICVzIGRlZmluZWQgaW4gZGF0YWZpbGUgZm9yIGV4cGVyaW1lbnQgJXMuXCIsVkFSSUFUSU9OX0lEX05PVF9JTl9EQVRBRklMRV9OT19FWFBFUklNRU5UOlwiJXM6IFZhcmlhdGlvbiBJRCAlcyBpcyBub3QgaW4gdGhlIGRhdGFmaWxlLlwiLElOVkFMSURfSU5QVVRfRk9STUFUOlwiJXM6IFByb3ZpZGVkICVzIGlzIGluIGFuIGludmFsaWQgZm9ybWF0LlwiLElOVkFMSURfREFUQUZJTEVfVkVSU0lPTjpcIiVzOiBUaGlzIHZlcnNpb24gb2YgdGhlIEphdmFTY3JpcHQgU0RLIGRvZXMgbm90IHN1cHBvcnQgdGhlIGdpdmVuIGRhdGFmaWxlIHZlcnNpb246ICVzXCIsSU5WQUxJRF9WQVJJQVRJT05fS0VZOlwiJXM6IFByb3ZpZGVkIHZhcmlhdGlvbiBrZXkgaXMgaW4gYW4gaW52YWxpZCBmb3JtYXQuXCJ9LEU9e0FDVElWQVRFX1VTRVI6XCIlczogQWN0aXZhdGluZyB1c2VyICVzIGluIGV4cGVyaW1lbnQgJXMuXCIsRElTUEFUQ0hfQ09OVkVSU0lPTl9FVkVOVDpcIiVzOiBEaXNwYXRjaGluZyBjb252ZXJzaW9uIGV2ZW50IHRvIFVSTCAlcyB3aXRoIHBhcmFtcyAlcy5cIixESVNQQVRDSF9JTVBSRVNTSU9OX0VWRU5UOlwiJXM6IERpc3BhdGNoaW5nIGltcHJlc3Npb24gZXZlbnQgdG8gVVJMICVzIHdpdGggcGFyYW1zICVzLlwiLERFUFJFQ0FURURfRVZFTlRfVkFMVUU6XCIlczogRXZlbnQgdmFsdWUgaXMgZGVwcmVjYXRlZCBpbiAlcyBjYWxsLlwiLEVWRU5UX0tFWV9OT1RfRk9VTkQ6XCIlczogRXZlbnQga2V5ICVzIGlzIG5vdCBpbiBkYXRhZmlsZS5cIixFWFBFUklNRU5UX05PVF9SVU5OSU5HOlwiJXM6IEV4cGVyaW1lbnQgJXMgaXMgbm90IHJ1bm5pbmcuXCIsRkVBVFVSRV9FTkFCTEVEX0ZPUl9VU0VSOlwiJXM6IEZlYXR1cmUgJXMgaXMgZW5hYmxlZCBmb3IgdXNlciAlcy5cIixGRUFUVVJFX05PVF9FTkFCTEVEX0ZPUl9VU0VSOlwiJXM6IEZlYXR1cmUgJXMgaXMgbm90IGVuYWJsZWQgZm9yIHVzZXIgJXMuXCIsRkVBVFVSRV9IQVNfTk9fRVhQRVJJTUVOVFM6XCIlczogRmVhdHVyZSAlcyBpcyBub3QgYXR0YWNoZWQgdG8gYW55IGV4cGVyaW1lbnRzLlwiLEZBSUxFRF9UT19QQVJTRV9WQUxVRTonJXM6IEZhaWxlZCB0byBwYXJzZSBldmVudCB2YWx1ZSBcIiVzXCIgZnJvbSBldmVudCB0YWdzLicsRkFJTEVEX1RPX1BBUlNFX1JFVkVOVUU6JyVzOiBGYWlsZWQgdG8gcGFyc2UgcmV2ZW51ZSB2YWx1ZSBcIiVzXCIgZnJvbSBldmVudCB0YWdzLicsRk9SQ0VEX0JVQ0tFVElOR19GQUlMRUQ6XCIlczogVmFyaWF0aW9uIGtleSAlcyBpcyBub3QgaW4gZGF0YWZpbGUuIE5vdCBhY3RpdmF0aW5nIHVzZXIgJXMuXCIsSU5WQUxJRF9PQkpFQ1Q6XCIlczogT3B0aW1pemVseSBvYmplY3QgaXMgbm90IHZhbGlkLiBGYWlsaW5nICVzLlwiLElOVkFMSURfQ0xJRU5UX0VOR0lORTpcIiVzOiBJbnZhbGlkIGNsaWVudCBlbmdpbmUgcGFzc2VkOiAlcy4gRGVmYXVsdGluZyB0byBub2RlLXNkay5cIixJTlZBTElEX0RFRkFVTFRfREVDSURFX09QVElPTlM6XCIlczogUHJvdmlkZWQgZGVmYXVsdCBkZWNpZGUgb3B0aW9ucyBpcyBub3QgYW4gYXJyYXkuXCIsSU5WQUxJRF9ERUNJREVfT1BUSU9OUzpcIiVzOiBQcm92aWRlZCBkZWNpZGUgb3B0aW9ucyBpcyBub3QgYW4gYXJyYXkuIFVzaW5nIGRlZmF1bHQgZGVjaWRlIG9wdGlvbnMuXCIsSU5WQUxJRF9WQVJJQVRJT05fSUQ6XCIlczogQnVja2V0ZWQgaW50byBhbiBpbnZhbGlkIHZhcmlhdGlvbiBJRC4gUmV0dXJuaW5nIG51bGwuXCIsTk9USUZJQ0FUSU9OX0xJU1RFTkVSX0VYQ0VQVElPTjpcIiVzOiBOb3RpZmljYXRpb24gbGlzdGVuZXIgZm9yICglcykgdGhyZXcgZXhjZXB0aW9uOiAlc1wiLE5PX1JPTExPVVRfRVhJU1RTOlwiJXM6IFRoZXJlIGlzIG5vIHJvbGxvdXQgb2YgZmVhdHVyZSAlcy5cIixOT1RfQUNUSVZBVElOR19VU0VSOlwiJXM6IE5vdCBhY3RpdmF0aW5nIHVzZXIgJXMgZm9yIGV4cGVyaW1lbnQgJXMuXCIsTk9UX1RSQUNLSU5HX1VTRVI6XCIlczogTm90IHRyYWNraW5nIHVzZXIgJXMuXCIsUEFSU0VEX1JFVkVOVUVfVkFMVUU6JyVzOiBQYXJzZWQgcmV2ZW51ZSB2YWx1ZSBcIiVzXCIgZnJvbSBldmVudCB0YWdzLicsUEFSU0VEX05VTUVSSUNfVkFMVUU6JyVzOiBQYXJzZWQgZXZlbnQgdmFsdWUgXCIlc1wiIGZyb20gZXZlbnQgdGFncy4nLFJFVFVSTklOR19TVE9SRURfVkFSSUFUSU9OOiclczogUmV0dXJuaW5nIHByZXZpb3VzbHkgYWN0aXZhdGVkIHZhcmlhdGlvbiBcIiVzXCIgb2YgZXhwZXJpbWVudCBcIiVzXCIgZm9yIHVzZXIgXCIlc1wiIGZyb20gdXNlciBwcm9maWxlLicsUk9MTE9VVF9IQVNfTk9fRVhQRVJJTUVOVFM6XCIlczogUm9sbG91dCBvZiBmZWF0dXJlICVzIGhhcyBubyBleHBlcmltZW50c1wiLFNBVkVEX1ZBUklBVElPTjonJXM6IFNhdmVkIHZhcmlhdGlvbiBcIiVzXCIgb2YgZXhwZXJpbWVudCBcIiVzXCIgZm9yIHVzZXIgXCIlc1wiLicsU0FWRURfVkFSSUFUSU9OX05PVF9GT1VORDpcIiVzOiBVc2VyICVzIHdhcyBwcmV2aW91c2x5IGJ1Y2tldGVkIGludG8gdmFyaWF0aW9uIHdpdGggSUQgJXMgZm9yIGV4cGVyaW1lbnQgJXMsIGJ1dCBubyBtYXRjaGluZyB2YXJpYXRpb24gd2FzIGZvdW5kLlwiLFNIT1VMRF9OT1RfRElTUEFUQ0hfQUNUSVZBVEU6JyVzOiBFeHBlcmltZW50ICVzIGlzIG5vdCBpbiBcIlJ1bm5pbmdcIiBzdGF0ZS4gTm90IGFjdGl2YXRpbmcgdXNlci4nLFNLSVBQSU5HX0pTT05fVkFMSURBVElPTjpcIiVzOiBTa2lwcGluZyBKU09OIHNjaGVtYSB2YWxpZGF0aW9uLlwiLFRSQUNLX0VWRU5UOlwiJXM6IFRyYWNraW5nIGV2ZW50ICVzIGZvciB1c2VyICVzLlwiLFVOUkVDT0dOSVpFRF9ERUNJREVfT1BUSU9OOlwiJXM6IFVucmVjb2duaXplZCBkZWNpZGUgb3B0aW9uICVzIHByb3ZpZGVkLlwiLFVTRVJfQVNTSUdORURfVE9fRVhQRVJJTUVOVF9CVUNLRVQ6XCIlczogQXNzaWduZWQgYnVja2V0ICVzIHRvIHVzZXIgd2l0aCBidWNrZXRpbmcgSUQgJXMuXCIsVVNFUl9CVUNLRVRFRF9JTlRPX0VYUEVSSU1FTlRfSU5fR1JPVVA6XCIlczogVXNlciAlcyBpcyBpbiBleHBlcmltZW50ICVzIG9mIGdyb3VwICVzLlwiLFVTRVJfQlVDS0VURURfSU5UT19UQVJHRVRJTkdfUlVMRTpcIiVzOiBVc2VyICVzIGJ1Y2tldGVkIGludG8gdGFyZ2V0aW5nIHJ1bGUgJXMuXCIsVVNFUl9JTl9GRUFUVVJFX0VYUEVSSU1FTlQ6XCIlczogVXNlciAlcyBpcyBpbiB2YXJpYXRpb24gJXMgb2YgZXhwZXJpbWVudCAlcyBvbiB0aGUgZmVhdHVyZSAlcy5cIixVU0VSX0lOX1JPTExPVVQ6XCIlczogVXNlciAlcyBpcyBpbiByb2xsb3V0IG9mIGZlYXR1cmUgJXMuXCIsVVNFUl9OT1RfQlVDS0VURURfSU5UT19FVkVSWU9ORV9UQVJHRVRJTkdfUlVMRTpcIiVzOiBVc2VyICVzIG5vdCBidWNrZXRlZCBpbnRvIGV2ZXJ5b25lIHRhcmdldGluZyBydWxlIGR1ZSB0byB0cmFmZmljIGFsbG9jYXRpb24uXCIsVVNFUl9OT1RfQlVDS0VURURfSU5UT19FWFBFUklNRU5UX0lOX0dST1VQOlwiJXM6IFVzZXIgJXMgaXMgbm90IGluIGV4cGVyaW1lbnQgJXMgb2YgZ3JvdXAgJXMuXCIsVVNFUl9OT1RfQlVDS0VURURfSU5UT19BTllfRVhQRVJJTUVOVF9JTl9HUk9VUDpcIiVzOiBVc2VyICVzIGlzIG5vdCBpbiBhbnkgZXhwZXJpbWVudCBvZiBncm91cCAlcy5cIixVU0VSX05PVF9CVUNLRVRFRF9JTlRPX1RBUkdFVElOR19SVUxFOlwiJXMgVXNlciAlcyBub3QgYnVja2V0ZWQgaW50byB0YXJnZXRpbmcgcnVsZSAlcyBkdWUgdG8gdHJhZmZpYyBhbGxvY2F0aW9uLiBUcnlpbmcgZXZlcnlvbmUgcnVsZS5cIixVU0VSX05PVF9JTl9GRUFUVVJFX0VYUEVSSU1FTlQ6XCIlczogVXNlciAlcyBpcyBub3QgaW4gYW55IGV4cGVyaW1lbnQgb24gdGhlIGZlYXR1cmUgJXMuXCIsVVNFUl9OT1RfSU5fUk9MTE9VVDpcIiVzOiBVc2VyICVzIGlzIG5vdCBpbiByb2xsb3V0IG9mIGZlYXR1cmUgJXMuXCIsVVNFUl9GT1JDRURfSU5fVkFSSUFUSU9OOlwiJXM6IFVzZXIgJXMgaXMgZm9yY2VkIGluIHZhcmlhdGlvbiAlcy5cIixVU0VSX01BUFBFRF9UT19GT1JDRURfVkFSSUFUSU9OOlwiJXM6IFNldCB2YXJpYXRpb24gJXMgZm9yIGV4cGVyaW1lbnQgJXMgYW5kIHVzZXIgJXMgaW4gdGhlIGZvcmNlZCB2YXJpYXRpb24gbWFwLlwiLFVTRVJfRE9FU05UX01FRVRfQ09ORElUSU9OU19GT1JfVEFSR0VUSU5HX1JVTEU6XCIlczogVXNlciAlcyBkb2VzIG5vdCBtZWV0IGNvbmRpdGlvbnMgZm9yIHRhcmdldGluZyBydWxlICVzLlwiLFVTRVJfTUVFVFNfQ09ORElUSU9OU19GT1JfVEFSR0VUSU5HX1JVTEU6XCIlczogVXNlciAlcyBtZWV0cyBjb25kaXRpb25zIGZvciB0YXJnZXRpbmcgcnVsZSAlcy5cIixVU0VSX0hBU19WQVJJQVRJT046XCIlczogVXNlciAlcyBpcyBpbiB2YXJpYXRpb24gJXMgb2YgZXhwZXJpbWVudCAlcy5cIixVU0VSX0hBU19GT1JDRURfREVDSVNJT05fV0lUSF9SVUxFX1NQRUNJRklFRDpcIlZhcmlhdGlvbiAoJXMpIGlzIG1hcHBlZCB0byBmbGFnICglcyksIHJ1bGUgKCVzKSBhbmQgdXNlciAoJXMpIGluIHRoZSBmb3JjZWQgZGVjaXNpb24gbWFwLlwiLFVTRVJfSEFTX0ZPUkNFRF9ERUNJU0lPTl9XSVRIX05PX1JVTEVfU1BFQ0lGSUVEOlwiVmFyaWF0aW9uICglcykgaXMgbWFwcGVkIHRvIGZsYWcgKCVzKSBhbmQgdXNlciAoJXMpIGluIHRoZSBmb3JjZWQgZGVjaXNpb24gbWFwLlwiLFVTRVJfSEFTX0ZPUkNFRF9ERUNJU0lPTl9XSVRIX1JVTEVfU1BFQ0lGSUVEX0JVVF9JTlZBTElEOlwiSW52YWxpZCB2YXJpYXRpb24gaXMgbWFwcGVkIHRvIGZsYWcgKCVzKSwgcnVsZSAoJXMpIGFuZCB1c2VyICglcykgaW4gdGhlIGZvcmNlZCBkZWNpc2lvbiBtYXAuXCIsVVNFUl9IQVNfRk9SQ0VEX0RFQ0lTSU9OX1dJVEhfTk9fUlVMRV9TUEVDSUZJRURfQlVUX0lOVkFMSUQ6XCJJbnZhbGlkIHZhcmlhdGlvbiBpcyBtYXBwZWQgdG8gZmxhZyAoJXMpIGFuZCB1c2VyICglcykgaW4gdGhlIGZvcmNlZCBkZWNpc2lvbiBtYXAuXCIsVVNFUl9IQVNfRk9SQ0VEX1ZBUklBVElPTjpcIiVzOiBWYXJpYXRpb24gJXMgaXMgbWFwcGVkIHRvIGV4cGVyaW1lbnQgJXMgYW5kIHVzZXIgJXMgaW4gdGhlIGZvcmNlZCB2YXJpYXRpb24gbWFwLlwiLFVTRVJfSEFTX05PX1ZBUklBVElPTjpcIiVzOiBVc2VyICVzIGlzIGluIG5vIHZhcmlhdGlvbiBvZiBleHBlcmltZW50ICVzLlwiLFVTRVJfSEFTX05PX0ZPUkNFRF9WQVJJQVRJT046XCIlczogVXNlciAlcyBpcyBub3QgaW4gdGhlIGZvcmNlZCB2YXJpYXRpb24gbWFwLlwiLFVTRVJfSEFTX05PX0ZPUkNFRF9WQVJJQVRJT05fRk9SX0VYUEVSSU1FTlQ6XCIlczogTm8gZXhwZXJpbWVudCAlcyBtYXBwZWQgdG8gdXNlciAlcyBpbiB0aGUgZm9yY2VkIHZhcmlhdGlvbiBtYXAuXCIsVVNFUl9OT1RfSU5fQU5ZX0VYUEVSSU1FTlQ6XCIlczogVXNlciAlcyBpcyBub3QgaW4gYW55IGV4cGVyaW1lbnQgb2YgZ3JvdXAgJXMuXCIsVVNFUl9OT1RfSU5fRVhQRVJJTUVOVDpcIiVzOiBVc2VyICVzIGRvZXMgbm90IG1lZXQgY29uZGl0aW9ucyB0byBiZSBpbiBleHBlcmltZW50ICVzLlwiLFVTRVJfUkVDRUlWRURfREVGQVVMVF9WQVJJQUJMRV9WQUxVRTonJXM6IFVzZXIgXCIlc1wiIGlzIG5vdCBpbiBhbnkgdmFyaWF0aW9uIG9yIHJvbGxvdXQgcnVsZS4gUmV0dXJuaW5nIGRlZmF1bHQgdmFsdWUgZm9yIHZhcmlhYmxlIFwiJXNcIiBvZiBmZWF0dXJlIGZsYWcgXCIlc1wiLicsRkVBVFVSRV9OT1RfRU5BQkxFRF9SRVRVUk5fREVGQVVMVF9WQVJJQUJMRV9WQUxVRTonJXM6IEZlYXR1cmUgXCIlc1wiIGlzIG5vdCBlbmFibGVkIGZvciB1c2VyICVzLiBSZXR1cm5pbmcgdGhlIGRlZmF1bHQgdmFyaWFibGUgdmFsdWUgXCIlc1wiLicsVkFSSUFCTEVfTk9UX1VTRURfUkVUVVJOX0RFRkFVTFRfVkFSSUFCTEVfVkFMVUU6JyVzOiBWYXJpYWJsZSBcIiVzXCIgaXMgbm90IHVzZWQgaW4gdmFyaWF0aW9uIFwiJXNcIi4gUmV0dXJuaW5nIGRlZmF1bHQgdmFsdWUuJyxVU0VSX1JFQ0VJVkVEX1ZBUklBQkxFX1ZBTFVFOiclczogR290IHZhcmlhYmxlIHZhbHVlIFwiJXNcIiBmb3IgdmFyaWFibGUgXCIlc1wiIG9mIGZlYXR1cmUgZmxhZyBcIiVzXCInLFZBTElEX0RBVEFGSUxFOlwiJXM6IERhdGFmaWxlIGlzIHZhbGlkLlwiLFZBTElEX1VTRVJfUFJPRklMRV9TRVJWSUNFOlwiJXM6IFZhbGlkIHVzZXIgcHJvZmlsZSBzZXJ2aWNlIHByb3ZpZGVkLlwiLFZBUklBVElPTl9SRU1PVkVEX0ZPUl9VU0VSOlwiJXM6IFZhcmlhdGlvbiBtYXBwZWQgdG8gZXhwZXJpbWVudCAlcyBoYXMgYmVlbiByZW1vdmVkIGZvciB1c2VyICVzLlwiLFZBUklBQkxFX1JFUVVFU1RFRF9XSVRIX1dST05HX1RZUEU6JyVzOiBSZXF1ZXN0ZWQgdmFyaWFibGUgdHlwZSBcIiVzXCIsIGJ1dCB2YXJpYWJsZSBpcyBvZiB0eXBlIFwiJXNcIi4gVXNlIGNvcnJlY3QgQVBJIHRvIHJldHJpZXZlIHZhbHVlLiBSZXR1cm5pbmcgTm9uZS4nLFZBTElEX0JVQ0tFVElOR19JRDonJXM6IEJ1Y2tldGluZ0lkIGlzIHZhbGlkOiBcIiVzXCInLEJVQ0tFVElOR19JRF9OT1RfU1RSSU5HOlwiJXM6IEJ1Y2tldGluZ0lEIGF0dHJpYnV0ZSBpcyBub3QgYSBzdHJpbmcuIERlZmF1bHRlZCB0byB1c2VySWRcIixFVkFMVUFUSU5HX0FVRElFTkNFOiclczogU3RhcnRpbmcgdG8gZXZhbHVhdGUgYXVkaWVuY2UgXCIlc1wiIHdpdGggY29uZGl0aW9uczogJXMuJyxFVkFMVUFUSU5HX0FVRElFTkNFU19DT01CSU5FRDonJXM6IEV2YWx1YXRpbmcgYXVkaWVuY2VzIGZvciAlcyBcIiVzXCI6ICVzLicsQVVESUVOQ0VfRVZBTFVBVElPTl9SRVNVTFQ6JyVzOiBBdWRpZW5jZSBcIiVzXCIgZXZhbHVhdGVkIHRvICVzLicsQVVESUVOQ0VfRVZBTFVBVElPTl9SRVNVTFRfQ09NQklORUQ6XCIlczogQXVkaWVuY2VzIGZvciAlcyAlcyBjb2xsZWN0aXZlbHkgZXZhbHVhdGVkIHRvICVzLlwiLE1JU1NJTkdfQVRUUklCVVRFX1ZBTFVFOiclczogQXVkaWVuY2UgY29uZGl0aW9uICVzIGV2YWx1YXRlZCB0byBVTktOT1dOIGJlY2F1c2Ugbm8gdmFsdWUgd2FzIHBhc3NlZCBmb3IgdXNlciBhdHRyaWJ1dGUgXCIlc1wiLicsVU5FWFBFQ1RFRF9DT05ESVRJT05fVkFMVUU6XCIlczogQXVkaWVuY2UgY29uZGl0aW9uICVzIGV2YWx1YXRlZCB0byBVTktOT1dOIGJlY2F1c2UgdGhlIGNvbmRpdGlvbiB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkLlwiLFVORVhQRUNURURfVFlQRTonJXM6IEF1ZGllbmNlIGNvbmRpdGlvbiAlcyBldmFsdWF0ZWQgdG8gVU5LTk9XTiBiZWNhdXNlIGEgdmFsdWUgb2YgdHlwZSBcIiVzXCIgd2FzIHBhc3NlZCBmb3IgdXNlciBhdHRyaWJ1dGUgXCIlc1wiLicsVU5FWFBFQ1RFRF9UWVBFX05VTEw6JyVzOiBBdWRpZW5jZSBjb25kaXRpb24gJXMgZXZhbHVhdGVkIHRvIFVOS05PV04gYmVjYXVzZSBhIG51bGwgdmFsdWUgd2FzIHBhc3NlZCBmb3IgdXNlciBhdHRyaWJ1dGUgXCIlc1wiLicsVU5LTk9XTl9DT05ESVRJT05fVFlQRTpcIiVzOiBBdWRpZW5jZSBjb25kaXRpb24gJXMgaGFzIGFuIHVua25vd24gY29uZGl0aW9uIHR5cGUuIFlvdSBtYXkgbmVlZCB0byB1cGdyYWRlIHRvIGEgbmV3ZXIgcmVsZWFzZSBvZiB0aGUgT3B0aW1pemVseSBTREsuXCIsVU5LTk9XTl9NQVRDSF9UWVBFOlwiJXM6IEF1ZGllbmNlIGNvbmRpdGlvbiAlcyB1c2VzIGFuIHVua25vd24gbWF0Y2ggdHlwZS4gWW91IG1heSBuZWVkIHRvIHVwZ3JhZGUgdG8gYSBuZXdlciByZWxlYXNlIG9mIHRoZSBPcHRpbWl6ZWx5IFNESy5cIixVUERBVEVEX09QVElNSVpFTFlfQ09ORklHOlwiJXM6IFVwZGF0ZWQgT3B0aW1pemVseSBjb25maWcgdG8gcmV2aXNpb24gJXMgKHByb2plY3QgaWQgJXMpXCIsT1VUX09GX0JPVU5EUzonJXM6IEF1ZGllbmNlIGNvbmRpdGlvbiAlcyBldmFsdWF0ZWQgdG8gVU5LTk9XTiBiZWNhdXNlIHRoZSBudW1iZXIgdmFsdWUgZm9yIHVzZXIgYXR0cmlidXRlIFwiJXNcIiBpcyBub3QgaW4gdGhlIHJhbmdlIFstMl41MywgKzJeNTNdLicsVU5BQkxFX1RPX0FUVEFDSF9VTkxPQUQ6JyVzOiB1bmFibGUgdG8gYmluZCBvcHRpbWl6ZWx5LmNsb3NlKCkgdG8gcGFnZSB1bmxvYWQgZXZlbnQ6IFwiJXNcIid9LEk9e0JPVF9GSUxURVJJTkc6XCIkb3B0X2JvdF9maWx0ZXJpbmdcIixCVUNLRVRJTkdfSUQ6XCIkb3B0X2J1Y2tldGluZ19pZFwiLFNUSUNLWV9CVUNLRVRJTkdfS0VZOlwiJG9wdF9leHBlcmltZW50X2J1Y2tldF9tYXBcIixVU0VSX0FHRU5UOlwiJG9wdF91c2VyX2FnZW50XCIsRk9SQ0VEX0RFQ0lTSU9OX05VTExfUlVMRV9LRVk6XCIkb3B0X251bGxfcnVsZV9rZXlcIn0sYz1pLk5PVElGSUNBVElPTl9UWVBFUyxmPXtBQl9URVNUOlwiYWItdGVzdFwiLEZFQVRVUkU6XCJmZWF0dXJlXCIsRkVBVFVSRV9URVNUOlwiZmVhdHVyZS10ZXN0XCIsRkVBVFVSRV9WQVJJQUJMRTpcImZlYXR1cmUtdmFyaWFibGVcIixBTExfRkVBVFVSRV9WQVJJQUJMRVM6XCJhbGwtZmVhdHVyZS12YXJpYWJsZXNcIixGTEFHOlwiZmxhZ1wifSxfPXtGRUFUVVJFX1RFU1Q6XCJmZWF0dXJlLXRlc3RcIixST0xMT1VUOlwicm9sbG91dFwiLEVYUEVSSU1FTlQ6XCJleHBlcmltZW50XCJ9LGQ9e1JVTEU6XCJydWxlXCIsRVhQRVJJTUVOVDpcImV4cGVyaW1lbnRcIn0sZz17Qk9PTEVBTjpcImJvb2xlYW5cIixET1VCTEU6XCJkb3VibGVcIixJTlRFR0VSOlwiaW50ZWdlclwiLFNUUklORzpcInN0cmluZ1wiLEpTT046XCJqc29uXCJ9LHA9e1YyOlwiMlwiLFYzOlwiM1wiLFY0OlwiNFwifSxPPXtTREtfTk9UX1JFQURZOlwiT3B0aW1pemVseSBTREsgbm90IGNvbmZpZ3VyZWQgcHJvcGVybHkgeWV0LlwiLEZMQUdfS0VZX0lOVkFMSUQ6J05vIGZsYWcgd2FzIGZvdW5kIGZvciBrZXkgXCIlc1wiLicsVkFSSUFCTEVfVkFMVUVfSU5WQUxJRDonVmFyaWFibGUgdmFsdWUgZm9yIGtleSBcIiVzXCIgaXMgaW52YWxpZCBvciB3cm9uZyB0eXBlLid9LE49T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsTE9HX0xFVkVMOnUsRVJST1JfTUVTU0FHRVM6bCxMT0dfTUVTU0FHRVM6RSxDT05UUk9MX0FUVFJJQlVURVM6SSxKQVZBU0NSSVBUX0NMSUVOVF9FTkdJTkU6XCJqYXZhc2NyaXB0LXNka1wiLE5PREVfQ0xJRU5UX0VOR0lORTpcIm5vZGUtc2RrXCIsUkVBQ1RfQ0xJRU5UX0VOR0lORTpcInJlYWN0LXNka1wiLFJFQUNUX05BVElWRV9DTElFTlRfRU5HSU5FOlwicmVhY3QtbmF0aXZlLXNka1wiLFJFQUNUX05BVElWRV9KU19DTElFTlRfRU5HSU5FOlwicmVhY3QtbmF0aXZlLWpzLXNka1wiLE5PREVfQ0xJRU5UX1ZFUlNJT046XCI0LjkuMVwiLE5PVElGSUNBVElPTl9UWVBFUzpjLERFQ0lTSU9OX05PVElGSUNBVElPTl9UWVBFUzpmLERFQ0lTSU9OX1NPVVJDRVM6XyxBVURJRU5DRV9FVkFMVUFUSU9OX1RZUEVTOmQsRkVBVFVSRV9WQVJJQUJMRV9UWVBFUzpnLERBVEFGSUxFX1ZFUlNJT05TOnAsREVDSVNJT05fTUVTU0FHRVM6T30pLFI9XCJDT05GSUdfVkFMSURBVE9SXCIsVD1bcC5WMixwLlYzLHAuVjRdLHY9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXt2YXIgdD1lLHI9dC5lcnJvckhhbmRsZXIsbj10LmV2ZW50RGlzcGF0Y2hlcixvPXQubG9nZ2VyO2lmKHImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuaGFuZGxlRXJyb3IpdGhyb3cgbmV3IEVycm9yKGkuc3ByaW50ZihsLklOVkFMSURfRVJST1JfSEFORExFUixSKSk7aWYobiYmXCJmdW5jdGlvblwiIT10eXBlb2Ygbi5kaXNwYXRjaEV2ZW50KXRocm93IG5ldyBFcnJvcihpLnNwcmludGYobC5JTlZBTElEX0VWRU5UX0RJU1BBVENIRVIsUikpO2lmKG8mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG8ubG9nKXRocm93IG5ldyBFcnJvcihpLnNwcmludGYobC5JTlZBTElEX0xPR0dFUixSKSk7cmV0dXJuITB9dGhyb3cgbmV3IEVycm9yKGkuc3ByaW50ZihsLklOVkFMSURfQ09ORklHLFIpKX0saD1mdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoaS5zcHJpbnRmKGwuTk9fREFUQUZJTEVfU1BFQ0lGSUVELFIpKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl0cnl7ZT1KU09OLnBhcnNlKGUpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihpLnNwcmludGYobC5JTlZBTElEX0RBVEFGSUxFX01BTEZPUk1FRCxSKSl9aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpJiZudWxsIT09ZSYmLTE9PT1ULmluZGV4T2YoZS52ZXJzaW9uKSl0aHJvdyBuZXcgRXJyb3IoaS5zcHJpbnRmKGwuSU5WQUxJRF9EQVRBRklMRV9WRVJTSU9OLFIsZS52ZXJzaW9uKSk7cmV0dXJuIGV9O3ZhciB5PXtoYW5kbGVFcnJvcjpmdW5jdGlvbigpe319LEE9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZVt0XSl9KSkuam9pbihcIiZcIil9LFU9e2Rpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgcixpPWUucGFyYW1zLG49ZS51cmw7XCJQT1NUXCI9PT1lLmh0dHBWZXJiPygocj1uZXcgWE1MSHR0cFJlcXVlc3QpLm9wZW4oXCJQT1NUXCIsbiwhMCksci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpLHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PXIucmVhZHlTdGF0ZSYmdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdCl0cnl7dCh7c3RhdHVzQ29kZTpyLnN0YXR1c30pfWNhdGNoKGUpe319LHIuc2VuZChKU09OLnN0cmluZ2lmeShpKSkpOihuKz1cIj93eGhyPXRydWVcIixpJiYobis9XCImXCIrQShpKSksKHI9bmV3IFhNTEh0dHBSZXF1ZXN0KS5vcGVuKFwiR0VUXCIsbiwhMCksci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09ci5yZWFkeVN0YXRlJiZ0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXRyeXt0KHtzdGF0dXNDb2RlOnIuc3RhdHVzfSl9Y2F0Y2goZSl7fX0sci5zZW5kKCkpfX0sRD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe30sZX0oKTtmdW5jdGlvbiBTKGUpe3JldHVybiBuZXcgdC5Db25zb2xlTG9nSGFuZGxlcihlKX12YXIgTCxtLFY9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsTm9PcExvZ2dlcjpELGNyZWF0ZUxvZ2dlcjpTLGNyZWF0ZU5vT3BMb2dnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IER9fSk7ZnVuY3Rpb24gQyhlLHQscil7cmV0dXJue3ZhcmlhdGlvbktleTpudWxsLGVuYWJsZWQ6ITEsdmFyaWFibGVzOnt9LHJ1bGVLZXk6bnVsbCxmbGFnS2V5OmUsdXNlckNvbnRleHQ6dCxyZWFzb25zOnJ9fSFmdW5jdGlvbihlKXtlLkJPT0xFQU49XCJib29sZWFuXCIsZS5ET1VCTEU9XCJkb3VibGVcIixlLklOVEVHRVI9XCJpbnRlZ2VyXCIsZS5TVFJJTkc9XCJzdHJpbmdcIixlLkpTT049XCJqc29uXCJ9KEx8fChMPXt9KSksKG09ZXhwb3J0cy5PcHRpbWl6ZWx5RGVjaWRlT3B0aW9ufHwoZXhwb3J0cy5PcHRpbWl6ZWx5RGVjaWRlT3B0aW9uPXt9KSkuRElTQUJMRV9ERUNJU0lPTl9FVkVOVD1cIkRJU0FCTEVfREVDSVNJT05fRVZFTlRcIixtLkVOQUJMRURfRkxBR1NfT05MWT1cIkVOQUJMRURfRkxBR1NfT05MWVwiLG0uSUdOT1JFX1VTRVJfUFJPRklMRV9TRVJWSUNFPVwiSUdOT1JFX1VTRVJfUFJPRklMRV9TRVJWSUNFXCIsbS5JTkNMVURFX1JFQVNPTlM9XCJJTkNMVURFX1JFQVNPTlNcIixtLkVYQ0xVREVfVkFSSUFCTEVTPVwiRVhDTFVERV9WQVJJQUJMRVNcIjt2YXIgRj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQscj1lLm9wdGltaXplbHksaT1lLnVzZXJJZCxuPWUuYXR0cmlidXRlczt0aGlzLm9wdGltaXplbHk9cix0aGlzLnVzZXJJZD1pLHRoaXMuYXR0cmlidXRlcz1udWxsIT09KHQ9YSh7fSxuKSkmJnZvaWQgMCE9PXQ/dDp7fSx0aGlzLmZvcmNlZERlY2lzaW9uc01hcD17fX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGUsdCl7dGhpcy5hdHRyaWJ1dGVzW2VdPXR9LGUucHJvdG90eXBlLmdldFVzZXJJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVzZXJJZH0sZS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiBhKHt9LHRoaXMuYXR0cmlidXRlcyl9LGUucHJvdG90eXBlLmdldE9wdGltaXplbHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpbWl6ZWx5fSxlLnByb3RvdHlwZS5kZWNpZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9W10pLHRoaXMub3B0aW1pemVseS5kZWNpZGUodGhpcy5jbG9uZVVzZXJDb250ZXh0KCksZSx0KX0sZS5wcm90b3R5cGUuZGVjaWRlRm9yS2V5cz1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1bXSksdGhpcy5vcHRpbWl6ZWx5LmRlY2lkZUZvcktleXModGhpcy5jbG9uZVVzZXJDb250ZXh0KCksZSx0KX0sZS5wcm90b3R5cGUuZGVjaWRlQWxsPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdGhpcy5vcHRpbWl6ZWx5LmRlY2lkZUFsbCh0aGlzLmNsb25lVXNlckNvbnRleHQoKSxlKX0sZS5wcm90b3R5cGUudHJhY2tFdmVudD1mdW5jdGlvbihlLHQpe3RoaXMub3B0aW1pemVseS50cmFjayhlLHRoaXMudXNlcklkLHRoaXMuYXR0cmlidXRlcyx0KX0sZS5wcm90b3R5cGUuc2V0Rm9yY2VkRGVjaXNpb249ZnVuY3Rpb24oZSx0KXt2YXIgcixpPWUuZmxhZ0tleSxuPW51bGwhPT0ocj1lLnJ1bGVLZXkpJiZ2b2lkIDAhPT1yP3I6SS5GT1JDRURfREVDSVNJT05fTlVMTF9SVUxFX0tFWSxvPXt2YXJpYXRpb25LZXk6dC52YXJpYXRpb25LZXl9O3JldHVybiB0aGlzLmZvcmNlZERlY2lzaW9uc01hcFtpXXx8KHRoaXMuZm9yY2VkRGVjaXNpb25zTWFwW2ldPXt9KSx0aGlzLmZvcmNlZERlY2lzaW9uc01hcFtpXVtuXT1vLCEwfSxlLnByb3RvdHlwZS5nZXRGb3JjZWREZWNpc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5maW5kRm9yY2VkRGVjaXNpb24oZSl9LGUucHJvdG90eXBlLnJlbW92ZUZvcmNlZERlY2lzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0LHI9bnVsbCE9PSh0PWUucnVsZUtleSkmJnZvaWQgMCE9PXQ/dDpJLkZPUkNFRF9ERUNJU0lPTl9OVUxMX1JVTEVfS0VZLGk9ZS5mbGFnS2V5LG49ITE7dGhpcy5mb3JjZWREZWNpc2lvbnNNYXAuaGFzT3duUHJvcGVydHkoaSkmJih0aGlzLmZvcmNlZERlY2lzaW9uc01hcFtpXS5oYXNPd25Qcm9wZXJ0eShyKSYmKGRlbGV0ZSB0aGlzLmZvcmNlZERlY2lzaW9uc01hcFtpXVtyXSxuPSEwKSwwPT09T2JqZWN0LmtleXModGhpcy5mb3JjZWREZWNpc2lvbnNNYXBbaV0pLmxlbmd0aCYmZGVsZXRlIHRoaXMuZm9yY2VkRGVjaXNpb25zTWFwW2ldKTtyZXR1cm4gbn0sZS5wcm90b3R5cGUucmVtb3ZlQWxsRm9yY2VkRGVjaXNpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9yY2VkRGVjaXNpb25zTWFwPXt9LCEwfSxlLnByb3RvdHlwZS5maW5kRm9yY2VkRGVjaXNpb249ZnVuY3Rpb24oZSl7dmFyIHQscj1udWxsIT09KHQ9ZS5ydWxlS2V5KSYmdm9pZCAwIT09dD90OkkuRk9SQ0VEX0RFQ0lTSU9OX05VTExfUlVMRV9LRVksaT1lLmZsYWdLZXk7aWYodGhpcy5mb3JjZWREZWNpc2lvbnNNYXAuaGFzT3duUHJvcGVydHkoZS5mbGFnS2V5KSl7dmFyIG49dGhpcy5mb3JjZWREZWNpc2lvbnNNYXBbaV07aWYobi5oYXNPd25Qcm9wZXJ0eShyKSlyZXR1cm57dmFyaWF0aW9uS2V5Om5bcl0udmFyaWF0aW9uS2V5fX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuY2xvbmVVc2VyQ29udGV4dD1mdW5jdGlvbigpe3ZhciB0PW5ldyBlKHtvcHRpbWl6ZWx5OnRoaXMuZ2V0T3B0aW1pemVseSgpLHVzZXJJZDp0aGlzLmdldFVzZXJJZCgpLGF0dHJpYnV0ZXM6dGhpcy5nZXRBdHRyaWJ1dGVzKCl9KTtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5mb3JjZWREZWNpc2lvbnNNYXApLmxlbmd0aD4wJiYodC5mb3JjZWREZWNpc2lvbnNNYXA9YSh7fSx0aGlzLmZvcmNlZERlY2lzaW9uc01hcCkpLHR9LGV9KCksTT1bXCJhbmRcIixcIm9yXCIsXCJub3RcIl07ZnVuY3Rpb24gUChlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpe3ZhciByPWVbMF0saT1lLnNsaWNlKDEpO3N3aXRjaChcInN0cmluZ1wiPT10eXBlb2YgciYmLTE9PT1NLmluZGV4T2YocikmJihyPVwib3JcIixpPWUpLHIpe2Nhc2VcImFuZFwiOnJldHVybiBmdW5jdGlvbihlLHQpe3ZhciByPSExO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1QKGVbaV0sdCk7aWYoITE9PT1uKXJldHVybiExO251bGw9PT1uJiYocj0hMCl9cmV0dXJuIXJ8fG51bGx9cmV0dXJuIG51bGx9KGksdCk7Y2FzZVwibm90XCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCl7dmFyIHI9UChlWzBdLHQpO3JldHVybiBudWxsPT09cj9udWxsOiFyfXJldHVybiBudWxsfShpLHQpO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHI9ITE7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPVAoZVtpXSx0KTtpZighMD09PW4pcmV0dXJuITA7bnVsbD09PW4mJihyPSEwKX1yZXR1cm4hIXImJm51bGx9cmV0dXJuIG51bGx9KGksdCl9fXJldHVybiB0KGUpfXZhciBiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpe3ZhciBpLG47dGhpcy5zZGtLZXk9bnVsbCE9PShpPXQuc2RrS2V5KSYmdm9pZCAwIT09aT9pOlwiXCIsdGhpcy5lbnZpcm9ubWVudEtleT1udWxsIT09KG49dC5lbnZpcm9ubWVudEtleSkmJnZvaWQgMCE9PW4/bjpcIlwiLHRoaXMuYXR0cmlidXRlcz10LmF0dHJpYnV0ZXMsdGhpcy5hdWRpZW5jZXM9ZS5nZXRBdWRpZW5jZXModCksdGhpcy5ldmVudHM9dC5ldmVudHMsdGhpcy5yZXZpc2lvbj10LnJldmlzaW9uO3ZhciBvPSh0LmZlYXR1cmVGbGFnc3x8W10pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0LmlkXT10LnZhcmlhYmxlcyxlfSkse30pLGE9ZS5nZXRFeHBlcmltZW50c01hcEJ5SWQodCxvKTt0aGlzLmV4cGVyaW1lbnRzTWFwPWUuZ2V0RXhwZXJpbWVudHNLZXlNYXAoYSksdGhpcy5mZWF0dXJlc01hcD1lLmdldEZlYXR1cmVzTWFwKHQsbyxhKSx0aGlzLmRhdGFmaWxlPXJ9cmV0dXJuIGUucHJvdG90eXBlLmdldERhdGFmaWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YWZpbGV9LGUuZ2V0QXVkaWVuY2VzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLHI9W107cmV0dXJuKGUudHlwZWRBdWRpZW5jZXN8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goe2lkOmUuaWQsY29uZGl0aW9uczpKU09OLnN0cmluZ2lmeShlLmNvbmRpdGlvbnMpLG5hbWU6ZS5uYW1lfSksci5wdXNoKGUuaWQpfSkpLChlLmF1ZGllbmNlc3x8W10pLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09ci5pbmRleE9mKGUuaWQpJiZcIiRvcHRfZHVtbXlfYXVkaWVuY2VcIiE9ZS5pZCYmdC5wdXNoKHtpZDplLmlkLGNvbmRpdGlvbnM6SlNPTi5zdHJpbmdpZnkoZS5jb25kaXRpb25zKSxuYW1lOmUubmFtZX0pfSkpLHR9LGUuZ2V0U2VyaWFsaXplZEF1ZGllbmNlcz1mdW5jdGlvbih0LHIpe3ZhciBpPVwiXCI7aWYodCl7dmFyIG49XCJcIjt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBvPVwiXCI7aWYodCBpbnN0YW5jZW9mIEFycmF5KW89XCIoXCIrKG89ZS5nZXRTZXJpYWxpemVkQXVkaWVuY2VzKHQscikpK1wiKVwiO2Vsc2UgaWYoTS5pbmRleE9mKHQpPi0xKW49dC50b1VwcGVyQ2FzZSgpO2Vsc2V7dmFyIGE9clt0XT9yW3RdLm5hbWU6dDtpfHxcIk5PVFwiPT09bj8obj1cIlwiPT09bj9cIk9SXCI6bixpPVwiXCI9PT1pP24rJyBcIicrclt0XS5uYW1lKydcIic6aS5jb25jYXQoXCIgXCIrbisnIFwiJythKydcIicpKTppPSdcIicrYSsnXCInfVwiXCIhPT1vJiYoXCJcIiE9PWl8fFwiTk9UXCI9PT1uPyhuPVwiXCI9PT1uP1wiT1JcIjpuLGk9XCJcIj09PWk/bitcIiBcIitvOmkuY29uY2F0KFwiIFwiK24rXCIgXCIrbykpOmk9aS5jb25jYXQobykpfSkpfXJldHVybiBpfSxlLmdldEV4cGVyaW1lbnRBdWRpZW5jZXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5hdWRpZW5jZUNvbmRpdGlvbnM/ZS5nZXRTZXJpYWxpemVkQXVkaWVuY2VzKHQuYXVkaWVuY2VDb25kaXRpb25zLHIuYXVkaWVuY2VzQnlJZCk6XCJcIn0sZS5tZXJnZUZlYXR1cmVWYXJpYWJsZXM9ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgbz0oZVtyXXx8W10pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0LmtleV09e2lkOnQuaWQsa2V5OnQua2V5LHR5cGU6dC50eXBlLHZhbHVlOnQuZGVmYXVsdFZhbHVlfSxlfSkse30pO3JldHVybihpfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9dFtlLmlkXSxpPXtpZDplLmlkLGtleTpyLmtleSx0eXBlOnIudHlwZSx2YWx1ZTpuP2UudmFsdWU6ci5kZWZhdWx0VmFsdWV9O29bci5rZXldPWl9KSksb30sZS5nZXRWYXJpYXRpb25zTWFwPWZ1bmN0aW9uKHQscixpLG4pe3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24odCxvKXt2YXIgYT1lLm1lcmdlRmVhdHVyZVZhcmlhYmxlcyhyLGksbixvLnZhcmlhYmxlcyxvLmZlYXR1cmVFbmFibGVkKTtyZXR1cm4gdFtvLmtleV09e2lkOm8uaWQsa2V5Om8ua2V5LGZlYXR1cmVFbmFibGVkOm8uZmVhdHVyZUVuYWJsZWQsdmFyaWFibGVzTWFwOmF9LHR9KSx7fSl9LGUuZ2V0VmFyaWFibGVJZE1hcD1mdW5jdGlvbihlKXtyZXR1cm4oZS5mZWF0dXJlRmxhZ3N8fFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudmFyaWFibGVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdC5pZF09dH0pKSxlfSkse30pfSxlLmdldERlbGl2ZXJ5UnVsZXM9ZnVuY3Rpb24odCxyLGksbil7dmFyIG89ZS5nZXRWYXJpYWJsZUlkTWFwKHQpO3JldHVybiBuLm1hcCgoZnVuY3Rpb24obil7cmV0dXJue2lkOm4uaWQsa2V5Om4ua2V5LGF1ZGllbmNlczplLmdldEV4cGVyaW1lbnRBdWRpZW5jZXMobix0KSx2YXJpYXRpb25zTWFwOmUuZ2V0VmFyaWF0aW9uc01hcChuLnZhcmlhdGlvbnMscixvLGkpfX0pKX0sZS5nZXRSb2xsb3V0RXhwZXJpbWVudElkcz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4oZXx8W10pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZXhwZXJpbWVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuaWQpfSkpfSkpLHR9LGUuZ2V0RXhwZXJpbWVudHNNYXBCeUlkPWZ1bmN0aW9uKHQscil7dmFyIGk9ZS5nZXRWYXJpYWJsZUlkTWFwKHQpLG49dGhpcy5nZXRSb2xsb3V0RXhwZXJpbWVudElkcyh0LnJvbGxvdXRzKTtyZXR1cm4odC5leHBlcmltZW50c3x8W10pLnJlZHVjZSgoZnVuY3Rpb24obyxhKXtpZigtMT09PW4uaW5kZXhPZihhLmlkKSl7dmFyIHM9dC5leHBlcmltZW50RmVhdHVyZU1hcFthLmlkXSx1PVwiXCI7cyYmcy5sZW5ndGg+MCYmKHU9c1swXSk7dmFyIGw9ZS5nZXRWYXJpYXRpb25zTWFwKGEudmFyaWF0aW9ucyxyLGksdS50b1N0cmluZygpKTtvW2EuaWRdPXtpZDphLmlkLGtleTphLmtleSxhdWRpZW5jZXM6ZS5nZXRFeHBlcmltZW50QXVkaWVuY2VzKGEsdCksdmFyaWF0aW9uc01hcDpsfX1yZXR1cm4gb30pLHt9KX0sZS5nZXRFeHBlcmltZW50c0tleU1hcD1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIHIgaW4gZSl7dmFyIGk9ZVtyXTt0W2kua2V5XT1pfXJldHVybiB0fSxlLmdldEZlYXR1cmVzTWFwPWZ1bmN0aW9uKHQscixpKXt2YXIgbj17fTtyZXR1cm4gdC5mZWF0dXJlRmxhZ3MuZm9yRWFjaCgoZnVuY3Rpb24obyl7dmFyIGE9e30scz1bXTtvLmV4cGVyaW1lbnRJZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9aVtlXTt0JiYoYVt0LmtleV09dCkscy5wdXNoKGlbZV0pfSkpO3ZhciB1PShvLnZhcmlhYmxlc3x8W10pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0LmtleV09e2lkOnQuaWQsa2V5OnQua2V5LHR5cGU6dC50eXBlLHZhbHVlOnQuZGVmYXVsdFZhbHVlfSxlfSkse30pLGw9W10sRT10LnJvbGxvdXRJZE1hcFtvLnJvbGxvdXRJZF07RSYmKGw9ZS5nZXREZWxpdmVyeVJ1bGVzKHQscixvLmlkLEUuZXhwZXJpbWVudHMpKSxuW28ua2V5XT17aWQ6by5pZCxrZXk6by5rZXksZXhwZXJpbWVudFJ1bGVzOnMsZGVsaXZlcnlSdWxlczpsLGV4cGVyaW1lbnRzTWFwOmEsdmFyaWFibGVzTWFwOnV9fSkpLG59LGV9KCk7dmFyIGs9TWF0aC5wb3coMiw1Myk7dmFyIEI9e2Fzc2lnbjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtpZighZSlyZXR1cm57fTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuYXNzaWduKXJldHVybiBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCxzKFtlXSx0KSk7Zm9yKHZhciBpPU9iamVjdChlKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07aWYobnVsbCE9bylmb3IodmFyIGEgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxhKSYmKGlbYV09b1thXSl9cmV0dXJuIGl9LGN1cnJlbnRUaW1lc3RhbXA6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWUoKSl9LGlzU2FmZUludGVnZXI6ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJk1hdGguYWJzKGUpPD1rfSxrZXlCeTpmdW5jdGlvbihlLHQpe3JldHVybiBlP2kua2V5QnkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGVbdF19KSk6e319LHV1aWQ6aS5nZW5lcmF0ZVVVSUQsaXNOdW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9fSxLPVwiUFJPSkVDVF9DT05GSUdcIjt2YXIgeD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PW51bGwpO3ZhciByLG4sbyxhLHM9KHI9ZSwoYT1CLmFzc2lnbih7fSxyKSkuYXVkaWVuY2VzPShyLmF1ZGllbmNlc3x8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEIuYXNzaWduKHt9LGUpfSkpLGEuZXhwZXJpbWVudHM9KHIuZXhwZXJpbWVudHN8fFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBCLmFzc2lnbih7fSxlKX0pKSxhLmZlYXR1cmVGbGFncz0oci5mZWF0dXJlRmxhZ3N8fFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBCLmFzc2lnbih7fSxlKX0pKSxhLmdyb3Vwcz0oci5ncm91cHN8fFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PUIuYXNzaWduKHt9LGUpO3JldHVybiB0LmV4cGVyaW1lbnRzPShlLmV4cGVyaW1lbnRzfHxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gQi5hc3NpZ24oe30sZSl9KSksdH0pKSxhLnJvbGxvdXRzPShyLnJvbGxvdXRzfHxbXSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD1CLmFzc2lnbih7fSxlKTtyZXR1cm4gdC5leHBlcmltZW50cz0oZS5leHBlcmltZW50c3x8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEIuYXNzaWduKHt9LGUpfSkpLHR9KSksYS5lbnZpcm9ubWVudEtleT1udWxsIT09KG49ci5lbnZpcm9ubWVudEtleSkmJnZvaWQgMCE9PW4/bjpcIlwiLGEuc2RrS2V5PW51bGwhPT0obz1yLnNka0tleSkmJnZvaWQgMCE9PW8/bzpcIlwiLGEpO3JldHVybiBzLl9fZGF0YWZpbGVTdHI9bnVsbD09PXQ/SlNPTi5zdHJpbmdpZnkoZSk6dCwocy5hdWRpZW5jZXN8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmNvbmRpdGlvbnM9SlNPTi5wYXJzZShlLmNvbmRpdGlvbnMpfSkpLHMuYXVkaWVuY2VzQnlJZD1CLmtleUJ5KHMuYXVkaWVuY2VzLFwiaWRcIiksQi5hc3NpZ24ocy5hdWRpZW5jZXNCeUlkLEIua2V5Qnkocy50eXBlZEF1ZGllbmNlcyxcImlkXCIpKSxzLmF0dHJpYnV0ZUtleU1hcD1CLmtleUJ5KHMuYXR0cmlidXRlcyxcImtleVwiKSxzLmV2ZW50S2V5TWFwPUIua2V5Qnkocy5ldmVudHMsXCJrZXlcIikscy5ncm91cElkTWFwPUIua2V5Qnkocy5ncm91cHMsXCJpZFwiKSxPYmplY3Qua2V5cyhzLmdyb3VwSWRNYXB8fHt9KS5mb3JFYWNoKChmdW5jdGlvbihlKXsocy5ncm91cElkTWFwW2VdLmV4cGVyaW1lbnRzfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cy5leHBlcmltZW50cy5wdXNoKEIuYXNzaWduKHQse2dyb3VwSWQ6ZX0pKX0pKX0pKSxzLnJvbGxvdXRJZE1hcD1CLmtleUJ5KHMucm9sbG91dHN8fFtdLFwiaWRcIiksaS5vYmplY3RWYWx1ZXMocy5yb2xsb3V0SWRNYXB8fHt9KS5mb3JFYWNoKChmdW5jdGlvbihlKXsoZS5leHBlcmltZW50c3x8W10pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3MuZXhwZXJpbWVudHMucHVzaChlKSxlLnZhcmlhdGlvbktleU1hcD1CLmtleUJ5KGUudmFyaWF0aW9ucyxcImtleVwiKX0pKX0pKSxzLmV4cGVyaW1lbnRLZXlNYXA9Qi5rZXlCeShzLmV4cGVyaW1lbnRzLFwia2V5XCIpLHMuZXhwZXJpbWVudElkTWFwPUIua2V5Qnkocy5leHBlcmltZW50cyxcImlkXCIpLHMudmFyaWF0aW9uSWRNYXA9e30scy52YXJpYXRpb25WYXJpYWJsZVVzYWdlTWFwPXt9LChzLmV4cGVyaW1lbnRzfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS52YXJpYXRpb25LZXlNYXA9Qi5rZXlCeShlLnZhcmlhdGlvbnMsXCJrZXlcIiksQi5hc3NpZ24ocy52YXJpYXRpb25JZE1hcCxCLmtleUJ5KGUudmFyaWF0aW9ucyxcImlkXCIpKSxpLm9iamVjdFZhbHVlcyhlLnZhcmlhdGlvbktleU1hcHx8e30pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudmFyaWFibGVzJiYocy52YXJpYXRpb25WYXJpYWJsZVVzYWdlTWFwW2UuaWRdPUIua2V5QnkoZS52YXJpYWJsZXMsXCJpZFwiKSl9KSl9KSkscy5leHBlcmltZW50RmVhdHVyZU1hcD17fSxzLmZlYXR1cmVLZXlNYXA9Qi5rZXlCeShzLmZlYXR1cmVGbGFnc3x8W10sXCJrZXlcIiksaS5vYmplY3RWYWx1ZXMocy5mZWF0dXJlS2V5TWFwfHx7fSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS52YXJpYWJsZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS50eXBlPT09Zy5TVFJJTkcmJmUuc3ViVHlwZT09PWcuSlNPTiYmKGUudHlwZT1nLkpTT04sZGVsZXRlIGUuc3ViVHlwZSl9KSksZS52YXJpYWJsZUtleU1hcD1CLmtleUJ5KGUudmFyaWFibGVzLFwia2V5XCIpLChlLmV4cGVyaW1lbnRJZHN8fFtdKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzLmV4cGVyaW1lbnRGZWF0dXJlTWFwW3RdP3MuZXhwZXJpbWVudEZlYXR1cmVNYXBbdF0ucHVzaChlLmlkKTpzLmV4cGVyaW1lbnRGZWF0dXJlTWFwW3RdPVtlLmlkXX0pKX0pKSxzLmZsYWdSdWxlc01hcD17fSwocy5mZWF0dXJlRmxhZ3N8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1bXTtlLmV4cGVyaW1lbnRJZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9cy5leHBlcmltZW50SWRNYXBbZV07ciYmdC5wdXNoKHIpfSkpO3ZhciByPXMucm9sbG91dElkTWFwW2Uucm9sbG91dElkXTtyJiZ0LnB1c2guYXBwbHkodCxyLmV4cGVyaW1lbnRzKSxzLmZsYWdSdWxlc01hcFtlLmtleV09dH0pKSxzLmZsYWdWYXJpYXRpb25zTWFwPXt9LGkub2JqZWN0RW50cmllcyhzLmZsYWdSdWxlc01hcHx8e30pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0scj1lWzFdLG49W107ci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnZhcmlhdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5maW5kKG4sKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZS5pZH0pKXx8bi5wdXNoKGUpfSkpfSkpLHMuZmxhZ1ZhcmlhdGlvbnNNYXBbdF09bn0pKSxzfSxHPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5leHBlcmltZW50SWRNYXBbdF07aWYoIXIpdGhyb3cgbmV3IEVycm9yKGkuc3ByaW50ZihsLklOVkFMSURfRVhQRVJJTUVOVF9JRCxLLHQpKTtyZXR1cm4gci5sYXllcklkfSx3PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lLmF0dHJpYnV0ZUtleU1hcFt0XSxuPTA9PT10LmluZGV4T2YoXCIkb3B0X1wiKTtyZXR1cm4gaT8obiYmci5sb2codS5XQVJOSU5HLFwiQXR0cmlidXRlICVzIHVuZXhwZWN0ZWRseSBoYXMgcmVzZXJ2ZWQgcHJlZml4ICVzOyB1c2luZyBhdHRyaWJ1dGUgSUQgaW5zdGVhZCBvZiByZXNlcnZlZCBhdHRyaWJ1dGUgbmFtZS5cIix0LFwiJG9wdF9cIiksaS5pZCk6bj90OihyLmxvZyh1LkRFQlVHLGwuVU5SRUNPR05JWkVEX0FUVFJJQlVURSxLLHQpLG51bGwpfSxqPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ldmVudEtleU1hcFt0XTtyZXR1cm4gcj9yLmlkOm51bGx9LEg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cGVyaW1lbnRLZXlNYXBbdF07aWYoIXIpdGhyb3cgbmV3IEVycm9yKGkuc3ByaW50ZihsLklOVkFMSURfRVhQRVJJTUVOVF9LRVksSyx0KSk7cmV0dXJuIHIuc3RhdHVzfSxZPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudmFyaWF0aW9uSWRNYXAuaGFzT3duUHJvcGVydHkodCk/ZS52YXJpYXRpb25JZE1hcFt0XS5rZXk6bnVsbH0sWD1mdW5jdGlvbihlLHQpe2lmKGUuZXhwZXJpbWVudEtleU1hcC5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIHI9ZS5leHBlcmltZW50S2V5TWFwW3RdO2lmKHIpcmV0dXJuIHJ9dGhyb3cgbmV3IEVycm9yKGkuc3ByaW50ZihsLkVYUEVSSU1FTlRfS0VZX05PVF9JTl9EQVRBRklMRSxLLHQpKX0sej1mdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwZXJpbWVudElkTWFwW3RdO2lmKCFyKXRocm93IG5ldyBFcnJvcihpLnNwcmludGYobC5JTlZBTElEX0VYUEVSSU1FTlRfSUQsSyx0KSk7cmV0dXJuIHIudHJhZmZpY0FsbG9jYXRpb259LEo9ZnVuY3Rpb24oZSx0LHIpe2lmKGUuZXhwZXJpbWVudElkTWFwLmhhc093blByb3BlcnR5KHQpKXt2YXIgaT1lLmV4cGVyaW1lbnRJZE1hcFt0XTtpZihpKXJldHVybiBpfXJldHVybiByLmxvZyh1LkVSUk9SLGwuSU5WQUxJRF9FWFBFUklNRU5UX0lELEssdCksbnVsbH0sWj1mdW5jdGlvbihlLHQscil7aWYoIWUpcmV0dXJuIG51bGw7dmFyIG49ZS5mbGFnVmFyaWF0aW9uc01hcFt0XSxvPWkuZmluZChuLChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXk9PT1yfSkpO3JldHVybiBvfHxudWxsfSxXPWZ1bmN0aW9uKGUsdCxyKXtpZihlLmZlYXR1cmVLZXlNYXAuaGFzT3duUHJvcGVydHkodCkpe3ZhciBpPWUuZmVhdHVyZUtleU1hcFt0XTtpZihpKXJldHVybiBpfXJldHVybiByLmxvZyh1LkVSUk9SLGwuRkVBVFVSRV9OT1RfSU5fREFUQUZJTEUsSyx0KSxudWxsfSxxPWZ1bmN0aW9uKGUpe3JldHVybiBlLl9fZGF0YWZpbGVTdHJ9LCQ9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9aChlLmRhdGFmaWxlKX1jYXRjaChlKXtyZXR1cm57Y29uZmlnT2JqOm51bGwsZXJyb3I6ZX19aWYoZS5qc29uU2NoZW1hVmFsaWRhdG9yKXRyeXtlLmpzb25TY2hlbWFWYWxpZGF0b3IudmFsaWRhdGUodCksZS5sb2dnZXIubG9nKHUuSU5GTyxFLlZBTElEX0RBVEFGSUxFLEspfWNhdGNoKGUpe3JldHVybntjb25maWdPYmo6bnVsbCxlcnJvcjplfX1lbHNlIGUubG9nZ2VyLmxvZyh1LklORk8sRS5TS0lQUElOR19KU09OX1ZBTElEQVRJT04sSyk7dmFyIHI9W3RdO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGFmaWxlJiZyLnB1c2goZS5kYXRhZmlsZSkse2NvbmZpZ09iajp4LmFwcGx5KHZvaWQgMCxyKSxlcnJvcjpudWxsfX0sUT1mdW5jdGlvbihlKXtyZXR1cm4hIWUuc2VuZEZsYWdEZWNpc2lvbnN9LGVlPXQuZ2V0TG9nZ2VyKCk7ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yP2UubWVzc2FnZTp0fHxcIlVua25vd24gZXJyb3JcIn12YXIgcmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMudXBkYXRlTGlzdGVuZXJzPVtdLHRoaXMuY29uZmlnT2JqPW51bGwsdGhpcy5vcHRpbWl6ZWx5Q29uZmlnT2JqPW51bGwsdGhpcy5kYXRhZmlsZU1hbmFnZXI9bnVsbDt0cnl7aWYodGhpcy5qc29uU2NoZW1hVmFsaWRhdG9yPWUuanNvblNjaGVtYVZhbGlkYXRvciwhZS5kYXRhZmlsZSYmIWUuc2RrS2V5KXt2YXIgdD1uZXcgRXJyb3IoaS5zcHJpbnRmKGwuREFUQUZJTEVfQU5EX1NES19LRVlfTUlTU0lORyxcIlBST0pFQ1RfQ09ORklHX01BTkFHRVJcIikpO3JldHVybiB0aGlzLnJlYWR5UHJvbWlzZT1Qcm9taXNlLnJlc29sdmUoe3N1Y2Nlc3M6ITEscmVhc29uOnRlKHQpfSksdm9pZCBlZS5lcnJvcih0KX12YXIgcj1udWxsO2UuZGF0YWZpbGUmJihyPXRoaXMuaGFuZGxlTmV3RGF0YWZpbGUoZS5kYXRhZmlsZSkpLGUuc2RrS2V5JiZlLmRhdGFmaWxlTWFuYWdlcj8odGhpcy5kYXRhZmlsZU1hbmFnZXI9ZS5kYXRhZmlsZU1hbmFnZXIsdGhpcy5kYXRhZmlsZU1hbmFnZXIuc3RhcnQoKSx0aGlzLnJlYWR5UHJvbWlzZT10aGlzLmRhdGFmaWxlTWFuYWdlci5vblJlYWR5KCkudGhlbih0aGlzLm9uRGF0YWZpbGVNYW5hZ2VyUmVhZHlGdWxmaWxsLmJpbmQodGhpcyksdGhpcy5vbkRhdGFmaWxlTWFuYWdlclJlYWR5UmVqZWN0LmJpbmQodGhpcykpLHRoaXMuZGF0YWZpbGVNYW5hZ2VyLm9uKFwidXBkYXRlXCIsdGhpcy5vbkRhdGFmaWxlTWFuYWdlclVwZGF0ZS5iaW5kKHRoaXMpKSk6dGhpcy5jb25maWdPYmo/dGhpcy5yZWFkeVByb21pc2U9UHJvbWlzZS5yZXNvbHZlKHtzdWNjZXNzOiEwfSk6dGhpcy5yZWFkeVByb21pc2U9UHJvbWlzZS5yZXNvbHZlKHtzdWNjZXNzOiExLHJlYXNvbjp0ZShyLFwiSW52YWxpZCBkYXRhZmlsZVwiKX0pfWNhdGNoKGUpe2VlLmVycm9yKGUpLHRoaXMucmVhZHlQcm9taXNlPVByb21pc2UucmVzb2x2ZSh7c3VjY2VzczohMSxyZWFzb246dGUoZSxcIkVycm9yIGluIGluaXRpYWxpemVcIil9KX19cmV0dXJuIGUucHJvdG90eXBlLm9uRGF0YWZpbGVNYW5hZ2VyUmVhZHlGdWxmaWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5kYXRhZmlsZU1hbmFnZXIpe3ZhciBlPXRoaXMuaGFuZGxlTmV3RGF0YWZpbGUodGhpcy5kYXRhZmlsZU1hbmFnZXIuZ2V0KCkpO3JldHVybiBlP3tzdWNjZXNzOiExLHJlYXNvbjp0ZShlKX06e3N1Y2Nlc3M6ITB9fXJldHVybntzdWNjZXNzOiExLHJlYXNvbjp0ZShudWxsLFwiRGF0YWZpbGUgbWFuYWdlciBpcyBub3QgcHJvdmlkZWRcIil9fSxlLnByb3RvdHlwZS5vbkRhdGFmaWxlTWFuYWdlclJlYWR5UmVqZWN0PWZ1bmN0aW9uKGUpe3JldHVybntzdWNjZXNzOiExLHJlYXNvbjp0ZShlLFwiRmFpbGVkIHRvIGJlY29tZSByZWFkeVwiKX19LGUucHJvdG90eXBlLm9uRGF0YWZpbGVNYW5hZ2VyVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5kYXRhZmlsZU1hbmFnZXImJnRoaXMuaGFuZGxlTmV3RGF0YWZpbGUodGhpcy5kYXRhZmlsZU1hbmFnZXIuZ2V0KCkpfSxlLnByb3RvdHlwZS5oYW5kbGVOZXdEYXRhZmlsZT1mdW5jdGlvbihlKXt2YXIgdD0kKHtkYXRhZmlsZTplLGpzb25TY2hlbWFWYWxpZGF0b3I6dGhpcy5qc29uU2NoZW1hVmFsaWRhdG9yLGxvZ2dlcjplZX0pLHI9dC5jb25maWdPYmosaT10LmVycm9yO2lmKGkpZWUuZXJyb3IoaSk7ZWxzZXt2YXIgbj10aGlzLmNvbmZpZ09iaj90aGlzLmNvbmZpZ09iai5yZXZpc2lvbjpcIm51bGxcIjtyJiZuIT09ci5yZXZpc2lvbiYmKHRoaXMuY29uZmlnT2JqPXIsdGhpcy5vcHRpbWl6ZWx5Q29uZmlnT2JqPW51bGwsdGhpcy51cGRhdGVMaXN0ZW5lcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUocil9KSkpfXJldHVybiBpfSxlLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWdPYmp9LGUucHJvdG90eXBlLmdldE9wdGltaXplbHlDb25maWc9ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiF0aGlzLm9wdGltaXplbHlDb25maWdPYmomJnRoaXMuY29uZmlnT2JqJiYodGhpcy5vcHRpbWl6ZWx5Q29uZmlnT2JqPShlPXRoaXMuY29uZmlnT2JqLHQ9cSh0aGlzLmNvbmZpZ09iaiksbmV3IGIoZSx0KSkpLHRoaXMub3B0aW1pemVseUNvbmZpZ09ian0sZS5wcm90b3R5cGUub25SZWFkeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWR5UHJvbWlzZX0sZS5wcm90b3R5cGUub25VcGRhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy51cGRhdGVMaXN0ZW5lcnMucHVzaChlKSxmdW5jdGlvbigpe3ZhciByPXQudXBkYXRlTGlzdGVuZXJzLmluZGV4T2YoZSk7cj4tMSYmdC51cGRhdGVMaXN0ZW5lcnMuc3BsaWNlKHIsMSl9fSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5kYXRhZmlsZU1hbmFnZXImJnRoaXMuZGF0YWZpbGVNYW5hZ2VyLnN0b3AoKSx0aGlzLnVwZGF0ZUxpc3RlbmVycz1bXX0sZX0oKTt2YXIgaWU9TWF0aC5wb3coMiwzMiksbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9W10scj1lLmV4cGVyaW1lbnRJZE1hcFtlLmV4cGVyaW1lbnRJZF0uZ3JvdXBJZDtpZihyKXt2YXIgbj1lLmdyb3VwSWRNYXBbcl07aWYoIW4pdGhyb3cgbmV3IEVycm9yKGkuc3ByaW50ZihsLklOVkFMSURfR1JPVVBfSUQsXCJCVUNLRVRFUlwiLHIpKTtpZihcInJhbmRvbVwiPT09bi5wb2xpY3kpe3ZhciBvPW9lKG4sZS5idWNrZXRpbmdJZCxlLnVzZXJJZCxlLmxvZ2dlcik7aWYobnVsbD09PW8pcmV0dXJuIGUubG9nZ2VyLmxvZyh1LklORk8sRS5VU0VSX05PVF9JTl9BTllfRVhQRVJJTUVOVCxcIkJVQ0tFVEVSXCIsZS51c2VySWQsciksdC5wdXNoKFtFLlVTRVJfTk9UX0lOX0FOWV9FWFBFUklNRU5ULFwiQlVDS0VURVJcIixlLnVzZXJJZCxyXSkse3Jlc3VsdDpudWxsLHJlYXNvbnM6dH07aWYobyE9PWUuZXhwZXJpbWVudElkKXJldHVybiBlLmxvZ2dlci5sb2codS5JTkZPLEUuVVNFUl9OT1RfQlVDS0VURURfSU5UT19FWFBFUklNRU5UX0lOX0dST1VQLFwiQlVDS0VURVJcIixlLnVzZXJJZCxlLmV4cGVyaW1lbnRLZXksciksdC5wdXNoKFtFLlVTRVJfTk9UX0JVQ0tFVEVEX0lOVE9fRVhQRVJJTUVOVF9JTl9HUk9VUCxcIkJVQ0tFVEVSXCIsZS51c2VySWQsZS5leHBlcmltZW50S2V5LHJdKSx7cmVzdWx0Om51bGwscmVhc29uczp0fTtlLmxvZ2dlci5sb2codS5JTkZPLEUuVVNFUl9CVUNLRVRFRF9JTlRPX0VYUEVSSU1FTlRfSU5fR1JPVVAsXCJCVUNLRVRFUlwiLGUudXNlcklkLGUuZXhwZXJpbWVudEtleSxyKSx0LnB1c2goW0UuVVNFUl9CVUNLRVRFRF9JTlRPX0VYUEVSSU1FTlRfSU5fR1JPVVAsXCJCVUNLRVRFUlwiLGUudXNlcklkLGUuZXhwZXJpbWVudEtleSxyXSl9fXZhciBhPVwiXCIrZS5idWNrZXRpbmdJZCtlLmV4cGVyaW1lbnRJZCxzPXNlKGEpO2UubG9nZ2VyLmxvZyh1LkRFQlVHLEUuVVNFUl9BU1NJR05FRF9UT19FWFBFUklNRU5UX0JVQ0tFVCxcIkJVQ0tFVEVSXCIscyxlLnVzZXJJZCksdC5wdXNoKFtFLlVTRVJfQVNTSUdORURfVE9fRVhQRVJJTUVOVF9CVUNLRVQsXCJCVUNLRVRFUlwiLHMsZS51c2VySWRdKTt2YXIgST1hZShzLGUudHJhZmZpY0FsbG9jYXRpb25Db25maWcpO3JldHVybiBudWxsPT09SXx8ZS52YXJpYXRpb25JZE1hcFtJXT97cmVzdWx0OkkscmVhc29uczp0fTooSSYmKGUubG9nZ2VyLmxvZyh1LldBUk5JTkcsRS5JTlZBTElEX1ZBUklBVElPTl9JRCxcIkJVQ0tFVEVSXCIpLHQucHVzaChbRS5JTlZBTElEX1ZBUklBVElPTl9JRCxcIkJVQ0tFVEVSXCJdKSkse3Jlc3VsdDpudWxsLHJlYXNvbnM6dH0pfSxvZT1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1cIlwiK3QrZS5pZCxvPXNlKG4pO2kubG9nKHUuREVCVUcsRS5VU0VSX0FTU0lHTkVEX1RPX0VYUEVSSU1FTlRfQlVDS0VULFwiQlVDS0VURVJcIixvLHIpO3ZhciBhPWUudHJhZmZpY0FsbG9jYXRpb247cmV0dXJuIGFlKG8sYSl9LGFlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYoZTx0W3JdLmVuZE9mUmFuZ2UpcmV0dXJuIHRbcl0uZW50aXR5SWQ7cmV0dXJuIG51bGx9LHNlPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1uLnYzKGUsMSkvaWU7cmV0dXJuIE1hdGguZmxvb3IoMWU0KnQpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihpLnNwcmludGYobC5JTlZBTElEX0JVQ0tFVElOR19JRCxcIkJVQ0tFVEVSXCIsZSx0Lm1lc3NhZ2UpKX19LHVlPXQuZ2V0TG9nZ2VyKCk7ZnVuY3Rpb24gbGUoZSl7cmV0dXJuL15cXGQrJC8udGVzdChlKX1mdW5jdGlvbiBFZShlKXt2YXIgdD1lLmluZGV4T2YoXCItXCIpLHI9ZS5pbmRleE9mKFwiK1wiKTtyZXR1cm4hKHQ8MCkmJihyPDB8fHQ8cil9ZnVuY3Rpb24gSWUoZSl7dmFyIHQ9ZS5pbmRleE9mKFwiLVwiKSxyPWUuaW5kZXhPZihcIitcIik7cmV0dXJuIShyPDApJiYodDwwfHxyPHQpfWZ1bmN0aW9uIGNlKGUpe3ZhciB0PWUscj1cIlwiO2lmKGZ1bmN0aW9uKGUpe3JldHVybi9cXHMvLnRlc3QoZSl9KGUpKXJldHVybiB1ZS53YXJuKEUuVU5LTk9XTl9NQVRDSF9UWVBFLFwiU0VNQU5USUMgVkVSU0lPTlwiLGUpLG51bGw7aWYoRWUoZSk/KHQ9ZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoXCItXCIpKSxyPWUuc3Vic3RyaW5nKGUuaW5kZXhPZihcIi1cIikrMSkpOkllKGUpJiYodD1lLnN1YnN0cmluZygwLGUuaW5kZXhPZihcIitcIikpLHI9ZS5zdWJzdHJpbmcoZS5pbmRleE9mKFwiK1wiKSsxKSksXCJzdHJpbmdcIiE9dHlwZW9mIHR8fFwic3RyaW5nXCIhPXR5cGVvZiByKXJldHVybiBudWxsO3ZhciBpPXQuc3BsaXQoXCIuXCIpLmxlbmd0aC0xO2lmKGk+MilyZXR1cm4gdWUud2FybihFLlVOS05PV05fTUFUQ0hfVFlQRSxcIlNFTUFOVElDIFZFUlNJT05cIixlKSxudWxsO3ZhciBuPXQuc3BsaXQoXCIuXCIpO2lmKG4ubGVuZ3RoIT1pKzEpcmV0dXJuIHVlLndhcm4oRS5VTktOT1dOX01BVENIX1RZUEUsXCJTRU1BTlRJQyBWRVJTSU9OXCIsZSksbnVsbDtmb3IodmFyIG89MCxhPW47bzxhLmxlbmd0aDtvKyspe2lmKCFsZShhW29dKSlyZXR1cm4gdWUud2FybihFLlVOS05PV05fTUFUQ0hfVFlQRSxcIlNFTUFOVElDIFZFUlNJT05cIixlKSxudWxsfXJldHVybiByJiZuLnB1c2gociksbn12YXIgZmU9XCJDVVNUT01fQVRUUklCVVRFX0NPTkRJVElPTl9FVkFMVUFUT1JcIixfZT10LmdldExvZ2dlcigpLGRlPVtcImV4YWN0XCIsXCJleGlzdHNcIixcImd0XCIsXCJnZVwiLFwibHRcIixcImxlXCIsXCJzdWJzdHJpbmdcIixcInNlbXZlcl9lcVwiLFwic2VtdmVyX2x0XCIsXCJzZW12ZXJfbGVcIixcInNlbXZlcl9ndFwiLFwic2VtdmVyX2dlXCJdLGdlPXt9O2Z1bmN0aW9uIHBlKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfHxcImJvb2xlYW5cIj09dHlwZW9mIGV8fEIuaXNOdW1iZXIoZSl9ZnVuY3Rpb24gT2UoZSx0KXt2YXIgcj1lLnZhbHVlLGk9dHlwZW9mIHIsbj1lLm5hbWUsbz10W25dLGE9dHlwZW9mIG87cmV0dXJuIXBlKHIpfHxCLmlzTnVtYmVyKHIpJiYhQi5pc1NhZmVJbnRlZ2VyKHIpPyhfZS53YXJuKEUuVU5FWFBFQ1RFRF9DT05ESVRJT05fVkFMVUUsZmUsSlNPTi5zdHJpbmdpZnkoZSkpLG51bGwpOm51bGw9PT1vPyhfZS5kZWJ1ZyhFLlVORVhQRUNURURfVFlQRV9OVUxMLGZlLEpTT04uc3RyaW5naWZ5KGUpLG4pLG51bGwpOnBlKG8pJiZpPT09YT9CLmlzTnVtYmVyKG8pJiYhQi5pc1NhZmVJbnRlZ2VyKG8pPyhfZS53YXJuKEUuT1VUX09GX0JPVU5EUyxmZSxKU09OLnN0cmluZ2lmeShlKSxuKSxudWxsKTpyPT09bzooX2Uud2FybihFLlVORVhQRUNURURfVFlQRSxmZSxKU09OLnN0cmluZ2lmeShlKSxhLG4pLG51bGwpfWZ1bmN0aW9uIE5lKGUsdCl7dmFyIHI9ZS5uYW1lLGk9dFtyXSxuPXR5cGVvZiBpLG89ZS52YWx1ZTtyZXR1cm4gbnVsbCE9PW8mJkIuaXNTYWZlSW50ZWdlcihvKT9udWxsPT09aT8oX2UuZGVidWcoRS5VTkVYUEVDVEVEX1RZUEVfTlVMTCxmZSxKU09OLnN0cmluZ2lmeShlKSxyKSwhMSk6Qi5pc051bWJlcihpKT8hIUIuaXNTYWZlSW50ZWdlcihpKXx8KF9lLndhcm4oRS5PVVRfT0ZfQk9VTkRTLGZlLEpTT04uc3RyaW5naWZ5KGUpLHIpLCExKTooX2Uud2FybihFLlVORVhQRUNURURfVFlQRSxmZSxKU09OLnN0cmluZ2lmeShlKSxuLHIpLCExKTooX2Uud2FybihFLlVORVhQRUNURURfQ09ORElUSU9OX1ZBTFVFLGZlLEpTT04uc3RyaW5naWZ5KGUpKSwhMSl9ZnVuY3Rpb24gUmUoZSx0KXt2YXIgcj1lLm5hbWUsaT10W3JdLG49dHlwZW9mIGksbz1lLnZhbHVlO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBvPyhfZS53YXJuKEUuVU5FWFBFQ1RFRF9DT05ESVRJT05fVkFMVUUsZmUsSlNPTi5zdHJpbmdpZnkoZSkpLG51bGwpOm51bGw9PT1pPyhfZS5kZWJ1ZyhFLlVORVhQRUNURURfVFlQRV9OVUxMLGZlLEpTT04uc3RyaW5naWZ5KGUpLHIpLG51bGwpOlwic3RyaW5nXCIhPXR5cGVvZiBpPyhfZS53YXJuKEUuVU5FWFBFQ1RFRF9UWVBFLGZlLEpTT04uc3RyaW5naWZ5KGUpLG4sciksbnVsbCk6ZnVuY3Rpb24oZSx0KXt2YXIgcj1jZSh0KSxpPWNlKGUpO2lmKCFyfHwhaSlyZXR1cm4gbnVsbDtmb3IodmFyIG49ci5sZW5ndGgsbz0wO288aS5sZW5ndGg7bysrKXtpZihuPD1vKXJldHVybiBFZShlKXx8SWUoZSk/MTotMTtpZihsZShyW29dKSl7dmFyIGE9cGFyc2VJbnQocltvXSkscz1wYXJzZUludChpW29dKTtpZihhPnMpcmV0dXJuIDE7aWYoYTxzKXJldHVybi0xfWVsc2V7aWYocltvXTxpW29dKXJldHVybiBFZShlKSYmIUVlKHQpPzE6LTE7aWYocltvXT5pW29dKXJldHVybiFFZShlKSYmRWUodCk/LTE6MX19cmV0dXJuIEVlKHQpJiYhRWUoZSk/LTE6MH0obyxpKX1nZS5leGFjdD1PZSxnZS5leGlzdHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10W2UubmFtZV07cmV0dXJuIG51bGwhPXJ9LGdlLmd0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dFtlLm5hbWVdLGk9ZS52YWx1ZTtpZighTmUoZSx0KXx8bnVsbD09PWkpcmV0dXJuIG51bGw7cmV0dXJuIHI+aX0sZ2UuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj10W2UubmFtZV0saT1lLnZhbHVlO2lmKCFOZShlLHQpfHxudWxsPT09aSlyZXR1cm4gbnVsbDtyZXR1cm4gcj49aX0sZ2UubHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10W2UubmFtZV0saT1lLnZhbHVlO2lmKCFOZShlLHQpfHxudWxsPT09aSlyZXR1cm4gbnVsbDtyZXR1cm4gcjxpfSxnZS5sZT1mdW5jdGlvbihlLHQpe3ZhciByPXRbZS5uYW1lXSxpPWUudmFsdWU7aWYoIU5lKGUsdCl8fG51bGw9PT1pKXJldHVybiBudWxsO3JldHVybiByPD1pfSxnZS5zdWJzdHJpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5hbWUsaT10W2UubmFtZV0sbj10eXBlb2YgaSxvPWUudmFsdWU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG8pcmV0dXJuIF9lLndhcm4oRS5VTkVYUEVDVEVEX0NPTkRJVElPTl9WQUxVRSxmZSxKU09OLnN0cmluZ2lmeShlKSksbnVsbDtpZihudWxsPT09aSlyZXR1cm4gX2UuZGVidWcoRS5VTkVYUEVDVEVEX1RZUEVfTlVMTCxmZSxKU09OLnN0cmluZ2lmeShlKSxyKSxudWxsO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBpKXJldHVybiBfZS53YXJuKEUuVU5FWFBFQ1RFRF9UWVBFLGZlLEpTT04uc3RyaW5naWZ5KGUpLG4sciksbnVsbDtyZXR1cm4tMSE9PWkuaW5kZXhPZihvKX0sZ2Uuc2VtdmVyX2VxPWZ1bmN0aW9uKGUsdCl7dmFyIHI9UmUoZSx0KTtpZihudWxsPT09cilyZXR1cm4gbnVsbDtyZXR1cm4gMD09PXJ9LGdlLnNlbXZlcl9ndD1mdW5jdGlvbihlLHQpe3ZhciByPVJlKGUsdCk7aWYobnVsbD09PXIpcmV0dXJuIG51bGw7cmV0dXJuIHI+MH0sZ2Uuc2VtdmVyX2dlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9UmUoZSx0KTtpZihudWxsPT09cilyZXR1cm4gbnVsbDtyZXR1cm4gcj49MH0sZ2Uuc2VtdmVyX2x0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9UmUoZSx0KTtpZihudWxsPT09cilyZXR1cm4gbnVsbDtyZXR1cm4gcjwwfSxnZS5zZW12ZXJfbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1SZShlLHQpO2lmKG51bGw9PT1yKXJldHVybiBudWxsO3JldHVybiByPD0wfTt2YXIgVGU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZXZhbHVhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1hdGNoO2lmKHZvaWQgMCE9PXImJi0xPT09ZGUuaW5kZXhPZihyKSlyZXR1cm4gX2Uud2FybihFLlVOS05PV05fTUFUQ0hfVFlQRSxmZSxKU09OLnN0cmluZ2lmeShlKSksbnVsbDt2YXIgaT1lLm5hbWU7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoaSl8fFwiZXhpc3RzXCI9PXI/KHImJmdlW3JdfHxPZSkoZSx0KTooX2UuZGVidWcoRS5NSVNTSU5HX0FUVFJJQlVURV9WQUxVRSxmZSxKU09OLnN0cmluZ2lmeShlKSxpKSxudWxsKX19KSx2ZT10LmdldExvZ2dlcigpLGhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnR5cGVUb0V2YWx1YXRvck1hcD1CLmFzc2lnbih7fSxlLHtjdXN0b21fYXR0cmlidXRlOlRlfSl9cmV0dXJuIGUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO2lmKHZvaWQgMD09PXImJihyPXt9KSwhZXx8MD09PWUubGVuZ3RoKXJldHVybiEwO3JldHVybiEhUChlLChmdW5jdGlvbihlKXt2YXIgbj10W2VdO2lmKG4pe3ZlLmxvZyh1LkRFQlVHLEUuRVZBTFVBVElOR19BVURJRU5DRSxcIkFVRElFTkNFX0VWQUxVQVRPUlwiLGUsSlNPTi5zdHJpbmdpZnkobi5jb25kaXRpb25zKSk7dmFyIG89UChuLmNvbmRpdGlvbnMsaS5ldmFsdWF0ZUNvbmRpdGlvbldpdGhVc2VyQXR0cmlidXRlcy5iaW5kKGkscikpLGE9bnVsbD09PW8/XCJVTktOT1dOXCI6by50b1N0cmluZygpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHZlLmxvZyh1LkRFQlVHLEUuQVVESUVOQ0VfRVZBTFVBVElPTl9SRVNVTFQsXCJBVURJRU5DRV9FVkFMVUFUT1JcIixlLGEpLG99cmV0dXJuIG51bGx9KSl9LGUucHJvdG90eXBlLmV2YWx1YXRlQ29uZGl0aW9uV2l0aFVzZXJBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy50eXBlVG9FdmFsdWF0b3JNYXBbdC50eXBlXTtpZighcilyZXR1cm4gdmUubG9nKHUuV0FSTklORyxFLlVOS05PV05fQ09ORElUSU9OX1RZUEUsXCJBVURJRU5DRV9FVkFMVUFUT1JcIixKU09OLnN0cmluZ2lmeSh0KSksbnVsbDt0cnl7cmV0dXJuIHIuZXZhbHVhdGUodCxlKX1jYXRjaChlKXt2ZS5sb2codS5FUlJPUixsLkNPTkRJVElPTl9FVkFMVUFUT1JfRVJST1IsXCJBVURJRU5DRV9FVkFMVUFUT1JcIix0LnR5cGUsZS5tZXNzYWdlKX1yZXR1cm4gbnVsbH0sZX0oKTtmdW5jdGlvbiB5ZShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmXCJcIiE9PWV9dmFyIEFlPVwiREVDSVNJT05fU0VSVklDRVwiLFVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdDt0aGlzLmF1ZGllbmNlRXZhbHVhdG9yPSh0PWUuVU5TVEFCTEVfY29uZGl0aW9uRXZhbHVhdG9ycyxuZXcgaGUodCkpLHRoaXMuZm9yY2VkVmFyaWF0aW9uTWFwPXt9LHRoaXMubG9nZ2VyPWUubG9nZ2VyLHRoaXMudXNlclByb2ZpbGVTZXJ2aWNlPWUudXNlclByb2ZpbGVTZXJ2aWNlfHxudWxsfXJldHVybiBlLnByb3RvdHlwZS5nZXRWYXJpYXRpb249ZnVuY3Rpb24oZSx0LHIsaSl7dm9pZCAwPT09aSYmKGk9e30pO3ZhciBuPXIuZ2V0VXNlcklkKCksbz1yLmdldEF0dHJpYnV0ZXMoKSxhPXRoaXMuZ2V0QnVja2V0aW5nSWQobixvKSxzPVtdLGw9dC5rZXk7aWYoIXRoaXMuY2hlY2tJZkV4cGVyaW1lbnRJc0FjdGl2ZShlLGwpKXJldHVybiB0aGlzLmxvZ2dlci5sb2codS5JTkZPLEUuRVhQRVJJTUVOVF9OT1RfUlVOTklORyxBZSxsKSxzLnB1c2goW0UuRVhQRVJJTUVOVF9OT1RfUlVOTklORyxBZSxsXSkse3Jlc3VsdDpudWxsLHJlYXNvbnM6c307dmFyIEk9dGhpcy5nZXRGb3JjZWRWYXJpYXRpb24oZSxsLG4pO3MucHVzaC5hcHBseShzLEkucmVhc29ucyk7dmFyIGM9SS5yZXN1bHQ7aWYoYylyZXR1cm57cmVzdWx0OmMscmVhc29uczpzfTt2YXIgZj10aGlzLmdldFdoaXRlbGlzdGVkVmFyaWF0aW9uKHQsbik7cy5wdXNoLmFwcGx5KHMsZi5yZWFzb25zKTt2YXIgXz1mLnJlc3VsdDtpZihfKXJldHVybntyZXN1bHQ6Xy5rZXkscmVhc29uczpzfTt2YXIgZz1pW2V4cG9ydHMuT3B0aW1pemVseURlY2lkZU9wdGlvbi5JR05PUkVfVVNFUl9QUk9GSUxFX1NFUlZJQ0VdLHA9dGhpcy5yZXNvbHZlRXhwZXJpbWVudEJ1Y2tldE1hcChuLG8pO2lmKCFnJiYoXz10aGlzLmdldFN0b3JlZFZhcmlhdGlvbihlLHQsbixwKSkpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5SRVRVUk5JTkdfU1RPUkVEX1ZBUklBVElPTixBZSxfLmtleSxsLG4pLHMucHVzaChbRS5SRVRVUk5JTkdfU1RPUkVEX1ZBUklBVElPTixBZSxfLmtleSxsLG5dKSx7cmVzdWx0Ol8ua2V5LHJlYXNvbnM6c307dmFyIE89dGhpcy5jaGVja0lmVXNlcklzSW5BdWRpZW5jZShlLHQsZC5FWFBFUklNRU5ULG8sXCJcIik7aWYocy5wdXNoLmFwcGx5KHMsTy5yZWFzb25zKSwhTy5yZXN1bHQpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5VU0VSX05PVF9JTl9FWFBFUklNRU5ULEFlLG4sbCkscy5wdXNoKFtFLlVTRVJfTk9UX0lOX0VYUEVSSU1FTlQsQWUsbixsXSkse3Jlc3VsdDpudWxsLHJlYXNvbnM6c307dmFyIE49dGhpcy5idWlsZEJ1Y2tldGVyUGFyYW1zKGUsdCxhLG4pLFI9bmUoTik7cy5wdXNoLmFwcGx5KHMsUi5yZWFzb25zKTt2YXIgVD1SLnJlc3VsdDtyZXR1cm4gVCYmKF89ZS52YXJpYXRpb25JZE1hcFtUXSksXz8odGhpcy5sb2dnZXIubG9nKHUuSU5GTyxFLlVTRVJfSEFTX1ZBUklBVElPTixBZSxuLF8ua2V5LGwpLHMucHVzaChbRS5VU0VSX0hBU19WQVJJQVRJT04sQWUsbixfLmtleSxsXSksZ3x8dGhpcy5zYXZlVXNlclByb2ZpbGUodCxfLG4scCkse3Jlc3VsdDpfLmtleSxyZWFzb25zOnN9KToodGhpcy5sb2dnZXIubG9nKHUuREVCVUcsRS5VU0VSX0hBU19OT19WQVJJQVRJT04sQWUsbixsKSxzLnB1c2goW0UuVVNFUl9IQVNfTk9fVkFSSUFUSU9OLEFlLG4sbF0pLHtyZXN1bHQ6bnVsbCxyZWFzb25zOnN9KX0sZS5wcm90b3R5cGUucmVzb2x2ZUV4cGVyaW1lbnRCdWNrZXRNYXA9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciByPXRoaXMuZ2V0VXNlclByb2ZpbGUoZSl8fHt9LGk9dFtJLlNUSUNLWV9CVUNLRVRJTkdfS0VZXTtyZXR1cm4gQi5hc3NpZ24oe30sci5leHBlcmltZW50X2J1Y2tldF9tYXAsaSl9LGUucHJvdG90eXBlLmNoZWNrSWZFeHBlcmltZW50SXNBY3RpdmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm5cIlJ1bm5pbmdcIj09PUgoZSx0KX0oZSx0KX0sZS5wcm90b3R5cGUuZ2V0V2hpdGVsaXN0ZWRWYXJpYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtpZihlLmZvcmNlZFZhcmlhdGlvbnMmJmUuZm9yY2VkVmFyaWF0aW9ucy5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGk9ZS5mb3JjZWRWYXJpYXRpb25zW3RdO3JldHVybiBlLnZhcmlhdGlvbktleU1hcC5oYXNPd25Qcm9wZXJ0eShpKT8odGhpcy5sb2dnZXIubG9nKHUuSU5GTyxFLlVTRVJfRk9SQ0VEX0lOX1ZBUklBVElPTixBZSx0LGkpLHIucHVzaChbRS5VU0VSX0ZPUkNFRF9JTl9WQVJJQVRJT04sQWUsdCxpXSkse3Jlc3VsdDplLnZhcmlhdGlvbktleU1hcFtpXSxyZWFzb25zOnJ9KToodGhpcy5sb2dnZXIubG9nKHUuRVJST1IsRS5GT1JDRURfQlVDS0VUSU5HX0ZBSUxFRCxBZSxpLHQpLHIucHVzaChbRS5GT1JDRURfQlVDS0VUSU5HX0ZBSUxFRCxBZSxpLHRdKSx7cmVzdWx0Om51bGwscmVhc29uczpyfSl9cmV0dXJue3Jlc3VsdDpudWxsLHJlYXNvbnM6cn19LGUucHJvdG90eXBlLmNoZWNrSWZVc2VySXNJbkF1ZGllbmNlPWZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGE9W10scz1mdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwZXJpbWVudElkTWFwW3RdO2lmKCFyKXRocm93IG5ldyBFcnJvcihpLnNwcmludGYobC5JTlZBTElEX0VYUEVSSU1FTlRfSUQsSyx0KSk7cmV0dXJuIHIuYXVkaWVuY2VDb25kaXRpb25zfHxyLmF1ZGllbmNlSWRzfShlLHQuaWQpLEk9ZS5hdWRpZW5jZXNCeUlkO3RoaXMubG9nZ2VyLmxvZyh1LkRFQlVHLEUuRVZBTFVBVElOR19BVURJRU5DRVNfQ09NQklORUQsQWUscixvfHx0LmtleSxKU09OLnN0cmluZ2lmeShzKSksYS5wdXNoKFtFLkVWQUxVQVRJTkdfQVVESUVOQ0VTX0NPTUJJTkVELEFlLHIsb3x8dC5rZXksSlNPTi5zdHJpbmdpZnkocyldKTt2YXIgYz10aGlzLmF1ZGllbmNlRXZhbHVhdG9yLmV2YWx1YXRlKHMsSSxuKTtyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuSU5GTyxFLkFVRElFTkNFX0VWQUxVQVRJT05fUkVTVUxUX0NPTUJJTkVELEFlLHIsb3x8dC5rZXksYy50b1N0cmluZygpLnRvVXBwZXJDYXNlKCkpLGEucHVzaChbRS5BVURJRU5DRV9FVkFMVUFUSU9OX1JFU1VMVF9DT01CSU5FRCxBZSxyLG98fHQua2V5LGMudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpXSkse3Jlc3VsdDpjLHJlYXNvbnM6YX19LGUucHJvdG90eXBlLmJ1aWxkQnVja2V0ZXJQYXJhbXM9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJue2J1Y2tldGluZ0lkOnIsZXhwZXJpbWVudElkOnQuaWQsZXhwZXJpbWVudEtleTp0LmtleSxleHBlcmltZW50SWRNYXA6ZS5leHBlcmltZW50SWRNYXAsZXhwZXJpbWVudEtleU1hcDplLmV4cGVyaW1lbnRLZXlNYXAsZ3JvdXBJZE1hcDplLmdyb3VwSWRNYXAsbG9nZ2VyOnRoaXMubG9nZ2VyLHRyYWZmaWNBbGxvY2F0aW9uQ29uZmlnOnooZSx0LmlkKSx1c2VySWQ6aSx2YXJpYXRpb25JZE1hcDplLnZhcmlhdGlvbklkTWFwfX0sZS5wcm90b3R5cGUuZ2V0U3RvcmVkVmFyaWF0aW9uPWZ1bmN0aW9uKGUsdCxyLGkpe2lmKGkuaGFzT3duUHJvcGVydHkodC5pZCkpe3ZhciBuPWlbdC5pZF0sbz1uLnZhcmlhdGlvbl9pZDtpZihlLnZhcmlhdGlvbklkTWFwLmhhc093blByb3BlcnR5KG8pKXJldHVybiBlLnZhcmlhdGlvbklkTWFwW24udmFyaWF0aW9uX2lkXTt0aGlzLmxvZ2dlci5sb2codS5JTkZPLEUuU0FWRURfVkFSSUFUSU9OX05PVF9GT1VORCxBZSxyLG8sdC5rZXkpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRVc2VyUHJvZmlsZT1mdW5jdGlvbihlKXt2YXIgdD17dXNlcl9pZDplLGV4cGVyaW1lbnRfYnVja2V0X21hcDp7fX07aWYoIXRoaXMudXNlclByb2ZpbGVTZXJ2aWNlKXJldHVybiB0O3RyeXtyZXR1cm4gdGhpcy51c2VyUHJvZmlsZVNlcnZpY2UubG9va3VwKGUpfWNhdGNoKHQpe3RoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLGwuVVNFUl9QUk9GSUxFX0xPT0tVUF9FUlJPUixBZSxlLHQubWVzc2FnZSl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNhdmVVc2VyUHJvZmlsZT1mdW5jdGlvbihlLHQscixpKXtpZih0aGlzLnVzZXJQcm9maWxlU2VydmljZSl0cnl7aVtlLmlkXT17dmFyaWF0aW9uX2lkOnQuaWR9LHRoaXMudXNlclByb2ZpbGVTZXJ2aWNlLnNhdmUoe3VzZXJfaWQ6cixleHBlcmltZW50X2J1Y2tldF9tYXA6aX0pLHRoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5TQVZFRF9WQVJJQVRJT04sQWUsdC5rZXksZS5rZXkscil9Y2F0Y2goZSl7dGhpcy5sb2dnZXIubG9nKHUuRVJST1IsbC5VU0VSX1BST0ZJTEVfU0FWRV9FUlJPUixBZSxyLGUubWVzc2FnZSl9fSxlLnByb3RvdHlwZS5nZXRWYXJpYXRpb25Gb3JGZWF0dXJlPWZ1bmN0aW9uKGUsdCxyLGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgbj1bXSxvPXRoaXMuZ2V0VmFyaWF0aW9uRm9yRmVhdHVyZUV4cGVyaW1lbnQoZSx0LHIsaSk7bi5wdXNoLmFwcGx5KG4sby5yZWFzb25zKTt2YXIgYT1vLnJlc3VsdDtpZihudWxsIT09YS52YXJpYXRpb24pcmV0dXJue3Jlc3VsdDphLHJlYXNvbnM6bn07dmFyIHM9dGhpcy5nZXRWYXJpYXRpb25Gb3JSb2xsb3V0KGUsdCxyKTtuLnB1c2guYXBwbHkobixzLnJlYXNvbnMpO3ZhciBsPXMucmVzdWx0LEk9ci5nZXRVc2VySWQoKTtyZXR1cm4gbC52YXJpYXRpb24/KHRoaXMubG9nZ2VyLmxvZyh1LkRFQlVHLEUuVVNFUl9JTl9ST0xMT1VULEFlLEksdC5rZXkpLG4ucHVzaChbRS5VU0VSX0lOX1JPTExPVVQsQWUsSSx0LmtleV0pLHtyZXN1bHQ6bCxyZWFzb25zOm59KToodGhpcy5sb2dnZXIubG9nKHUuREVCVUcsRS5VU0VSX05PVF9JTl9ST0xMT1VULEFlLEksdC5rZXkpLG4ucHVzaChbRS5VU0VSX05PVF9JTl9ST0xMT1VULEFlLEksdC5rZXldKSx7cmVzdWx0OmwscmVhc29uczpufSl9LGUucHJvdG90eXBlLmdldFZhcmlhdGlvbkZvckZlYXR1cmVFeHBlcmltZW50PWZ1bmN0aW9uKGUsdCxyLGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgbixvLGE9W10scz1udWxsO2lmKHQuZXhwZXJpbWVudElkcy5sZW5ndGg+MClmb3Iobz0wO288dC5leHBlcmltZW50SWRzLmxlbmd0aDtvKyspe3ZhciBsPUooZSx0LmV4cGVyaW1lbnRJZHNbb10sdGhpcy5sb2dnZXIpO2lmKGwmJihuPXRoaXMuZ2V0VmFyaWF0aW9uRnJvbUV4cGVyaW1lbnRSdWxlKGUsdC5rZXksbCxyLGkpLGEucHVzaC5hcHBseShhLG4ucmVhc29ucykscz1uLnJlc3VsdCkpe3ZhciBJPW51bGw7cmV0dXJuKEk9bC52YXJpYXRpb25LZXlNYXBbc10pfHwoST1aKGUsdC5rZXkscykpLHtyZXN1bHQ6e2V4cGVyaW1lbnQ6bCx2YXJpYXRpb246SSxkZWNpc2lvblNvdXJjZTpfLkZFQVRVUkVfVEVTVH0scmVhc29uczphfX19ZWxzZSB0aGlzLmxvZ2dlci5sb2codS5ERUJVRyxFLkZFQVRVUkVfSEFTX05PX0VYUEVSSU1FTlRTLEFlLHQua2V5KSxhLnB1c2goW0UuRkVBVFVSRV9IQVNfTk9fRVhQRVJJTUVOVFMsQWUsdC5rZXldKTtyZXR1cm57cmVzdWx0OntleHBlcmltZW50Om51bGwsdmFyaWF0aW9uOm51bGwsZGVjaXNpb25Tb3VyY2U6Xy5GRUFUVVJFX1RFU1R9LHJlYXNvbnM6YX19LGUucHJvdG90eXBlLmdldFZhcmlhdGlvbkZvclJvbGxvdXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPVtdO2lmKCF0LnJvbGxvdXRJZClyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuREVCVUcsRS5OT19ST0xMT1VUX0VYSVNUUyxBZSx0LmtleSksaS5wdXNoKFtFLk5PX1JPTExPVVRfRVhJU1RTLEFlLHQua2V5XSkse3Jlc3VsdDp7ZXhwZXJpbWVudDpudWxsLHZhcmlhdGlvbjpudWxsLGRlY2lzaW9uU291cmNlOl8uUk9MTE9VVH0scmVhc29uczppfTt2YXIgbj1lLnJvbGxvdXRJZE1hcFt0LnJvbGxvdXRJZF07aWYoIW4pcmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLGwuSU5WQUxJRF9ST0xMT1VUX0lELEFlLHQucm9sbG91dElkLHQua2V5KSxpLnB1c2goW2wuSU5WQUxJRF9ST0xMT1VUX0lELEFlLHQucm9sbG91dElkLHQua2V5XSkse3Jlc3VsdDp7ZXhwZXJpbWVudDpudWxsLHZhcmlhdGlvbjpudWxsLGRlY2lzaW9uU291cmNlOl8uUk9MTE9VVH0scmVhc29uczppfTt2YXIgbyxhLHMsST1uLmV4cGVyaW1lbnRzO2lmKDA9PT1JLmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsRS5ST0xMT1VUX0hBU19OT19FWFBFUklNRU5UUyxBZSx0LnJvbGxvdXRJZCksaS5wdXNoKFtFLlJPTExPVVRfSEFTX05PX0VYUEVSSU1FTlRTLEFlLHQucm9sbG91dElkXSkse3Jlc3VsdDp7ZXhwZXJpbWVudDpudWxsLHZhcmlhdGlvbjpudWxsLGRlY2lzaW9uU291cmNlOl8uUk9MTE9VVH0scmVhc29uczppfTtmb3IodmFyIGM9MDtjPEkubGVuZ3RoOyl7aWYobz10aGlzLmdldFZhcmlhdGlvbkZyb21EZWxpdmVyeVJ1bGUoZSx0LmtleSxJLGMsciksaS5wdXNoLmFwcGx5KGksby5yZWFzb25zKSxzPW8ucmVzdWx0LGE9by5za2lwVG9FdmVyeW9uZUVsc2UscylyZXR1cm57cmVzdWx0OntleHBlcmltZW50OmUuZXhwZXJpbWVudElkTWFwW0lbY10uaWRdLHZhcmlhdGlvbjpzLGRlY2lzaW9uU291cmNlOl8uUk9MTE9VVH0scmVhc29uczppfTtjPWE/SS5sZW5ndGgtMTpjKzF9cmV0dXJue3Jlc3VsdDp7ZXhwZXJpbWVudDpudWxsLHZhcmlhdGlvbjpudWxsLGRlY2lzaW9uU291cmNlOl8uUk9MTE9VVH0scmVhc29uczppfX0sZS5wcm90b3R5cGUuZ2V0QnVja2V0aW5nSWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lO3JldHVybiBudWxsIT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5oYXNPd25Qcm9wZXJ0eShJLkJVQ0tFVElOR19JRCkmJihcInN0cmluZ1wiPT10eXBlb2YgdFtJLkJVQ0tFVElOR19JRF0/KHI9dFtJLkJVQ0tFVElOR19JRF0sdGhpcy5sb2dnZXIubG9nKHUuREVCVUcsRS5WQUxJRF9CVUNLRVRJTkdfSUQsQWUscikpOnRoaXMubG9nZ2VyLmxvZyh1LldBUk5JTkcsRS5CVUNLRVRJTkdfSURfTk9UX1NUUklORyxBZSkpLHJ9LGUucHJvdG90eXBlLmZpbmRWYWxpZGF0ZWRGb3JjZWREZWNpc2lvbj1mdW5jdGlvbihlLHQscixpKXt2YXIgbixvPVtdLGE9dC5nZXRGb3JjZWREZWNpc2lvbih7ZmxhZ0tleTpyLHJ1bGVLZXk6aX0pLHM9bnVsbCxsPXQuZ2V0VXNlcklkKCk7cmV0dXJuIGUmJmEmJihuPWEudmFyaWF0aW9uS2V5LChzPVooZSxyLG4pKT9pPyh0aGlzLmxvZ2dlci5sb2codS5JTkZPLEUuVVNFUl9IQVNfRk9SQ0VEX0RFQ0lTSU9OX1dJVEhfUlVMRV9TUEVDSUZJRUQsbixyLGksbCksby5wdXNoKFtFLlVTRVJfSEFTX0ZPUkNFRF9ERUNJU0lPTl9XSVRIX1JVTEVfU1BFQ0lGSUVELG4scixpLGxdKSk6KHRoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5VU0VSX0hBU19GT1JDRURfREVDSVNJT05fV0lUSF9OT19SVUxFX1NQRUNJRklFRCxuLHIsbCksby5wdXNoKFtFLlVTRVJfSEFTX0ZPUkNFRF9ERUNJU0lPTl9XSVRIX05PX1JVTEVfU1BFQ0lGSUVELG4scixsXSkpOmk/KHRoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5VU0VSX0hBU19GT1JDRURfREVDSVNJT05fV0lUSF9SVUxFX1NQRUNJRklFRF9CVVRfSU5WQUxJRCxyLGksbCksby5wdXNoKFtFLlVTRVJfSEFTX0ZPUkNFRF9ERUNJU0lPTl9XSVRIX1JVTEVfU1BFQ0lGSUVEX0JVVF9JTlZBTElELHIsaSxsXSkpOih0aGlzLmxvZ2dlci5sb2codS5JTkZPLEUuVVNFUl9IQVNfRk9SQ0VEX0RFQ0lTSU9OX1dJVEhfTk9fUlVMRV9TUEVDSUZJRURfQlVUX0lOVkFMSUQscixsKSxvLnB1c2goW0UuVVNFUl9IQVNfRk9SQ0VEX0RFQ0lTSU9OX1dJVEhfTk9fUlVMRV9TUEVDSUZJRURfQlVUX0lOVkFMSUQscixsXSkpKSx7cmVzdWx0OnMscmVhc29uczpvfX0sZS5wcm90b3R5cGUucmVtb3ZlRm9yY2VkVmFyaWF0aW9uPWZ1bmN0aW9uKGUsdCxyKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoaS5zcHJpbnRmKGwuSU5WQUxJRF9VU0VSX0lELEFlKSk7aWYoIXRoaXMuZm9yY2VkVmFyaWF0aW9uTWFwLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcihpLnNwcmludGYobC5VU0VSX05PVF9JTl9GT1JDRURfVkFSSUFUSU9OLEFlLGUpKTtkZWxldGUgdGhpcy5mb3JjZWRWYXJpYXRpb25NYXBbZV1bdF0sdGhpcy5sb2dnZXIubG9nKHUuREVCVUcsRS5WQVJJQVRJT05fUkVNT1ZFRF9GT1JfVVNFUixBZSxyLGUpfSxlLnByb3RvdHlwZS5zZXRJbkZvcmNlZFZhcmlhdGlvbk1hcD1mdW5jdGlvbihlLHQscil7dGhpcy5mb3JjZWRWYXJpYXRpb25NYXAuaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLmZvcmNlZFZhcmlhdGlvbk1hcFtlXT17fSksdGhpcy5mb3JjZWRWYXJpYXRpb25NYXBbZV1bdF09cix0aGlzLmxvZ2dlci5sb2codS5ERUJVRyxFLlVTRVJfTUFQUEVEX1RPX0ZPUkNFRF9WQVJJQVRJT04sQWUscix0LGUpfSxlLnByb3RvdHlwZS5nZXRGb3JjZWRWYXJpYXRpb249ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49W10sbz10aGlzLmZvcmNlZFZhcmlhdGlvbk1hcFtyXTtpZighbylyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuREVCVUcsRS5VU0VSX0hBU19OT19GT1JDRURfVkFSSUFUSU9OLEFlLHIpLHtyZXN1bHQ6bnVsbCxyZWFzb25zOm59O3RyeXt2YXIgYT1YKGUsdCk7aWYoIWEuaGFzT3duUHJvcGVydHkoXCJpZFwiKSlyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsbC5JTVBST1BFUkxZX0ZPUk1BVFRFRF9FWFBFUklNRU5ULEFlLHQpLG4ucHVzaChbbC5JTVBST1BFUkxZX0ZPUk1BVFRFRF9FWFBFUklNRU5ULEFlLHRdKSx7cmVzdWx0Om51bGwscmVhc29uczpufTtpPWEuaWR9Y2F0Y2goZSl7cmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLGUubWVzc2FnZSksbi5wdXNoKGUubWVzc2FnZSkse3Jlc3VsdDpudWxsLHJlYXNvbnM6bn19dmFyIHM9b1tpXTtpZighcylyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuREVCVUcsRS5VU0VSX0hBU19OT19GT1JDRURfVkFSSUFUSU9OX0ZPUl9FWFBFUklNRU5ULEFlLHQscikse3Jlc3VsdDpudWxsLHJlYXNvbnM6bn07dmFyIEk9WShlLHMpO3JldHVybiBJPyh0aGlzLmxvZ2dlci5sb2codS5ERUJVRyxFLlVTRVJfSEFTX0ZPUkNFRF9WQVJJQVRJT04sQWUsSSx0LHIpLG4ucHVzaChbRS5VU0VSX0hBU19GT1JDRURfVkFSSUFUSU9OLEFlLEksdCxyXSkpOnRoaXMubG9nZ2VyLmxvZyh1LkRFQlVHLEUuVVNFUl9IQVNfTk9fRk9SQ0VEX1ZBUklBVElPTl9GT1JfRVhQRVJJTUVOVCxBZSx0LHIpLHtyZXN1bHQ6SSxyZWFzb25zOm59fSxlLnByb3RvdHlwZS5zZXRGb3JjZWRWYXJpYXRpb249ZnVuY3Rpb24oZSx0LHIsaSl7aWYobnVsbCE9aSYmIXllKGkpKXJldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixsLklOVkFMSURfVkFSSUFUSU9OX0tFWSxBZSksITE7dmFyIG47dHJ5e3ZhciBvPVgoZSx0KTtpZighby5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKXJldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixsLklNUFJPUEVSTFlfRk9STUFUVEVEX0VYUEVSSU1FTlQsQWUsdCksITE7bj1vLmlkfWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLCExfWlmKG51bGw9PWkpdHJ5e3JldHVybiB0aGlzLnJlbW92ZUZvcmNlZFZhcmlhdGlvbihyLG4sdCksITB9Y2F0Y2goZSl7cmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLGUubWVzc2FnZSksITF9dmFyIGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWUuZXhwZXJpbWVudEtleU1hcFt0XTtyZXR1cm4gaS52YXJpYXRpb25LZXlNYXAuaGFzT3duUHJvcGVydHkocik/aS52YXJpYXRpb25LZXlNYXBbcl0uaWQ6bnVsbH0oZSx0LGkpO2lmKCFhKXJldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixsLk5PX1ZBUklBVElPTl9GT1JfRVhQRVJJTUVOVF9LRVksQWUsaSx0KSwhMTt0cnl7cmV0dXJuIHRoaXMuc2V0SW5Gb3JjZWRWYXJpYXRpb25NYXAocixuLGEpLCEwfWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLCExfX0sZS5wcm90b3R5cGUuZ2V0VmFyaWF0aW9uRnJvbUV4cGVyaW1lbnRSdWxlPWZ1bmN0aW9uKGUsdCxyLGksbil7dm9pZCAwPT09biYmKG49e30pO3ZhciBvPVtdLGE9dGhpcy5maW5kVmFsaWRhdGVkRm9yY2VkRGVjaXNpb24oZSxpLHQsci5rZXkpO28ucHVzaC5hcHBseShvLGEucmVhc29ucyk7dmFyIHM9YS5yZXN1bHQ7aWYocylyZXR1cm57cmVzdWx0OnMua2V5LHJlYXNvbnM6b307dmFyIHU9dGhpcy5nZXRWYXJpYXRpb24oZSxyLGksbik7cmV0dXJuIG8ucHVzaC5hcHBseShvLHUucmVhc29ucykse3Jlc3VsdDp1LnJlc3VsdCxyZWFzb25zOm99fSxlLnByb3RvdHlwZS5nZXRWYXJpYXRpb25Gcm9tRGVsaXZlcnlSdWxlPWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIG89W10sYT0hMSxzPXJbaV0sbD10aGlzLmZpbmRWYWxpZGF0ZWRGb3JjZWREZWNpc2lvbihlLG4sdCxzLmtleSk7by5wdXNoLmFwcGx5KG8sbC5yZWFzb25zKTt2YXIgST1sLnJlc3VsdDtpZihJKXJldHVybntyZXN1bHQ6SSxyZWFzb25zOm8sc2tpcFRvRXZlcnlvbmVFbHNlOmF9O3ZhciBjLGYsXyxnLHAsTz1uLmdldFVzZXJJZCgpLE49bi5nZXRBdHRyaWJ1dGVzKCksUj10aGlzLmdldEJ1Y2tldGluZ0lkKE8sTiksVD1pPT09ci5sZW5ndGgtMSx2PVQ/XCJFdmVyeW9uZSBFbHNlXCI6aSsxLGg9bnVsbCx5PXRoaXMuY2hlY2tJZlVzZXJJc0luQXVkaWVuY2UoZSxzLGQuUlVMRSxOLHYpO3JldHVybiBvLnB1c2guYXBwbHkobyx5LnJlYXNvbnMpLHkucmVzdWx0Pyh0aGlzLmxvZ2dlci5sb2codS5ERUJVRyxFLlVTRVJfTUVFVFNfQ09ORElUSU9OU19GT1JfVEFSR0VUSU5HX1JVTEUsQWUsTyx2KSxvLnB1c2goW0UuVVNFUl9NRUVUU19DT05ESVRJT05TX0ZPUl9UQVJHRVRJTkdfUlVMRSxBZSxPLHZdKSxmPXRoaXMuYnVpbGRCdWNrZXRlclBhcmFtcyhlLHMsUixPKSxfPW5lKGYpLG8ucHVzaC5hcHBseShvLF8ucmVhc29ucyksKGM9Xy5yZXN1bHQpJiYocD1jLGg9KGc9ZSkudmFyaWF0aW9uSWRNYXAuaGFzT3duUHJvcGVydHkocCk/Zy52YXJpYXRpb25JZE1hcFtwXTpudWxsKSxoPyh0aGlzLmxvZ2dlci5sb2codS5ERUJVRyxFLlVTRVJfQlVDS0VURURfSU5UT19UQVJHRVRJTkdfUlVMRSxBZSxPLHYpLG8ucHVzaChbRS5VU0VSX0JVQ0tFVEVEX0lOVE9fVEFSR0VUSU5HX1JVTEUsQWUsTyx2XSkpOlR8fCh0aGlzLmxvZ2dlci5sb2codS5ERUJVRyxFLlVTRVJfTk9UX0JVQ0tFVEVEX0lOVE9fVEFSR0VUSU5HX1JVTEUsQWUsTyx2KSxvLnB1c2goW0UuVVNFUl9OT1RfQlVDS0VURURfSU5UT19UQVJHRVRJTkdfUlVMRSxBZSxPLHZdKSxhPSEwKSk6KHRoaXMubG9nZ2VyLmxvZyh1LkRFQlVHLEUuVVNFUl9ET0VTTlRfTUVFVF9DT05ESVRJT05TX0ZPUl9UQVJHRVRJTkdfUlVMRSxBZSxPLHYpLG8ucHVzaChbRS5VU0VSX0RPRVNOVF9NRUVUX0NPTkRJVElPTlNfRk9SX1RBUkdFVElOR19SVUxFLEFlLE8sdl0pKSx7cmVzdWx0OmgscmVhc29uczpvLHNraXBUb0V2ZXJ5b25lRWxzZTphfX0sZX0oKTtmdW5jdGlvbiBEZShlLHQpe2lmKGUuaGFzT3duUHJvcGVydHkoXCJyZXZlbnVlXCIpKXt2YXIgcj1lLnJldmVudWUsaT12b2lkIDA7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHI/KGk9cGFyc2VJbnQociksaXNOYU4oaSk/KHQubG9nKHUuSU5GTyxFLkZBSUxFRF9UT19QQVJTRV9SRVZFTlVFLFwiRVZFTlRfVEFHX1VUSUxTXCIsciksbnVsbCk6KHQubG9nKHUuSU5GTyxFLlBBUlNFRF9SRVZFTlVFX1ZBTFVFLFwiRVZFTlRfVEFHX1VUSUxTXCIsaSksaSkpOlwibnVtYmVyXCI9PXR5cGVvZiByPyhpPXIsdC5sb2codS5JTkZPLEUuUEFSU0VEX1JFVkVOVUVfVkFMVUUsXCJFVkVOVF9UQUdfVVRJTFNcIixpKSxpKTpudWxsfXJldHVybiBudWxsfWZ1bmN0aW9uIFNlKGUsdCl7aWYoZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpKXt2YXIgcj1lLnZhbHVlLGk9dm9pZCAwO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiByPyhpPXBhcnNlRmxvYXQociksaXNOYU4oaSk/KHQubG9nKHUuSU5GTyxFLkZBSUxFRF9UT19QQVJTRV9WQUxVRSxcIkVWRU5UX1RBR19VVElMU1wiLHIpLG51bGwpOih0LmxvZyh1LklORk8sRS5QQVJTRURfTlVNRVJJQ19WQUxVRSxcIkVWRU5UX1RBR19VVElMU1wiLGkpLGkpKTpcIm51bWJlclwiPT10eXBlb2Ygcj8oaT1yLHQubG9nKHUuSU5GTyxFLlBBUlNFRF9OVU1FUklDX1ZBTFVFLFwiRVZFTlRfVEFHX1VUSUxTXCIsaSksaSk6bnVsbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBMZShlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYoXCJzdHJpbmdcIj09dHlwZW9mIHR8fFwiYm9vbGVhblwiPT10eXBlb2YgdHx8Qi5pc051bWJlcih0KSYmQi5pc1NhZmVJbnRlZ2VyKHQpKX12YXIgbWU9XCJodHRwczovL2xvZ3gub3B0aW1pemVseS5jb20vdjEvZXZlbnRzXCI7ZnVuY3Rpb24gVmUoZSl7dmFyIHQ9ZS5hdHRyaWJ1dGVzLHI9ZS51c2VySWQsaT1lLmNsaWVudEVuZ2luZSxuPWUuY2xpZW50VmVyc2lvbixvPWUuY29uZmlnT2JqLGE9ZS5sb2dnZXIscz0hIW8uYW5vbnltaXplSVAmJm8uYW5vbnltaXplSVAsdT1vLmJvdEZpbHRlcmluZyxsPXtzbmFwc2hvdHM6W10sdmlzaXRvcl9pZDpyLGF0dHJpYnV0ZXM6W119LEU9e2FjY291bnRfaWQ6by5hY2NvdW50SWQscHJvamVjdF9pZDpvLnByb2plY3RJZCx2aXNpdG9yczpbbF0scmV2aXNpb246by5yZXZpc2lvbixjbGllbnRfbmFtZTppLGNsaWVudF92ZXJzaW9uOm4sYW5vbnltaXplX2lwOnMsZW5yaWNoX2RlY2lzaW9uczohMH07cmV0dXJuIHQmJk9iamVjdC5rZXlzKHR8fHt9KS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihMZShlLHRbZV0pKXt2YXIgcj13KG8sZSxhKTtyJiZFLnZpc2l0b3JzWzBdLmF0dHJpYnV0ZXMucHVzaCh7ZW50aXR5X2lkOnIsa2V5OmUsdHlwZTpcImN1c3RvbVwiLHZhbHVlOnRbZV19KX19KSksXCJib29sZWFuXCI9PXR5cGVvZiB1JiZFLnZpc2l0b3JzWzBdLmF0dHJpYnV0ZXMucHVzaCh7ZW50aXR5X2lkOkkuQk9UX0ZJTFRFUklORyxrZXk6SS5CT1RfRklMVEVSSU5HLHR5cGU6XCJjdXN0b21cIix2YWx1ZTp1fSksRX1mdW5jdGlvbiBDZShlKXt2YXIgdCxyLGksbixvLGEscyx1LGwsRT1WZShlKSxJPSh0PWUuY29uZmlnT2JqLHI9ZS5leHBlcmltZW50SWQsaT1lLnZhcmlhdGlvbklkLG49ZS5ydWxlS2V5LG89ZS5ydWxlVHlwZSxhPWUuZmxhZ0tleSxzPWUuZW5hYmxlZCx1PXI/Ryh0LHIpOm51bGwsbD1pP1kodCxpKTpudWxsLHtkZWNpc2lvbnM6W3tjYW1wYWlnbl9pZDp1LGV4cGVyaW1lbnRfaWQ6cix2YXJpYXRpb25faWQ6aSxtZXRhZGF0YTp7ZmxhZ19rZXk6YSxydWxlX2tleTpuLHJ1bGVfdHlwZTpvLHZhcmlhdGlvbl9rZXk6bD1sfHxcIlwiLGVuYWJsZWQ6c319XSxldmVudHM6W3tlbnRpdHlfaWQ6dSx0aW1lc3RhbXA6Qi5jdXJyZW50VGltZXN0YW1wKCksa2V5OlwiY2FtcGFpZ25fYWN0aXZhdGVkXCIsdXVpZDpCLnV1aWQoKX1dfSk7cmV0dXJuIEUudmlzaXRvcnNbMF0uc25hcHNob3RzLnB1c2goSSkse2h0dHBWZXJiOlwiUE9TVFwiLHVybDptZSxwYXJhbXM6RX19ZnVuY3Rpb24gRmUoZSl7dmFyIHQ9VmUoZSkscj1mdW5jdGlvbihlLHQscixpKXt2YXIgbj17ZXZlbnRzOltdfSxvPXtlbnRpdHlfaWQ6aihlLHQpLHRpbWVzdGFtcDpCLmN1cnJlbnRUaW1lc3RhbXAoKSx1dWlkOkIudXVpZCgpLGtleTp0fTtpZihpKXt2YXIgYT1EZShpLHIpO251bGwhPT1hJiYoby5yZXZlbnVlPWEpO3ZhciBzPVNlKGkscik7bnVsbCE9PXMmJihvLnZhbHVlPXMpLG8udGFncz1pfXJldHVybiBuLmV2ZW50cy5wdXNoKG8pLG59KGUuY29uZmlnT2JqLGUuZXZlbnRLZXksZS5sb2dnZXIsZS5ldmVudFRhZ3MpO3JldHVybiB0LnZpc2l0b3JzWzBdLnNuYXBzaG90cz1bcl0se2h0dHBWZXJiOlwiUE9TVFwiLHVybDptZSxwYXJhbXM6dH19ZnVuY3Rpb24gTWUoZSl7dmFyIHQscjtyZXR1cm4gbnVsbCE9PShyPW51bGw9PT0odD1lLmV4cGVyaW1lbnQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmtleSkmJnZvaWQgMCE9PXI/cjpcIlwifWZ1bmN0aW9uIFBlKGUpe3ZhciB0LHI7cmV0dXJuIG51bGwhPT0ocj1udWxsPT09KHQ9ZS52YXJpYXRpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmtleSkmJnZvaWQgMCE9PXI/cjpcIlwifWZ1bmN0aW9uIGJlKGUpe3ZhciB0LHI7cmV0dXJuIG51bGwhPT0ocj1udWxsPT09KHQ9ZS52YXJpYXRpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmZlYXR1cmVFbmFibGVkKSYmdm9pZCAwIT09ciYmcn1mdW5jdGlvbiBrZShlKXt2YXIgdCxyO3JldHVybiBudWxsIT09KHI9bnVsbD09PSh0PWUuZXhwZXJpbWVudCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaWQpJiZ2b2lkIDAhPT1yP3I6bnVsbH1mdW5jdGlvbiBCZShlKXt2YXIgdCxyO3JldHVybiBudWxsIT09KHI9bnVsbD09PSh0PWUudmFyaWF0aW9uKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pZCkmJnZvaWQgMCE9PXI/cjpudWxsfXZhciBLZT10LmdldExvZ2dlcihcIkVWRU5UX0JVSUxERVJcIik7ZnVuY3Rpb24geGUoZSx0KXt2YXIgcj1bXTtyZXR1cm4gdCYmT2JqZWN0LmtleXModHx8e30pLmZvckVhY2goKGZ1bmN0aW9uKGkpe2lmKExlKGksdFtpXSkpe3ZhciBuPXcoZSxpLEtlKTtuJiZyLnB1c2goe2VudGl0eUlkOm4sa2V5OmksdmFsdWU6dFtpXX0pfX0pKSxyfXZhciBHZT1cIlVTRVJfUFJPRklMRV9TRVJWSUNFX1ZBTElEQVRPUlwiO3ZhciB3ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQscj10aGlzLG49ZS5jbGllbnRFbmdpbmU7bnx8KGUubG9nZ2VyLmxvZyh1LklORk8sRS5JTlZBTElEX0NMSUVOVF9FTkdJTkUsXCJPUFRJTUlaRUxZXCIsbiksbj1cIm5vZGUtc2RrXCIpLHRoaXMuY2xpZW50RW5naW5lPW4sdGhpcy5jbGllbnRWZXJzaW9uPWUuY2xpZW50VmVyc2lvbnx8XCI0LjkuMVwiLHRoaXMuZXJyb3JIYW5kbGVyPWUuZXJyb3JIYW5kbGVyLHRoaXMuaXNPcHRpbWl6ZWx5Q29uZmlnVmFsaWQ9ZS5pc1ZhbGlkSW5zdGFuY2UsdGhpcy5sb2dnZXI9ZS5sb2dnZXI7dmFyIG89bnVsbCE9PSh0PWUuZGVmYXVsdERlY2lkZU9wdGlvbnMpJiZ2b2lkIDAhPT10P3Q6W107QXJyYXkuaXNBcnJheShvKXx8KHRoaXMubG9nZ2VyLmxvZyh1LkRFQlVHLEUuSU5WQUxJRF9ERUZBVUxUX0RFQ0lERV9PUFRJT05TLFwiT1BUSU1JWkVMWVwiKSxvPVtdKTt2YXIgYT17fTtvLmZvckVhY2goKGZ1bmN0aW9uKGUpe2V4cG9ydHMuT3B0aW1pemVseURlY2lkZU9wdGlvbltlXT9hW2VdPSEwOnIubG9nZ2VyLmxvZyh1LldBUk5JTkcsRS5VTlJFQ09HTklaRURfREVDSURFX09QVElPTixcIk9QVElNSVpFTFlcIixlKX0pKSx0aGlzLmRlZmF1bHREZWNpZGVPcHRpb25zPWEsdGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlcj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHJlKGUpfSh7ZGF0YWZpbGU6ZS5kYXRhZmlsZSxqc29uU2NoZW1hVmFsaWRhdG9yOmUuanNvblNjaGVtYVZhbGlkYXRvcixzZGtLZXk6ZS5zZGtLZXksZGF0YWZpbGVNYW5hZ2VyOmUuZGF0YWZpbGVNYW5hZ2VyfSksdGhpcy5kaXNwb3NlT25VcGRhdGU9dGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5vblVwZGF0ZSgoZnVuY3Rpb24oZSl7ci5sb2dnZXIubG9nKHUuSU5GTyxFLlVQREFURURfT1BUSU1JWkVMWV9DT05GSUcsXCJPUFRJTUlaRUxZXCIsZS5yZXZpc2lvbixlLnByb2plY3RJZCksci5ub3RpZmljYXRpb25DZW50ZXIuc2VuZE5vdGlmaWNhdGlvbnMoYy5PUFRJTUlaRUxZX0NPTkZJR19VUERBVEUpfSkpO3ZhciBzLEk9dGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5vblJlYWR5KCksZj1udWxsO2lmKGUudXNlclByb2ZpbGVTZXJ2aWNlKXRyeXsoZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmxvb2t1cCl0aHJvdyBuZXcgRXJyb3IoaS5zcHJpbnRmKGwuSU5WQUxJRF9VU0VSX1BST0ZJTEVfU0VSVklDRSxHZSxcIk1pc3NpbmcgZnVuY3Rpb24gJ2xvb2t1cCdcIikpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuc2F2ZSl0aHJvdyBuZXcgRXJyb3IoaS5zcHJpbnRmKGwuSU5WQUxJRF9VU0VSX1BST0ZJTEVfU0VSVklDRSxHZSxcIk1pc3NpbmcgZnVuY3Rpb24gJ3NhdmUnXCIpKTtyZXR1cm4hMH10aHJvdyBuZXcgRXJyb3IoaS5zcHJpbnRmKGwuSU5WQUxJRF9VU0VSX1BST0ZJTEVfU0VSVklDRSxHZSkpfSkoZS51c2VyUHJvZmlsZVNlcnZpY2UpJiYoZj1lLnVzZXJQcm9maWxlU2VydmljZSx0aGlzLmxvZ2dlci5sb2codS5JTkZPLEUuVkFMSURfVVNFUl9QUk9GSUxFX1NFUlZJQ0UsXCJPUFRJTUlaRUxZXCIpKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5sb2codS5XQVJOSU5HLGUubWVzc2FnZSl9dGhpcy5kZWNpc2lvblNlcnZpY2U9KHM9e3VzZXJQcm9maWxlU2VydmljZTpmLGxvZ2dlcjp0aGlzLmxvZ2dlcixVTlNUQUJMRV9jb25kaXRpb25FdmFsdWF0b3JzOmUuVU5TVEFCTEVfY29uZGl0aW9uRXZhbHVhdG9yc30sbmV3IFVlKHMpKSx0aGlzLm5vdGlmaWNhdGlvbkNlbnRlcj1lLm5vdGlmaWNhdGlvbkNlbnRlcix0aGlzLmV2ZW50UHJvY2Vzc29yPWUuZXZlbnRQcm9jZXNzb3I7dmFyIF89dGhpcy5ldmVudFByb2Nlc3Nvci5zdGFydCgpO3RoaXMucmVhZHlQcm9taXNlPVByb21pc2UuYWxsKFtJLF9dKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXX0pKSx0aGlzLnJlYWR5VGltZW91dHM9e30sdGhpcy5uZXh0UmVhZHlUaW1lb3V0SWQ9MH1yZXR1cm4gZS5wcm90b3R5cGUuaXNWYWxpZEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNPcHRpbWl6ZWx5Q29uZmlnVmFsaWQmJiEhdGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5nZXRDb25maWcoKX0sZS5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oZSx0LHIpe3RyeXtpZighdGhpcy5pc1ZhbGlkSW5zdGFuY2UoKSlyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsRS5JTlZBTElEX09CSkVDVCxcIk9QVElNSVpFTFlcIixcImFjdGl2YXRlXCIpLG51bGw7aWYoIXRoaXMudmFsaWRhdGVJbnB1dHMoe2V4cGVyaW1lbnRfa2V5OmUsdXNlcl9pZDp0fSxyKSlyZXR1cm4gdGhpcy5ub3RBY3RpdmF0aW5nRXhwZXJpbWVudChlLHQpO3ZhciBpPXRoaXMucHJvamVjdENvbmZpZ01hbmFnZXIuZ2V0Q29uZmlnKCk7aWYoIWkpcmV0dXJuIG51bGw7dHJ5e3ZhciBuPXRoaXMuZ2V0VmFyaWF0aW9uKGUsdCxyKTtpZihudWxsPT09bilyZXR1cm4gdGhpcy5ub3RBY3RpdmF0aW5nRXhwZXJpbWVudChlLHQpO2lmKCFmdW5jdGlvbihlLHQpe3JldHVyblwiUnVubmluZ1wiPT09SChlLHQpfShpLGUpKXJldHVybiB0aGlzLmxvZ2dlci5sb2codS5ERUJVRyxFLlNIT1VMRF9OT1RfRElTUEFUQ0hfQUNUSVZBVEUsXCJPUFRJTUlaRUxZXCIsZSksbjt2YXIgbz1YKGksZSksYT17ZXhwZXJpbWVudDpvLHZhcmlhdGlvbjpvLnZhcmlhdGlvbktleU1hcFtuXSxkZWNpc2lvblNvdXJjZTpfLkVYUEVSSU1FTlR9O3JldHVybiB0aGlzLnNlbmRJbXByZXNzaW9uRXZlbnQoYSxcIlwiLHQsITAsciksbn1jYXRjaChyKXtyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1Isci5tZXNzYWdlKSx0aGlzLmxvZ2dlci5sb2codS5JTkZPLEUuTk9UX0FDVElWQVRJTkdfVVNFUixcIk9QVElNSVpFTFlcIix0LGUpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKHIpLG51bGx9fWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLG51bGx9fSxlLnByb3RvdHlwZS5zZW5kSW1wcmVzc2lvbkV2ZW50PWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIG89dGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5nZXRDb25maWcoKTtpZihvKXt2YXIgYT1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbmZpZ09iaixyPWUuZGVjaXNpb25PYmosaT1lLnVzZXJJZCxuPWUuZmxhZ0tleSxvPWUuZW5hYmxlZCxhPWUudXNlckF0dHJpYnV0ZXMscz1lLmNsaWVudEVuZ2luZSx1PWUuY2xpZW50VmVyc2lvbixsPXIuZGVjaXNpb25Tb3VyY2UsRT1NZShyKSxJPWtlKHIpLGM9UGUociksZj1CZShyKSxfPW51bGwhPT1JP0codCxJKTpudWxsO3JldHVybnt0eXBlOlwiaW1wcmVzc2lvblwiLHRpbWVzdGFtcDpCLmN1cnJlbnRUaW1lc3RhbXAoKSx1dWlkOkIudXVpZCgpLHVzZXI6e2lkOmksYXR0cmlidXRlczp4ZSh0LGEpfSxjb250ZXh0OnthY2NvdW50SWQ6dC5hY2NvdW50SWQscHJvamVjdElkOnQucHJvamVjdElkLHJldmlzaW9uOnQucmV2aXNpb24sY2xpZW50TmFtZTpzLGNsaWVudFZlcnNpb246dSxhbm9ueW1pemVJUDp0LmFub255bWl6ZUlQfHwhMSxib3RGaWx0ZXJpbmc6dC5ib3RGaWx0ZXJpbmd9LGxheWVyOntpZDpffSxleHBlcmltZW50OntpZDpJLGtleTpFfSx2YXJpYXRpb246e2lkOmYsa2V5OmN9LHJ1bGVLZXk6RSxmbGFnS2V5Om4scnVsZVR5cGU6bCxlbmFibGVkOm99fSh7ZGVjaXNpb25PYmo6ZSxmbGFnS2V5OnQsZW5hYmxlZDppLHVzZXJJZDpyLHVzZXJBdHRyaWJ1dGVzOm4sY2xpZW50RW5naW5lOnRoaXMuY2xpZW50RW5naW5lLGNsaWVudFZlcnNpb246dGhpcy5jbGllbnRWZXJzaW9uLGNvbmZpZ09iajpvfSk7dGhpcy5ldmVudFByb2Nlc3Nvci5wcm9jZXNzKGEpLHRoaXMuZW1pdE5vdGlmaWNhdGlvbkNlbnRlckFjdGl2YXRlKGUsdCxyLGksbil9fSxlLnByb3RvdHlwZS5lbWl0Tm90aWZpY2F0aW9uQ2VudGVyQWN0aXZhdGU9ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgbz10aGlzLnByb2plY3RDb25maWdNYW5hZ2VyLmdldENvbmZpZygpO2lmKG8pe3ZhciBhLHM9ZS5kZWNpc2lvblNvdXJjZSx1PU1lKGUpLGw9a2UoZSksRT1QZShlKSxJPUJlKGUpO251bGwhPT1sJiZcIlwiIT09RSYmKGE9by5leHBlcmltZW50SWRNYXBbbF0pO3ZhciBmLF89Q2Uoe2F0dHJpYnV0ZXM6bixjbGllbnRFbmdpbmU6dGhpcy5jbGllbnRFbmdpbmUsY2xpZW50VmVyc2lvbjp0aGlzLmNsaWVudFZlcnNpb24sY29uZmlnT2JqOm8sZXhwZXJpbWVudElkOmwscnVsZUtleTp1LGZsYWdLZXk6dCxydWxlVHlwZTpzLHVzZXJJZDpyLGVuYWJsZWQ6aSx2YXJpYXRpb25JZDpJLGxvZ2dlcjp0aGlzLmxvZ2dlcn0pO2EmJmEudmFyaWF0aW9uS2V5TWFwJiZcIlwiIT09RSYmKGY9YS52YXJpYXRpb25LZXlNYXBbRV0pLHRoaXMubm90aWZpY2F0aW9uQ2VudGVyLnNlbmROb3RpZmljYXRpb25zKGMuQUNUSVZBVEUse2V4cGVyaW1lbnQ6YSx1c2VySWQ6cixhdHRyaWJ1dGVzOm4sdmFyaWF0aW9uOmYsbG9nRXZlbnQ6X30pfX0sZS5wcm90b3R5cGUudHJhY2s9ZnVuY3Rpb24oZSx0LHIsaSl7dHJ5e2lmKCF0aGlzLmlzVmFsaWRJbnN0YW5jZSgpKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLEUuSU5WQUxJRF9PQkpFQ1QsXCJPUFRJTUlaRUxZXCIsXCJ0cmFja1wiKTtpZighdGhpcy52YWxpZGF0ZUlucHV0cyh7dXNlcl9pZDp0LGV2ZW50X2tleTplfSxyLGkpKXJldHVybjt2YXIgbj10aGlzLnByb2plY3RDb25maWdNYW5hZ2VyLmdldENvbmZpZygpO2lmKCFuKXJldHVybjtpZighZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5ldmVudEtleU1hcC5oYXNPd25Qcm9wZXJ0eSh0KX0obixlKSlyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuV0FSTklORyxFLkVWRU5UX0tFWV9OT1RfRk9VTkQsXCJPUFRJTUlaRUxZXCIsZSksdm9pZCB0aGlzLmxvZ2dlci5sb2codS5XQVJOSU5HLEUuTk9UX1RSQUNLSU5HX1VTRVIsXCJPUFRJTUlaRUxZXCIsdCk7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb25maWdPYmoscj1lLnVzZXJJZCxpPWUudXNlckF0dHJpYnV0ZXMsbj1lLmNsaWVudEVuZ2luZSxvPWUuY2xpZW50VmVyc2lvbixhPWUuZXZlbnRLZXkscz1lLmV2ZW50VGFncyx1PWoodCxhKSxsPXM/RGUocyxLZSk6bnVsbCxFPXM/U2UocyxLZSk6bnVsbDtyZXR1cm57dHlwZTpcImNvbnZlcnNpb25cIix0aW1lc3RhbXA6Qi5jdXJyZW50VGltZXN0YW1wKCksdXVpZDpCLnV1aWQoKSx1c2VyOntpZDpyLGF0dHJpYnV0ZXM6eGUodCxpKX0sY29udGV4dDp7YWNjb3VudElkOnQuYWNjb3VudElkLHByb2plY3RJZDp0LnByb2plY3RJZCxyZXZpc2lvbjp0LnJldmlzaW9uLGNsaWVudE5hbWU6bixjbGllbnRWZXJzaW9uOm8sYW5vbnltaXplSVA6dC5hbm9ueW1pemVJUHx8ITEsYm90RmlsdGVyaW5nOnQuYm90RmlsdGVyaW5nfSxldmVudDp7aWQ6dSxrZXk6YX0scmV2ZW51ZTpsLHZhbHVlOkUsdGFnczpzfX0oe2V2ZW50S2V5OmUsZXZlbnRUYWdzOmk9dGhpcy5maWx0ZXJFbXB0eVZhbHVlcyhpKSx1c2VySWQ6dCx1c2VyQXR0cmlidXRlczpyLGNsaWVudEVuZ2luZTp0aGlzLmNsaWVudEVuZ2luZSxjbGllbnRWZXJzaW9uOnRoaXMuY2xpZW50VmVyc2lvbixjb25maWdPYmo6bn0pO3RoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5UUkFDS19FVkVOVCxcIk9QVElNSVpFTFlcIixlLHQpLHRoaXMuZXZlbnRQcm9jZXNzb3IucHJvY2VzcyhvKSx0aGlzLmVtaXROb3RpZmljYXRpb25DZW50ZXJUcmFjayhlLHQscixpKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLEUuTk9UX1RSQUNLSU5HX1VTRVIsXCJPUFRJTUlaRUxZXCIsdCl9fSxlLnByb3RvdHlwZS5lbWl0Tm90aWZpY2F0aW9uQ2VudGVyVHJhY2s9ZnVuY3Rpb24oZSx0LHIsaSl7dHJ5e3ZhciBuPXRoaXMucHJvamVjdENvbmZpZ01hbmFnZXIuZ2V0Q29uZmlnKCk7aWYoIW4pcmV0dXJuO3ZhciBvPUZlKHthdHRyaWJ1dGVzOnIsY2xpZW50RW5naW5lOnRoaXMuY2xpZW50RW5naW5lLGNsaWVudFZlcnNpb246dGhpcy5jbGllbnRWZXJzaW9uLGNvbmZpZ09iajpuLGV2ZW50S2V5OmUsZXZlbnRUYWdzOmksbG9nZ2VyOnRoaXMubG9nZ2VyLHVzZXJJZDp0fSk7dGhpcy5ub3RpZmljYXRpb25DZW50ZXIuc2VuZE5vdGlmaWNhdGlvbnMoYy5UUkFDSyx7ZXZlbnRLZXk6ZSx1c2VySWQ6dCxhdHRyaWJ1dGVzOnIsZXZlbnRUYWdzOmksbG9nRXZlbnQ6b30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLGUubWVzc2FnZSksdGhpcy5lcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZSl9fSxlLnByb3RvdHlwZS5nZXRWYXJpYXRpb249ZnVuY3Rpb24oZSx0LHIpe3RyeXtpZighdGhpcy5pc1ZhbGlkSW5zdGFuY2UoKSlyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsRS5JTlZBTElEX09CSkVDVCxcIk9QVElNSVpFTFlcIixcImdldFZhcmlhdGlvblwiKSxudWxsO3RyeXtpZighdGhpcy52YWxpZGF0ZUlucHV0cyh7ZXhwZXJpbWVudF9rZXk6ZSx1c2VyX2lkOnR9LHIpKXJldHVybiBudWxsO3ZhciBpPXRoaXMucHJvamVjdENvbmZpZ01hbmFnZXIuZ2V0Q29uZmlnKCk7aWYoIWkpcmV0dXJuIG51bGw7dmFyIG49aS5leHBlcmltZW50S2V5TWFwW2VdO2lmKCFuKXJldHVybiB0aGlzLmxvZ2dlci5sb2codS5ERUJVRyxsLklOVkFMSURfRVhQRVJJTUVOVF9LRVksXCJPUFRJTUlaRUxZXCIsZSksbnVsbDt2YXIgbz10aGlzLmRlY2lzaW9uU2VydmljZS5nZXRWYXJpYXRpb24oaSxuLHRoaXMuY3JlYXRlVXNlckNvbnRleHQodCxyKSkucmVzdWx0LGE9KHM9aSxJPW4uaWQscy5leHBlcmltZW50RmVhdHVyZU1hcC5oYXNPd25Qcm9wZXJ0eShJKT9mLkZFQVRVUkVfVEVTVDpmLkFCX1RFU1QpO3JldHVybiB0aGlzLm5vdGlmaWNhdGlvbkNlbnRlci5zZW5kTm90aWZpY2F0aW9ucyhjLkRFQ0lTSU9OLHt0eXBlOmEsdXNlcklkOnQsYXR0cmlidXRlczpyfHx7fSxkZWNpc2lvbkluZm86e2V4cGVyaW1lbnRLZXk6ZSx2YXJpYXRpb25LZXk6b319KSxvfWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLG51bGx9fWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLG51bGx9dmFyIHMsSX0sZS5wcm90b3R5cGUuc2V0Rm9yY2VkVmFyaWF0aW9uPWZ1bmN0aW9uKGUsdCxyKXtpZighdGhpcy52YWxpZGF0ZUlucHV0cyh7ZXhwZXJpbWVudF9rZXk6ZSx1c2VyX2lkOnR9KSlyZXR1cm4hMTt2YXIgaT10aGlzLnByb2plY3RDb25maWdNYW5hZ2VyLmdldENvbmZpZygpO2lmKCFpKXJldHVybiExO3RyeXtyZXR1cm4gdGhpcy5kZWNpc2lvblNlcnZpY2Uuc2V0Rm9yY2VkVmFyaWF0aW9uKGksZSx0LHIpfWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLCExfX0sZS5wcm90b3R5cGUuZ2V0Rm9yY2VkVmFyaWF0aW9uPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMudmFsaWRhdGVJbnB1dHMoe2V4cGVyaW1lbnRfa2V5OmUsdXNlcl9pZDp0fSkpcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5nZXRDb25maWcoKTtpZighcilyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIHRoaXMuZGVjaXNpb25TZXJ2aWNlLmdldEZvcmNlZFZhcmlhdGlvbihyLGUsdCkucmVzdWx0fWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLG51bGx9fSxlLnByb3RvdHlwZS52YWxpZGF0ZUlucHV0cz1mdW5jdGlvbihlLHQscil7dHJ5e2lmKGUuaGFzT3duUHJvcGVydHkoXCJ1c2VyX2lkXCIpKXt2YXIgbj1lLnVzZXJfaWQ7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG58fG51bGw9PT1ufHxcInVuZGVmaW5lZFwiPT09bil0aHJvdyBuZXcgRXJyb3IoaS5zcHJpbnRmKGwuSU5WQUxJRF9JTlBVVF9GT1JNQVQsXCJPUFRJTUlaRUxZXCIsXCJ1c2VyX2lkXCIpKTtkZWxldGUgZS51c2VyX2lkfXJldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZigheWUoZVt0XSkpdGhyb3cgbmV3IEVycm9yKGkuc3ByaW50ZihsLklOVkFMSURfSU5QVVRfRk9STUFULFwiT1BUSU1JWkVMWVwiLHQpKX0pKSx0JiZmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8QXJyYXkuaXNBcnJheShlKXx8bnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKGkuc3ByaW50ZihsLklOVkFMSURfQVRUUklCVVRFUyxcIkFUVFJJQlVURVNfVkFMSURBVE9SXCIpKTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZih2b2lkIDA9PT1lW3RdKXRocm93IG5ldyBFcnJvcihpLnNwcmludGYobC5VTkRFRklORURfQVRUUklCVVRFLFwiQVRUUklCVVRFU19WQUxJREFUT1JcIix0KSl9KSl9KHQpLHImJmZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxBcnJheS5pc0FycmF5KGUpfHxudWxsPT09ZSl0aHJvdyBuZXcgRXJyb3IoaS5zcHJpbnRmKGwuSU5WQUxJRF9FVkVOVF9UQUdTLFwiRVZFTlRfVEFHU19WQUxJREFUT1JcIikpfShyKSwhMH1jYXRjaChlKXtyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsZS5tZXNzYWdlKSx0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKSwhMX19LGUucHJvdG90eXBlLm5vdEFjdGl2YXRpbmdFeHBlcmltZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5OT1RfQUNUSVZBVElOR19VU0VSLFwiT1BUSU1JWkVMWVwiLHQsZSksbnVsbH0sZS5wcm90b3R5cGUuZmlsdGVyRW1wdHlWYWx1ZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpIWUuaGFzT3duUHJvcGVydHkodCl8fG51bGwhPT1lW3RdJiZ2b2lkIDAhPT1lW3RdfHxkZWxldGUgZVt0XTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuaXNGZWF0dXJlRW5hYmxlZD1mdW5jdGlvbihlLHQscil7dHJ5e2lmKCF0aGlzLmlzVmFsaWRJbnN0YW5jZSgpKXJldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixFLklOVkFMSURfT0JKRUNULFwiT1BUSU1JWkVMWVwiLFwiaXNGZWF0dXJlRW5hYmxlZFwiKSwhMTtpZighdGhpcy52YWxpZGF0ZUlucHV0cyh7ZmVhdHVyZV9rZXk6ZSx1c2VyX2lkOnR9LHIpKXJldHVybiExO3ZhciBpPXRoaXMucHJvamVjdENvbmZpZ01hbmFnZXIuZ2V0Q29uZmlnKCk7aWYoIWkpcmV0dXJuITE7dmFyIG49VyhpLGUsdGhpcy5sb2dnZXIpO2lmKCFuKXJldHVybiExO3ZhciBvPXt9LGE9dGhpcy5jcmVhdGVVc2VyQ29udGV4dCh0LHIpLHM9dGhpcy5kZWNpc2lvblNlcnZpY2UuZ2V0VmFyaWF0aW9uRm9yRmVhdHVyZShpLG4sYSkucmVzdWx0LGw9cy5kZWNpc2lvblNvdXJjZSxJPU1lKHMpLGQ9UGUocyksZz1iZShzKTtsPT09Xy5GRUFUVVJFX1RFU1QmJihvPXtleHBlcmltZW50S2V5OkksdmFyaWF0aW9uS2V5OmR9KSwobD09PV8uRkVBVFVSRV9URVNUfHxsPT09Xy5ST0xMT1VUJiZRKGkpKSYmdGhpcy5zZW5kSW1wcmVzc2lvbkV2ZW50KHMsbi5rZXksdCxnLHIpLCEwPT09Zz90aGlzLmxvZ2dlci5sb2codS5JTkZPLEUuRkVBVFVSRV9FTkFCTEVEX0ZPUl9VU0VSLFwiT1BUSU1JWkVMWVwiLGUsdCk6KHRoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5GRUFUVVJFX05PVF9FTkFCTEVEX0ZPUl9VU0VSLFwiT1BUSU1JWkVMWVwiLGUsdCksZz0hMSk7dmFyIHA9e2ZlYXR1cmVLZXk6ZSxmZWF0dXJlRW5hYmxlZDpnLHNvdXJjZTpzLmRlY2lzaW9uU291cmNlLHNvdXJjZUluZm86b307cmV0dXJuIHRoaXMubm90aWZpY2F0aW9uQ2VudGVyLnNlbmROb3RpZmljYXRpb25zKGMuREVDSVNJT04se3R5cGU6Zi5GRUFUVVJFLHVzZXJJZDp0LGF0dHJpYnV0ZXM6cnx8e30sZGVjaXNpb25JbmZvOnB9KSxnfWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLCExfX0sZS5wcm90b3R5cGUuZ2V0RW5hYmxlZEZlYXR1cmVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0cnl7dmFyIG49W107aWYoIXRoaXMuaXNWYWxpZEluc3RhbmNlKCkpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLEUuSU5WQUxJRF9PQkpFQ1QsXCJPUFRJTUlaRUxZXCIsXCJnZXRFbmFibGVkRmVhdHVyZXNcIiksbjtpZighdGhpcy52YWxpZGF0ZUlucHV0cyh7dXNlcl9pZDplfSkpcmV0dXJuIG47dmFyIG89dGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5nZXRDb25maWcoKTtyZXR1cm4gbz8oaS5vYmplY3RWYWx1ZXMoby5mZWF0dXJlS2V5TWFwKS5mb3JFYWNoKChmdW5jdGlvbihpKXtyLmlzRmVhdHVyZUVuYWJsZWQoaS5rZXksZSx0KSYmbi5wdXNoKGkua2V5KX0pKSxuKTpufWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLFtdfX0sZS5wcm90b3R5cGUuZ2V0RmVhdHVyZVZhcmlhYmxlPWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXtyZXR1cm4gdGhpcy5pc1ZhbGlkSW5zdGFuY2UoKT90aGlzLmdldEZlYXR1cmVWYXJpYWJsZUZvclR5cGUoZSx0LG51bGwscixpKToodGhpcy5sb2dnZXIubG9nKHUuRVJST1IsRS5JTlZBTElEX09CSkVDVCxcIk9QVElNSVpFTFlcIixcImdldEZlYXR1cmVWYXJpYWJsZVwiKSxudWxsKX1jYXRjaChlKXtyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsZS5tZXNzYWdlKSx0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKSxudWxsfX0sZS5wcm90b3R5cGUuZ2V0RmVhdHVyZVZhcmlhYmxlRm9yVHlwZT1mdW5jdGlvbihlLHQscixpLG4pe2lmKCF0aGlzLnZhbGlkYXRlSW5wdXRzKHtmZWF0dXJlX2tleTplLHZhcmlhYmxlX2tleTp0LHVzZXJfaWQ6aX0sbikpcmV0dXJuIG51bGw7dmFyIG89dGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5nZXRDb25maWcoKTtpZighbylyZXR1cm4gbnVsbDt2YXIgYT1XKG8sZSx0aGlzLmxvZ2dlcik7aWYoIWEpcmV0dXJuIG51bGw7dmFyIHM9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49ZS5mZWF0dXJlS2V5TWFwW3RdO2lmKCFuKXJldHVybiBpLmxvZyh1LkVSUk9SLGwuRkVBVFVSRV9OT1RfSU5fREFUQUZJTEUsSyx0KSxudWxsO3ZhciBvPW4udmFyaWFibGVLZXlNYXBbcl07cmV0dXJuIG98fChpLmxvZyh1LkVSUk9SLGwuVkFSSUFCTEVfS0VZX05PVF9JTl9EQVRBRklMRSxLLHIsdCksbnVsbCl9KG8sZSx0LHRoaXMubG9nZ2VyKTtpZighcylyZXR1cm4gbnVsbDtpZihyJiZzLnR5cGUhPT1yKXJldHVybiB0aGlzLmxvZ2dlci5sb2codS5XQVJOSU5HLEUuVkFSSUFCTEVfUkVRVUVTVEVEX1dJVEhfV1JPTkdfVFlQRSxcIk9QVElNSVpFTFlcIixyLHMudHlwZSksbnVsbDt2YXIgST10aGlzLmNyZWF0ZVVzZXJDb250ZXh0KGksbiksZD10aGlzLmRlY2lzaW9uU2VydmljZS5nZXRWYXJpYXRpb25Gb3JGZWF0dXJlKG8sYSxJKS5yZXN1bHQsZz1iZShkKSxwPXRoaXMuZ2V0RmVhdHVyZVZhcmlhYmxlVmFsdWVGcm9tVmFyaWF0aW9uKGUsZyxkLnZhcmlhdGlvbixzLGkpLE89e307cmV0dXJuIGQuZGVjaXNpb25Tb3VyY2U9PT1fLkZFQVRVUkVfVEVTVCYmbnVsbCE9PWQuZXhwZXJpbWVudCYmbnVsbCE9PWQudmFyaWF0aW9uJiYoTz17ZXhwZXJpbWVudEtleTpkLmV4cGVyaW1lbnQua2V5LHZhcmlhdGlvbktleTpkLnZhcmlhdGlvbi5rZXl9KSx0aGlzLm5vdGlmaWNhdGlvbkNlbnRlci5zZW5kTm90aWZpY2F0aW9ucyhjLkRFQ0lTSU9OLHt0eXBlOmYuRkVBVFVSRV9WQVJJQUJMRSx1c2VySWQ6aSxhdHRyaWJ1dGVzOm58fHt9LGRlY2lzaW9uSW5mbzp7ZmVhdHVyZUtleTplLGZlYXR1cmVFbmFibGVkOmcsc291cmNlOmQuZGVjaXNpb25Tb3VyY2UsdmFyaWFibGVLZXk6dCx2YXJpYWJsZVZhbHVlOnAsdmFyaWFibGVUeXBlOnMudHlwZSxzb3VyY2VJbmZvOk99fSkscH0sZS5wcm90b3R5cGUuZ2V0RmVhdHVyZVZhcmlhYmxlVmFsdWVGcm9tVmFyaWF0aW9uPWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIG89dGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5nZXRDb25maWcoKTtpZighbylyZXR1cm4gbnVsbDt2YXIgYT1pLmRlZmF1bHRWYWx1ZTtpZihudWxsIT09cil7dmFyIHM9ZnVuY3Rpb24oZSx0LHIsaSl7aWYoIXR8fCFyKXJldHVybiBudWxsO2lmKCFlLnZhcmlhdGlvblZhcmlhYmxlVXNhZ2VNYXAuaGFzT3duUHJvcGVydHkoci5pZCkpcmV0dXJuIGkubG9nKHUuRVJST1IsbC5WQVJJQVRJT05fSURfTk9UX0lOX0RBVEFGSUxFX05PX0VYUEVSSU1FTlQsSyxyLmlkKSxudWxsO3ZhciBuPWUudmFyaWF0aW9uVmFyaWFibGVVc2FnZU1hcFtyLmlkXVt0LmlkXTtyZXR1cm4gbj9uLnZhbHVlOm51bGx9KG8saSxyLHRoaXMubG9nZ2VyKTtudWxsIT09cz90PyhhPXMsdGhpcy5sb2dnZXIubG9nKHUuSU5GTyxFLlVTRVJfUkVDRUlWRURfVkFSSUFCTEVfVkFMVUUsXCJPUFRJTUlaRUxZXCIsYSxpLmtleSxlKSk6dGhpcy5sb2dnZXIubG9nKHUuSU5GTyxFLkZFQVRVUkVfTk9UX0VOQUJMRURfUkVUVVJOX0RFRkFVTFRfVkFSSUFCTEVfVkFMVUUsXCJPUFRJTUlaRUxZXCIsZSxuLGEpOnRoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5WQVJJQUJMRV9OT1RfVVNFRF9SRVRVUk5fREVGQVVMVF9WQVJJQUJMRV9WQUxVRSxcIk9QVElNSVpFTFlcIixpLmtleSxyLmtleSl9ZWxzZSB0aGlzLmxvZ2dlci5sb2codS5JTkZPLEUuVVNFUl9SRUNFSVZFRF9ERUZBVUxUX1ZBUklBQkxFX1ZBTFVFLFwiT1BUSU1JWkVMWVwiLG4saS5rZXksZSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXt2YXIgaTtzd2l0Y2godCl7Y2FzZSBnLkJPT0xFQU46XCJ0cnVlXCIhPT1lJiZcImZhbHNlXCIhPT1lPyhyLmxvZyh1LkVSUk9SLGwuVU5BQkxFX1RPX0NBU1RfVkFMVUUsSyxlLHQpLGk9bnVsbCk6aT1cInRydWVcIj09PWU7YnJlYWs7Y2FzZSBnLklOVEVHRVI6aT1wYXJzZUludChlLDEwKSxpc05hTihpKSYmKHIubG9nKHUuRVJST1IsbC5VTkFCTEVfVE9fQ0FTVF9WQUxVRSxLLGUsdCksaT1udWxsKTticmVhaztjYXNlIGcuRE9VQkxFOmk9cGFyc2VGbG9hdChlKSxpc05hTihpKSYmKHIubG9nKHUuRVJST1IsbC5VTkFCTEVfVE9fQ0FTVF9WQUxVRSxLLGUsdCksaT1udWxsKTticmVhaztjYXNlIGcuSlNPTjp0cnl7aT1KU09OLnBhcnNlKGUpfWNhdGNoKG4pe3IubG9nKHUuRVJST1IsbC5VTkFCTEVfVE9fQ0FTVF9WQUxVRSxLLGUsdCksaT1udWxsfWJyZWFrO2RlZmF1bHQ6aT1lfXJldHVybiBpfShhLGkudHlwZSx0aGlzLmxvZ2dlcil9LGUucHJvdG90eXBlLmdldEZlYXR1cmVWYXJpYWJsZUJvb2xlYW49ZnVuY3Rpb24oZSx0LHIsaSl7dHJ5e3JldHVybiB0aGlzLmlzVmFsaWRJbnN0YW5jZSgpP3RoaXMuZ2V0RmVhdHVyZVZhcmlhYmxlRm9yVHlwZShlLHQsZy5CT09MRUFOLHIsaSk6KHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLEUuSU5WQUxJRF9PQkpFQ1QsXCJPUFRJTUlaRUxZXCIsXCJnZXRGZWF0dXJlVmFyaWFibGVCb29sZWFuXCIpLG51bGwpfWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLG51bGx9fSxlLnByb3RvdHlwZS5nZXRGZWF0dXJlVmFyaWFibGVEb3VibGU9ZnVuY3Rpb24oZSx0LHIsaSl7dHJ5e3JldHVybiB0aGlzLmlzVmFsaWRJbnN0YW5jZSgpP3RoaXMuZ2V0RmVhdHVyZVZhcmlhYmxlRm9yVHlwZShlLHQsZy5ET1VCTEUscixpKToodGhpcy5sb2dnZXIubG9nKHUuRVJST1IsRS5JTlZBTElEX09CSkVDVCxcIk9QVElNSVpFTFlcIixcImdldEZlYXR1cmVWYXJpYWJsZURvdWJsZVwiKSxudWxsKX1jYXRjaChlKXtyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsZS5tZXNzYWdlKSx0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKSxudWxsfX0sZS5wcm90b3R5cGUuZ2V0RmVhdHVyZVZhcmlhYmxlSW50ZWdlcj1mdW5jdGlvbihlLHQscixpKXt0cnl7cmV0dXJuIHRoaXMuaXNWYWxpZEluc3RhbmNlKCk/dGhpcy5nZXRGZWF0dXJlVmFyaWFibGVGb3JUeXBlKGUsdCxnLklOVEVHRVIscixpKToodGhpcy5sb2dnZXIubG9nKHUuRVJST1IsRS5JTlZBTElEX09CSkVDVCxcIk9QVElNSVpFTFlcIixcImdldEZlYXR1cmVWYXJpYWJsZUludGVnZXJcIiksbnVsbCl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLGUubWVzc2FnZSksdGhpcy5lcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZSksbnVsbH19LGUucHJvdG90eXBlLmdldEZlYXR1cmVWYXJpYWJsZVN0cmluZz1mdW5jdGlvbihlLHQscixpKXt0cnl7cmV0dXJuIHRoaXMuaXNWYWxpZEluc3RhbmNlKCk/dGhpcy5nZXRGZWF0dXJlVmFyaWFibGVGb3JUeXBlKGUsdCxnLlNUUklORyxyLGkpOih0aGlzLmxvZ2dlci5sb2codS5FUlJPUixFLklOVkFMSURfT0JKRUNULFwiT1BUSU1JWkVMWVwiLFwiZ2V0RmVhdHVyZVZhcmlhYmxlU3RyaW5nXCIpLG51bGwpfWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLG51bGx9fSxlLnByb3RvdHlwZS5nZXRGZWF0dXJlVmFyaWFibGVKU09OPWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXtyZXR1cm4gdGhpcy5pc1ZhbGlkSW5zdGFuY2UoKT90aGlzLmdldEZlYXR1cmVWYXJpYWJsZUZvclR5cGUoZSx0LGcuSlNPTixyLGkpOih0aGlzLmxvZ2dlci5sb2codS5FUlJPUixFLklOVkFMSURfT0JKRUNULFwiT1BUSU1JWkVMWVwiLFwiZ2V0RmVhdHVyZVZhcmlhYmxlSlNPTlwiKSxudWxsKX1jYXRjaChlKXtyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsZS5tZXNzYWdlKSx0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKSxudWxsfX0sZS5wcm90b3R5cGUuZ2V0QWxsRmVhdHVyZVZhcmlhYmxlcz1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpczt0cnl7aWYoIXRoaXMuaXNWYWxpZEluc3RhbmNlKCkpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLEUuSU5WQUxJRF9PQkpFQ1QsXCJPUFRJTUlaRUxZXCIsXCJnZXRBbGxGZWF0dXJlVmFyaWFibGVzXCIpLG51bGw7aWYoIXRoaXMudmFsaWRhdGVJbnB1dHMoe2ZlYXR1cmVfa2V5OmUsdXNlcl9pZDp0fSxyKSlyZXR1cm4gbnVsbDt2YXIgbj10aGlzLnByb2plY3RDb25maWdNYW5hZ2VyLmdldENvbmZpZygpO2lmKCFuKXJldHVybiBudWxsO3ZhciBvPVcobixlLHRoaXMubG9nZ2VyKTtpZighbylyZXR1cm4gbnVsbDt2YXIgYT10aGlzLmNyZWF0ZVVzZXJDb250ZXh0KHQscikscz10aGlzLmRlY2lzaW9uU2VydmljZS5nZXRWYXJpYXRpb25Gb3JGZWF0dXJlKG4sbyxhKS5yZXN1bHQsbD1iZShzKSxJPXt9O28udmFyaWFibGVzLmZvckVhY2goKGZ1bmN0aW9uKHIpe0lbci5rZXldPWkuZ2V0RmVhdHVyZVZhcmlhYmxlVmFsdWVGcm9tVmFyaWF0aW9uKGUsbCxzLnZhcmlhdGlvbixyLHQpfSkpO3ZhciBkPXt9O3JldHVybiBzLmRlY2lzaW9uU291cmNlPT09Xy5GRUFUVVJFX1RFU1QmJm51bGwhPT1zLmV4cGVyaW1lbnQmJm51bGwhPT1zLnZhcmlhdGlvbiYmKGQ9e2V4cGVyaW1lbnRLZXk6cy5leHBlcmltZW50LmtleSx2YXJpYXRpb25LZXk6cy52YXJpYXRpb24ua2V5fSksdGhpcy5ub3RpZmljYXRpb25DZW50ZXIuc2VuZE5vdGlmaWNhdGlvbnMoYy5ERUNJU0lPTix7dHlwZTpmLkFMTF9GRUFUVVJFX1ZBUklBQkxFUyx1c2VySWQ6dCxhdHRyaWJ1dGVzOnJ8fHt9LGRlY2lzaW9uSW5mbzp7ZmVhdHVyZUtleTplLGZlYXR1cmVFbmFibGVkOmwsc291cmNlOnMuZGVjaXNpb25Tb3VyY2UsdmFyaWFibGVWYWx1ZXM6SSxzb3VyY2VJbmZvOmR9fSksSX1jYXRjaChlKXtyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsZS5tZXNzYWdlKSx0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKSxudWxsfX0sZS5wcm90b3R5cGUuZ2V0T3B0aW1pemVseUNvbmZpZz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5nZXRDb25maWcoKT90aGlzLnByb2plY3RDb25maWdNYW5hZ2VyLmdldE9wdGltaXplbHlDb25maWcoKTpudWxsfWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpLG51bGx9fSxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dHJ5e3ZhciB0PXRoaXMuZXZlbnRQcm9jZXNzb3Iuc3RvcCgpO3JldHVybiB0aGlzLmRpc3Bvc2VPblVwZGF0ZSYmKHRoaXMuZGlzcG9zZU9uVXBkYXRlKCksdGhpcy5kaXNwb3NlT25VcGRhdGU9bnVsbCksdGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlciYmdGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5zdG9wKCksT2JqZWN0LmtleXModGhpcy5yZWFkeVRpbWVvdXRzKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1lLnJlYWR5VGltZW91dHNbdF07Y2xlYXJUaW1lb3V0KHIucmVhZHlUaW1lb3V0KSxyLm9uQ2xvc2UoKX0pKSx0aGlzLnJlYWR5VGltZW91dHM9e30sdC50aGVuKChmdW5jdGlvbigpe3JldHVybntzdWNjZXNzOiEwfX0pLChmdW5jdGlvbihlKXtyZXR1cm57c3VjY2VzczohMSxyZWFzb246U3RyaW5nKGUpfX0pKX1jYXRjaChlKXtyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsZS5tZXNzYWdlKSx0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKSxQcm9taXNlLnJlc29sdmUoe3N1Y2Nlc3M6ITEscmVhc29uOlN0cmluZyhlKX0pfX0sZS5wcm90b3R5cGUub25SZWFkeT1mdW5jdGlvbihlKXt2YXIgdCxyLG49dGhpcztcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJnZvaWQgMCE9PWUudGltZW91dCYmKHQ9ZS50aW1lb3V0KSxCLmlzU2FmZUludGVnZXIodCl8fCh0PTNlNCk7dmFyIG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3I9ZX0pKSxhPXRoaXMubmV4dFJlYWR5VGltZW91dElkO3RoaXMubmV4dFJlYWR5VGltZW91dElkKys7dmFyIHM9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtkZWxldGUgbi5yZWFkeVRpbWVvdXRzW2FdLHIoe3N1Y2Nlc3M6ITEscmVhc29uOmkuc3ByaW50ZihcIm9uUmVhZHkgdGltZW91dCBleHBpcmVkIGFmdGVyICVzIG1zXCIsdCl9KX0pLHQpO3JldHVybiB0aGlzLnJlYWR5VGltZW91dHNbYV09e3JlYWR5VGltZW91dDpzLG9uQ2xvc2U6ZnVuY3Rpb24oKXtyKHtzdWNjZXNzOiExLHJlYXNvbjpcIkluc3RhbmNlIGNsb3NlZFwifSl9fSx0aGlzLnJlYWR5UHJvbWlzZS50aGVuKChmdW5jdGlvbigpe2NsZWFyVGltZW91dChzKSxkZWxldGUgbi5yZWFkeVRpbWVvdXRzW2FdLHIoe3N1Y2Nlc3M6ITB9KX0pKSxQcm9taXNlLnJhY2UoW3RoaXMucmVhZHlQcm9taXNlLG9dKX0sZS5wcm90b3R5cGUuY3JlYXRlVXNlckNvbnRleHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy52YWxpZGF0ZUlucHV0cyh7dXNlcl9pZDplfSx0KT9uZXcgRih7b3B0aW1pemVseTp0aGlzLHVzZXJJZDplLGF0dHJpYnV0ZXM6dH0pOm51bGx9LGUucHJvdG90eXBlLmRlY2lkZT1mdW5jdGlvbihlLHQscil7dmFyIG4sbyxhLEksZD10aGlzO3ZvaWQgMD09PXImJihyPVtdKTt2YXIgZyxwPWUuZ2V0VXNlcklkKCksTj1lLmdldEF0dHJpYnV0ZXMoKSxSPXRoaXMucHJvamVjdENvbmZpZ01hbmFnZXIuZ2V0Q29uZmlnKCksVD1bXTtpZighdGhpcy5pc1ZhbGlkSW5zdGFuY2UoKXx8IVIpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LklORk8sRS5JTlZBTElEX09CSkVDVCxcIk9QVElNSVpFTFlcIixcImRlY2lkZVwiKSxDKHQsZSxbTy5TREtfTk9UX1JFQURZXSk7dmFyIHY9Ui5mZWF0dXJlS2V5TWFwW3RdO2lmKCF2KXJldHVybiB0aGlzLmxvZ2dlci5sb2codS5FUlJPUixsLkZFQVRVUkVfTk9UX0lOX0RBVEFGSUxFLFwiT1BUSU1JWkVMWVwiLHQpLEModCxlLFtpLnNwcmludGYoTy5GTEFHX0tFWV9JTlZBTElELHQpXSk7dmFyIGg9dGhpcy5nZXRBbGxEZWNpZGVPcHRpb25zKHIpLHk9dGhpcy5kZWNpc2lvblNlcnZpY2UuZmluZFZhbGlkYXRlZEZvcmNlZERlY2lzaW9uKFIsZSx0KTtULnB1c2guYXBwbHkoVCx5LnJlYXNvbnMpO3ZhciBBPXkucmVzdWx0O2lmKEEpZz17ZXhwZXJpbWVudDpudWxsLHZhcmlhdGlvbjpBLGRlY2lzaW9uU291cmNlOl8uRkVBVFVSRV9URVNUfTtlbHNle3ZhciBVPXRoaXMuZGVjaXNpb25TZXJ2aWNlLmdldFZhcmlhdGlvbkZvckZlYXR1cmUoUix2LGUsaCk7VC5wdXNoLmFwcGx5KFQsVS5yZWFzb25zKSxnPVUucmVzdWx0fXZhciBEPWcuZGVjaXNpb25Tb3VyY2UsUz1udWxsIT09KG89bnVsbD09PShuPWcuZXhwZXJpbWVudCl8fHZvaWQgMD09PW4/dm9pZCAwOm4ua2V5KSYmdm9pZCAwIT09bz9vOm51bGwsTD1udWxsIT09KEk9bnVsbD09PShhPWcudmFyaWF0aW9uKXx8dm9pZCAwPT09YT92b2lkIDA6YS5rZXkpJiZ2b2lkIDAhPT1JP0k6bnVsbCxtPWJlKGcpOyEwPT09bT90aGlzLmxvZ2dlci5sb2codS5JTkZPLEUuRkVBVFVSRV9FTkFCTEVEX0ZPUl9VU0VSLFwiT1BUSU1JWkVMWVwiLHQscCk6dGhpcy5sb2dnZXIubG9nKHUuSU5GTyxFLkZFQVRVUkVfTk9UX0VOQUJMRURfRk9SX1VTRVIsXCJPUFRJTUlaRUxZXCIsdCxwKTt2YXIgVj17fSxGPSExO2hbZXhwb3J0cy5PcHRpbWl6ZWx5RGVjaWRlT3B0aW9uLkVYQ0xVREVfVkFSSUFCTEVTXXx8di52YXJpYWJsZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7VltlLmtleV09ZC5nZXRGZWF0dXJlVmFyaWFibGVWYWx1ZUZyb21WYXJpYXRpb24odCxtLGcudmFyaWF0aW9uLGUscCl9KSksIWhbZXhwb3J0cy5PcHRpbWl6ZWx5RGVjaWRlT3B0aW9uLkRJU0FCTEVfREVDSVNJT05fRVZFTlRdJiYoRD09PV8uRkVBVFVSRV9URVNUfHxEPT09Xy5ST0xMT1VUJiZRKFIpKSYmKHRoaXMuc2VuZEltcHJlc3Npb25FdmVudChnLHQscCxtLE4pLEY9ITApO3ZhciBNPVtdO2hbZXhwb3J0cy5PcHRpbWl6ZWx5RGVjaWRlT3B0aW9uLklOQ0xVREVfUkVBU09OU10mJihNPVQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaS5zcHJpbnRmLmFwcGx5KHZvaWQgMCxzKFtlWzBdXSxlLnNsaWNlKDEpKSl9KSkpO3ZhciBQPXtmbGFnS2V5OnQsZW5hYmxlZDptLHZhcmlhdGlvbktleTpMLHJ1bGVLZXk6Uyx2YXJpYWJsZXM6VixyZWFzb25zOk0sZGVjaXNpb25FdmVudERpc3BhdGNoZWQ6Rn07cmV0dXJuIHRoaXMubm90aWZpY2F0aW9uQ2VudGVyLnNlbmROb3RpZmljYXRpb25zKGMuREVDSVNJT04se3R5cGU6Zi5GTEFHLHVzZXJJZDpwLGF0dHJpYnV0ZXM6TixkZWNpc2lvbkluZm86UH0pLHt2YXJpYXRpb25LZXk6TCxlbmFibGVkOm0sdmFyaWFibGVzOlYscnVsZUtleTpTLGZsYWdLZXk6dCx1c2VyQ29udGV4dDplLHJlYXNvbnM6TX19LGUucHJvdG90eXBlLmdldEFsbERlY2lkZU9wdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWEoe30sdGhpcy5kZWZhdWx0RGVjaWRlT3B0aW9ucyk7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtleHBvcnRzLk9wdGltaXplbHlEZWNpZGVPcHRpb25bZV0/cltlXT0hMDp0LmxvZ2dlci5sb2codS5XQVJOSU5HLEUuVU5SRUNPR05JWkVEX0RFQ0lERV9PUFRJT04sXCJPUFRJTUlaRUxZXCIsZSl9KSk6dGhpcy5sb2dnZXIubG9nKHUuREVCVUcsRS5JTlZBTElEX0RFQ0lERV9PUFRJT05TLFwiT1BUSU1JWkVMWVwiKSxyfSxlLnByb3RvdHlwZS5kZWNpZGVGb3JLZXlzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3ZvaWQgMD09PXImJihyPVtdKTt2YXIgbj17fTtpZighdGhpcy5pc1ZhbGlkSW5zdGFuY2UoKSlyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsRS5JTlZBTElEX09CSkVDVCxcIk9QVElNSVpFTFlcIixcImRlY2lkZUZvcktleXNcIiksbjtpZigwPT09dC5sZW5ndGgpcmV0dXJuIG47dmFyIG89dGhpcy5nZXRBbGxEZWNpZGVPcHRpb25zKHIpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBhPWkuZGVjaWRlKGUsdCxyKTtvW2V4cG9ydHMuT3B0aW1pemVseURlY2lkZU9wdGlvbi5FTkFCTEVEX0ZMQUdTX09OTFldJiYhYS5lbmFibGVkfHwoblt0XT1hKX0pKSxufSxlLnByb3RvdHlwZS5kZWNpZGVBbGw9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD1bXSk7dmFyIHI9dGhpcy5wcm9qZWN0Q29uZmlnTWFuYWdlci5nZXRDb25maWcoKTtpZighdGhpcy5pc1ZhbGlkSW5zdGFuY2UoKXx8IXIpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLEUuSU5WQUxJRF9PQkpFQ1QsXCJPUFRJTUlaRUxZXCIsXCJkZWNpZGVBbGxcIikse307dmFyIGk9T2JqZWN0LmtleXMoci5mZWF0dXJlS2V5TWFwKTtyZXR1cm4gdGhpcy5kZWNpZGVGb3JLZXlzKGUsaSx0KX0sZX0oKSxqZT1mdW5jdGlvbihlKXtyZXR1cm4hKFwibnVtYmVyXCIhPXR5cGVvZiBlfHwhQi5pc1NhZmVJbnRlZ2VyKGUpKSYmZT49MX0sSGU9ZnVuY3Rpb24oZSl7cmV0dXJuIShcIm51bWJlclwiIT10eXBlb2YgZXx8IUIuaXNTYWZlSW50ZWdlcihlKSkmJmU+MH0sWWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PXRoaXM7dGhpcy5sb2dnZXI9ZS5sb2dnZXIsdGhpcy5lcnJvckhhbmRsZXI9ZS5lcnJvckhhbmRsZXIsdGhpcy5ub3RpZmljYXRpb25MaXN0ZW5lcnM9e30saS5vYmplY3RWYWx1ZXMoYykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5ub3RpZmljYXRpb25MaXN0ZW5lcnNbZV09W119KSksdGhpcy5saXN0ZW5lcklkPTF9cmV0dXJuIGUucHJvdG90eXBlLmFkZE5vdGlmaWNhdGlvbkxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dHJ5e2lmKCEoaS5vYmplY3RWYWx1ZXMoYykuaW5kZXhPZihlKT4tMSkpcmV0dXJuLTE7dGhpcy5ub3RpZmljYXRpb25MaXN0ZW5lcnNbZV18fCh0aGlzLm5vdGlmaWNhdGlvbkxpc3RlbmVyc1tlXT1bXSk7dmFyIHI9ITE7aWYoKHRoaXMubm90aWZpY2F0aW9uTGlzdGVuZXJzW2VdfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jYWxsYmFjayE9PXR8fChyPSEwKX0pKSxyKXJldHVybi0xO3RoaXMubm90aWZpY2F0aW9uTGlzdGVuZXJzW2VdLnB1c2goe2lkOnRoaXMubGlzdGVuZXJJZCxjYWxsYmFjazp0fSk7dmFyIG49dGhpcy5saXN0ZW5lcklkO3JldHVybiB0aGlzLmxpc3RlbmVySWQrPTEsbn1jYXRjaChlKXtyZXR1cm4gdGhpcy5sb2dnZXIubG9nKHUuRVJST1IsZS5tZXNzYWdlKSx0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKSwtMX19LGUucHJvdG90eXBlLnJlbW92ZU5vdGlmaWNhdGlvbkxpc3RlbmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dHJ5e3ZhciByLGk7aWYoT2JqZWN0LmtleXModGhpcy5ub3RpZmljYXRpb25MaXN0ZW5lcnMpLnNvbWUoKGZ1bmN0aW9uKG4pe3JldHVybih0Lm5vdGlmaWNhdGlvbkxpc3RlbmVyc1tuXXx8W10pLmV2ZXJ5KChmdW5jdGlvbih0LG8pe3JldHVybiB0LmlkIT09ZXx8KHI9byxpPW4sITEpfSkpLHZvaWQgMCE9PXImJnZvaWQgMCE9PWl9KSksdm9pZCAwIT09ciYmdm9pZCAwIT09aSlyZXR1cm4gdGhpcy5ub3RpZmljYXRpb25MaXN0ZW5lcnNbaV0uc3BsaWNlKHIsMSksITB9Y2F0Y2goZSl7dGhpcy5sb2dnZXIubG9nKHUuRVJST1IsZS5tZXNzYWdlKSx0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKX1yZXR1cm4hMX0sZS5wcm90b3R5cGUuY2xlYXJBbGxOb3RpZmljYXRpb25MaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RyeXtpLm9iamVjdFZhbHVlcyhjKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlLm5vdGlmaWNhdGlvbkxpc3RlbmVyc1t0XT1bXX0pKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5sb2codS5FUlJPUixlLm1lc3NhZ2UpLHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpfX0sZS5wcm90b3R5cGUuY2xlYXJOb3RpZmljYXRpb25MaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dHJ5e3RoaXMubm90aWZpY2F0aW9uTGlzdGVuZXJzW2VdPVtdfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmxvZyh1LkVSUk9SLGUubWVzc2FnZSksdGhpcy5lcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZSl9fSxlLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9ucz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5eyh0aGlzLm5vdGlmaWNhdGlvbkxpc3RlbmVyc1tlXXx8W10pLmZvckVhY2goKGZ1bmN0aW9uKGkpe3ZhciBuPWkuY2FsbGJhY2s7dHJ5e24odCl9Y2F0Y2godCl7ci5sb2dnZXIubG9nKHUuRVJST1IsRS5OT1RJRklDQVRJT05fTElTVEVORVJfRVhDRVBUSU9OLFwiTk9USUZJQ0FUSU9OX0NFTlRFUlwiLGUsdC5tZXNzYWdlKX19KSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIubG9nKHUuRVJST1IsZS5tZXNzYWdlKSx0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihlKX19LGV9KCk7dmFyIFhlPXtjcmVhdGVFdmVudFByb2Nlc3NvcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gbmV3KHIuTG9nVGllclYxRXZlbnRQcm9jZXNzb3IuYmluZC5hcHBseShyLkxvZ1RpZXJWMUV2ZW50UHJvY2Vzc29yLHMoW3ZvaWQgMF0sZSkpKX0sTG9jYWxTdG9yYWdlUGVuZGluZ0V2ZW50c0Rpc3BhdGNoZXI6ci5Mb2NhbFN0b3JhZ2VQZW5kaW5nRXZlbnRzRGlzcGF0Y2hlcn07ZnVuY3Rpb24gemUoZSx0LHIsaSl7dmFyIG49e3Nka0tleTplfTtpZigodm9pZCAwPT09aXx8XCJvYmplY3RcIj09dHlwZW9mIGkmJm51bGwhPT1pKSYmQi5hc3NpZ24obixpKSxyKXt2YXIgYT0kKHtkYXRhZmlsZTpyLGpzb25TY2hlbWFWYWxpZGF0b3I6dm9pZCAwLGxvZ2dlcjp0fSkscz1hLmNvbmZpZ09iaix1PWEuZXJyb3I7dSYmdC5lcnJvcih1KSxzJiYobi5kYXRhZmlsZT1xKHMpKX1yZXR1cm4gbmV3IG8uSHR0cFBvbGxpbmdEYXRhZmlsZU1hbmFnZXIobil9dmFyIEplPXQuZ2V0TG9nZ2VyKCk7dC5zZXRMb2dIYW5kbGVyKFMoKSksdC5zZXRMb2dMZXZlbCh0LkxvZ0xldmVsLklORk8pO3ZhciBaZT0hMSxXZT1mdW5jdGlvbihlKXt0cnl7ZS5lcnJvckhhbmRsZXImJnQuc2V0RXJyb3JIYW5kbGVyKGUuZXJyb3JIYW5kbGVyKSxlLmxvZ2dlciYmKHQuc2V0TG9nSGFuZGxlcihlLmxvZ2dlciksdC5zZXRMb2dMZXZlbCh0LkxvZ0xldmVsLk5PVFNFVCkpLHZvaWQgMCE9PWUubG9nTGV2ZWwmJnQuc2V0TG9nTGV2ZWwoZS5sb2dMZXZlbCk7dHJ5e3YoZSksZS5pc1ZhbGlkSW5zdGFuY2U9ITB9Y2F0Y2godCl7SmUuZXJyb3IodCksZS5pc1ZhbGlkSW5zdGFuY2U9ITF9dmFyIGk9dm9pZCAwO251bGw9PWUuZXZlbnREaXNwYXRjaGVyPyhpPW5ldyByLkxvY2FsU3RvcmFnZVBlbmRpbmdFdmVudHNEaXNwYXRjaGVyKHtldmVudERpc3BhdGNoZXI6VX0pLFplfHwoaS5zZW5kUGVuZGluZ0V2ZW50cygpLFplPSEwKSk6aT1lLmV2ZW50RGlzcGF0Y2hlcjt2YXIgbj1lLmV2ZW50QmF0Y2hTaXplLG89ZS5ldmVudEZsdXNoSW50ZXJ2YWw7amUoZS5ldmVudEJhdGNoU2l6ZSl8fChKZS53YXJuKFwiSW52YWxpZCBldmVudEJhdGNoU2l6ZSAlcywgZGVmYXVsdGluZyB0byAlc1wiLGUuZXZlbnRCYXRjaFNpemUsMTApLG49MTApLEhlKGUuZXZlbnRGbHVzaEludGVydmFsKXx8KEplLndhcm4oXCJJbnZhbGlkIGV2ZW50Rmx1c2hJbnRlcnZhbCAlcywgZGVmYXVsdGluZyB0byAlc1wiLGUuZXZlbnRGbHVzaEludGVydmFsLDFlMyksbz0xZTMpO3ZhciBzPXQuZ2V0RXJyb3JIYW5kbGVyKCksdT1uZXcgWWUoe2xvZ2dlcjpKZSxlcnJvckhhbmRsZXI6c30pLGw9e2Rpc3BhdGNoZXI6aSxmbHVzaEludGVydmFsOm8sYmF0Y2hTaXplOm4sbWF4UXVldWVTaXplOmUuZXZlbnRNYXhRdWV1ZVNpemV8fDFlNCxub3RpZmljYXRpb25DZW50ZXI6dX0sST1hKGEoe2NsaWVudEVuZ2luZTpcImphdmFzY3JpcHQtc2RrXCJ9LGUpLHtldmVudFByb2Nlc3NvcjpYZS5jcmVhdGVFdmVudFByb2Nlc3NvcihsKSxsb2dnZXI6SmUsZXJyb3JIYW5kbGVyOnMsZGF0YWZpbGVNYW5hZ2VyOmUuc2RrS2V5P3plKGUuc2RrS2V5LEplLGUuZGF0YWZpbGUsZS5kYXRhZmlsZU9wdGlvbnMpOnZvaWQgMCxub3RpZmljYXRpb25DZW50ZXI6dX0pLGM9bmV3IHdlKEkpO3RyeXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGY9XCJvbnBhZ2VoaWRlXCJpbiB3aW5kb3c/XCJwYWdlaGlkZVwiOlwidW5sb2FkXCI7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZiwoZnVuY3Rpb24oKXtjLmNsb3NlKCl9KSwhMSl9fWNhdGNoKGUpe0plLmVycm9yKEUuVU5BQkxFX1RPX0FUVEFDSF9VTkxPQUQsXCJJTkRFWF9CUk9XU0VSXCIsZS5tZXNzYWdlKX1yZXR1cm4gY31jYXRjaChlKXtyZXR1cm4gSmUuZXJyb3IoZSksbnVsbH19LHFlPWZ1bmN0aW9uKCl7WmU9ITF9LCRlPXtsb2dnaW5nOlYsZXJyb3JIYW5kbGVyOnksZXZlbnREaXNwYXRjaGVyOlUsZW51bXM6TixzZXRMb2dnZXI6dC5zZXRMb2dIYW5kbGVyLHNldExvZ0xldmVsOnQuc2V0TG9nTGV2ZWwsY3JlYXRlSW5zdGFuY2U6V2UsX19pbnRlcm5hbFJlc2V0UmV0cnlTdGF0ZTpxZSxPcHRpbWl6ZWx5RGVjaWRlT3B0aW9uOmV4cG9ydHMuT3B0aW1pemVseURlY2lkZU9wdGlvbn07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJzZXRMb2dMZXZlbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LnNldExvZ0xldmVsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwic2V0TG9nZ2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuc2V0TG9nSGFuZGxlcn19KSxleHBvcnRzLl9faW50ZXJuYWxSZXNldFJldHJ5U3RhdGU9cWUsZXhwb3J0cy5jcmVhdGVJbnN0YW5jZT1XZSxleHBvcnRzLmRlZmF1bHQ9JGUsZXhwb3J0cy5lbnVtcz1OLGV4cG9ydHMuZXJyb3JIYW5kbGVyPXksZXhwb3J0cy5ldmVudERpc3BhdGNoZXI9VSxleHBvcnRzLmxvZ2dpbmc9Vjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wdGltaXplbHkuYnJvd3Nlci5taW4uanMubWFwXG4iLCJpbXBvcnQgeyBvcGVuQ3JlZGVudGlhbERiLCBjbG9zZUNyZWRlbnRpYWxEYiwgY3JlYXRlQ3JlZGVudGlhbCwgcmVhZENyZWRlbnRpYWxzLCB1cGRhdGVDcmVkZW50aWFsLCBkZWxldGVDcmVkZW50aWFsIH0gZnJvbSAnLi9zbmlwcGV0cy9hdXRobGliLTllNzEzYTE4ZjQ5NWRiNWYvc3JjL3N0b3JlL2NyZWRlbnRpYWwvZGIvaW5kZXhlZGRiL2pzL3RhcmdldC9jcmVkc3RvcmUuanMnO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tICcuL3NuaXBwZXRzL2NvbW1vbi05OTU4YjI4NmUxYWNmOTI5L2lubGluZTAuanMnO1xuaW1wb3J0IHsgZWNkc2FfZ2VuZXJhdGVfa2V5X3BhaXIsIGVjZHNhX2ltcG9ydF9rZXksIGVjZHNhX3NpZ24sIGVjZHNhX3ZlcmlmeSwga2V5X2V4cG9ydCwgcnNhX2ltcG9ydF9rZXksIHJzYV92ZXJpZnkgfSBmcm9tICcuL3NuaXBwZXRzL2NyeXB0by03NDM5MDk2ZDM1ZDZmYzFmL3NyYy9lY2RzYV93YXNtL2pzL2NyeXB0by5qcyc7XG5pbXBvcnQgeyBGZmlDcmVhdGVLZXlQMjU2LCBGZmlRdWVyeUtleVAyNTYsIEZmaURlbGV0ZUtleVAyNTYsIEZmaVZlcmlmeUV4aXN0aW5nS2V5UDI1NiwgRmZpU2lnbldpdGhQMjU2LCBGZmlQdWJsaWNCaXRzUDI1NiB9IGZyb20gJy4vc25pcHBldHMvaGFsLTllYjRiOWYwZGZiNTFmMmUvc3JjL3dhc20vbGVnYWN5L2pzL3RhcmdldC9oYWwuanMnO1xuaW1wb3J0IHsga21jX29wZW5fZGIsIGttY19nZXRfY2VydCwga21jX3B1dF9jZXJ0LCBrbWNfZGVsZXRlX2NlcnQsIGttY19nZW5lcmF0ZV9rZXksIGttY19pc19rZXlfd2ViYXV0aG5fYmFja2VkLCBrbWNfc2lnbiwga21jX3B1YmxpY19rZXksIGttY19lbmNyeXB0LCBrbWNfZGVjcnlwdCwga21jX2RlbGV0ZV9rZXksIGttY193cml0ZV9wcm9maWxlLCBrbWNfd3JpdGVfcHJvZmlsZV9pZCwga21jX3VwZGF0ZV9wcm9maWxlX21ldGFkYXRhLCBrbWNfaGFzX3Byb2ZpbGUsIGttY19nZXRfcHJvZmlsZSwga21jX2dldF9hbGxfcHJvZmlsZXMsIGttY19kZWxldGVfcHJvZmlsZSBhcyBrbWNfZGVsZXRlX3Byb2ZpbGUyLCBrbWNfYWRkX2F1dGhlbnRpY2F0b3JfY2xpZW50X2lkLCBrbWNfZGVsZXRlX2FsbF9hdXRoZW50aWNhdG9yX2NsaWVudF9pZHMsIGttY19nZXRfYXBwX3NldHRpbmdzLCBrbWNfZ2V0X2RldmljZV9pbmZvLCBrbWNfZ2V0X3VzZXJfYWdlbnQgYXMga21jX2dldF91c2VyX2FnZW50MiB9IGZyb20gJy4vc25pcHBldHMva21jLWpzLWE4NDc5MTk5MTA0Y2ZiMDkvc3JjL2pzL2Rpc3Qva21jLmpzJztcblxubGV0IHdhc207XG5cbmNvbnN0IGNhY2hlZFRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcsIHsgaWdub3JlQk9NOiB0cnVlLCBmYXRhbDogdHJ1ZSB9KTtcblxuY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKCk7XG5cbmxldCBjYWNoZWdldFVpbnQ4TWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXRVaW50OE1lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZ2V0VWludDhNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0VWludDhNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSB7XG4gICAgICAgIGNhY2hlZ2V0VWludDhNZW1vcnkwID0gbmV3IFVpbnQ4QXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0VWludDhNZW1vcnkwO1xufVxuXG5mdW5jdGlvbiBnZXRTdHJpbmdGcm9tV2FzbTAocHRyLCBsZW4pIHtcbiAgICByZXR1cm4gY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKGdldFVpbnQ4TWVtb3J5MCgpLnN1YmFycmF5KHB0ciwgcHRyICsgbGVuKSk7XG59XG5cbmNvbnN0IGhlYXAgPSBuZXcgQXJyYXkoMzIpLmZpbGwodW5kZWZpbmVkKTtcblxuaGVhcC5wdXNoKHVuZGVmaW5lZCwgbnVsbCwgdHJ1ZSwgZmFsc2UpO1xuXG5sZXQgaGVhcF9uZXh0ID0gaGVhcC5sZW5ndGg7XG5cbmZ1bmN0aW9uIGFkZEhlYXBPYmplY3Qob2JqKSB7XG4gICAgaWYgKGhlYXBfbmV4dCA9PT0gaGVhcC5sZW5ndGgpIGhlYXAucHVzaChoZWFwLmxlbmd0aCArIDEpO1xuICAgIGNvbnN0IGlkeCA9IGhlYXBfbmV4dDtcbiAgICBoZWFwX25leHQgPSBoZWFwW2lkeF07XG5cbiAgICBoZWFwW2lkeF0gPSBvYmo7XG4gICAgcmV0dXJuIGlkeDtcbn1cblxuZnVuY3Rpb24gZ2V0T2JqZWN0KGlkeCkgeyByZXR1cm4gaGVhcFtpZHhdOyB9XG5cbmZ1bmN0aW9uIGRyb3BPYmplY3QoaWR4KSB7XG4gICAgaWYgKGlkeCA8IDM2KSByZXR1cm47XG4gICAgaGVhcFtpZHhdID0gaGVhcF9uZXh0O1xuICAgIGhlYXBfbmV4dCA9IGlkeDtcbn1cblxuZnVuY3Rpb24gdGFrZU9iamVjdChpZHgpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoaWR4KTtcbiAgICBkcm9wT2JqZWN0KGlkeCk7XG4gICAgcmV0dXJuIHJldDtcbn1cblxubGV0IFdBU01fVkVDVE9SX0xFTiA9IDA7XG5cbmNvbnN0IGNhY2hlZFRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCd1dGYtOCcpO1xuXG5jb25zdCBlbmNvZGVTdHJpbmcgPSAodHlwZW9mIGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZUludG8gPT09ICdmdW5jdGlvbidcbiAgICA/IGZ1bmN0aW9uIChhcmcsIHZpZXcpIHtcbiAgICByZXR1cm4gY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlSW50byhhcmcsIHZpZXcpO1xufVxuICAgIDogZnVuY3Rpb24gKGFyZywgdmlldykge1xuICAgIGNvbnN0IGJ1ZiA9IGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZShhcmcpO1xuICAgIHZpZXcuc2V0KGJ1Zik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVhZDogYXJnLmxlbmd0aCxcbiAgICAgICAgd3JpdHRlbjogYnVmLmxlbmd0aFxuICAgIH07XG59KTtcblxuZnVuY3Rpb24gcGFzc1N0cmluZ1RvV2FzbTAoYXJnLCBtYWxsb2MsIHJlYWxsb2MpIHtcblxuICAgIGlmIChyZWFsbG9jID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgYnVmID0gY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlKGFyZyk7XG4gICAgICAgIGNvbnN0IHB0ciA9IG1hbGxvYyhidWYubGVuZ3RoKTtcbiAgICAgICAgZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyLCBwdHIgKyBidWYubGVuZ3RoKS5zZXQoYnVmKTtcbiAgICAgICAgV0FTTV9WRUNUT1JfTEVOID0gYnVmLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBsZXQgbGVuID0gYXJnLmxlbmd0aDtcbiAgICBsZXQgcHRyID0gbWFsbG9jKGxlbik7XG5cbiAgICBjb25zdCBtZW0gPSBnZXRVaW50OE1lbW9yeTAoKTtcblxuICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgZm9yICg7IG9mZnNldCA8IGxlbjsgb2Zmc2V0KyspIHtcbiAgICAgICAgY29uc3QgY29kZSA9IGFyZy5jaGFyQ29kZUF0KG9mZnNldCk7XG4gICAgICAgIGlmIChjb2RlID4gMHg3RikgYnJlYWs7XG4gICAgICAgIG1lbVtwdHIgKyBvZmZzZXRdID0gY29kZTtcbiAgICB9XG5cbiAgICBpZiAob2Zmc2V0ICE9PSBsZW4pIHtcbiAgICAgICAgaWYgKG9mZnNldCAhPT0gMCkge1xuICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcHRyID0gcmVhbGxvYyhwdHIsIGxlbiwgbGVuID0gb2Zmc2V0ICsgYXJnLmxlbmd0aCAqIDMpO1xuICAgICAgICBjb25zdCB2aWV3ID0gZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyICsgb2Zmc2V0LCBwdHIgKyBsZW4pO1xuICAgICAgICBjb25zdCByZXQgPSBlbmNvZGVTdHJpbmcoYXJnLCB2aWV3KTtcblxuICAgICAgICBvZmZzZXQgKz0gcmV0LndyaXR0ZW47XG4gICAgfVxuXG4gICAgV0FTTV9WRUNUT1JfTEVOID0gb2Zmc2V0O1xuICAgIHJldHVybiBwdHI7XG59XG5cbmZ1bmN0aW9uIGlzTGlrZU5vbmUoeCkge1xuICAgIHJldHVybiB4ID09PSB1bmRlZmluZWQgfHwgeCA9PT0gbnVsbDtcbn1cblxubGV0IGNhY2hlZ2V0SW50MzJNZW1vcnkwID0gbnVsbDtcbmZ1bmN0aW9uIGdldEludDMyTWVtb3J5MCgpIHtcbiAgICBpZiAoY2FjaGVnZXRJbnQzMk1lbW9yeTAgPT09IG51bGwgfHwgY2FjaGVnZXRJbnQzMk1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRJbnQzMk1lbW9yeTAgPSBuZXcgSW50MzJBcnJheSh3YXNtLm1lbW9yeS5idWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVnZXRJbnQzMk1lbW9yeTA7XG59XG5cbmxldCBjYWNoZWdldEZsb2F0NjRNZW1vcnkwID0gbnVsbDtcbmZ1bmN0aW9uIGdldEZsb2F0NjRNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWdldEZsb2F0NjRNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0RmxvYXQ2NE1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRGbG9hdDY0TWVtb3J5MCA9IG5ldyBGbG9hdDY0QXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0RmxvYXQ2NE1lbW9yeTA7XG59XG5cbmZ1bmN0aW9uIGRlYnVnU3RyaW5nKHZhbCkge1xuICAgIC8vIHByaW1pdGl2ZSB0eXBlc1xuICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgdmFsO1xuICAgIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8IHZhbCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAgYCR7dmFsfWA7XG4gICAgfVxuICAgIGlmICh0eXBlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBgXCIke3ZhbH1cImA7XG4gICAgfVxuICAgIGlmICh0eXBlID09ICdzeW1ib2wnKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdmFsLmRlc2NyaXB0aW9uO1xuICAgICAgICBpZiAoZGVzY3JpcHRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICdTeW1ib2wnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGBTeW1ib2woJHtkZXNjcmlwdGlvbn0pYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB2YWwubmFtZTtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09ICdzdHJpbmcnICYmIG5hbWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGBGdW5jdGlvbigke25hbWV9KWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Z1bmN0aW9uJztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBvYmplY3RzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2YWwubGVuZ3RoO1xuICAgICAgICBsZXQgZGVidWcgPSAnWyc7XG4gICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBkZWJ1ZyArPSBkZWJ1Z1N0cmluZyh2YWxbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGZvcihsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGVidWcgKz0gJywgJyArIGRlYnVnU3RyaW5nKHZhbFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcgKz0gJ10nO1xuICAgICAgICByZXR1cm4gZGVidWc7XG4gICAgfVxuICAgIC8vIFRlc3QgZm9yIGJ1aWx0LWluXG4gICAgY29uc3QgYnVpbHRJbk1hdGNoZXMgPSAvXFxbb2JqZWN0IChbXlxcXV0rKVxcXS8uZXhlYyh0b1N0cmluZy5jYWxsKHZhbCkpO1xuICAgIGxldCBjbGFzc05hbWU7XG4gICAgaWYgKGJ1aWx0SW5NYXRjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gYnVpbHRJbk1hdGNoZXNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmFpbGVkIHRvIG1hdGNoIHRoZSBzdGFuZGFyZCAnW29iamVjdCBDbGFzc05hbWVdJ1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpO1xuICAgIH1cbiAgICBpZiAoY2xhc3NOYW1lID09ICdPYmplY3QnKSB7XG4gICAgICAgIC8vIHdlJ3JlIGEgdXNlciBkZWZpbmVkIGNsYXNzIG9yIE9iamVjdFxuICAgICAgICAvLyBKU09OLnN0cmluZ2lmeSBhdm9pZHMgcHJvYmxlbXMgd2l0aCBjeWNsZXMsIGFuZCBpcyBnZW5lcmFsbHkgbXVjaFxuICAgICAgICAvLyBlYXNpZXIgdGhhbiBsb29waW5nIHRocm91Z2ggb3duUHJvcGVydGllcyBvZiBgdmFsYC5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAnT2JqZWN0KCcgKyBKU09OLnN0cmluZ2lmeSh2YWwpICsgJyknO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgICByZXR1cm4gJ09iamVjdCc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZXJyb3JzXG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiBgJHt2YWwubmFtZX06ICR7dmFsLm1lc3NhZ2V9XFxuJHt2YWwuc3RhY2t9YDtcbiAgICB9XG4gICAgLy8gVE9ETyB3ZSBjb3VsZCB0ZXN0IGZvciBtb3JlIHRoaW5ncyBoZXJlLCBsaWtlIGBTZXRgcyBhbmQgYE1hcGBzLlxuICAgIHJldHVybiBjbGFzc05hbWU7XG59XG5cbmZ1bmN0aW9uIG1ha2VNdXRDbG9zdXJlKGFyZzAsIGFyZzEsIGR0b3IsIGYpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHsgYTogYXJnMCwgYjogYXJnMSwgY250OiAxLCBkdG9yIH07XG4gICAgY29uc3QgcmVhbCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIC8vIEZpcnN0IHVwIHdpdGggYSBjbG9zdXJlIHdlIGluY3JlbWVudCB0aGUgaW50ZXJuYWwgcmVmZXJlbmNlXG4gICAgICAgIC8vIGNvdW50LiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgUnVzdCBjbG9zdXJlIGVudmlyb25tZW50IHdvbid0XG4gICAgICAgIC8vIGJlIGRlYWxsb2NhdGVkIHdoaWxlIHdlJ3JlIGludm9raW5nIGl0LlxuICAgICAgICBzdGF0ZS5jbnQrKztcbiAgICAgICAgY29uc3QgYSA9IHN0YXRlLmE7XG4gICAgICAgIHN0YXRlLmEgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGYoYSwgc3RhdGUuYiwgLi4uYXJncyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoLS1zdGF0ZS5jbnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzIuZ2V0KHN0YXRlLmR0b3IpKGEsIHN0YXRlLmIpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXRlLmEgPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZWFsLm9yaWdpbmFsID0gc3RhdGU7XG5cbiAgICByZXR1cm4gcmVhbDtcbn1cbmZ1bmN0aW9uIF9fd2JnX2FkYXB0ZXJfMzgoYXJnMCwgYXJnMSwgYXJnMikge1xuICAgIHdhc20uX2R5bl9jb3JlX19vcHNfX2Z1bmN0aW9uX19Gbk11dF9fQV9fX19PdXRwdXRfX19SX2FzX3dhc21fYmluZGdlbl9fY2xvc3VyZV9fV2FzbUNsb3N1cmVfX19kZXNjcmliZV9faW52b2tlX19oMjc4NThhODdlYzQzMWYxZShhcmcwLCBhcmcxLCBhZGRIZWFwT2JqZWN0KGFyZzIpKTtcbn1cblxuLyoqXG4qIFJldHVybnMgdGhlIHR5cGUgb2YgdGhlIGtleSwgXCJ3ZWJhdXRoblwiIG9yIFwic3VidGxlXCIgZm9yIGEgc3BlY2lmaWVkIGNyZWRlbnRpYWwuXG4qIEBwYXJhbSB7c3RyaW5nfSBoYW5kbGVcbiogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiovXG5leHBvcnQgZnVuY3Rpb24ga21jX2dldF9rZXlfdHlwZShoYW5kbGUpIHtcbiAgICBjb25zdCByZXQgPSB3YXNtLmttY19nZXRfa2V5X3R5cGUoYWRkSGVhcE9iamVjdChoYW5kbGUpKTtcbiAgICByZXR1cm4gdGFrZU9iamVjdChyZXQpO1xufVxuXG4vKipcbiogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiovXG5leHBvcnQgZnVuY3Rpb24ga21jX2dldF91c2VyX2FnZW50KCkge1xuICAgIGNvbnN0IHJldCA9IHdhc20ua21jX2dldF91c2VyX2FnZW50KCk7XG4gICAgcmV0dXJuIHRha2VPYmplY3QocmV0KTtcbn1cblxuLyoqXG4qIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGttY19nZXRfYXBwX2luc3RhbmNlX2lkKCkge1xuICAgIGNvbnN0IHJldCA9IHdhc20ua21jX2dldF9hcHBfaW5zdGFuY2VfaWQoKTtcbiAgICByZXR1cm4gdGFrZU9iamVjdChyZXQpO1xufVxuXG4vKipcbiogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IGFsbG93ZWRfZG9tYWluc1xuKi9cbmV4cG9ydCBmdW5jdGlvbiBrbWNfbWlncmF0ZV9kYXRhYmFzZShhbGxvd2VkX2RvbWFpbnMpIHtcbiAgICB3YXNtLmttY19taWdyYXRlX2RhdGFiYXNlKGlzTGlrZU5vbmUoYWxsb3dlZF9kb21haW5zKSA/IDAgOiBhZGRIZWFwT2JqZWN0KGFsbG93ZWRfZG9tYWlucykpO1xufVxuXG4vKipcbiogQHBhcmFtIHtzdHJpbmd9IHRva2VuXG4qIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4qIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGttY19pbXBvcnQodG9rZW4sIGNiKSB7XG4gICAgY29uc3QgcmV0ID0gd2FzbS5rbWNfaW1wb3J0KGFkZEhlYXBPYmplY3QodG9rZW4pLCBhZGRIZWFwT2JqZWN0KGNiKSk7XG4gICAgcmV0dXJuIHRha2VPYmplY3QocmV0KTtcbn1cblxuLyoqXG4qIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiogQHBhcmFtIHthbnl9IGFsbG93ZWRfZG9tYWluc1xuKiBAcGFyYW0ge3N0cmluZ30gdHJ1c3RlZF9zb3VyY2VcbiogQHBhcmFtIHtGdW5jdGlvbn0gY2JcbiogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiovXG5leHBvcnQgZnVuY3Rpb24ga21jX2hhbmRsZV91cmwodXJsLCBhbGxvd2VkX2RvbWFpbnMsIHRydXN0ZWRfc291cmNlLCBjYikge1xuICAgIGNvbnN0IHJldCA9IHdhc20ua21jX2hhbmRsZV91cmwoYWRkSGVhcE9iamVjdCh1cmwpLCBhZGRIZWFwT2JqZWN0KGFsbG93ZWRfZG9tYWlucyksIGFkZEhlYXBPYmplY3QodHJ1c3RlZF9zb3VyY2UpLCBhZGRIZWFwT2JqZWN0KGNiKSk7XG4gICAgcmV0dXJuIHRha2VPYmplY3QocmV0KTtcbn1cblxuLyoqXG4qIEBwYXJhbSB7c3RyaW5nfSBhdXRoX3VybFxuKiBAcGFyYW0ge3N0cmluZ30gdG9rZW5fdXJsXG4qIEBwYXJhbSB7c3RyaW5nfSBjbGllbnRfaWRcbiogQHBhcmFtIHtzdHJpbmd9IHJlZGlyZWN0X3VyaVxuKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gbm9uY2VcbiogQHBhcmFtIHtGdW5jdGlvbn0gY2JcbiogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiovXG5leHBvcnQgZnVuY3Rpb24ga21jX2VtYmVkZGVkX3B1YmxpY19vaWRjKGF1dGhfdXJsLCB0b2tlbl91cmwsIGNsaWVudF9pZCwgcmVkaXJlY3RfdXJpLCBub25jZSwgY2IpIHtcbiAgICBjb25zdCByZXQgPSB3YXNtLmttY19lbWJlZGRlZF9wdWJsaWNfb2lkYyhhZGRIZWFwT2JqZWN0KGF1dGhfdXJsKSwgYWRkSGVhcE9iamVjdCh0b2tlbl91cmwpLCBhZGRIZWFwT2JqZWN0KGNsaWVudF9pZCksIGFkZEhlYXBPYmplY3QocmVkaXJlY3RfdXJpKSwgaXNMaWtlTm9uZShub25jZSkgPyAwIDogYWRkSGVhcE9iamVjdChub25jZSksIGFkZEhlYXBPYmplY3QoY2IpKTtcbiAgICByZXR1cm4gdGFrZU9iamVjdChyZXQpO1xufVxuXG4vKipcbiogQHBhcmFtIHtzdHJpbmd9IGF1dGhfdXJsXG4qIEBwYXJhbSB7c3RyaW5nfSBjbGllbnRfaWRcbiogQHBhcmFtIHtzdHJpbmd9IHJlZGlyZWN0X3VyaVxuKiBAcGFyYW0ge3N0cmluZ30gc2NvcGVcbiogQHBhcmFtIHthbnl9IHBrY2VfY2hhbGxlbmdlXG4qIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBub25jZVxuKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxuKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuKi9cbmV4cG9ydCBmdW5jdGlvbiBrbWNfZW1iZWRkZWRfY29uZmlkZW50aWFsX29pZGMoYXV0aF91cmwsIGNsaWVudF9pZCwgcmVkaXJlY3RfdXJpLCBzY29wZSwgcGtjZV9jaGFsbGVuZ2UsIG5vbmNlLCBjYikge1xuICAgIGNvbnN0IHJldCA9IHdhc20ua21jX2VtYmVkZGVkX2NvbmZpZGVudGlhbF9vaWRjKGFkZEhlYXBPYmplY3QoYXV0aF91cmwpLCBhZGRIZWFwT2JqZWN0KGNsaWVudF9pZCksIGFkZEhlYXBPYmplY3QocmVkaXJlY3RfdXJpKSwgYWRkSGVhcE9iamVjdChzY29wZSksIGFkZEhlYXBPYmplY3QocGtjZV9jaGFsbGVuZ2UpLCBpc0xpa2VOb25lKG5vbmNlKSA/IDAgOiBhZGRIZWFwT2JqZWN0KG5vbmNlKSwgYWRkSGVhcE9iamVjdChjYikpO1xuICAgIHJldHVybiB0YWtlT2JqZWN0KHJldCk7XG59XG5cbi8qKlxuKiBAcGFyYW0ge3N0cmluZ30gaGFuZGxlXG4qIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4qIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGttY19leHBvcnQoaGFuZGxlLCBjYikge1xuICAgIGNvbnN0IHJldCA9IHdhc20ua21jX2V4cG9ydChhZGRIZWFwT2JqZWN0KGhhbmRsZSksIGFkZEhlYXBPYmplY3QoY2IpKTtcbiAgICByZXR1cm4gdGFrZU9iamVjdChyZXQpO1xufVxuXG4vKipcbiogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZVxuKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxuKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuKi9cbmV4cG9ydCBmdW5jdGlvbiBrbWNfZGVsZXRlX3Byb2ZpbGUoaGFuZGxlLCBjYikge1xuICAgIGNvbnN0IHJldCA9IHdhc20ua21jX2RlbGV0ZV9wcm9maWxlKGFkZEhlYXBPYmplY3QoaGFuZGxlKSwgYWRkSGVhcE9iamVjdChjYikpO1xuICAgIHJldHVybiB0YWtlT2JqZWN0KHJldCk7XG59XG5cbi8qKlxuKiBAcGFyYW0ge3N0cmluZ30gaGFuZGxlXG4qIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4qIEBwYXJhbSB7c3RyaW5nfSBpbWFnZV91cmxcbiogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IGVucm9sbF91cmlcbiogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IGxvZ2luX3VyaVxuKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gZGVza3RvcF9sb2dpbl91cmxcbiogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IGRldmljZV9nYXRld2F5X3VybFxuKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gbWlncmF0ZV9hZGRyXG4qIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4qIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGttY19jcmVhdGVfcHJvZmlsZShoYW5kbGUsIG5hbWUsIGltYWdlX3VybCwgZW5yb2xsX3VyaSwgbG9naW5fdXJpLCBkZXNrdG9wX2xvZ2luX3VybCwgZGV2aWNlX2dhdGV3YXlfdXJsLCBtaWdyYXRlX2FkZHIsIGNiKSB7XG4gICAgY29uc3QgcmV0ID0gd2FzbS5rbWNfY3JlYXRlX3Byb2ZpbGUoYWRkSGVhcE9iamVjdChoYW5kbGUpLCBhZGRIZWFwT2JqZWN0KG5hbWUpLCBhZGRIZWFwT2JqZWN0KGltYWdlX3VybCksIGlzTGlrZU5vbmUoZW5yb2xsX3VyaSkgPyAwIDogYWRkSGVhcE9iamVjdChlbnJvbGxfdXJpKSwgaXNMaWtlTm9uZShsb2dpbl91cmkpID8gMCA6IGFkZEhlYXBPYmplY3QobG9naW5fdXJpKSwgaXNMaWtlTm9uZShkZXNrdG9wX2xvZ2luX3VybCkgPyAwIDogYWRkSGVhcE9iamVjdChkZXNrdG9wX2xvZ2luX3VybCksIGlzTGlrZU5vbmUoZGV2aWNlX2dhdGV3YXlfdXJsKSA/IDAgOiBhZGRIZWFwT2JqZWN0KGRldmljZV9nYXRld2F5X3VybCksIGlzTGlrZU5vbmUobWlncmF0ZV9hZGRyKSA/IDAgOiBhZGRIZWFwT2JqZWN0KG1pZ3JhdGVfYWRkciksIGFkZEhlYXBPYmplY3QoY2IpKTtcbiAgICByZXR1cm4gdGFrZU9iamVjdChyZXQpO1xufVxuXG4vKipcbiogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiovXG5leHBvcnQgZnVuY3Rpb24ga21jX2NyZWF0ZV9wa2NlKCkge1xuICAgIGNvbnN0IHJldCA9IHdhc20ua21jX2NyZWF0ZV9wa2NlKCk7XG4gICAgcmV0dXJuIHRha2VPYmplY3QocmV0KTtcbn1cblxuLyoqXG4qIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGttY19jYW5jZWwoKSB7XG4gICAgY29uc3QgcmV0ID0gd2FzbS5rbWNfY2FuY2VsKCk7XG4gICAgcmV0dXJuIHRha2VPYmplY3QocmV0KTtcbn1cblxuLyoqXG4qIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4qIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGttY19hbGxfY3JlZGVudGlhbHMoY2IpIHtcbiAgICBjb25zdCByZXQgPSB3YXNtLmttY19hbGxfY3JlZGVudGlhbHMoYWRkSGVhcE9iamVjdChjYikpO1xuICAgIHJldHVybiB0YWtlT2JqZWN0KHJldCk7XG59XG5cbi8qKlxuKiBAcGFyYW0ge3N0cmluZ30gY3JlZGVudGlhbF9pZFxuKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxuKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuKi9cbmV4cG9ydCBmdW5jdGlvbiBrbWNfZGVsZXRlX2NyZWRlbnRpYWwoY3JlZGVudGlhbF9pZCwgY2IpIHtcbiAgICBjb25zdCByZXQgPSB3YXNtLmttY19kZWxldGVfY3JlZGVudGlhbChhZGRIZWFwT2JqZWN0KGNyZWRlbnRpYWxfaWQpLCBhZGRIZWFwT2JqZWN0KGNiKSk7XG4gICAgcmV0dXJuIHRha2VPYmplY3QocmV0KTtcbn1cblxuLyoqXG4qIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4qIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGttY19saXN0X2NyZWRlbnRpYWxzKGNiKSB7XG4gICAgY29uc3QgcmV0ID0gd2FzbS5rbWNfbGlzdF9jcmVkZW50aWFscyhhZGRIZWFwT2JqZWN0KGNiKSk7XG4gICAgcmV0dXJuIHRha2VPYmplY3QocmV0KTtcbn1cblxuLyoqXG4qIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiogQHJldHVybnMge2FueX1cbiovXG5leHBvcnQgZnVuY3Rpb24ga21jX3VybF90eXBlKHVybCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICB3YXNtLmttY191cmxfdHlwZShyZXRwdHIsIGFkZEhlYXBPYmplY3QodXJsKSk7XG4gICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICB2YXIgcjIgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMl07XG4gICAgICAgIGlmIChyMikge1xuICAgICAgICAgICAgdGhyb3cgdGFrZU9iamVjdChyMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRha2VPYmplY3QocjApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihmLCBhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZXhuX3N0b3JlKGFkZEhlYXBPYmplY3QoZSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0QXJyYXlVOEZyb21XYXNtMChwdHIsIGxlbikge1xuICAgIHJldHVybiBnZXRVaW50OE1lbW9yeTAoKS5zdWJhcnJheShwdHIgLyAxLCBwdHIgLyAxICsgbGVuKTtcbn1cbmZ1bmN0aW9uIF9fd2JnX2FkYXB0ZXJfMjU4KGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICB3YXNtLndhc21fYmluZGdlbl9fY29udmVydF9fY2xvc3VyZXNfX2ludm9rZTJfbXV0X19oM2NjMjZkNWMwOWIwMGRjZihhcmcwLCBhcmcxLCBhZGRIZWFwT2JqZWN0KGFyZzIpLCBhZGRIZWFwT2JqZWN0KGFyZzMpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZChtb2R1bGUsIGltcG9ydHMpIHtcbiAgICBpZiAodHlwZW9mIFJlc3BvbnNlID09PSAnZnVuY3Rpb24nICYmIG1vZHVsZSBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKG1vZHVsZSwgaW1wb3J0cyk7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKSAhPSAnYXBwbGljYXRpb24vd2FzbScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nYCBmYWlsZWQgYmVjYXVzZSB5b3VyIHNlcnZlciBkb2VzIG5vdCBzZXJ2ZSB3YXNtIHdpdGggYGFwcGxpY2F0aW9uL3dhc21gIE1JTUUgdHlwZS4gRmFsbGluZyBiYWNrIHRvIGBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZWAgd2hpY2ggaXMgc2xvd2VyLiBPcmlnaW5hbCBlcnJvcjpcXG5cIiwgZSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgbW9kdWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIHJldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShieXRlcywgaW1wb3J0cyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKG1vZHVsZSwgaW1wb3J0cyk7XG5cbiAgICAgICAgaWYgKGluc3RhbmNlIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGluc3RhbmNlLCBtb2R1bGUgfTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0KGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaW5wdXQgPSBuZXcgVVJMKCdrbWNfYmcud2FzbScsIGltcG9ydC5tZXRhLnVybCk7XG4gICAgfVxuICAgIGNvbnN0IGltcG9ydHMgPSB7fTtcbiAgICBpbXBvcnRzLndiZyA9IHt9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fc3RyaW5nX25ldyA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzAsIGFyZzEpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmluZGdlbl9vYmplY3RfY2xvbmVfcmVmID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX29iamVjdF9kcm9wX3JlZiA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgdGFrZU9iamVjdChhcmcwKTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fY2JfZHJvcCA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGFrZU9iamVjdChhcmcwKS5vcmlnaW5hbDtcbiAgICAgICAgaWYgKG9iai5jbnQtLSA9PSAxKSB7XG4gICAgICAgICAgICBvYmouYSA9IDA7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fc3RyaW5nX2dldCA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gZ2V0T2JqZWN0KGFyZzEpO1xuICAgICAgICBjb25zdCByZXQgPSB0eXBlb2Yob2JqKSA9PT0gJ3N0cmluZycgPyBvYmogOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBwdHIwID0gaXNMaWtlTm9uZShyZXQpID8gMCA6IHBhc3NTdHJpbmdUb1dhc20wKHJldCwgd2FzbS5fX3diaW5kZ2VuX21hbGxvYywgd2FzbS5fX3diaW5kZ2VuX3JlYWxsb2MpO1xuICAgICAgICB2YXIgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgZ2V0SW50MzJNZW1vcnkwKClbYXJnMCAvIDQgKyAxXSA9IGxlbjA7XG4gICAgICAgIGdldEludDMyTWVtb3J5MCgpW2FyZzAgLyA0ICsgMF0gPSBwdHIwO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmluZGdlbl9qc29uX3NlcmlhbGl6ZSA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gZ2V0T2JqZWN0KGFyZzEpO1xuICAgICAgICBjb25zdCByZXQgPSBKU09OLnN0cmluZ2lmeShvYmogPT09IHVuZGVmaW5lZCA/IG51bGwgOiBvYmopO1xuICAgICAgICBjb25zdCBwdHIwID0gcGFzc1N0cmluZ1RvV2FzbTAocmV0LCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jLCB3YXNtLl9fd2JpbmRnZW5fcmVhbGxvYyk7XG4gICAgICAgIGNvbnN0IGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGdldEludDMyTWVtb3J5MCgpW2FyZzAgLyA0ICsgMV0gPSBsZW4wO1xuICAgICAgICBnZXRJbnQzMk1lbW9yeTAoKVthcmcwIC8gNCArIDBdID0gcHRyMDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5faXNfdW5kZWZpbmVkID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fanNvbl9wYXJzZSA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gSlNPTi5wYXJzZShnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmluZGdlbl9pc19mYWxzeSA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gIWdldE9iamVjdChhcmcwKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5faXNfc3RyaW5nID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSB0eXBlb2YoZ2V0T2JqZWN0KGFyZzApKSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX2lzX29iamVjdCA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgdmFsID0gZ2V0T2JqZWN0KGFyZzApO1xuICAgICAgICBjb25zdCByZXQgPSB0eXBlb2YodmFsKSA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jb3BlbmRiXzBjMTVhYjUwOGM4MjAxNTggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0ga21jX29wZW5fZGIoKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2ttY2dldGNlcnRfOWQ5MDU4ZTYwZDJlYzI4OCA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0ga21jX2dldF9jZXJ0KHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jcHV0Y2VydF84NGY0OTljZDlhMDA5ZmVkID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBjb25zdCByZXQgPSBrbWNfcHV0X2NlcnQodGFrZU9iamVjdChhcmcwKSwgdGFrZU9iamVjdChhcmcxKSwgdGFrZU9iamVjdChhcmcyKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19rbWNkZWxldGVjZXJ0X2FhNDQxMjgxYTAxMmNkYjMgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19kZWxldGVfY2VydCh0YWtlT2JqZWN0KGFyZzApLCB0YWtlT2JqZWN0KGFyZzEpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2ttY2dlbmVyYXRla2V5XzUxMTc2NWJlYWU5NzAyNTMgPSBmdW5jdGlvbihhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19nZW5lcmF0ZV9rZXkodGFrZU9iamVjdChhcmcwKSwgdGFrZU9iamVjdChhcmcxKSwgdGFrZU9iamVjdChhcmcyKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19rbWNpc2tleXdlYmF1dGhuYmFja2VkXzg0YzhmNDkwZTYwYjhlMjEgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19pc19rZXlfd2ViYXV0aG5fYmFja2VkKHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jc2lnbl9hMWY5YjM2YmEzYmY5NmExID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBjb25zdCByZXQgPSBrbWNfc2lnbih0YWtlT2JqZWN0KGFyZzApLCB0YWtlT2JqZWN0KGFyZzEpLCB0YWtlT2JqZWN0KGFyZzIpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2ttY3B1YmxpY2tleV80OGU3YTIwZGU0MzFkZDM0ID0gZnVuY3Rpb24oYXJnMCwgYXJnMSkge1xuICAgICAgICBjb25zdCByZXQgPSBrbWNfcHVibGljX2tleSh0YWtlT2JqZWN0KGFyZzApLCB0YWtlT2JqZWN0KGFyZzEpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2ttY2VuY3J5cHRfYjQ3ZmQ4NGEyZGQwZDNhYyA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICAgICAgY29uc3QgcmV0ID0ga21jX2VuY3J5cHQodGFrZU9iamVjdChhcmcwKSwgdGFrZU9iamVjdChhcmcxKSwgdGFrZU9iamVjdChhcmcyKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19rbWNkZWNyeXB0Xzg1MGFkYjlhNzdiNjcxNjkgPSBmdW5jdGlvbihhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19kZWNyeXB0KHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSksIHRha2VPYmplY3QoYXJnMikpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jZGVsZXRla2V5Xzc5MzRjODg2MDFkYjhiYWEgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19kZWxldGVfa2V5KHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jd3JpdGVwcm9maWxlXzk1ZTY2YmMzNWYzMDU3ZTggPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY193cml0ZV9wcm9maWxlKHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jd3JpdGVwcm9maWxlaWRfYTFjNDUyNGM2ZTQ1NGI0ZCA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0ga21jX3dyaXRlX3Byb2ZpbGVfaWQodGFrZU9iamVjdChhcmcwKSwgdGFrZU9iamVjdChhcmcxKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19rbWN1cGRhdGVwcm9maWxlbWV0YWRhdGFfN2RkMzk2OTBkMzYxYWFjMSA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICAgICAgY29uc3QgcmV0ID0ga21jX3VwZGF0ZV9wcm9maWxlX21ldGFkYXRhKHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSksIHRha2VPYmplY3QoYXJnMikpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jaGFzcHJvZmlsZV9mMDM0NzJmZTE2ZjRiYzA5ID0gZnVuY3Rpb24oYXJnMCwgYXJnMSkge1xuICAgICAgICBjb25zdCByZXQgPSBrbWNfaGFzX3Byb2ZpbGUodGFrZU9iamVjdChhcmcwKSwgdGFrZU9iamVjdChhcmcxKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19rbWNnZXRwcm9maWxlXzA0ZjAwMjY3M2I0ODRkZWUgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19nZXRfcHJvZmlsZSh0YWtlT2JqZWN0KGFyZzApLCB0YWtlT2JqZWN0KGFyZzEpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2ttY2dldGFsbHByb2ZpbGVzXzBhOTZiZTFlODk3ZDQ0ZGUgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19nZXRfYWxsX3Byb2ZpbGVzKHRha2VPYmplY3QoYXJnMCkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jZGVsZXRlcHJvZmlsZV81YmFhMzJiOTYzMTFjYzZiID0gZnVuY3Rpb24oYXJnMCwgYXJnMSkge1xuICAgICAgICBjb25zdCByZXQgPSBrbWNfZGVsZXRlX3Byb2ZpbGUyKHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jYWRkYXV0aGVudGljYXRvcmNsaWVudGlkXzNlNDhiZGE0OGNmN2E3ZjkgPSBmdW5jdGlvbihhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19hZGRfYXV0aGVudGljYXRvcl9jbGllbnRfaWQodGFrZU9iamVjdChhcmcwKSwgdGFrZU9iamVjdChhcmcxKSwgdGFrZU9iamVjdChhcmcyKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19rbWNkZWxldGVhbGxhdXRoZW50aWNhdG9yY2xpZW50aWRzX2MwMGJhOGNiZjllNDM2MjkgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19kZWxldGVfYWxsX2F1dGhlbnRpY2F0b3JfY2xpZW50X2lkcyh0YWtlT2JqZWN0KGFyZzApLCB0YWtlT2JqZWN0KGFyZzEpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2ttY2dldGFwcHNldHRpbmdzXzJjNjA3Yzk3NjQ1MmEzZGUgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGttY19nZXRfYXBwX3NldHRpbmdzKHRha2VPYmplY3QoYXJnMCkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jZ2V0ZGV2aWNlaW5mb19iNGRmOWJmN2U5Y2QyMzk2ID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBrbWNfZ2V0X2RldmljZV9pbmZvKHRha2VPYmplY3QoYXJnMCkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfa21jZ2V0dXNlcmFnZW50XzQ5ZDg4NGYyZWVmZDk3OGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0ga21jX2dldF91c2VyX2FnZW50MigpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmluZGdlbl9pc19udWxsID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkgPT09IG51bGw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX2Jvb2xlYW5fZ2V0ID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCB2ID0gZ2V0T2JqZWN0KGFyZzApO1xuICAgICAgICBjb25zdCByZXQgPSB0eXBlb2YodikgPT09ICdib29sZWFuJyA/ICh2ID8gMSA6IDApIDogMjtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fbnVtYmVyX2dldCA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gZ2V0T2JqZWN0KGFyZzEpO1xuICAgICAgICBjb25zdCByZXQgPSB0eXBlb2Yob2JqKSA9PT0gJ251bWJlcicgPyBvYmogOiB1bmRlZmluZWQ7XG4gICAgICAgIGdldEZsb2F0NjRNZW1vcnkwKClbYXJnMCAvIDggKyAxXSA9IGlzTGlrZU5vbmUocmV0KSA/IDAgOiByZXQ7XG4gICAgICAgIGdldEludDMyTWVtb3J5MCgpW2FyZzAgLyA0ICsgMF0gPSAhaXNMaWtlTm9uZShyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZ2V0XzJkMTQwN2RiYTM0NTIzNTAgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKVt0YWtlT2JqZWN0KGFyZzEpXTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3NldF9mMWE0YWM4ZjNhNjA1YjExID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBnZXRPYmplY3QoYXJnMClbdGFrZU9iamVjdChhcmcxKV0gPSB0YWtlT2JqZWN0KGFyZzIpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfb3BlbkNyZWRlbnRpYWxEYl9jYzEwZDYxMmIzNWJlMDZmID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IG9wZW5DcmVkZW50aWFsRGIoKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2Nsb3NlQ3JlZGVudGlhbERiXzk5MGZmYjI1NjAxZGI5M2EgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNsb3NlQ3JlZGVudGlhbERiKGdldE9iamVjdChhcmcwKSk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19jcmVhdGVDcmVkZW50aWFsX2VhMDk4NTNjOTU3ZDEwNzAgPSBmdW5jdGlvbihhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGNyZWF0ZUNyZWRlbnRpYWwoZ2V0T2JqZWN0KGFyZzApLCB0YWtlT2JqZWN0KGFyZzEpLCB0YWtlT2JqZWN0KGFyZzIpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3JlYWRDcmVkZW50aWFsc18wNDczYzJkMTk3YTlkYmZlID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSByZWFkQ3JlZGVudGlhbHMoZ2V0T2JqZWN0KGFyZzApKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3VwZGF0ZUNyZWRlbnRpYWxfMDliMzAxNTVlZTBkMjQ1OCA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gdXBkYXRlQ3JlZGVudGlhbChnZXRPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZGVsZXRlQ3JlZGVudGlhbF9mMjQ3NzI2YjY1YmMzMGU5ID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBjb25zdCByZXQgPSBkZWxldGVDcmVkZW50aWFsKGdldE9iamVjdChhcmcwKSwgZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzEsIGFyZzIpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3JhbmRvbUZpbGxTeW5jXzY1NGE3Nzk3OTkwZmI4ZGIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgICAgIGdldE9iamVjdChhcmcwKS5yYW5kb21GaWxsU3luYyhnZXRBcnJheVU4RnJvbVdhc20wKGFyZzEsIGFyZzIpKTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZ2V0UmFuZG9tVmFsdWVzX2ZiNmIwODhlZmI2YmVhZDIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxKSB7XG4gICAgICAgIGdldE9iamVjdChhcmcwKS5nZXRSYW5kb21WYWx1ZXMoZ2V0T2JqZWN0KGFyZzEpKTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfcHJvY2Vzc183MDI1MWVkMTI5MTc1NGQ1ID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkucHJvY2VzcztcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3ZlcnNpb25zX2IyM2YyNTg4Y2RiMmRkYmIgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS52ZXJzaW9ucztcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX25vZGVfNjFiOGM5YTgyNDk5ODk1ZCA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLm5vZGU7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19zdGF0aWNfYWNjZXNzb3JfTk9ERV9NT0RVTEVfMzNiNDUyNDdjNTUwNDViMCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCByZXQgPSBtb2R1bGU7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19yZXF1aXJlXzJhOTNiYzA5ZmVlNDVhY2EgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5yZXF1aXJlKGdldFN0cmluZ0Zyb21XYXNtMChhcmcxLCBhcmcyKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfSwgYXJndW1lbnRzKSB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2NyeXB0b18yZjU2MjU3YTM4Mjc1ZGJkID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuY3J5cHRvO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbXNDcnlwdG9fZDA3NjU1YmY2MjM2MWYyMSA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLm1zQ3J5cHRvO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfRmZpQ3JlYXRlS2V5UDI1Nl8zMjdiYzRkMTQ2YjE2MzJlID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBjb25zdCByZXQgPSBGZmlDcmVhdGVLZXlQMjU2KHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSksIHRha2VPYmplY3QoYXJnMikpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfRmZpUXVlcnlLZXlQMjU2X2Y1YmQ1OGQ3ZjAyNTI1MjIgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IEZmaVF1ZXJ5S2V5UDI1Nih0YWtlT2JqZWN0KGFyZzApKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX0ZmaURlbGV0ZUtleVAyNTZfNDg1YWRmMDUwZWIyM2UyMiA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gRmZpRGVsZXRlS2V5UDI1Nih0YWtlT2JqZWN0KGFyZzApKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX0ZmaVZlcmlmeUV4aXN0aW5nS2V5UDI1Nl84MjA0YTk3ZWM5YjhmNWZjID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBGZmlWZXJpZnlFeGlzdGluZ0tleVAyNTYodGFrZU9iamVjdChhcmcwKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19GZmlTaWduV2l0aFAyNTZfMGRlYWJhMGViZDVhNmRjYiA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gRmZpU2lnbldpdGhQMjU2KHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfRmZpUHVibGljQml0c1AyNTZfYzRkODU3ZjQ3ZGQ0NTJkNSA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gRmZpUHVibGljQml0c1AyNTYodGFrZU9iamVjdChhcmcwKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19TdHJpbmdfYzQwNTJkNjQyNDE2MGFjMSA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gU3RyaW5nKGdldE9iamVjdChhcmcxKSk7XG4gICAgICAgIGNvbnN0IHB0cjAgPSBwYXNzU3RyaW5nVG9XYXNtMChyZXQsIHdhc20uX193YmluZGdlbl9tYWxsb2MsIHdhc20uX193YmluZGdlbl9yZWFsbG9jKTtcbiAgICAgICAgY29uc3QgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgZ2V0SW50MzJNZW1vcnkwKClbYXJnMCAvIDQgKyAxXSA9IGxlbjA7XG4gICAgICAgIGdldEludDMyTWVtb3J5MCgpW2FyZzAgLyA0ICsgMF0gPSBwdHIwO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZ2V0X2Y3ODMzZDZlYzU3MmU0NjIgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKVt0YWtlT2JqZWN0KGFyZzEpXTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3NldF9mYmI0OWFkMjY1ZjlkZWU4ID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBnZXRPYmplY3QoYXJnMClbdGFrZU9iamVjdChhcmcxKV0gPSB0YWtlT2JqZWN0KGFyZzIpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZWNkc2FnZW5lcmF0ZWtleXBhaXJfZWRhZjhhYzA5NDk3ODU5MyA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZWNkc2FfZ2VuZXJhdGVfa2V5X3BhaXIodGFrZU9iamVjdChhcmcwKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19lY2RzYWltcG9ydGtleV8zMmVjMTlkZTU0ZmY5ZTIyID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICBjb25zdCByZXQgPSBlY2RzYV9pbXBvcnRfa2V5KHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSksIHRha2VPYmplY3QoYXJnMiksIHRha2VPYmplY3QoYXJnMykpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZWNkc2FzaWduXzBiYzQyNDJkMDQ4MzYwYzAgPSBmdW5jdGlvbihhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGVjZHNhX3NpZ24odGFrZU9iamVjdChhcmcwKSwgdGFrZU9iamVjdChhcmcxKSwgdGFrZU9iamVjdChhcmcyKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19lY2RzYXZlcmlmeV9hOTFlN2FhM2FkNDk1ZDZkID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICBjb25zdCByZXQgPSBlY2RzYV92ZXJpZnkodGFrZU9iamVjdChhcmcwKSwgdGFrZU9iamVjdChhcmcxKSwgdGFrZU9iamVjdChhcmcyKSwgdGFrZU9iamVjdChhcmczKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19rZXlleHBvcnRfYzhhNmYyZjU1YWJmNTQ4MSA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0ga2V5X2V4cG9ydCh0YWtlT2JqZWN0KGFyZzApLCB0YWtlT2JqZWN0KGFyZzEpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3JzYWltcG9ydGtleV80YjY3NzhlZjk2M2Y2ZWZjID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICBjb25zdCByZXQgPSByc2FfaW1wb3J0X2tleSh0YWtlT2JqZWN0KGFyZzApLCB0YWtlT2JqZWN0KGFyZzEpLCB0YWtlT2JqZWN0KGFyZzIpLCB0YWtlT2JqZWN0KGFyZzMpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3JzYXZlcmlmeV8xNWE2YzMxOTcyNTI2NDA1ID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBjb25zdCByZXQgPSByc2FfdmVyaWZ5KHRha2VPYmplY3QoYXJnMCksIHRha2VPYmplY3QoYXJnMSksIHRha2VPYmplY3QoYXJnMikpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfc2xlZXBfMjhhMDZiMTFlODVhZjAzOSA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gc2xlZXAoYXJnMCA+Pj4gMCk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19mZXRjaF84MTFkNDNkNmJkY2FkNWIxID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBmZXRjaChnZXRPYmplY3QoYXJnMCkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfaW5zdGFuY2VvZl9XaW5kb3dfMGU2YzBmMTA5NmQ2NmMzYyA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApIGluc3RhbmNlb2YgV2luZG93O1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfY3J5cHRvXzJlYTQyYzI5MzBkMjZkOGQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5jcnlwdG87XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfSwgYXJndW1lbnRzKSB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2ZldGNoX2JmNTZlMmE5ZjA2NDRlM2YgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5mZXRjaChnZXRPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbmV3Xzg5ZDdmMDg4YzFjNDUzNTMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfYXBwZW5kX2Y0ZjkzYmM3M2M0NWVlM2UgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0KSB7XG4gICAgICAgIGdldE9iamVjdChhcmcwKS5hcHBlbmQoZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzEsIGFyZzIpLCBnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMywgYXJnNCkpO1xuICAgIH0sIGFyZ3VtZW50cykgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19nZXRSYW5kb21WYWx1ZXNfZTY4ZDg0NjJmZGFmMDhhMiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmdldFJhbmRvbVZhbHVlcyhnZXRBcnJheVU4RnJvbVdhc20wKGFyZzEsIGFyZzIpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbmV3d2l0aHU4YXJyYXlzZXF1ZW5jZWFuZG9wdGlvbnNfYzRiMzY0ZWM0NDczYjUxMCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gbmV3IEJsb2IoZ2V0T2JqZWN0KGFyZzApLCBnZXRPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH0sIGFyZ3VtZW50cykgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19pbnN0YW5jZW9mX1Jlc3BvbnNlX2NjZmViNjIzOTkzNTViY2QgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKSBpbnN0YW5jZW9mIFJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfdXJsXzA2YzBmODIyZDY4ZDE5NWMgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcxKS51cmw7XG4gICAgICAgIGNvbnN0IHB0cjAgPSBwYXNzU3RyaW5nVG9XYXNtMChyZXQsIHdhc20uX193YmluZGdlbl9tYWxsb2MsIHdhc20uX193YmluZGdlbl9yZWFsbG9jKTtcbiAgICAgICAgY29uc3QgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgZ2V0SW50MzJNZW1vcnkwKClbYXJnMCAvIDQgKyAxXSA9IGxlbjA7XG4gICAgICAgIGdldEludDMyTWVtb3J5MCgpW2FyZzAgLyA0ICsgMF0gPSBwdHIwO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfc3RhdHVzXzYwMGZkOGI4ODEzOTM4OTggPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5zdGF0dXM7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19oZWFkZXJzXzllN2YyYzA1YTliOTYyZWEgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5oZWFkZXJzO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfYXJyYXlCdWZmZXJfNWE5OTI4M2EzOTU0Yzg1MCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfSwgYXJndW1lbnRzKSB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3RleHRfMjYxMmZiZTBiOWQzMjIyMCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLnRleHQoKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbmV3d2l0aHN0cmFuZGluaXRfZmQ5OTY4OGYxODlmMDUzZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gbmV3IFJlcXVlc3QoZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzAsIGFyZzEpLCBnZXRPYmplY3QoYXJnMikpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH0sIGFyZ3VtZW50cykgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19uZXdfMjJhOTg5YmIzYzYzNDQ4ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCByZXQgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfYXBwZW5kXzMxMGFjNWFhNDgyNzQ5NTIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIGdldE9iamVjdChhcmcwKS5hcHBlbmQoZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzEsIGFyZzIpLCBnZXRPYmplY3QoYXJnMykpO1xuICAgIH0sIGFyZ3VtZW50cykgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19hcHBlbmRfNjljZjZlM2UzZjhiYzMxOSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICAgICAgZ2V0T2JqZWN0KGFyZzApLmFwcGVuZChnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMSwgYXJnMiksIGdldE9iamVjdChhcmczKSwgZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzQsIGFyZzUpKTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZ2V0XzU5MGEyY2Q5MTJmMmFlNDYgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKVthcmcxID4+PiAwXTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2xlbmd0aF8yY2Q3OTgzMjZmMmNjNGMxID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkubGVuZ3RoO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbmV3Xzk0ZmIxMjc5Y2Y2YWZlYTUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ192YWx1ZU9mXzUzNGQ4ZTk5ZDA3MGFmODUgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS52YWx1ZU9mKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX2lzX2Z1bmN0aW9uID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSB0eXBlb2YoZ2V0T2JqZWN0KGFyZzApKSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX25ld25vYXJnc19lMjNiNDU4ZTM3MjgzMGRlID0gZnVuY3Rpb24oYXJnMCwgYXJnMSkge1xuICAgICAgICBjb25zdCByZXQgPSBuZXcgRnVuY3Rpb24oZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzAsIGFyZzEpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX25leHRfY2FiYjcwYjM2NTUyMDcyMSA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLm5leHQ7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19uZXh0X2JmM2Q4M2ZjMThkZjQ5NmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5uZXh0KCk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfSwgYXJndW1lbnRzKSB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2RvbmVfMDQwZjk2NmZhYTlhNzJiMyA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmRvbmU7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ192YWx1ZV80MTlhZmJkOWI5NTc0YzRjID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkudmFsdWU7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19pdGVyYXRvcl80ODMyZWYxZjE1YjAzODJiID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IFN5bWJvbC5pdGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2dldF9hOWNhYjEzMWUzMTUyYzQ5ID0gZnVuY3Rpb24oKSB7IHJldHVybiBoYW5kbGVFcnJvcihmdW5jdGlvbiAoYXJnMCwgYXJnMSkge1xuICAgICAgICBjb25zdCByZXQgPSBSZWZsZWN0LmdldChnZXRPYmplY3QoYXJnMCksIGdldE9iamVjdChhcmcxKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfSwgYXJndW1lbnRzKSB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2NhbGxfYWU3ODM0MmFkYzMzNzMwYSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmNhbGwoZ2V0T2JqZWN0KGFyZzEpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbmV3XzM2MzU5YmFhZTVhNDdlMjcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gbmV3IE9iamVjdCgpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZnJvbV83YjlhOTlhN2NkM2VmMTVmID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBBcnJheS5mcm9tKGdldE9iamVjdChhcmcwKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19pc0FycmF5XzY3MjFmMmU1MDg5OTYzNDAgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IEFycmF5LmlzQXJyYXkoZ2V0T2JqZWN0KGFyZzApKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3B1c2hfNDBjNmE5MGYxODA1YWE5MCA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLnB1c2goZ2V0T2JqZWN0KGFyZzEpKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX2luc3RhbmNlb2ZfQXJyYXlCdWZmZXJfYjgxYjQwYzJhZTBhYjg5OCA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ192YWx1ZXNfYjFiOWU4YzYzZGJlMDFjMiA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLnZhbHVlcygpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbmV3XzMwNDdiZjRiNGYwMmI4MDIgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IG5ldyBFcnJvcihnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbWVzc2FnZV9kY2NhMzhmYmZmMjM5ZmJmID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkubWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX25hbWVfNjQyZGQ4NDYwMmY0OGQ2NSA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLm5hbWU7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19jYWxsXzNlZDI4OGEyNDdmMTNlYTUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5jYWxsKGdldE9iamVjdChhcmcxKSwgZ2V0T2JqZWN0KGFyZzIpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfaXNTYWZlSW50ZWdlcl9jODc0NjdlZDk2ODE1MTE5ID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBOdW1iZXIuaXNTYWZlSW50ZWdlcihnZXRPYmplY3QoYXJnMCkpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZ2V0VGltZV9iZmZiMWMwOWRmMDk2MThiID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuZ2V0VGltZSgpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbmV3MF8wZmY3ZWI1YzE0ODZmM2VjID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19lbnRyaWVzX2FhZjdhMWZiZTkwZjAxNGEgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IE9iamVjdC5lbnRyaWVzKGdldE9iamVjdChhcmcwKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19pbnN0YW5jZW9mX1Byb21pc2VfNTYzNTNlZGJhZWMyNjhjMyA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApIGluc3RhbmNlb2YgUHJvbWlzZTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX25ld18zNzcwNWVlZDYyN2Q1ZWQ5ID0gZnVuY3Rpb24oYXJnMCwgYXJnMSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHN0YXRlMCA9IHthOiBhcmcwLCBiOiBhcmcxfTtcbiAgICAgICAgICAgIHZhciBjYjAgPSAoYXJnMCwgYXJnMSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBzdGF0ZTAuYTtcbiAgICAgICAgICAgICAgICBzdGF0ZTAuYSA9IDA7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fd2JnX2FkYXB0ZXJfMjU4KGEsIHN0YXRlMC5iLCBhcmcwLCBhcmcxKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZTAuYSA9IGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IG5ldyBQcm9taXNlKGNiMCk7XG4gICAgICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc3RhdGUwLmEgPSBzdGF0ZTAuYiA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3JlamVjdF8zNmFjMjFkMjJlZjU5MWIzID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBQcm9taXNlLnJlamVjdChnZXRPYmplY3QoYXJnMCkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfcmVzb2x2ZV9hOWE4N2JkZDY0ZTllNjJjID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBQcm9taXNlLnJlc29sdmUoZ2V0T2JqZWN0KGFyZzApKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3RoZW5fY2U1MjZjODM3ZDA3YjY4ZiA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLnRoZW4oZ2V0T2JqZWN0KGFyZzEpKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3RoZW5fODQyZTY1Yjg0Mzk2MmY1NiA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLnRoZW4oZ2V0T2JqZWN0KGFyZzEpLCBnZXRPYmplY3QoYXJnMikpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfc2VsZl85OTczN2I0ZGNkZjZmMGQ4ID0gZnVuY3Rpb24oKSB7IHJldHVybiBoYW5kbGVFcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHNlbGYuc2VsZjtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfd2luZG93XzliNjFmYmJmMzU2NGM0ZmIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2luZG93LndpbmRvdztcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZ2xvYmFsVGhpc184ZTI3NWVmNDBjYWVhM2EzID0gZnVuY3Rpb24oKSB7IHJldHVybiBoYW5kbGVFcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdsb2JhbFRoaXMuZ2xvYmFsVGhpcztcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfZ2xvYmFsXzVkZTFlMGY4MmJkZGNkMjcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2xvYmFsLmdsb2JhbDtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9LCBhcmd1bWVudHMpIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfYnVmZmVyXzdhZjIzZjY1ZjZjNjQ1NDggPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5idWZmZXI7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19uZXd3aXRoYnl0ZW9mZnNldGFuZGxlbmd0aF9jZTFlNzVmMGNlNWY3OTc0ID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBjb25zdCByZXQgPSBuZXcgVWludDhBcnJheShnZXRPYmplY3QoYXJnMCksIGFyZzEgPj4+IDAsIGFyZzIgPj4+IDApO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbmV3X2NjOTAxOGJkNmYyODNiNmYgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IG5ldyBVaW50OEFycmF5KGdldE9iamVjdChhcmcwKSk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19zZXRfZjI1ZTg2OWU0NTY1ZDJhMiA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICAgICAgZ2V0T2JqZWN0KGFyZzApLnNldChnZXRPYmplY3QoYXJnMSksIGFyZzIgPj4+IDApO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmdfbGVuZ3RoXzBhY2IxY2Y5YmJhZjg1MTkgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5sZW5ndGg7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19pbnN0YW5jZW9mX1VpbnQ4QXJyYXlfZWRiOTI3OTVmYzBjNjNiNCA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApIGluc3RhbmNlb2YgVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX25ld3dpdGhsZW5ndGhfOGYwNjU3ZmFjYTlmMTQyMiA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgY29uc3QgcmV0ID0gbmV3IFVpbnQ4QXJyYXkoYXJnMCA+Pj4gMCk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19zdWJhcnJheV9kYTUyN2RiZDI0ZWFmYjZiID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuc3ViYXJyYXkoYXJnMSA+Pj4gMCwgYXJnMiA+Pj4gMCk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19oYXNfY2U5OTVlYzg4NjM2ODAzZCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gUmVmbGVjdC5oYXMoZ2V0T2JqZWN0KGFyZzApLCBnZXRPYmplY3QoYXJnMSkpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH0sIGFyZ3VtZW50cykgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19zZXRfOTNiMWM4N2VlMmFmODUyZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gUmVmbGVjdC5zZXQoZ2V0T2JqZWN0KGFyZzApLCBnZXRPYmplY3QoYXJnMSksIGdldE9iamVjdChhcmcyKSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfSwgYXJndW1lbnRzKSB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3N0cmluZ2lmeV9jNzYwMDAzZmVmZmNjMWYyID0gZnVuY3Rpb24oKSB7IHJldHVybiBoYW5kbGVFcnJvcihmdW5jdGlvbiAoYXJnMCkge1xuICAgICAgICBjb25zdCByZXQgPSBKU09OLnN0cmluZ2lmeShnZXRPYmplY3QoYXJnMCkpO1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH0sIGFyZ3VtZW50cykgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX2RlYnVnX3N0cmluZyA9IGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZGVidWdTdHJpbmcoZ2V0T2JqZWN0KGFyZzEpKTtcbiAgICAgICAgY29uc3QgcHRyMCA9IHBhc3NTdHJpbmdUb1dhc20wKHJldCwgd2FzbS5fX3diaW5kZ2VuX21hbGxvYywgd2FzbS5fX3diaW5kZ2VuX3JlYWxsb2MpO1xuICAgICAgICBjb25zdCBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICBnZXRJbnQzMk1lbW9yeTAoKVthcmcwIC8gNCArIDFdID0gbGVuMDtcbiAgICAgICAgZ2V0SW50MzJNZW1vcnkwKClbYXJnMCAvIDQgKyAwXSA9IHB0cjA7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX3Rocm93ID0gZnVuY3Rpb24oYXJnMCwgYXJnMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzAsIGFyZzEpKTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fbWVtb3J5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ubWVtb3J5O1xuICAgICAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193YmluZGdlbl9jbG9zdXJlX3dyYXBwZXI2NTYyID0gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMikge1xuICAgICAgICBjb25zdCByZXQgPSBtYWtlTXV0Q2xvc3VyZShhcmcwLCBhcmcxLCAyMzg5LCBfX3diZ19hZGFwdGVyXzM4KTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgKHR5cGVvZiBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nICYmIGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkgfHwgKHR5cGVvZiBVUkwgPT09ICdmdW5jdGlvbicgJiYgaW5wdXQgaW5zdGFuY2VvZiBVUkwpKSB7XG4gICAgICAgIGlucHV0ID0gZmV0Y2goaW5wdXQpO1xuICAgIH1cblxuXG5cbiAgICBjb25zdCB7IGluc3RhbmNlLCBtb2R1bGUgfSA9IGF3YWl0IGxvYWQoYXdhaXQgaW5wdXQsIGltcG9ydHMpO1xuXG4gICAgd2FzbSA9IGluc3RhbmNlLmV4cG9ydHM7XG4gICAgaW5pdC5fX3diaW5kZ2VuX3dhc21fbW9kdWxlID0gbW9kdWxlO1xuXG4gICAgcmV0dXJuIHdhc207XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXQ7XG5cbiIsIi8vIHNyYy9lcnIuanNcbnZhciBCYWRQbGF0Zm9ybSA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihmYWNpbGl0eSkge1xuICAgIHN1cGVyKGAke2ZhY2lsaXR5fSBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgcGxhdGZvcm1gKTtcbiAgICB0aGlzLm5hbWUgPSBcIkJhZFBsYXRmb3JtXCI7XG4gIH1cbn07XG52YXIgSW52YWxpZEFyZyA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihhcmcpIHtcbiAgICBzdXBlcihgaW52YWxpZCBhcmc6ICR7YXJnfWApO1xuICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEFyZ1wiO1xuICB9XG59O1xudmFyIE9wZXJhdGlvbkJsb2NrZWQgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3Iob3ApIHtcbiAgICBzdXBlcihgb3BlcmF0aW9uIGJsb2NrZWQgaW4gJHtvcH1gKTtcbiAgICB0aGlzLm5hbWUgPSBcIk9wZXJhdGlvbkJsb2NrZWRcIjtcbiAgfVxufTtcbnZhciBLZXlOb3RGb3VuZCA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihoYW5kbGUpIHtcbiAgICBzdXBlcihgJHtoYW5kbGV9IG5vdCBmb3VuZGApO1xuICAgIHRoaXMubmFtZSA9IFwiS2V5Tm90Rm91bmRcIjtcbiAgfVxufTtcblxuLy8gc3JjL3ZhbGlkYXRlLmpzXG5mdW5jdGlvbiB2YWxpZGF0ZURhdGFiYXNlKHR4KSB7XG4gIHJldHVybiB0eCBpbnN0YW5jZW9mIElEQkRhdGFiYXNlO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVUcmFuc2FjdGlvbk1vZGUobW9kZSkge1xuICByZXR1cm4gbW9kZSA9PT0gXCJyZWFkb25seVwiIHx8IG1vZGUgPT09IFwicmVhZHdyaXRlXCI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVRyYW5zYWN0aW9uU2NvcGUoc2NvcGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBzY29wZSA9PT0gXCJzdHJpbmdcIiB8fCBzY29wZSBpbnN0YW5jZW9mIEFycmF5ICYmIHNjb3BlLnJlZHVjZSgocCwgYykgPT4gcCAmJiB0eXBlb2YgYyA9PT0gXCJzdHJpbmdcIiwgdHJ1ZSk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVRyYW5zYWN0aW9uKHR4KSB7XG4gIHJldHVybiB0eCBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RTdG9yZShzdG9yZSkge1xuICByZXR1cm4gdHlwZW9mIHN0b3JlID09PSBcInN0cmluZ1wiO1xufVxuXG4vLyBzcmMvaWRiLmpzXG52YXIgaWRiVHJhbnNhY3Rpb24gPSB7XG4gIHJlYWRvbmx5OiBcInJlYWRvbmx5XCIsXG4gIHJlYWR3cml0ZTogXCJyZWFkd3JpdGVcIlxufTtcbmZ1bmN0aW9uIGlkYk9wZW5EYihuYW1lLCB2ZXJzaW9uMiwgcnVuTWlncmF0aW9uczIpIHtcbiAgaWYgKCF3aW5kb3cuaW5kZXhlZERCKVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgQmFkUGxhdGZvcm0oXCJpbmRleGVkREJcIikpO1xuICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBJbnZhbGlkQXJnKFwibmFtZVwiKSk7XG4gIGlmICh0eXBlb2YgdmVyc2lvbjIgIT09IFwibnVtYmVyXCIpXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBJbnZhbGlkQXJnKFwidmVyc2lvblwiKSk7XG4gIGlmICh0eXBlb2YgcnVuTWlncmF0aW9uczIgIT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEludmFsaWRBcmcoXCJydW5NaWdyYXRpb25zXCIpKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcnEgPSB3aW5kb3cuaW5kZXhlZERCLm9wZW4obmFtZSwgdmVyc2lvbjIpO1xuICAgICAgcnEub251cGdyYWRlbmVlZGVkID0gKGUpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBydW5NaWdyYXRpb25zMihlLnRhcmdldC5yZXN1bHQsIGUudGFyZ2V0LnRyYW5zYWN0aW9uLCBlLm5ld1ZlcnNpb24sIGUub2xkVmVyc2lvbik7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcnEub25ibG9ja2VkID0gKGUpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBPcGVyYXRpb25CbG9ja2VkKFwiaWRiT3BlbkRiXCIpKTtcbiAgICAgIH07XG4gICAgICBycS5vbmVycm9yID0gKGUpID0+IHtcbiAgICAgICAgcmVqZWN0KGUudGFyZ2V0LmVycm9yKTtcbiAgICAgIH07XG4gICAgICBycS5vbnN1Y2Nlc3MgPSAoZSkgPT4ge1xuICAgICAgICBjb25zdCBkYiA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgZGIub252ZXJzaW9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlc29sdmUoZGIpO1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBpZGJDbG9zZURiKGRiKSB7XG4gIGlmIChkYiBpbnN0YW5jZW9mIElEQkRhdGFiYXNlKVxuICAgIGRiLmNsb3NlKCk7XG59XG5mdW5jdGlvbiBpZGJCZWdpblRyYW5zYWN0aW9uKGRiLCBzY29wZSwgbW9kZSkge1xuICBpZiAoIXZhbGlkYXRlRGF0YWJhc2UoZGIpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwiZGJcIik7XG4gIGlmICghdmFsaWRhdGVUcmFuc2FjdGlvblNjb3BlKHNjb3BlKSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInNjb3BlXCIpO1xuICBpZiAoIXZhbGlkYXRlVHJhbnNhY3Rpb25Nb2RlKG1vZGUpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwibW9kZVwiKTtcbiAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihzY29wZSwgbW9kZSk7XG4gIHR4LnJlc3VsdCA9IG51bGw7XG4gIHR4LnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHgub25jb21wbGV0ZSA9IChlKSA9PiB7XG4gICAgICByZXNvbHZlKHR4LnJlc3VsdCk7XG4gICAgfTtcbiAgICB0eC5vbmVycm9yID0gKGUpID0+IHtcbiAgICAgIHJlamVjdCh0eC5lcnJvciA/IHR4LmVycm9yIDogZS50YXJnZXQuZXJyb3IpO1xuICAgIH07XG4gICAgdHgub25hYm9ydCA9IChlKSA9PiB7XG4gICAgICByZWplY3QodHgucmVzdWx0KTtcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHR4O1xufVxuZnVuY3Rpb24gaWRiRmluaXNoVHJhbnNhY3Rpb24odHgpIHtcbiAgaWYgKCF2YWxpZGF0ZVRyYW5zYWN0aW9uKHR4KSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInR4XCIpO1xuICBpZiAodHguZXJyb3IpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodHguZXJyb3IpO1xuICB9XG4gIHJldHVybiB0eC5wcm9taXNlO1xufVxuZnVuY3Rpb24gaWRiQWJvcnRUcmFuc2FjdGlvbih0eCwgZXJyb3IpIHtcbiAgaWYgKCF2YWxpZGF0ZVRyYW5zYWN0aW9uKHR4KSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInR4XCIpO1xuICB0eC5yZXN1bHQgPSBlcnJvcjtcbiAgdHguYWJvcnQoKTtcbn1cbmZ1bmN0aW9uIGlkYkdldEFsbCh0eCwgc3RvcmUpIHtcbiAgaWYgKCF2YWxpZGF0ZVRyYW5zYWN0aW9uKHR4KSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInR4XCIpO1xuICBpZiAoIXZhbGlkYXRlT2JqZWN0U3RvcmUoc3RvcmUpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwic3RvcmVcIik7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3MgPSB0eC5vYmplY3RTdG9yZShzdG9yZSk7XG4gICAgY29uc3QgcnEgPSBvcy5nZXRBbGwoKTtcbiAgICBycS5vbnN1Y2Nlc3MgPSAoZSkgPT4ge1xuICAgICAgdHgucmVzdWx0ID0gcnEucmVzdWx0O1xuICAgIH07XG4gICAgcnEub25lcnJvciA9IChlKSA9PiB7XG4gICAgICB0eC5yZXN1bHQgPSBlLnRhcmdldC5lcnJvcjtcbiAgICAgIHR4LmFib3J0KCk7XG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdHgucmVzdWx0ID0gZXJyO1xuICAgIHR4LmFib3J0KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlkYlB1dCh0eCwgc3RvcmUsIHZhbHVlLCBrZXkpIHtcbiAgaWYgKCF2YWxpZGF0ZVRyYW5zYWN0aW9uKHR4KSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInR4XCIpO1xuICBpZiAoIXZhbGlkYXRlT2JqZWN0U3RvcmUoc3RvcmUpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwic3RvcmVcIik7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3MgPSB0eC5vYmplY3RTdG9yZShzdG9yZSk7XG4gICAgY29uc3QgcnEgPSBvcy5wdXQodmFsdWUsIGtleSk7XG4gICAgcnEub25zdWNjZXNzID0gKGUpID0+IHtcbiAgICAgIHR4LnJlc3VsdCA9IHJxLnJlc3VsdDtcbiAgICB9O1xuICAgIHJxLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgdHgucmVzdWx0ID0gZS50YXJnZXQuZXJyb3I7XG4gICAgICB0eC5hYm9ydCgpO1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHR4LnJlc3VsdCA9IGVycjtcbiAgICB0eC5hYm9ydCgpO1xuICB9XG59XG5mdW5jdGlvbiBpZGJBZGQodHgsIHN0b3JlLCB2YWx1ZSwga2V5KSB7XG4gIGlmICghdmFsaWRhdGVUcmFuc2FjdGlvbih0eCkpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoXCJ0eFwiKTtcbiAgaWYgKCF2YWxpZGF0ZU9iamVjdFN0b3JlKHN0b3JlKSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInN0b3JlXCIpO1xuICB0cnkge1xuICAgIGNvbnN0IG9zID0gdHgub2JqZWN0U3RvcmUoc3RvcmUpO1xuICAgIGNvbnN0IHJxID0gb3MuYWRkKHZhbHVlLCBrZXkpO1xuICAgIHJxLm9uc3VjY2VzcyA9IChlKSA9PiB7XG4gICAgICB0eC5yZXN1bHQgPSBycS5yZXN1bHQ7XG4gICAgfTtcbiAgICBycS5vbmVycm9yID0gKGUpID0+IHtcbiAgICAgIHR4LnJlc3VsdCA9IGUudGFyZ2V0LmVycm9yO1xuICAgICAgdHguYWJvcnQoKTtcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICB0eC5yZXN1bHQgPSBlcnI7XG4gICAgdHguYWJvcnQoKTtcbiAgfVxufVxuZnVuY3Rpb24gaWRiRGVsZXRlKHR4LCBzdG9yZSwga2V5KSB7XG4gIGlmICghdmFsaWRhdGVUcmFuc2FjdGlvbih0eCkpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoXCJ0eFwiKTtcbiAgaWYgKCF2YWxpZGF0ZU9iamVjdFN0b3JlKHN0b3JlKSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInN0b3JlXCIpO1xuICB0cnkge1xuICAgIGNvbnN0IG9zID0gdHgub2JqZWN0U3RvcmUoc3RvcmUpO1xuICAgIGNvbnN0IHJxID0gb3MuZGVsZXRlKGtleSk7XG4gICAgcnEub25zdWNjZXNzID0gKGUpID0+IHtcbiAgICAgIHR4LnJlc3VsdCA9IHJxLnJlc3VsdDtcbiAgICB9O1xuICAgIHJxLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgdHgucmVzdWx0ID0gZS50YXJnZXQuZXJyb3I7XG4gICAgICB0eC5hYm9ydCgpO1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHR4LnJlc3VsdCA9IGVycjtcbiAgICB0eC5hYm9ydCgpO1xuICB9XG59XG5cbi8vIHNyYy9zdG9yZS5qc1xudmFyIHZlcnNpb24gPSAxO1xudmFyIGRiTmFtZSA9IFwiY3JlZGVudGlhbHNcIjtcbnZhciBjcmVkZW50aWFsU3RvcmUgPSBcImNyZWRlbnRpYWxzXCI7XG5mdW5jdGlvbiBydW5NaWdyYXRpb25zKGRiKSB7XG4gIGRiLmNyZWF0ZU9iamVjdFN0b3JlKGNyZWRlbnRpYWxTdG9yZSwge1xuICAgIGtleVBhdGg6IFwiaWRcIlxuICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIG9wZW5DcmVkZW50aWFsRGIoKSB7XG4gIHJldHVybiBhd2FpdCBpZGJPcGVuRGIoZGJOYW1lLCB2ZXJzaW9uLCBydW5NaWdyYXRpb25zKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNsb3NlQ3JlZGVudGlhbERiKGRiKSB7XG4gIGlkYkNsb3NlRGIoZGIpO1xufVxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ3JlZGVudGlhbChkYiwgY3JlZCwgZGVsZXRlSWQpIHtcbiAgbGV0IHR4ID0gaWRiQmVnaW5UcmFuc2FjdGlvbihkYiwgY3JlZGVudGlhbFN0b3JlLCBpZGJUcmFuc2FjdGlvbi5yZWFkd3JpdGUpO1xuICBpZiAoZGVsZXRlSWQgIT09IHZvaWQgMCkge1xuICAgIGlkYkRlbGV0ZSh0eCwgY3JlZGVudGlhbFN0b3JlLCBkZWxldGVJZCk7XG4gIH1cbiAgaWRiQWRkKHR4LCBjcmVkZW50aWFsU3RvcmUsIGNyZWQpO1xuICBhd2FpdCBpZGJGaW5pc2hUcmFuc2FjdGlvbih0eCk7XG59XG5hc3luYyBmdW5jdGlvbiByZWFkQ3JlZGVudGlhbHMoZGIpIHtcbiAgbGV0IHR4ID0gaWRiQmVnaW5UcmFuc2FjdGlvbihkYiwgY3JlZGVudGlhbFN0b3JlLCBpZGJUcmFuc2FjdGlvbi5yZWFkd3JpdGUpO1xuICBpZGJHZXRBbGwodHgsIGNyZWRlbnRpYWxTdG9yZSk7XG4gIHJldHVybiBhd2FpdCBpZGJGaW5pc2hUcmFuc2FjdGlvbih0eCk7XG59XG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDcmVkZW50aWFsKGRiLCB1cGRhdGUpIHtcbiAgbGV0IHR4ID0gaWRiQmVnaW5UcmFuc2FjdGlvbihkYiwgY3JlZGVudGlhbFN0b3JlLCBpZGJUcmFuc2FjdGlvbi5yZWFkd3JpdGUpO1xuICBpZGJQdXQodHgsIGNyZWRlbnRpYWxTdG9yZSwgdXBkYXRlKTtcbiAgYXdhaXQgaWRiRmluaXNoVHJhbnNhY3Rpb24odHgpO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ3JlZGVudGlhbChkYiwgaWQpIHtcbiAgbGV0IHR4ID0gaWRiQmVnaW5UcmFuc2FjdGlvbihkYiwgY3JlZGVudGlhbFN0b3JlLCBpZGJUcmFuc2FjdGlvbi5yZWFkd3JpdGUpO1xuICBsZXQgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShjcmVkZW50aWFsU3RvcmUpO1xuICBzdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gKGUpID0+IHtcbiAgICBsZXQgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChjdXJzb3IpIHtcbiAgICAgIGlmIChjdXJzb3IudmFsdWUuaWQgPT09IGlkKSB7XG4gICAgICAgIGN1cnNvci5kZWxldGUoKTtcbiAgICAgICAgaWQgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlkICE9PSB2b2lkIDApIHtcbiAgICAgICAgaWRiQWJvcnRUcmFuc2FjdGlvbih0eCwgbmV3IEtleU5vdEZvdW5kKGlkKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGF3YWl0IGlkYkZpbmlzaFRyYW5zYWN0aW9uKHR4KTtcbn1cbmV4cG9ydCB7XG4gIGNsb3NlQ3JlZGVudGlhbERiLFxuICBjcmVhdGVDcmVkZW50aWFsLFxuICBkZWxldGVDcmVkZW50aWFsLFxuICBvcGVuQ3JlZGVudGlhbERiLFxuICByZWFkQ3JlZGVudGlhbHMsXG4gIHVwZGF0ZUNyZWRlbnRpYWxcbn07XG4iLCJleHBvcnQgdmFyIHNsZWVwID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKCksIG1zKSk7IiwiXG5leHBvcnQgZnVuY3Rpb24ga2V5X2V4cG9ydChrZXksIGZvcm1hdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHdpbmRvdy5jcnlwdG8uc3VidGxlLmV4cG9ydEtleShmb3JtYXQsIGtleSlcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vL2NhbiBiZSBcIlAtMjU2XCIsIFwiUC0zODRcIiwgb3IgXCJQLTUyMVwiXG5leHBvcnQgZnVuY3Rpb24gZWNkc2FfZ2VuZXJhdGVfa2V5X3BhaXIoY3VydmUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgICAgICAgbmFtZTogXCJFQ0RTQVwiLFxuICAgICAgICAgICAgbmFtZWRDdXJ2ZTogY3VydmUsXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5jcnlwdG8uc3VidGxlLmdlbmVyYXRlS2V5KHBhcmFtcywgdHJ1ZSwgW1wic2lnblwiLCBcInZlcmlmeVwiXSlcbiAgICAgICAgICAgIC50aGVuKGtleVBhaXIgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoa2V5UGFpcik7XG4gICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlY2RzYV9pbXBvcnRfa2V5KGZvcm1hdCwgY3VydmUsIGJpdHMsIHVzZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiBcIkVDRFNBXCIsXG4gICAgICAgICAgICBuYW1lZEN1cnZlOiBjdXJ2ZSxcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KGZvcm1hdCwgYml0cywgcGFyYW1zLCB0cnVlLCBbdXNlXSlcbiAgICAgICAgICAgIC50aGVuKGtleVBhaXIgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoa2V5UGFpcik7XG4gICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vY2FuIGJlIFwiU0hBLTFcIiwgXCJTSEEtMjU2XCIsIFwiU0hBLTM4NFwiLCBvciBcIlNIQS01MTJcIlxuZXhwb3J0IGZ1bmN0aW9uIGVjZHNhX3NpZ24oa2V5LCBoYXNoLCBkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6IFwiRUNEU0FcIixcbiAgICAgICAgICAgIGhhc2g6IGhhc2gsXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5jcnlwdG8uc3VidGxlLnNpZ24ocGFyYW1zLCBrZXksIGRhdGEpXG4gICAgICAgICAgICAudGhlbihzaWduYXR1cmUgPT4ge1xuICAgICAgICAgICAgICAgIHNpZ25hdHVyZSA9IG5ldyBVaW50OEFycmF5KHNpZ25hdHVyZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzaWduYXR1cmUpO1xuICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuLy8gU3VidGxlQ3J5cHRvIHJlcXVpcmVzIHJhdyBzaWduYXR1cmVzLCBhbiAoeCx5KSBcbi8vIHBhaXIgb2YgMzItYml0IEJpZ0ludCdzLiAgSWYgdGhlIGxlbmd0aCBvZiBcbi8vIHRoZSBzaWduYXR1cmUgaXMgPiA2NCwgdGhlbiBhc3N1bWUgdGhlIHNpZ25hdHVyZVxuLy8gaXMgYXNuLjEgZW5jb2RlZCBhcyBzZXF1ZW5jZShpbnQsIGludCkuIFxuZnVuY3Rpb24gZWNkc2FfZGVjb2RlX3NpZ25hdHVyZShzaWduYXR1cmUpIHtcbiAgICBpZiAoc2lnbmF0dXJlLmxlbmd0aCA9PSA2NCkgcmV0dXJuIHNpZ25hdHVyZTtcblxuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmF0dXJlXCIpO1xuXG4gICAgaWYgKHNpZ25hdHVyZS5sZW5ndGggPCA2NCkgdGhyb3cgZXJyO1xuXG4gICAgLy8gRXhwZWN0ZWQ6IGFzbi4xIHNlcXVlbmNlIHByaW1pdGl2ZSAoMHg0OClcbiAgICBpZiAoc2lnbmF0dXJlWzBdICE9IDQ4KSB0aHJvdyBlcnI7XG5cbiAgICBsZXQgcmF3U2lnbmF0dXJlID0gbmV3IFVpbnQ4QXJyYXkoNjQpO1xuXG4gICAgbGV0IHBvcyA9IDI7XG5cbiAgICAvLyBFeHBlY3RlZDogYXNuLjEgaW50ZWdlciBwcmltaXRpdmUgKDB4NDgpXG4gICAgaWYgKHNpZ25hdHVyZVtwb3MrK10gIT0gMikgdGhyb3cgZXJyO1xuXG4gICAgLy8gUGFyc2UgeC5cbiAgICAvLyBFeHBlY3RlZDogaW50ZWdlciBsZW5ndGgsIGVpdGhlciAzMiBvciAzMyBieXRlc1xuICAgIC8vIElmIHRoZSBsZW5ndGggYmVnaW5zIHdpdGggYSAwLCB0aGVuIHRoZSBpbnQgaXMgXG4gICAgLy8gcG9zaXRpdmUgYW5kIHdlIGNhbiBza2lwIHRoZSBieXRlLlxuICAgIGxldCBsZW4gPSBzaWduYXR1cmVbcG9zKytdO1xuICAgIGlmIChsZW4gPT0gMzMpIHBvcysrO1xuICAgIGVsc2UgaWYgKGxlbiAhPSAzMikgdGhyb3cgZXJyO1xuICAgIHJhd1NpZ25hdHVyZS5zZXQoc2lnbmF0dXJlLnNsaWNlKHBvcywgcG9zICsgMzIpLCAwKTtcblxuICAgIC8vIFBhcnNlIHksIHNhbWUgYXMgeC4gXG4gICAgcG9zICs9IDMyO1xuICAgIGlmIChzaWduYXR1cmVbcG9zKytdICE9IDIpIHRocm93IGVycjtcbiAgICBsZW4gPSBzaWduYXR1cmVbcG9zKytdO1xuICAgIGlmIChsZW4gPT0gMzMpIHBvcysrO1xuICAgIGVsc2UgaWYgKGxlbiAhPSAzMikgdGhyb3cgZXJyO1xuICAgIHJhd1NpZ25hdHVyZS5zZXQoc2lnbmF0dXJlLnNsaWNlKHBvcywgcG9zICsgMzIpLCAzMik7XG5cbiAgICByZXR1cm4gcmF3U2lnbmF0dXJlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWNkc2FfdmVyaWZ5KGtleSwgaGFzaCwgc2lnbmF0dXJlLCBtZXNzYWdlKSB7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2lnbmF0dXJlID0gZWNkc2FfZGVjb2RlX3NpZ25hdHVyZShzaWduYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiBcIkVDRFNBXCIsXG4gICAgICAgICAgICBoYXNoOiBoYXNoLFxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuY3J5cHRvLnN1YnRsZS52ZXJpZnkocGFyYW1zLCBrZXksIHNpZ25hdHVyZSwgbWVzc2FnZSlcbiAgICAgICAgICAgIC50aGVuKG9rID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG9rKTtcbiAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhZXNnY21fZ2VuZXJhdGVfa2V5KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiBcIkFFUy1HQ01cIixcbiAgICAgICAgICAgIGxlbmd0aDogMjU2LFxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleShwYXJhbXMsIGZhbHNlLCBbXCJlbmNyeXB0XCIsIFwiZGVjcnlwdFwiXSlcbiAgICAgICAgICAgIC50aGVuKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShrZXkpXG4gICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJzYV9pbXBvcnRfa2V5KGZvcm1hdCwgYml0cywgdXNlLCBoYXNoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6IFwiUlNBU1NBLVBLQ1MxLXYxXzVcIixcbiAgICAgICAgICAgIGhhc2g6IGhhc2gsXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShmb3JtYXQsIGJpdHMsIHBhcmFtcywgdHJ1ZSwgW3VzZV0pXG4gICAgICAgICAgICAudGhlbihrZXlQYWlyID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGtleVBhaXIpO1xuICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcnNhX3ZlcmlmeShrZXksIHNpZ25hdHVyZSwgbWVzc2FnZSkge1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6IFwiUlNBU1NBLVBLQ1MxLXYxXzVcIixcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmNyeXB0by5zdWJ0bGUudmVyaWZ5KHBhcmFtcywga2V5LCBzaWduYXR1cmUsIG1lc3NhZ2UpXG4gICAgICAgICAgICAudGhlbihvayA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvayk7XG4gICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4iLCJ2YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9fZ2V0UHJvdG9PZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fbWFya0FzTW9kdWxlID0gKHRhcmdldCkgPT4gX19kZWZQcm9wKHRhcmdldCwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgX19jb21tb25KUyA9IChjYiwgbW9kKSA9PiBmdW5jdGlvbiBfX3JlcXVpcmUoKSB7XG4gIHJldHVybiBtb2QgfHwgKDAsIGNiW09iamVjdC5rZXlzKGNiKVswXV0pKChtb2QgPSB7IGV4cG9ydHM6IHt9IH0pLmV4cG9ydHMsIG1vZCksIG1vZC5leHBvcnRzO1xufTtcbnZhciBfX3JlRXhwb3J0ID0gKHRhcmdldCwgbW9kdWxlLCBkZXNjKSA9PiB7XG4gIGlmIChtb2R1bGUgJiYgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgbW9kdWxlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMobW9kdWxlKSlcbiAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodGFyZ2V0LCBrZXkpICYmIGtleSAhPT0gXCJkZWZhdWx0XCIpXG4gICAgICAgIF9fZGVmUHJvcCh0YXJnZXQsIGtleSwgeyBnZXQ6ICgpID0+IG1vZHVsZVtrZXldLCBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKG1vZHVsZSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pO1xuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xudmFyIF9fdG9Nb2R1bGUgPSAobW9kdWxlKSA9PiB7XG4gIHJldHVybiBfX3JlRXhwb3J0KF9fbWFya0FzTW9kdWxlKF9fZGVmUHJvcChtb2R1bGUgIT0gbnVsbCA/IF9fY3JlYXRlKF9fZ2V0UHJvdG9PZihtb2R1bGUpKSA6IHt9LCBcImRlZmF1bHRcIiwgbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlICYmIFwiZGVmYXVsdFwiIGluIG1vZHVsZSA/IHsgZ2V0OiAoKSA9PiBtb2R1bGUuZGVmYXVsdCwgZW51bWVyYWJsZTogdHJ1ZSB9IDogeyB2YWx1ZTogbW9kdWxlLCBlbnVtZXJhYmxlOiB0cnVlIH0pKSwgbW9kdWxlKTtcbn07XG5cbi8vIG5vZGVfbW9kdWxlcy9jYm9yLXdlYi9kaXN0L2Nib3IuanNcbnZhciByZXF1aXJlX2Nib3IgPSBfX2NvbW1vbkpTKHtcbiAgXCJub2RlX21vZHVsZXMvY2Jvci13ZWIvZGlzdC9jYm9yLmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgIWZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgIHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgPSB0KCkgOiB0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFtdLCB0KSA6IHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgPyBleHBvcnRzLmNib3IgPSB0KCkgOiBlLmNib3IgPSB0KCk7XG4gICAgfShleHBvcnRzLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoKCkgPT4ge1xuICAgICAgICB2YXIgZSA9IHsgNzQyOiAoZTIsIHQyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgdDIuYnl0ZUxlbmd0aCA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICB2YXIgdDMgPSB1KGUzKSwgcjMgPSB0M1swXSwgbjMgPSB0M1sxXTtcbiAgICAgICAgICAgIHJldHVybiAzICogKHIzICsgbjMpIC8gNCAtIG4zO1xuICAgICAgICAgIH0sIHQyLnRvQnl0ZUFycmF5ID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHZhciB0MywgcjMsIG8yID0gdShlMyksIHMyID0gbzJbMF0sIGEyID0gbzJbMV0sIGYyID0gbmV3IGkoZnVuY3Rpb24oZTQsIHQ0LCByNCkge1xuICAgICAgICAgICAgICByZXR1cm4gMyAqICh0NCArIHI0KSAvIDQgLSByNDtcbiAgICAgICAgICAgIH0oMCwgczIsIGEyKSksIGggPSAwLCBsID0gYTIgPiAwID8gczIgLSA0IDogczI7XG4gICAgICAgICAgICBmb3IgKHIzID0gMDsgcjMgPCBsOyByMyArPSA0KVxuICAgICAgICAgICAgICB0MyA9IG4yW2UzLmNoYXJDb2RlQXQocjMpXSA8PCAxOCB8IG4yW2UzLmNoYXJDb2RlQXQocjMgKyAxKV0gPDwgMTIgfCBuMltlMy5jaGFyQ29kZUF0KHIzICsgMildIDw8IDYgfCBuMltlMy5jaGFyQ29kZUF0KHIzICsgMyldLCBmMltoKytdID0gdDMgPj4gMTYgJiAyNTUsIGYyW2grK10gPSB0MyA+PiA4ICYgMjU1LCBmMltoKytdID0gMjU1ICYgdDM7XG4gICAgICAgICAgICByZXR1cm4gYTIgPT09IDIgJiYgKHQzID0gbjJbZTMuY2hhckNvZGVBdChyMyldIDw8IDIgfCBuMltlMy5jaGFyQ29kZUF0KHIzICsgMSldID4+IDQsIGYyW2grK10gPSAyNTUgJiB0MyksIGEyID09PSAxICYmICh0MyA9IG4yW2UzLmNoYXJDb2RlQXQocjMpXSA8PCAxMCB8IG4yW2UzLmNoYXJDb2RlQXQocjMgKyAxKV0gPDwgNCB8IG4yW2UzLmNoYXJDb2RlQXQocjMgKyAyKV0gPj4gMiwgZjJbaCsrXSA9IHQzID4+IDggJiAyNTUsIGYyW2grK10gPSAyNTUgJiB0MyksIGYyO1xuICAgICAgICAgIH0sIHQyLmZyb21CeXRlQXJyYXkgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgZm9yICh2YXIgdDMsIG4zID0gZTMubGVuZ3RoLCBpMiA9IG4zICUgMywgbzIgPSBbXSwgczIgPSAxNjM4MywgYTIgPSAwLCB1MiA9IG4zIC0gaTI7IGEyIDwgdTI7IGEyICs9IHMyKVxuICAgICAgICAgICAgICBvMi5wdXNoKGYoZTMsIGEyLCBhMiArIHMyID4gdTIgPyB1MiA6IGEyICsgczIpKTtcbiAgICAgICAgICAgIHJldHVybiBpMiA9PT0gMSA/ICh0MyA9IGUzW24zIC0gMV0sIG8yLnB1c2gocjJbdDMgPj4gMl0gKyByMlt0MyA8PCA0ICYgNjNdICsgXCI9PVwiKSkgOiBpMiA9PT0gMiAmJiAodDMgPSAoZTNbbjMgLSAyXSA8PCA4KSArIGUzW24zIC0gMV0sIG8yLnB1c2gocjJbdDMgPj4gMTBdICsgcjJbdDMgPj4gNCAmIDYzXSArIHIyW3QzIDw8IDIgJiA2M10gKyBcIj1cIikpLCBvMi5qb2luKFwiXCIpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yICh2YXIgcjIgPSBbXSwgbjIgPSBbXSwgaSA9IHR5cGVvZiBVaW50OEFycmF5ICE9IFwidW5kZWZpbmVkXCIgPyBVaW50OEFycmF5IDogQXJyYXksIG8gPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIiwgcyA9IDAsIGEgPSBvLmxlbmd0aDsgcyA8IGE7ICsrcylcbiAgICAgICAgICAgIHIyW3NdID0gb1tzXSwgbjJbby5jaGFyQ29kZUF0KHMpXSA9IHM7XG4gICAgICAgICAgZnVuY3Rpb24gdShlMykge1xuICAgICAgICAgICAgdmFyIHQzID0gZTMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHQzICUgNCA+IDApXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7XG4gICAgICAgICAgICB2YXIgcjMgPSBlMy5pbmRleE9mKFwiPVwiKTtcbiAgICAgICAgICAgIHJldHVybiByMyA9PT0gLTEgJiYgKHIzID0gdDMpLCBbcjMsIHIzID09PSB0MyA/IDAgOiA0IC0gcjMgJSA0XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gZihlMywgdDMsIG4zKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpMiwgbzIsIHMyID0gW10sIGEyID0gdDM7IGEyIDwgbjM7IGEyICs9IDMpXG4gICAgICAgICAgICAgIGkyID0gKGUzW2EyXSA8PCAxNiAmIDE2NzExNjgwKSArIChlM1thMiArIDFdIDw8IDggJiA2NTI4MCkgKyAoMjU1ICYgZTNbYTIgKyAyXSksIHMyLnB1c2gocjJbKG8yID0gaTIpID4+IDE4ICYgNjNdICsgcjJbbzIgPj4gMTIgJiA2M10gKyByMltvMiA+PiA2ICYgNjNdICsgcjJbNjMgJiBvMl0pO1xuICAgICAgICAgICAgcmV0dXJuIHMyLmpvaW4oXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG4yW1wiLVwiLmNoYXJDb2RlQXQoMCldID0gNjIsIG4yW1wiX1wiLmNoYXJDb2RlQXQoMCldID0gNjM7XG4gICAgICAgIH0sIDc2NDogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICBjb25zdCBuMiA9IHIyKDc0MiksIGkgPSByMig2NDUpLCBvID0gdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5mb3IgPT0gXCJmdW5jdGlvblwiID8gU3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpIDogbnVsbDtcbiAgICAgICAgICB0Mi5CdWZmZXIgPSB1LCB0Mi5TbG93QnVmZmVyID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiArZTMgIT0gZTMgJiYgKGUzID0gMCksIHUuYWxsb2MoK2UzKTtcbiAgICAgICAgICB9LCB0Mi5JTlNQRUNUX01BWF9CWVRFUyA9IDUwO1xuICAgICAgICAgIGNvbnN0IHMgPSAyMTQ3NDgzNjQ3O1xuICAgICAgICAgIGZ1bmN0aW9uIGEoZTMpIHtcbiAgICAgICAgICAgIGlmIChlMyA+IHMpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgZTMgKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyk7XG4gICAgICAgICAgICBjb25zdCB0MyA9IG5ldyBVaW50OEFycmF5KGUzKTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YodDMsIHUucHJvdG90eXBlKSwgdDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIHUoZTMsIHQzLCByMykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlMyA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdDMgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO1xuICAgICAgICAgICAgICByZXR1cm4gbChlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZihlMywgdDMsIHIzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gZihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGUzID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlNCwgdDQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHQ0ID09IFwic3RyaW5nXCIgJiYgdDQgIT09IFwiXCIgfHwgKHQ0ID0gXCJ1dGY4XCIpLCAhdS5pc0VuY29kaW5nKHQ0KSlcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIiArIHQ0KTtcbiAgICAgICAgICAgICAgICBjb25zdCByNCA9IDAgfCBnKGU0LCB0NCk7XG4gICAgICAgICAgICAgICAgbGV0IG40ID0gYShyNCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaTMgPSBuNC53cml0ZShlNCwgdDQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpMyAhPT0gcjQgJiYgKG40ID0gbjQuc2xpY2UoMCwgaTMpKSwgbjQ7XG4gICAgICAgICAgICAgIH0oZTMsIHQzKTtcbiAgICAgICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZTMpKVxuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgICBpZiAoeihlNCwgVWludDhBcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHQ0ID0gbmV3IFVpbnQ4QXJyYXkoZTQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGQodDQuYnVmZmVyLCB0NC5ieXRlT2Zmc2V0LCB0NC5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMoZTQpO1xuICAgICAgICAgICAgICB9KGUzKTtcbiAgICAgICAgICAgIGlmIChlMyA9PSBudWxsKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgXCIgKyB0eXBlb2YgZTMpO1xuICAgICAgICAgICAgaWYgKHooZTMsIEFycmF5QnVmZmVyKSB8fCBlMyAmJiB6KGUzLmJ1ZmZlciwgQXJyYXlCdWZmZXIpKVxuICAgICAgICAgICAgICByZXR1cm4gZChlMywgdDMsIHIzKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgIT0gXCJ1bmRlZmluZWRcIiAmJiAoeihlMywgU2hhcmVkQXJyYXlCdWZmZXIpIHx8IGUzICYmIHooZTMuYnVmZmVyLCBTaGFyZWRBcnJheUJ1ZmZlcikpKVxuICAgICAgICAgICAgICByZXR1cm4gZChlMywgdDMsIHIzKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZTMgPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtcbiAgICAgICAgICAgIGNvbnN0IG4zID0gZTMudmFsdWVPZiAmJiBlMy52YWx1ZU9mKCk7XG4gICAgICAgICAgICBpZiAobjMgIT0gbnVsbCAmJiBuMyAhPT0gZTMpXG4gICAgICAgICAgICAgIHJldHVybiB1LmZyb20objMsIHQzLCByMyk7XG4gICAgICAgICAgICBjb25zdCBpMiA9IGZ1bmN0aW9uKGU0KSB7XG4gICAgICAgICAgICAgIGlmICh1LmlzQnVmZmVyKGU0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQ0ID0gMCB8IHAoZTQubGVuZ3RoKSwgcjQgPSBhKHQ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjQubGVuZ3RoID09PSAwIHx8IGU0LmNvcHkocjQsIDAsIDAsIHQ0KSwgcjQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGU0Lmxlbmd0aCAhPT0gdm9pZCAwID8gdHlwZW9mIGU0Lmxlbmd0aCAhPSBcIm51bWJlclwiIHx8IEooZTQubGVuZ3RoKSA/IGEoMCkgOiBjKGU0KSA6IGU0LnR5cGUgPT09IFwiQnVmZmVyXCIgJiYgQXJyYXkuaXNBcnJheShlNC5kYXRhKSA/IGMoZTQuZGF0YSkgOiB2b2lkIDA7XG4gICAgICAgICAgICB9KGUzKTtcbiAgICAgICAgICAgIGlmIChpMilcbiAgICAgICAgICAgICAgcmV0dXJuIGkyO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgIT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wudG9QcmltaXRpdmUgIT0gbnVsbCAmJiB0eXBlb2YgZTNbU3ltYm9sLnRvUHJpbWl0aXZlXSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgIHJldHVybiB1LmZyb20oZTNbU3ltYm9sLnRvUHJpbWl0aXZlXShcInN0cmluZ1wiKSwgdDMsIHIzKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIiArIHR5cGVvZiBlMyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGgoZTMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZTMgIT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpO1xuICAgICAgICAgICAgaWYgKGUzIDwgMClcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyBlMyArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gbChlMykge1xuICAgICAgICAgICAgcmV0dXJuIGgoZTMpLCBhKGUzIDwgMCA/IDAgOiAwIHwgcChlMykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBjKGUzKSB7XG4gICAgICAgICAgICBjb25zdCB0MyA9IGUzLmxlbmd0aCA8IDAgPyAwIDogMCB8IHAoZTMubGVuZ3RoKSwgcjMgPSBhKHQzKTtcbiAgICAgICAgICAgIGZvciAobGV0IG4zID0gMDsgbjMgPCB0MzsgbjMgKz0gMSlcbiAgICAgICAgICAgICAgcjNbbjNdID0gMjU1ICYgZTNbbjNdO1xuICAgICAgICAgICAgcmV0dXJuIHIzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBkKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIGlmICh0MyA8IDAgfHwgZTMuYnl0ZUxlbmd0aCA8IHQzKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtcbiAgICAgICAgICAgIGlmIChlMy5ieXRlTGVuZ3RoIDwgdDMgKyAocjMgfHwgMCkpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO1xuICAgICAgICAgICAgbGV0IG4zO1xuICAgICAgICAgICAgcmV0dXJuIG4zID0gdDMgPT09IHZvaWQgMCAmJiByMyA9PT0gdm9pZCAwID8gbmV3IFVpbnQ4QXJyYXkoZTMpIDogcjMgPT09IHZvaWQgMCA/IG5ldyBVaW50OEFycmF5KGUzLCB0MykgOiBuZXcgVWludDhBcnJheShlMywgdDMsIHIzKSwgT2JqZWN0LnNldFByb3RvdHlwZU9mKG4zLCB1LnByb3RvdHlwZSksIG4zO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBwKGUzKSB7XG4gICAgICAgICAgICBpZiAoZTMgPj0gcylcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4XCIgKyBzLnRvU3RyaW5nKDE2KSArIFwiIGJ5dGVzXCIpO1xuICAgICAgICAgICAgcmV0dXJuIDAgfCBlMztcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gZyhlMywgdDMpIHtcbiAgICAgICAgICAgIGlmICh1LmlzQnVmZmVyKGUzKSlcbiAgICAgICAgICAgICAgcmV0dXJuIGUzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZTMpIHx8IHooZTMsIEFycmF5QnVmZmVyKSlcbiAgICAgICAgICAgICAgcmV0dXJuIGUzLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGUzICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZTMpO1xuICAgICAgICAgICAgY29uc3QgcjMgPSBlMy5sZW5ndGgsIG4zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdID09PSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFuMyAmJiByMyA9PT0gMClcbiAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBsZXQgaTIgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoOyA7IClcbiAgICAgICAgICAgICAgc3dpdGNoICh0Mykge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhc2NpaVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJsYXRpbjFcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcjM7XG4gICAgICAgICAgICAgICAgY2FzZSBcInV0ZjhcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidXRmLThcIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBIKGUzKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVjczJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidWNzLTJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidXRmMTZsZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1dGYtMTZsZVwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIDIgKiByMztcbiAgICAgICAgICAgICAgICBjYXNlIFwiaGV4XCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcjMgPj4+IDE7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJhc2U2NFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIEsoZTMpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKGkyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjMgPyAtMSA6IEgoZTMpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgIHQzID0gKFwiXCIgKyB0MykudG9Mb3dlckNhc2UoKSwgaTIgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIHkoZTMsIHQzLCByMykge1xuICAgICAgICAgICAgbGV0IG4zID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoKHQzID09PSB2b2lkIDAgfHwgdDMgPCAwKSAmJiAodDMgPSAwKSwgdDMgPiB0aGlzLmxlbmd0aClcbiAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICBpZiAoKHIzID09PSB2b2lkIDAgfHwgcjMgPiB0aGlzLmxlbmd0aCkgJiYgKHIzID0gdGhpcy5sZW5ndGgpLCByMyA8PSAwKVxuICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIGlmICgocjMgPj4+PSAwKSA8PSAodDMgPj4+PSAwKSlcbiAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICBmb3IgKGUzIHx8IChlMyA9IFwidXRmOFwiKTsgOyApXG4gICAgICAgICAgICAgIHN3aXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiaGV4XCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gTCh0aGlzLCB0MywgcjMpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1dGY4XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInV0Zi04XCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gQSh0aGlzLCB0MywgcjMpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhc2NpaVwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFIodGhpcywgdDMsIHIzKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibGF0aW4xXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFUodGhpcywgdDMsIHIzKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmFzZTY0XCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gSSh0aGlzLCB0MywgcjMpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1Y3MyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInVjcy0yXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInV0ZjE2bGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidXRmLTE2bGVcIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBOKHRoaXMsIHQzLCByMyk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmIChuMylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiICsgZTMpO1xuICAgICAgICAgICAgICAgICAgZTMgPSAoZTMgKyBcIlwiKS50b0xvd2VyQ2FzZSgpLCBuMyA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gYihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBjb25zdCBuMyA9IGUzW3QzXTtcbiAgICAgICAgICAgIGUzW3QzXSA9IGUzW3IzXSwgZTNbcjNdID0gbjM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIHcoZTMsIHQzLCByMywgbjMsIGkyKSB7XG4gICAgICAgICAgICBpZiAoZTMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHIzID09IFwic3RyaW5nXCIgPyAobjMgPSByMywgcjMgPSAwKSA6IHIzID4gMjE0NzQ4MzY0NyA/IHIzID0gMjE0NzQ4MzY0NyA6IHIzIDwgLTIxNDc0ODM2NDggJiYgKHIzID0gLTIxNDc0ODM2NDgpLCBKKHIzID0gK3IzKSAmJiAocjMgPSBpMiA/IDAgOiBlMy5sZW5ndGggLSAxKSwgcjMgPCAwICYmIChyMyA9IGUzLmxlbmd0aCArIHIzKSwgcjMgPj0gZTMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlmIChpMilcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgIHIzID0gZTMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocjMgPCAwKSB7XG4gICAgICAgICAgICAgIGlmICghaTIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICByMyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHQzID09IFwic3RyaW5nXCIgJiYgKHQzID0gdS5mcm9tKHQzLCBuMykpLCB1LmlzQnVmZmVyKHQzKSlcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLmxlbmd0aCA9PT0gMCA/IC0xIDogXyhlMywgdDMsIHIzLCBuMywgaTIpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0MyA9PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICByZXR1cm4gdDMgJj0gMjU1LCB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PSBcImZ1bmN0aW9uXCIgPyBpMiA/IFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChlMywgdDMsIHIzKSA6IFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoZTMsIHQzLCByMykgOiBfKGUzLCBbdDNdLCByMywgbjMsIGkyKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIF8oZTMsIHQzLCByMywgbjMsIGkyKSB7XG4gICAgICAgICAgICBsZXQgbzIsIHMyID0gMSwgYTIgPSBlMy5sZW5ndGgsIHUyID0gdDMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG4zICE9PSB2b2lkIDAgJiYgKChuMyA9IFN0cmluZyhuMykudG9Mb3dlckNhc2UoKSkgPT09IFwidWNzMlwiIHx8IG4zID09PSBcInVjcy0yXCIgfHwgbjMgPT09IFwidXRmMTZsZVwiIHx8IG4zID09PSBcInV0Zi0xNmxlXCIpKSB7XG4gICAgICAgICAgICAgIGlmIChlMy5sZW5ndGggPCAyIHx8IHQzLmxlbmd0aCA8IDIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICBzMiA9IDIsIGEyIC89IDIsIHUyIC89IDIsIHIzIC89IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBmMihlNCwgdDQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHMyID09PSAxID8gZTRbdDRdIDogZTQucmVhZFVJbnQxNkJFKHQ0ICogczIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkyKSB7XG4gICAgICAgICAgICAgIGxldCBuNCA9IC0xO1xuICAgICAgICAgICAgICBmb3IgKG8yID0gcjM7IG8yIDwgYTI7IG8yKyspXG4gICAgICAgICAgICAgICAgaWYgKGYyKGUzLCBvMikgPT09IGYyKHQzLCBuNCA9PT0gLTEgPyAwIDogbzIgLSBuNCkpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChuNCA9PT0gLTEgJiYgKG40ID0gbzIpLCBvMiAtIG40ICsgMSA9PT0gdTIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuNCAqIHMyO1xuICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgbjQgIT09IC0xICYmIChvMiAtPSBvMiAtIG40KSwgbjQgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICBmb3IgKHIzICsgdTIgPiBhMiAmJiAocjMgPSBhMiAtIHUyKSwgbzIgPSByMzsgbzIgPj0gMDsgbzItLSkge1xuICAgICAgICAgICAgICAgIGxldCByNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbjQgPSAwOyBuNCA8IHUyOyBuNCsrKVxuICAgICAgICAgICAgICAgICAgaWYgKGYyKGUzLCBvMiArIG40KSAhPT0gZjIodDMsIG40KSkge1xuICAgICAgICAgICAgICAgICAgICByNCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocjQpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbzI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gbShlMywgdDMsIHIzLCBuMykge1xuICAgICAgICAgICAgcjMgPSBOdW1iZXIocjMpIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBpMiA9IGUzLmxlbmd0aCAtIHIzO1xuICAgICAgICAgICAgbjMgPyAobjMgPSBOdW1iZXIobjMpKSA+IGkyICYmIChuMyA9IGkyKSA6IG4zID0gaTI7XG4gICAgICAgICAgICBjb25zdCBvMiA9IHQzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBzMjtcbiAgICAgICAgICAgIGZvciAobjMgPiBvMiAvIDIgJiYgKG4zID0gbzIgLyAyKSwgczIgPSAwOyBzMiA8IG4zOyArK3MyKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG40ID0gcGFyc2VJbnQodDMuc3Vic3RyKDIgKiBzMiwgMiksIDE2KTtcbiAgICAgICAgICAgICAgaWYgKEoobjQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBzMjtcbiAgICAgICAgICAgICAgZTNbcjMgKyBzMl0gPSBuNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gRShlMywgdDMsIHIzLCBuMykge1xuICAgICAgICAgICAgcmV0dXJuIFYoSCh0MywgZTMubGVuZ3RoIC0gcjMpLCBlMywgcjMsIG4zKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gdihlMywgdDMsIHIzLCBuMykge1xuICAgICAgICAgICAgcmV0dXJuIFYoZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgY29uc3QgdDQgPSBbXTtcbiAgICAgICAgICAgICAgZm9yIChsZXQgcjQgPSAwOyByNCA8IGU0Lmxlbmd0aDsgKytyNClcbiAgICAgICAgICAgICAgICB0NC5wdXNoKDI1NSAmIGU0LmNoYXJDb2RlQXQocjQpKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQ0O1xuICAgICAgICAgICAgfSh0MyksIGUzLCByMywgbjMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBTKGUzLCB0MywgcjMsIG4zKSB7XG4gICAgICAgICAgICByZXR1cm4gVihLKHQzKSwgZTMsIHIzLCBuMyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIFQoZTMsIHQzLCByMywgbjMpIHtcbiAgICAgICAgICAgIHJldHVybiBWKGZ1bmN0aW9uKGU0LCB0NCkge1xuICAgICAgICAgICAgICBsZXQgcjQsIG40LCBpMjtcbiAgICAgICAgICAgICAgY29uc3QgbzIgPSBbXTtcbiAgICAgICAgICAgICAgZm9yIChsZXQgczIgPSAwOyBzMiA8IGU0Lmxlbmd0aCAmJiAhKCh0NCAtPSAyKSA8IDApOyArK3MyKVxuICAgICAgICAgICAgICAgIHI0ID0gZTQuY2hhckNvZGVBdChzMiksIG40ID0gcjQgPj4gOCwgaTIgPSByNCAlIDI1NiwgbzIucHVzaChpMiksIG8yLnB1c2gobjQpO1xuICAgICAgICAgICAgICByZXR1cm4gbzI7XG4gICAgICAgICAgICB9KHQzLCBlMy5sZW5ndGggLSByMyksIGUzLCByMywgbjMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBJKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHJldHVybiB0MyA9PT0gMCAmJiByMyA9PT0gZTMubGVuZ3RoID8gbjIuZnJvbUJ5dGVBcnJheShlMykgOiBuMi5mcm9tQnl0ZUFycmF5KGUzLnNsaWNlKHQzLCByMykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBBKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHIzID0gTWF0aC5taW4oZTMubGVuZ3RoLCByMyk7XG4gICAgICAgICAgICBjb25zdCBuMyA9IFtdO1xuICAgICAgICAgICAgbGV0IGkyID0gdDM7XG4gICAgICAgICAgICBmb3IgKDsgaTIgPCByMzsgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQ0ID0gZTNbaTJdO1xuICAgICAgICAgICAgICBsZXQgbzIgPSBudWxsLCBzMiA9IHQ0ID4gMjM5ID8gNCA6IHQ0ID4gMjIzID8gMyA6IHQ0ID4gMTkxID8gMiA6IDE7XG4gICAgICAgICAgICAgIGlmIChpMiArIHMyIDw9IHIzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHI0LCBuNCwgYTIsIHUyO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoczIpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdDQgPCAxMjggJiYgKG8yID0gdDQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcjQgPSBlM1tpMiArIDFdLCAoMTkyICYgcjQpID09IDEyOCAmJiAodTIgPSAoMzEgJiB0NCkgPDwgNiB8IDYzICYgcjQsIHUyID4gMTI3ICYmIChvMiA9IHUyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICByNCA9IGUzW2kyICsgMV0sIG40ID0gZTNbaTIgKyAyXSwgKDE5MiAmIHI0KSA9PSAxMjggJiYgKDE5MiAmIG40KSA9PSAxMjggJiYgKHUyID0gKDE1ICYgdDQpIDw8IDEyIHwgKDYzICYgcjQpIDw8IDYgfCA2MyAmIG40LCB1MiA+IDIwNDcgJiYgKHUyIDwgNTUyOTYgfHwgdTIgPiA1NzM0MykgJiYgKG8yID0gdTIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHI0ID0gZTNbaTIgKyAxXSwgbjQgPSBlM1tpMiArIDJdLCBhMiA9IGUzW2kyICsgM10sICgxOTIgJiByNCkgPT0gMTI4ICYmICgxOTIgJiBuNCkgPT0gMTI4ICYmICgxOTIgJiBhMikgPT0gMTI4ICYmICh1MiA9ICgxNSAmIHQ0KSA8PCAxOCB8ICg2MyAmIHI0KSA8PCAxMiB8ICg2MyAmIG40KSA8PCA2IHwgNjMgJiBhMiwgdTIgPiA2NTUzNSAmJiB1MiA8IDExMTQxMTIgJiYgKG8yID0gdTIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbzIgPT09IG51bGwgPyAobzIgPSA2NTUzMywgczIgPSAxKSA6IG8yID4gNjU1MzUgJiYgKG8yIC09IDY1NTM2LCBuMy5wdXNoKG8yID4+PiAxMCAmIDEwMjMgfCA1NTI5NiksIG8yID0gNTYzMjAgfCAxMDIzICYgbzIpLCBuMy5wdXNoKG8yKSwgaTIgKz0gczI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgY29uc3QgdDQgPSBlNC5sZW5ndGg7XG4gICAgICAgICAgICAgIGlmICh0NCA8PSBCKVxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgZTQpO1xuICAgICAgICAgICAgICBsZXQgcjQgPSBcIlwiLCBuNCA9IDA7XG4gICAgICAgICAgICAgIGZvciAoOyBuNCA8IHQ0OyApXG4gICAgICAgICAgICAgICAgcjQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGU0LnNsaWNlKG40LCBuNCArPSBCKSk7XG4gICAgICAgICAgICAgIHJldHVybiByNDtcbiAgICAgICAgICAgIH0objMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0Mi5rTWF4TGVuZ3RoID0gcywgdS5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBlMyA9IG5ldyBVaW50OEFycmF5KDEpLCB0MyA9IHsgZm9vOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gNDI7XG4gICAgICAgICAgICAgIH0gfTtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZih0MywgVWludDhBcnJheS5wcm90b3R5cGUpLCBPYmplY3Quc2V0UHJvdG90eXBlT2YoZTMsIHQzKSwgZTMuZm9vKCkgPT09IDQyO1xuICAgICAgICAgICAgfSBjYXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0oKSwgdS5UWVBFRF9BUlJBWV9TVVBQT1JUIHx8IHR5cGVvZiBjb25zb2xlID09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIGNvbnNvbGUuZXJyb3IgIT0gXCJmdW5jdGlvblwiIHx8IGNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC5cIiksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSwgXCJwYXJlbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHUuaXNCdWZmZXIodGhpcykpXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgICB9IH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsIFwib2Zmc2V0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh1LmlzQnVmZmVyKHRoaXMpKVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ieXRlT2Zmc2V0O1xuICAgICAgICAgIH0gfSksIHUucG9vbFNpemUgPSA4MTkyLCB1LmZyb20gPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICByZXR1cm4gZihlMywgdDMsIHIzKTtcbiAgICAgICAgICB9LCBPYmplY3Quc2V0UHJvdG90eXBlT2YodS5wcm90b3R5cGUsIFVpbnQ4QXJyYXkucHJvdG90eXBlKSwgT2JqZWN0LnNldFByb3RvdHlwZU9mKHUsIFVpbnQ4QXJyYXkpLCB1LmFsbG9jID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGU0LCB0NCwgcjQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGgoZTQpLCBlNCA8PSAwID8gYShlNCkgOiB0NCAhPT0gdm9pZCAwID8gdHlwZW9mIHI0ID09IFwic3RyaW5nXCIgPyBhKGU0KS5maWxsKHQ0LCByNCkgOiBhKGU0KS5maWxsKHQ0KSA6IGEoZTQpO1xuICAgICAgICAgICAgfShlMywgdDMsIHIzKTtcbiAgICAgICAgICB9LCB1LmFsbG9jVW5zYWZlID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBsKGUzKTtcbiAgICAgICAgICB9LCB1LmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICByZXR1cm4gbChlMyk7XG4gICAgICAgICAgfSwgdS5pc0J1ZmZlciA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgIT0gbnVsbCAmJiBlMy5faXNCdWZmZXIgPT09IHRydWUgJiYgZTMgIT09IHUucHJvdG90eXBlO1xuICAgICAgICAgIH0sIHUuY29tcGFyZSA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgaWYgKHooZTMsIFVpbnQ4QXJyYXkpICYmIChlMyA9IHUuZnJvbShlMywgZTMub2Zmc2V0LCBlMy5ieXRlTGVuZ3RoKSksIHoodDMsIFVpbnQ4QXJyYXkpICYmICh0MyA9IHUuZnJvbSh0MywgdDMub2Zmc2V0LCB0My5ieXRlTGVuZ3RoKSksICF1LmlzQnVmZmVyKGUzKSB8fCAhdS5pc0J1ZmZlcih0MykpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtcbiAgICAgICAgICAgIGlmIChlMyA9PT0gdDMpXG4gICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgbGV0IHIzID0gZTMubGVuZ3RoLCBuMyA9IHQzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobGV0IGkyID0gMCwgbzIgPSBNYXRoLm1pbihyMywgbjMpOyBpMiA8IG8yOyArK2kyKVxuICAgICAgICAgICAgICBpZiAoZTNbaTJdICE9PSB0M1tpMl0pIHtcbiAgICAgICAgICAgICAgICByMyA9IGUzW2kyXSwgbjMgPSB0M1tpMl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByMyA8IG4zID8gLTEgOiBuMyA8IHIzID8gMSA6IDA7XG4gICAgICAgICAgfSwgdS5pc0VuY29kaW5nID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoU3RyaW5nKGUzKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJoZXhcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInV0ZjhcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInV0Zi04XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJhc2NpaVwiOlxuICAgICAgICAgICAgICBjYXNlIFwibGF0aW4xXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJiaW5hcnlcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImJhc2U2NFwiOlxuICAgICAgICAgICAgICBjYXNlIFwidWNzMlwiOlxuICAgICAgICAgICAgICBjYXNlIFwidWNzLTJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInV0ZjE2bGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInV0Zi0xNmxlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHUuY29uY2F0ID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZTMpKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtcbiAgICAgICAgICAgIGlmIChlMy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgIHJldHVybiB1LmFsbG9jKDApO1xuICAgICAgICAgICAgbGV0IHIzO1xuICAgICAgICAgICAgaWYgKHQzID09PSB2b2lkIDApXG4gICAgICAgICAgICAgIGZvciAodDMgPSAwLCByMyA9IDA7IHIzIDwgZTMubGVuZ3RoOyArK3IzKVxuICAgICAgICAgICAgICAgIHQzICs9IGUzW3IzXS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBuMyA9IHUuYWxsb2NVbnNhZmUodDMpO1xuICAgICAgICAgICAgbGV0IGkyID0gMDtcbiAgICAgICAgICAgIGZvciAocjMgPSAwOyByMyA8IGUzLmxlbmd0aDsgKytyMykge1xuICAgICAgICAgICAgICBsZXQgdDQgPSBlM1tyM107XG4gICAgICAgICAgICAgIGlmICh6KHQ0LCBVaW50OEFycmF5KSlcbiAgICAgICAgICAgICAgICBpMiArIHQ0Lmxlbmd0aCA+IG4zLmxlbmd0aCA/ICh1LmlzQnVmZmVyKHQ0KSB8fCAodDQgPSB1LmZyb20odDQpKSwgdDQuY29weShuMywgaTIpKSA6IFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKG4zLCB0NCwgaTIpO1xuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIXUuaXNCdWZmZXIodDQpKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7XG4gICAgICAgICAgICAgICAgdDQuY29weShuMywgaTIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGkyICs9IHQ0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuMztcbiAgICAgICAgICB9LCB1LmJ5dGVMZW5ndGggPSBnLCB1LnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlLCB1LnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnN0IGUzID0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZTMgJSAyICE9IDApXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIik7XG4gICAgICAgICAgICBmb3IgKGxldCB0MyA9IDA7IHQzIDwgZTM7IHQzICs9IDIpXG4gICAgICAgICAgICAgIGIodGhpcywgdDMsIHQzICsgMSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnN0IGUzID0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZTMgJSA0ICE9IDApXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHNcIik7XG4gICAgICAgICAgICBmb3IgKGxldCB0MyA9IDA7IHQzIDwgZTM7IHQzICs9IDQpXG4gICAgICAgICAgICAgIGIodGhpcywgdDMsIHQzICsgMyksIGIodGhpcywgdDMgKyAxLCB0MyArIDIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zdCBlMyA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGUzICUgOCAhPSAwKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO1xuICAgICAgICAgICAgZm9yIChsZXQgdDMgPSAwOyB0MyA8IGUzOyB0MyArPSA4KVxuICAgICAgICAgICAgICBiKHRoaXMsIHQzLCB0MyArIDcpLCBiKHRoaXMsIHQzICsgMSwgdDMgKyA2KSwgYih0aGlzLCB0MyArIDIsIHQzICsgNSksIGIodGhpcywgdDMgKyAzLCB0MyArIDQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnN0IGUzID0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gZTMgPT09IDAgPyBcIlwiIDogYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/IEEodGhpcywgMCwgZTMpIDogeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nID0gdS5wcm90b3R5cGUudG9TdHJpbmcsIHUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICBpZiAoIXUuaXNCdWZmZXIoZTMpKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzID09PSBlMyB8fCB1LmNvbXBhcmUodGhpcywgZTMpID09PSAwO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCBlMyA9IFwiXCI7XG4gICAgICAgICAgICBjb25zdCByMyA9IHQyLklOU1BFQ1RfTUFYX0JZVEVTO1xuICAgICAgICAgICAgcmV0dXJuIGUzID0gdGhpcy50b1N0cmluZyhcImhleFwiLCAwLCByMykucmVwbGFjZSgvKC57Mn0pL2csIFwiJDEgXCIpLnRyaW0oKSwgdGhpcy5sZW5ndGggPiByMyAmJiAoZTMgKz0gXCIgLi4uIFwiKSwgXCI8QnVmZmVyIFwiICsgZTMgKyBcIj5cIjtcbiAgICAgICAgICB9LCBvICYmICh1LnByb3RvdHlwZVtvXSA9IHUucHJvdG90eXBlLmluc3BlY3QpLCB1LnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24oZTMsIHQzLCByMywgbjMsIGkyKSB7XG4gICAgICAgICAgICBpZiAoeihlMywgVWludDhBcnJheSkgJiYgKGUzID0gdS5mcm9tKGUzLCBlMy5vZmZzZXQsIGUzLmJ5dGVMZW5ndGgpKSwgIXUuaXNCdWZmZXIoZTMpKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZTMpO1xuICAgICAgICAgICAgaWYgKHQzID09PSB2b2lkIDAgJiYgKHQzID0gMCksIHIzID09PSB2b2lkIDAgJiYgKHIzID0gZTMgPyBlMy5sZW5ndGggOiAwKSwgbjMgPT09IHZvaWQgMCAmJiAobjMgPSAwKSwgaTIgPT09IHZvaWQgMCAmJiAoaTIgPSB0aGlzLmxlbmd0aCksIHQzIDwgMCB8fCByMyA+IGUzLmxlbmd0aCB8fCBuMyA8IDAgfHwgaTIgPiB0aGlzLmxlbmd0aClcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgaW5kZXhcIik7XG4gICAgICAgICAgICBpZiAobjMgPj0gaTIgJiYgdDMgPj0gcjMpXG4gICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgaWYgKG4zID49IGkyKVxuICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAodDMgPj0gcjMpXG4gICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKHRoaXMgPT09IGUzKVxuICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGxldCBvMiA9IChpMiA+Pj49IDApIC0gKG4zID4+Pj0gMCksIHMyID0gKHIzID4+Pj0gMCkgLSAodDMgPj4+PSAwKTtcbiAgICAgICAgICAgIGNvbnN0IGEyID0gTWF0aC5taW4obzIsIHMyKSwgZjIgPSB0aGlzLnNsaWNlKG4zLCBpMiksIGgyID0gZTMuc2xpY2UodDMsIHIzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGU0ID0gMDsgZTQgPCBhMjsgKytlNClcbiAgICAgICAgICAgICAgaWYgKGYyW2U0XSAhPT0gaDJbZTRdKSB7XG4gICAgICAgICAgICAgICAgbzIgPSBmMltlNF0sIHMyID0gaDJbZTRdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbzIgPCBzMiA/IC0xIDogczIgPCBvMiA/IDEgOiAwO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihlMywgdDMsIHIzKSAhPT0gLTE7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHJldHVybiB3KHRoaXMsIGUzLCB0MywgcjMsIHRydWUpO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcmV0dXJuIHcodGhpcywgZTMsIHQzLCByMywgZmFsc2UpO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oZTMsIHQzLCByMywgbjMpIHtcbiAgICAgICAgICAgIGlmICh0MyA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgICBuMyA9IFwidXRmOFwiLCByMyA9IHRoaXMubGVuZ3RoLCB0MyA9IDA7XG4gICAgICAgICAgICBlbHNlIGlmIChyMyA9PT0gdm9pZCAwICYmIHR5cGVvZiB0MyA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICBuMyA9IHQzLCByMyA9IHRoaXMubGVuZ3RoLCB0MyA9IDA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFpc0Zpbml0ZSh0MykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgIHQzID4+Pj0gMCwgaXNGaW5pdGUocjMpID8gKHIzID4+Pj0gMCwgbjMgPT09IHZvaWQgMCAmJiAobjMgPSBcInV0ZjhcIikpIDogKG4zID0gcjMsIHIzID0gdm9pZCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGkyID0gdGhpcy5sZW5ndGggLSB0MztcbiAgICAgICAgICAgIGlmICgocjMgPT09IHZvaWQgMCB8fCByMyA+IGkyKSAmJiAocjMgPSBpMiksIGUzLmxlbmd0aCA+IDAgJiYgKHIzIDwgMCB8fCB0MyA8IDApIHx8IHQzID4gdGhpcy5sZW5ndGgpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIik7XG4gICAgICAgICAgICBuMyB8fCAobjMgPSBcInV0ZjhcIik7XG4gICAgICAgICAgICBsZXQgbzIgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoOyA7IClcbiAgICAgICAgICAgICAgc3dpdGNoIChuMykge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJoZXhcIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtKHRoaXMsIGUzLCB0MywgcjMpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1dGY4XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInV0Zi04XCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gRSh0aGlzLCBlMywgdDMsIHIzKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXNjaWlcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibGF0aW4xXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHYodGhpcywgZTMsIHQzLCByMyk7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJhc2U2NFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFModGhpcywgZTMsIHQzLCByMyk7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVjczJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidWNzLTJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidXRmMTZsZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1dGYtMTZsZVwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFQodGhpcywgZTMsIHQzLCByMyk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmIChvMilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiICsgbjMpO1xuICAgICAgICAgICAgICAgICAgbjMgPSAoXCJcIiArIG4zKS50b0xvd2VyQ2FzZSgpLCBvMiA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiQnVmZmVyXCIsIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKSB9O1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgQiA9IDQwOTY7XG4gICAgICAgICAgZnVuY3Rpb24gUihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBsZXQgbjMgPSBcIlwiO1xuICAgICAgICAgICAgcjMgPSBNYXRoLm1pbihlMy5sZW5ndGgsIHIzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkyID0gdDM7IGkyIDwgcjM7ICsraTIpXG4gICAgICAgICAgICAgIG4zICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMTI3ICYgZTNbaTJdKTtcbiAgICAgICAgICAgIHJldHVybiBuMztcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gVShlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBsZXQgbjMgPSBcIlwiO1xuICAgICAgICAgICAgcjMgPSBNYXRoLm1pbihlMy5sZW5ndGgsIHIzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkyID0gdDM7IGkyIDwgcjM7ICsraTIpXG4gICAgICAgICAgICAgIG4zICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoZTNbaTJdKTtcbiAgICAgICAgICAgIHJldHVybiBuMztcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gTChlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBjb25zdCBuMyA9IGUzLmxlbmd0aDtcbiAgICAgICAgICAgICghdDMgfHwgdDMgPCAwKSAmJiAodDMgPSAwKSwgKCFyMyB8fCByMyA8IDAgfHwgcjMgPiBuMykgJiYgKHIzID0gbjMpO1xuICAgICAgICAgICAgbGV0IGkyID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAobGV0IG40ID0gdDM7IG40IDwgcjM7ICsrbjQpXG4gICAgICAgICAgICAgIGkyICs9IFhbZTNbbjRdXTtcbiAgICAgICAgICAgIHJldHVybiBpMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gTihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBjb25zdCBuMyA9IGUzLnNsaWNlKHQzLCByMyk7XG4gICAgICAgICAgICBsZXQgaTIgPSBcIlwiO1xuICAgICAgICAgICAgZm9yIChsZXQgZTQgPSAwOyBlNCA8IG4zLmxlbmd0aCAtIDE7IGU0ICs9IDIpXG4gICAgICAgICAgICAgIGkyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobjNbZTRdICsgMjU2ICogbjNbZTQgKyAxXSk7XG4gICAgICAgICAgICByZXR1cm4gaTI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIE0oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgaWYgKGUzICUgMSAhPSAwIHx8IGUzIDwgMClcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvZmZzZXQgaXMgbm90IHVpbnRcIik7XG4gICAgICAgICAgICBpZiAoZTMgKyB0MyA+IHIzKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIE8oZTMsIHQzLCByMywgbjMsIGkyLCBvMikge1xuICAgICAgICAgICAgaWYgKCF1LmlzQnVmZmVyKGUzKSlcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7XG4gICAgICAgICAgICBpZiAodDMgPiBpMiB8fCB0MyA8IG8yKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtcbiAgICAgICAgICAgIGlmIChyMyArIG4zID4gZTMubGVuZ3RoKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24geChlMywgdDMsIHIzLCBuMywgaTIpIHtcbiAgICAgICAgICAgIEcodDMsIG4zLCBpMiwgZTMsIHIzLCA3KTtcbiAgICAgICAgICAgIGxldCBvMiA9IE51bWJlcih0MyAmIEJpZ0ludCg0Mjk0OTY3Mjk1KSk7XG4gICAgICAgICAgICBlM1tyMysrXSA9IG8yLCBvMiA+Pj0gOCwgZTNbcjMrK10gPSBvMiwgbzIgPj49IDgsIGUzW3IzKytdID0gbzIsIG8yID4+PSA4LCBlM1tyMysrXSA9IG8yO1xuICAgICAgICAgICAgbGV0IHMyID0gTnVtYmVyKHQzID4+IEJpZ0ludCgzMikgJiBCaWdJbnQoNDI5NDk2NzI5NSkpO1xuICAgICAgICAgICAgcmV0dXJuIGUzW3IzKytdID0gczIsIHMyID4+PSA4LCBlM1tyMysrXSA9IHMyLCBzMiA+Pj0gOCwgZTNbcjMrK10gPSBzMiwgczIgPj49IDgsIGUzW3IzKytdID0gczIsIHIzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBrKGUzLCB0MywgcjMsIG4zLCBpMikge1xuICAgICAgICAgICAgRyh0MywgbjMsIGkyLCBlMywgcjMsIDcpO1xuICAgICAgICAgICAgbGV0IG8yID0gTnVtYmVyKHQzICYgQmlnSW50KDQyOTQ5NjcyOTUpKTtcbiAgICAgICAgICAgIGUzW3IzICsgN10gPSBvMiwgbzIgPj49IDgsIGUzW3IzICsgNl0gPSBvMiwgbzIgPj49IDgsIGUzW3IzICsgNV0gPSBvMiwgbzIgPj49IDgsIGUzW3IzICsgNF0gPSBvMjtcbiAgICAgICAgICAgIGxldCBzMiA9IE51bWJlcih0MyA+PiBCaWdJbnQoMzIpICYgQmlnSW50KDQyOTQ5NjcyOTUpKTtcbiAgICAgICAgICAgIHJldHVybiBlM1tyMyArIDNdID0gczIsIHMyID4+PSA4LCBlM1tyMyArIDJdID0gczIsIHMyID4+PSA4LCBlM1tyMyArIDFdID0gczIsIHMyID4+PSA4LCBlM1tyM10gPSBzMiwgcjMgKyA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBQKGUzLCB0MywgcjMsIG4zLCBpMiwgbzIpIHtcbiAgICAgICAgICAgIGlmIChyMyArIG4zID4gZTMubGVuZ3RoKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtcbiAgICAgICAgICAgIGlmIChyMyA8IDApXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBqKGUzLCB0MywgcjMsIG4zLCBvMikge1xuICAgICAgICAgICAgcmV0dXJuIHQzID0gK3QzLCByMyA+Pj49IDAsIG8yIHx8IFAoZTMsIDAsIHIzLCA0KSwgaS53cml0ZShlMywgdDMsIHIzLCBuMywgMjMsIDQpLCByMyArIDQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIEMoZTMsIHQzLCByMywgbjMsIG8yKSB7XG4gICAgICAgICAgICByZXR1cm4gdDMgPSArdDMsIHIzID4+Pj0gMCwgbzIgfHwgUChlMywgMCwgcjMsIDgpLCBpLndyaXRlKGUzLCB0MywgcjMsIG4zLCA1MiwgOCksIHIzICsgODtcbiAgICAgICAgICB9XG4gICAgICAgICAgdS5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIGNvbnN0IHIzID0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICAoZTMgPSB+fmUzKSA8IDAgPyAoZTMgKz0gcjMpIDwgMCAmJiAoZTMgPSAwKSA6IGUzID4gcjMgJiYgKGUzID0gcjMpLCAodDMgPSB0MyA9PT0gdm9pZCAwID8gcjMgOiB+fnQzKSA8IDAgPyAodDMgKz0gcjMpIDwgMCAmJiAodDMgPSAwKSA6IHQzID4gcjMgJiYgKHQzID0gcjMpLCB0MyA8IGUzICYmICh0MyA9IGUzKTtcbiAgICAgICAgICAgIGNvbnN0IG4zID0gdGhpcy5zdWJhcnJheShlMywgdDMpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihuMywgdS5wcm90b3R5cGUpLCBuMztcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS5yZWFkVWludExFID0gdS5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIGUzID4+Pj0gMCwgdDMgPj4+PSAwLCByMyB8fCBNKGUzLCB0MywgdGhpcy5sZW5ndGgpO1xuICAgICAgICAgICAgbGV0IG4zID0gdGhpc1tlM10sIGkyID0gMSwgbzIgPSAwO1xuICAgICAgICAgICAgZm9yICg7ICsrbzIgPCB0MyAmJiAoaTIgKj0gMjU2KTsgKVxuICAgICAgICAgICAgICBuMyArPSB0aGlzW2UzICsgbzJdICogaTI7XG4gICAgICAgICAgICByZXR1cm4gbjM7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUucmVhZFVpbnRCRSA9IHUucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBlMyA+Pj49IDAsIHQzID4+Pj0gMCwgcjMgfHwgTShlMywgdDMsIHRoaXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGxldCBuMyA9IHRoaXNbZTMgKyAtLXQzXSwgaTIgPSAxO1xuICAgICAgICAgICAgZm9yICg7IHQzID4gMCAmJiAoaTIgKj0gMjU2KTsgKVxuICAgICAgICAgICAgICBuMyArPSB0aGlzW2UzICsgLS10M10gKiBpMjtcbiAgICAgICAgICAgIHJldHVybiBuMztcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS5yZWFkVWludDggPSB1LnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMyA+Pj49IDAsIHQzIHx8IE0oZTMsIDEsIHRoaXMubGVuZ3RoKSwgdGhpc1tlM107XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUucmVhZFVpbnQxNkxFID0gdS5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPj4+PSAwLCB0MyB8fCBNKGUzLCAyLCB0aGlzLmxlbmd0aCksIHRoaXNbZTNdIHwgdGhpc1tlMyArIDFdIDw8IDg7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUucmVhZFVpbnQxNkJFID0gdS5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPj4+PSAwLCB0MyB8fCBNKGUzLCAyLCB0aGlzLmxlbmd0aCksIHRoaXNbZTNdIDw8IDggfCB0aGlzW2UzICsgMV07XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUucmVhZFVpbnQzMkxFID0gdS5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPj4+PSAwLCB0MyB8fCBNKGUzLCA0LCB0aGlzLmxlbmd0aCksICh0aGlzW2UzXSB8IHRoaXNbZTMgKyAxXSA8PCA4IHwgdGhpc1tlMyArIDJdIDw8IDE2KSArIDE2Nzc3MjE2ICogdGhpc1tlMyArIDNdO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLnJlYWRVaW50MzJCRSA9IHUucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgcmV0dXJuIGUzID4+Pj0gMCwgdDMgfHwgTShlMywgNCwgdGhpcy5sZW5ndGgpLCAxNjc3NzIxNiAqIHRoaXNbZTNdICsgKHRoaXNbZTMgKyAxXSA8PCAxNiB8IHRoaXNbZTMgKyAyXSA8PCA4IHwgdGhpc1tlMyArIDNdKTtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS5yZWFkQmlnVUludDY0TEUgPSBRKGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICBXKGUzID4+Pj0gMCwgXCJvZmZzZXRcIik7XG4gICAgICAgICAgICBjb25zdCB0MyA9IHRoaXNbZTNdLCByMyA9IHRoaXNbZTMgKyA3XTtcbiAgICAgICAgICAgIHQzICE9PSB2b2lkIDAgJiYgcjMgIT09IHZvaWQgMCB8fCBZKGUzLCB0aGlzLmxlbmd0aCAtIDgpO1xuICAgICAgICAgICAgY29uc3QgbjMgPSB0MyArIDI1NiAqIHRoaXNbKytlM10gKyA2NTUzNiAqIHRoaXNbKytlM10gKyB0aGlzWysrZTNdICogMiAqKiAyNCwgaTIgPSB0aGlzWysrZTNdICsgMjU2ICogdGhpc1srK2UzXSArIDY1NTM2ICogdGhpc1srK2UzXSArIHIzICogMiAqKiAyNDtcbiAgICAgICAgICAgIHJldHVybiBCaWdJbnQobjMpICsgKEJpZ0ludChpMikgPDwgQmlnSW50KDMyKSk7XG4gICAgICAgICAgfSksIHUucHJvdG90eXBlLnJlYWRCaWdVSW50NjRCRSA9IFEoZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIFcoZTMgPj4+PSAwLCBcIm9mZnNldFwiKTtcbiAgICAgICAgICAgIGNvbnN0IHQzID0gdGhpc1tlM10sIHIzID0gdGhpc1tlMyArIDddO1xuICAgICAgICAgICAgdDMgIT09IHZvaWQgMCAmJiByMyAhPT0gdm9pZCAwIHx8IFkoZTMsIHRoaXMubGVuZ3RoIC0gOCk7XG4gICAgICAgICAgICBjb25zdCBuMyA9IHQzICogMiAqKiAyNCArIDY1NTM2ICogdGhpc1srK2UzXSArIDI1NiAqIHRoaXNbKytlM10gKyB0aGlzWysrZTNdLCBpMiA9IHRoaXNbKytlM10gKiAyICoqIDI0ICsgNjU1MzYgKiB0aGlzWysrZTNdICsgMjU2ICogdGhpc1srK2UzXSArIHIzO1xuICAgICAgICAgICAgcmV0dXJuIChCaWdJbnQobjMpIDw8IEJpZ0ludCgzMikpICsgQmlnSW50KGkyKTtcbiAgICAgICAgICB9KSwgdS5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgZTMgPj4+PSAwLCB0MyA+Pj49IDAsIHIzIHx8IE0oZTMsIHQzLCB0aGlzLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgbjMgPSB0aGlzW2UzXSwgaTIgPSAxLCBvMiA9IDA7XG4gICAgICAgICAgICBmb3IgKDsgKytvMiA8IHQzICYmIChpMiAqPSAyNTYpOyApXG4gICAgICAgICAgICAgIG4zICs9IHRoaXNbZTMgKyBvMl0gKiBpMjtcbiAgICAgICAgICAgIHJldHVybiBpMiAqPSAxMjgsIG4zID49IGkyICYmIChuMyAtPSBNYXRoLnBvdygyLCA4ICogdDMpKSwgbjM7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgZTMgPj4+PSAwLCB0MyA+Pj49IDAsIHIzIHx8IE0oZTMsIHQzLCB0aGlzLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgbjMgPSB0MywgaTIgPSAxLCBvMiA9IHRoaXNbZTMgKyAtLW4zXTtcbiAgICAgICAgICAgIGZvciAoOyBuMyA+IDAgJiYgKGkyICo9IDI1Nik7IClcbiAgICAgICAgICAgICAgbzIgKz0gdGhpc1tlMyArIC0tbjNdICogaTI7XG4gICAgICAgICAgICByZXR1cm4gaTIgKj0gMTI4LCBvMiA+PSBpMiAmJiAobzIgLT0gTWF0aC5wb3coMiwgOCAqIHQzKSksIG8yO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPj4+PSAwLCB0MyB8fCBNKGUzLCAxLCB0aGlzLmxlbmd0aCksIDEyOCAmIHRoaXNbZTNdID8gLTEgKiAoMjU1IC0gdGhpc1tlM10gKyAxKSA6IHRoaXNbZTNdO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICBlMyA+Pj49IDAsIHQzIHx8IE0oZTMsIDIsIHRoaXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IHIzID0gdGhpc1tlM10gfCB0aGlzW2UzICsgMV0gPDwgODtcbiAgICAgICAgICAgIHJldHVybiAzMjc2OCAmIHIzID8gNDI5NDkwMTc2MCB8IHIzIDogcjM7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIGUzID4+Pj0gMCwgdDMgfHwgTShlMywgMiwgdGhpcy5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgcjMgPSB0aGlzW2UzICsgMV0gfCB0aGlzW2UzXSA8PCA4O1xuICAgICAgICAgICAgcmV0dXJuIDMyNzY4ICYgcjMgPyA0Mjk0OTAxNzYwIHwgcjMgOiByMztcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgcmV0dXJuIGUzID4+Pj0gMCwgdDMgfHwgTShlMywgNCwgdGhpcy5sZW5ndGgpLCB0aGlzW2UzXSB8IHRoaXNbZTMgKyAxXSA8PCA4IHwgdGhpc1tlMyArIDJdIDw8IDE2IHwgdGhpc1tlMyArIDNdIDw8IDI0O1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPj4+PSAwLCB0MyB8fCBNKGUzLCA0LCB0aGlzLmxlbmd0aCksIHRoaXNbZTNdIDw8IDI0IHwgdGhpc1tlMyArIDFdIDw8IDE2IHwgdGhpc1tlMyArIDJdIDw8IDggfCB0aGlzW2UzICsgM107XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEUgPSBRKGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICBXKGUzID4+Pj0gMCwgXCJvZmZzZXRcIik7XG4gICAgICAgICAgICBjb25zdCB0MyA9IHRoaXNbZTNdLCByMyA9IHRoaXNbZTMgKyA3XTtcbiAgICAgICAgICAgIHQzICE9PSB2b2lkIDAgJiYgcjMgIT09IHZvaWQgMCB8fCBZKGUzLCB0aGlzLmxlbmd0aCAtIDgpO1xuICAgICAgICAgICAgY29uc3QgbjMgPSB0aGlzW2UzICsgNF0gKyAyNTYgKiB0aGlzW2UzICsgNV0gKyA2NTUzNiAqIHRoaXNbZTMgKyA2XSArIChyMyA8PCAyNCk7XG4gICAgICAgICAgICByZXR1cm4gKEJpZ0ludChuMykgPDwgQmlnSW50KDMyKSkgKyBCaWdJbnQodDMgKyAyNTYgKiB0aGlzWysrZTNdICsgNjU1MzYgKiB0aGlzWysrZTNdICsgdGhpc1srK2UzXSAqIDIgKiogMjQpO1xuICAgICAgICAgIH0pLCB1LnByb3RvdHlwZS5yZWFkQmlnSW50NjRCRSA9IFEoZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIFcoZTMgPj4+PSAwLCBcIm9mZnNldFwiKTtcbiAgICAgICAgICAgIGNvbnN0IHQzID0gdGhpc1tlM10sIHIzID0gdGhpc1tlMyArIDddO1xuICAgICAgICAgICAgdDMgIT09IHZvaWQgMCAmJiByMyAhPT0gdm9pZCAwIHx8IFkoZTMsIHRoaXMubGVuZ3RoIC0gOCk7XG4gICAgICAgICAgICBjb25zdCBuMyA9ICh0MyA8PCAyNCkgKyA2NTUzNiAqIHRoaXNbKytlM10gKyAyNTYgKiB0aGlzWysrZTNdICsgdGhpc1srK2UzXTtcbiAgICAgICAgICAgIHJldHVybiAoQmlnSW50KG4zKSA8PCBCaWdJbnQoMzIpKSArIEJpZ0ludCh0aGlzWysrZTNdICogMiAqKiAyNCArIDY1NTM2ICogdGhpc1srK2UzXSArIDI1NiAqIHRoaXNbKytlM10gKyByMyk7XG4gICAgICAgICAgfSksIHUucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPj4+PSAwLCB0MyB8fCBNKGUzLCA0LCB0aGlzLmxlbmd0aCksIGkucmVhZCh0aGlzLCBlMywgdHJ1ZSwgMjMsIDQpO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPj4+PSAwLCB0MyB8fCBNKGUzLCA0LCB0aGlzLmxlbmd0aCksIGkucmVhZCh0aGlzLCBlMywgZmFsc2UsIDIzLCA0KTtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMyA+Pj49IDAsIHQzIHx8IE0oZTMsIDgsIHRoaXMubGVuZ3RoKSwgaS5yZWFkKHRoaXMsIGUzLCB0cnVlLCA1MiwgOCk7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPj4+PSAwLCB0MyB8fCBNKGUzLCA4LCB0aGlzLmxlbmd0aCksIGkucmVhZCh0aGlzLCBlMywgZmFsc2UsIDUyLCA4KTtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS53cml0ZVVpbnRMRSA9IHUucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24oZTMsIHQzLCByMywgbjMpIHtcbiAgICAgICAgICAgIGUzID0gK2UzLCB0MyA+Pj49IDAsIHIzID4+Pj0gMCwgbjMgfHwgTyh0aGlzLCBlMywgdDMsIHIzLCBNYXRoLnBvdygyLCA4ICogcjMpIC0gMSwgMCk7XG4gICAgICAgICAgICBsZXQgaTIgPSAxLCBvMiA9IDA7XG4gICAgICAgICAgICBmb3IgKHRoaXNbdDNdID0gMjU1ICYgZTM7ICsrbzIgPCByMyAmJiAoaTIgKj0gMjU2KTsgKVxuICAgICAgICAgICAgICB0aGlzW3QzICsgbzJdID0gZTMgLyBpMiAmIDI1NTtcbiAgICAgICAgICAgIHJldHVybiB0MyArIHIzO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLndyaXRlVWludEJFID0gdS5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbihlMywgdDMsIHIzLCBuMykge1xuICAgICAgICAgICAgZTMgPSArZTMsIHQzID4+Pj0gMCwgcjMgPj4+PSAwLCBuMyB8fCBPKHRoaXMsIGUzLCB0MywgcjMsIE1hdGgucG93KDIsIDggKiByMykgLSAxLCAwKTtcbiAgICAgICAgICAgIGxldCBpMiA9IHIzIC0gMSwgbzIgPSAxO1xuICAgICAgICAgICAgZm9yICh0aGlzW3QzICsgaTJdID0gMjU1ICYgZTM7IC0taTIgPj0gMCAmJiAobzIgKj0gMjU2KTsgKVxuICAgICAgICAgICAgICB0aGlzW3QzICsgaTJdID0gZTMgLyBvMiAmIDI1NTtcbiAgICAgICAgICAgIHJldHVybiB0MyArIHIzO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLndyaXRlVWludDggPSB1LnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcmV0dXJuIGUzID0gK2UzLCB0MyA+Pj49IDAsIHIzIHx8IE8odGhpcywgZTMsIHQzLCAxLCAyNTUsIDApLCB0aGlzW3QzXSA9IDI1NSAmIGUzLCB0MyArIDE7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUud3JpdGVVaW50MTZMRSA9IHUucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPSArZTMsIHQzID4+Pj0gMCwgcjMgfHwgTyh0aGlzLCBlMywgdDMsIDIsIDY1NTM1LCAwKSwgdGhpc1t0M10gPSAyNTUgJiBlMywgdGhpc1t0MyArIDFdID0gZTMgPj4+IDgsIHQzICsgMjtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS53cml0ZVVpbnQxNkJFID0gdS5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMyA9ICtlMywgdDMgPj4+PSAwLCByMyB8fCBPKHRoaXMsIGUzLCB0MywgMiwgNjU1MzUsIDApLCB0aGlzW3QzXSA9IGUzID4+PiA4LCB0aGlzW3QzICsgMV0gPSAyNTUgJiBlMywgdDMgKyAyO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLndyaXRlVWludDMyTEUgPSB1LnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcmV0dXJuIGUzID0gK2UzLCB0MyA+Pj49IDAsIHIzIHx8IE8odGhpcywgZTMsIHQzLCA0LCA0Mjk0OTY3Mjk1LCAwKSwgdGhpc1t0MyArIDNdID0gZTMgPj4+IDI0LCB0aGlzW3QzICsgMl0gPSBlMyA+Pj4gMTYsIHRoaXNbdDMgKyAxXSA9IGUzID4+PiA4LCB0aGlzW3QzXSA9IDI1NSAmIGUzLCB0MyArIDQ7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUud3JpdGVVaW50MzJCRSA9IHUucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPSArZTMsIHQzID4+Pj0gMCwgcjMgfHwgTyh0aGlzLCBlMywgdDMsIDQsIDQyOTQ5NjcyOTUsIDApLCB0aGlzW3QzXSA9IGUzID4+PiAyNCwgdGhpc1t0MyArIDFdID0gZTMgPj4+IDE2LCB0aGlzW3QzICsgMl0gPSBlMyA+Pj4gOCwgdGhpc1t0MyArIDNdID0gMjU1ICYgZTMsIHQzICsgNDtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NExFID0gUShmdW5jdGlvbihlMywgdDMgPSAwKSB7XG4gICAgICAgICAgICByZXR1cm4geCh0aGlzLCBlMywgdDMsIEJpZ0ludCgwKSwgQmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmXCIpKTtcbiAgICAgICAgICB9KSwgdS5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRCRSA9IFEoZnVuY3Rpb24oZTMsIHQzID0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGsodGhpcywgZTMsIHQzLCBCaWdJbnQoMCksIEJpZ0ludChcIjB4ZmZmZmZmZmZmZmZmZmZmZlwiKSk7XG4gICAgICAgICAgfSksIHUucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbihlMywgdDMsIHIzLCBuMykge1xuICAgICAgICAgICAgaWYgKGUzID0gK2UzLCB0MyA+Pj49IDAsICFuMykge1xuICAgICAgICAgICAgICBjb25zdCBuNCA9IE1hdGgucG93KDIsIDggKiByMyAtIDEpO1xuICAgICAgICAgICAgICBPKHRoaXMsIGUzLCB0MywgcjMsIG40IC0gMSwgLW40KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpMiA9IDAsIG8yID0gMSwgczIgPSAwO1xuICAgICAgICAgICAgZm9yICh0aGlzW3QzXSA9IDI1NSAmIGUzOyArK2kyIDwgcjMgJiYgKG8yICo9IDI1Nik7IClcbiAgICAgICAgICAgICAgZTMgPCAwICYmIHMyID09PSAwICYmIHRoaXNbdDMgKyBpMiAtIDFdICE9PSAwICYmIChzMiA9IDEpLCB0aGlzW3QzICsgaTJdID0gKGUzIC8gbzIgPj4gMCkgLSBzMiAmIDI1NTtcbiAgICAgICAgICAgIHJldHVybiB0MyArIHIzO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbihlMywgdDMsIHIzLCBuMykge1xuICAgICAgICAgICAgaWYgKGUzID0gK2UzLCB0MyA+Pj49IDAsICFuMykge1xuICAgICAgICAgICAgICBjb25zdCBuNCA9IE1hdGgucG93KDIsIDggKiByMyAtIDEpO1xuICAgICAgICAgICAgICBPKHRoaXMsIGUzLCB0MywgcjMsIG40IC0gMSwgLW40KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpMiA9IHIzIC0gMSwgbzIgPSAxLCBzMiA9IDA7XG4gICAgICAgICAgICBmb3IgKHRoaXNbdDMgKyBpMl0gPSAyNTUgJiBlMzsgLS1pMiA+PSAwICYmIChvMiAqPSAyNTYpOyApXG4gICAgICAgICAgICAgIGUzIDwgMCAmJiBzMiA9PT0gMCAmJiB0aGlzW3QzICsgaTIgKyAxXSAhPT0gMCAmJiAoczIgPSAxKSwgdGhpc1t0MyArIGkyXSA9IChlMyAvIG8yID4+IDApIC0gczIgJiAyNTU7XG4gICAgICAgICAgICByZXR1cm4gdDMgKyByMztcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPSArZTMsIHQzID4+Pj0gMCwgcjMgfHwgTyh0aGlzLCBlMywgdDMsIDEsIDEyNywgLTEyOCksIGUzIDwgMCAmJiAoZTMgPSAyNTUgKyBlMyArIDEpLCB0aGlzW3QzXSA9IDI1NSAmIGUzLCB0MyArIDE7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcmV0dXJuIGUzID0gK2UzLCB0MyA+Pj49IDAsIHIzIHx8IE8odGhpcywgZTMsIHQzLCAyLCAzMjc2NywgLTMyNzY4KSwgdGhpc1t0M10gPSAyNTUgJiBlMywgdGhpc1t0MyArIDFdID0gZTMgPj4+IDgsIHQzICsgMjtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPSArZTMsIHQzID4+Pj0gMCwgcjMgfHwgTyh0aGlzLCBlMywgdDMsIDIsIDMyNzY3LCAtMzI3NjgpLCB0aGlzW3QzXSA9IGUzID4+PiA4LCB0aGlzW3QzICsgMV0gPSAyNTUgJiBlMywgdDMgKyAyO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMyA9ICtlMywgdDMgPj4+PSAwLCByMyB8fCBPKHRoaXMsIGUzLCB0MywgNCwgMjE0NzQ4MzY0NywgLTIxNDc0ODM2NDgpLCB0aGlzW3QzXSA9IDI1NSAmIGUzLCB0aGlzW3QzICsgMV0gPSBlMyA+Pj4gOCwgdGhpc1t0MyArIDJdID0gZTMgPj4+IDE2LCB0aGlzW3QzICsgM10gPSBlMyA+Pj4gMjQsIHQzICsgNDtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPSArZTMsIHQzID4+Pj0gMCwgcjMgfHwgTyh0aGlzLCBlMywgdDMsIDQsIDIxNDc0ODM2NDcsIC0yMTQ3NDgzNjQ4KSwgZTMgPCAwICYmIChlMyA9IDQyOTQ5NjcyOTUgKyBlMyArIDEpLCB0aGlzW3QzXSA9IGUzID4+PiAyNCwgdGhpc1t0MyArIDFdID0gZTMgPj4+IDE2LCB0aGlzW3QzICsgMl0gPSBlMyA+Pj4gOCwgdGhpc1t0MyArIDNdID0gMjU1ICYgZTMsIHQzICsgNDtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS53cml0ZUJpZ0ludDY0TEUgPSBRKGZ1bmN0aW9uKGUzLCB0MyA9IDApIHtcbiAgICAgICAgICAgIHJldHVybiB4KHRoaXMsIGUzLCB0MywgLUJpZ0ludChcIjB4ODAwMDAwMDAwMDAwMDAwMFwiKSwgQmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmXCIpKTtcbiAgICAgICAgICB9KSwgdS5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NEJFID0gUShmdW5jdGlvbihlMywgdDMgPSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gayh0aGlzLCBlMywgdDMsIC1CaWdJbnQoXCIweDgwMDAwMDAwMDAwMDAwMDBcIiksIEJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZlwiKSk7XG4gICAgICAgICAgfSksIHUucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHJldHVybiBqKHRoaXMsIGUzLCB0MywgdHJ1ZSwgcjMpO1xuICAgICAgICAgIH0sIHUucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHJldHVybiBqKHRoaXMsIGUzLCB0MywgZmFsc2UsIHIzKTtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcmV0dXJuIEModGhpcywgZTMsIHQzLCB0cnVlLCByMyk7XG4gICAgICAgICAgfSwgdS5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHJldHVybiBDKHRoaXMsIGUzLCB0MywgZmFsc2UsIHIzKTtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24oZTMsIHQzLCByMywgbjMpIHtcbiAgICAgICAgICAgIGlmICghdS5pc0J1ZmZlcihlMykpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXJcIik7XG4gICAgICAgICAgICBpZiAocjMgfHwgKHIzID0gMCksIG4zIHx8IG4zID09PSAwIHx8IChuMyA9IHRoaXMubGVuZ3RoKSwgdDMgPj0gZTMubGVuZ3RoICYmICh0MyA9IGUzLmxlbmd0aCksIHQzIHx8ICh0MyA9IDApLCBuMyA+IDAgJiYgbjMgPCByMyAmJiAobjMgPSByMyksIG4zID09PSByMylcbiAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBpZiAoZTMubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmICh0MyA8IDApXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgICAgIGlmIChyMyA8IDAgfHwgcjMgPj0gdGhpcy5sZW5ndGgpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO1xuICAgICAgICAgICAgaWYgKG4zIDwgMClcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgICAgIG4zID4gdGhpcy5sZW5ndGggJiYgKG4zID0gdGhpcy5sZW5ndGgpLCBlMy5sZW5ndGggLSB0MyA8IG4zIC0gcjMgJiYgKG4zID0gZTMubGVuZ3RoIC0gdDMgKyByMyk7XG4gICAgICAgICAgICBjb25zdCBpMiA9IG4zIC0gcjM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcyA9PT0gZTMgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4gPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb3B5V2l0aGluKHQzLCByMywgbjMpIDogVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZTMsIHRoaXMuc3ViYXJyYXkocjMsIG4zKSwgdDMpLCBpMjtcbiAgICAgICAgICB9LCB1LnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24oZTMsIHQzLCByMywgbjMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZTMgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHQzID09IFwic3RyaW5nXCIgPyAobjMgPSB0MywgdDMgPSAwLCByMyA9IHRoaXMubGVuZ3RoKSA6IHR5cGVvZiByMyA9PSBcInN0cmluZ1wiICYmIChuMyA9IHIzLCByMyA9IHRoaXMubGVuZ3RoKSwgbjMgIT09IHZvaWQgMCAmJiB0eXBlb2YgbjMgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuMyA9PSBcInN0cmluZ1wiICYmICF1LmlzRW5jb2RpbmcobjMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIiArIG4zKTtcbiAgICAgICAgICAgICAgaWYgKGUzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQ0ID0gZTMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgICAgICAobjMgPT09IFwidXRmOFwiICYmIHQ0IDwgMTI4IHx8IG4zID09PSBcImxhdGluMVwiKSAmJiAoZTMgPSB0NCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICB0eXBlb2YgZTMgPT0gXCJudW1iZXJcIiA/IGUzICY9IDI1NSA6IHR5cGVvZiBlMyA9PSBcImJvb2xlYW5cIiAmJiAoZTMgPSBOdW1iZXIoZTMpKTtcbiAgICAgICAgICAgIGlmICh0MyA8IDAgfHwgdGhpcy5sZW5ndGggPCB0MyB8fCB0aGlzLmxlbmd0aCA8IHIzKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtcbiAgICAgICAgICAgIGlmIChyMyA8PSB0MylcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICBsZXQgaTI7XG4gICAgICAgICAgICBpZiAodDMgPj4+PSAwLCByMyA9IHIzID09PSB2b2lkIDAgPyB0aGlzLmxlbmd0aCA6IHIzID4+PiAwLCBlMyB8fCAoZTMgPSAwKSwgdHlwZW9mIGUzID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgIGZvciAoaTIgPSB0MzsgaTIgPCByMzsgKytpMilcbiAgICAgICAgICAgICAgICB0aGlzW2kyXSA9IGUzO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IG8yID0gdS5pc0J1ZmZlcihlMykgPyBlMyA6IHUuZnJvbShlMywgbjMpLCBzMiA9IG8yLmxlbmd0aDtcbiAgICAgICAgICAgICAgaWYgKHMyID09PSAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyBlMyArICdcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKTtcbiAgICAgICAgICAgICAgZm9yIChpMiA9IDA7IGkyIDwgcjMgLSB0MzsgKytpMilcbiAgICAgICAgICAgICAgICB0aGlzW2kyICsgdDNdID0gbzJbaTIgJSBzMl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IEYgPSB7fTtcbiAgICAgICAgICBmdW5jdGlvbiBEKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIEZbZTNdID0gY2xhc3MgZXh0ZW5kcyByMyB7XG4gICAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHN1cGVyKCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1lc3NhZ2VcIiwgeyB2YWx1ZTogdDMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KSwgdGhpcy5uYW1lID0gYCR7dGhpcy5uYW1lfSBbJHtlM31dYCwgdGhpcy5zdGFjaywgZGVsZXRlIHRoaXMubmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBnZXQgY29kZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZTM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0IGNvZGUoZTQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb2RlXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogZTQsIHdyaXRhYmxlOiB0cnVlIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLm5hbWV9IFske2UzfV06ICR7dGhpcy5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uICQoZTMpIHtcbiAgICAgICAgICAgIGxldCB0MyA9IFwiXCIsIHIzID0gZTMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbjMgPSBlM1swXSA9PT0gXCItXCIgPyAxIDogMDtcbiAgICAgICAgICAgIGZvciAoOyByMyA+PSBuMyArIDQ7IHIzIC09IDMpXG4gICAgICAgICAgICAgIHQzID0gYF8ke2UzLnNsaWNlKHIzIC0gMywgcjMpfSR7dDN9YDtcbiAgICAgICAgICAgIHJldHVybiBgJHtlMy5zbGljZSgwLCByMyl9JHt0M31gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBHKGUzLCB0MywgcjMsIG4zLCBpMiwgbzIpIHtcbiAgICAgICAgICAgIGlmIChlMyA+IHIzIHx8IGUzIDwgdDMpIHtcbiAgICAgICAgICAgICAgY29uc3QgbjQgPSB0eXBlb2YgdDMgPT0gXCJiaWdpbnRcIiA/IFwiblwiIDogXCJcIjtcbiAgICAgICAgICAgICAgbGV0IGkzO1xuICAgICAgICAgICAgICB0aHJvdyBpMyA9IG8yID4gMyA/IHQzID09PSAwIHx8IHQzID09PSBCaWdJbnQoMCkgPyBgPj0gMCR7bjR9IGFuZCA8IDIke240fSAqKiAkezggKiAobzIgKyAxKX0ke240fWAgOiBgPj0gLSgyJHtuNH0gKiogJHs4ICogKG8yICsgMSkgLSAxfSR7bjR9KSBhbmQgPCAyICoqICR7OCAqIChvMiArIDEpIC0gMX0ke240fWAgOiBgPj0gJHt0M30ke240fSBhbmQgPD0gJHtyM30ke240fWAsIG5ldyBGLkVSUl9PVVRfT0ZfUkFOR0UoXCJ2YWx1ZVwiLCBpMywgZTMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIWZ1bmN0aW9uKGU0LCB0NCwgcjQpIHtcbiAgICAgICAgICAgICAgVyh0NCwgXCJvZmZzZXRcIiksIGU0W3Q0XSAhPT0gdm9pZCAwICYmIGU0W3Q0ICsgcjRdICE9PSB2b2lkIDAgfHwgWSh0NCwgZTQubGVuZ3RoIC0gKHI0ICsgMSkpO1xuICAgICAgICAgICAgfShuMywgaTIsIG8yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gVyhlMywgdDMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZTMgIT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEYuRVJSX0lOVkFMSURfQVJHX1RZUEUodDMsIFwibnVtYmVyXCIsIGUzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gWShlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5mbG9vcihlMykgIT09IGUzKVxuICAgICAgICAgICAgICB0aHJvdyBXKGUzLCByMyksIG5ldyBGLkVSUl9PVVRfT0ZfUkFOR0UocjMgfHwgXCJvZmZzZXRcIiwgXCJhbiBpbnRlZ2VyXCIsIGUzKTtcbiAgICAgICAgICAgIGlmICh0MyA8IDApXG4gICAgICAgICAgICAgIHRocm93IG5ldyBGLkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EUygpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEYuRVJSX09VVF9PRl9SQU5HRShyMyB8fCBcIm9mZnNldFwiLCBgPj0gJHtyMyA/IDEgOiAwfSBhbmQgPD0gJHt0M31gLCBlMyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIEQoXCJFUlJfQlVGRkVSX09VVF9PRl9CT1VORFNcIiwgZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMyA/IGAke2UzfSBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHNgIDogXCJBdHRlbXB0IHRvIGFjY2VzcyBtZW1vcnkgb3V0c2lkZSBidWZmZXIgYm91bmRzXCI7XG4gICAgICAgICAgfSwgUmFuZ2VFcnJvciksIEQoXCJFUlJfSU5WQUxJRF9BUkdfVFlQRVwiLCBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIHJldHVybiBgVGhlIFwiJHtlM31cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIHQzfWA7XG4gICAgICAgICAgfSwgVHlwZUVycm9yKSwgRChcIkVSUl9PVVRfT0ZfUkFOR0VcIiwgZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgbGV0IG4zID0gYFRoZSB2YWx1ZSBvZiBcIiR7ZTN9XCIgaXMgb3V0IG9mIHJhbmdlLmAsIGkyID0gcjM7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihyMykgJiYgTWF0aC5hYnMocjMpID4gMiAqKiAzMiA/IGkyID0gJChTdHJpbmcocjMpKSA6IHR5cGVvZiByMyA9PSBcImJpZ2ludFwiICYmIChpMiA9IFN0cmluZyhyMyksIChyMyA+IEJpZ0ludCgyKSAqKiBCaWdJbnQoMzIpIHx8IHIzIDwgLShCaWdJbnQoMikgKiogQmlnSW50KDMyKSkpICYmIChpMiA9ICQoaTIpKSwgaTIgKz0gXCJuXCIpLCBuMyArPSBgIEl0IG11c3QgYmUgJHt0M30uIFJlY2VpdmVkICR7aTJ9YCwgbjM7XG4gICAgICAgICAgfSwgUmFuZ2VFcnJvcik7XG4gICAgICAgICAgY29uc3QgcSA9IC9bXisvMC05QS1aYS16LV9dL2c7XG4gICAgICAgICAgZnVuY3Rpb24gSChlMywgdDMpIHtcbiAgICAgICAgICAgIGxldCByMztcbiAgICAgICAgICAgIHQzID0gdDMgfHwgMSAvIDA7XG4gICAgICAgICAgICBjb25zdCBuMyA9IGUzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBpMiA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBvMiA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgczIgPSAwOyBzMiA8IG4zOyArK3MyKSB7XG4gICAgICAgICAgICAgIGlmIChyMyA9IGUzLmNoYXJDb2RlQXQoczIpLCByMyA+IDU1Mjk1ICYmIHIzIDwgNTczNDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWkyKSB7XG4gICAgICAgICAgICAgICAgICBpZiAocjMgPiA1NjMxOSkge1xuICAgICAgICAgICAgICAgICAgICAodDMgLT0gMykgPiAtMSAmJiBvMi5wdXNoKDIzOSwgMTkxLCAxODkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzMiArIDEgPT09IG4zKSB7XG4gICAgICAgICAgICAgICAgICAgICh0MyAtPSAzKSA+IC0xICYmIG8yLnB1c2goMjM5LCAxOTEsIDE4OSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaTIgPSByMztcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocjMgPCA1NjMyMCkge1xuICAgICAgICAgICAgICAgICAgKHQzIC09IDMpID4gLTEgJiYgbzIucHVzaCgyMzksIDE5MSwgMTg5KSwgaTIgPSByMztcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByMyA9IDY1NTM2ICsgKGkyIC0gNTUyOTYgPDwgMTAgfCByMyAtIDU2MzIwKTtcbiAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgaTIgJiYgKHQzIC09IDMpID4gLTEgJiYgbzIucHVzaCgyMzksIDE5MSwgMTg5KTtcbiAgICAgICAgICAgICAgaWYgKGkyID0gbnVsbCwgcjMgPCAxMjgpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHQzIC09IDEpIDwgMClcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIG8yLnB1c2gocjMpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHIzIDwgMjA0OCkge1xuICAgICAgICAgICAgICAgIGlmICgodDMgLT0gMikgPCAwKVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgbzIucHVzaChyMyA+PiA2IHwgMTkyLCA2MyAmIHIzIHwgMTI4KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyMyA8IDY1NTM2KSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0MyAtPSAzKSA8IDApXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBvMi5wdXNoKHIzID4+IDEyIHwgMjI0LCByMyA+PiA2ICYgNjMgfCAxMjgsIDYzICYgcjMgfCAxMjgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghKHIzIDwgMTExNDExMikpXG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIik7XG4gICAgICAgICAgICAgICAgaWYgKCh0MyAtPSA0KSA8IDApXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBvMi5wdXNoKHIzID4+IDE4IHwgMjQwLCByMyA+PiAxMiAmIDYzIHwgMTI4LCByMyA+PiA2ICYgNjMgfCAxMjgsIDYzICYgcjMgfCAxMjgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbzI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIEsoZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBuMi50b0J5dGVBcnJheShmdW5jdGlvbihlNCkge1xuICAgICAgICAgICAgICBpZiAoKGU0ID0gKGU0ID0gZTQuc3BsaXQoXCI9XCIpWzBdKS50cmltKCkucmVwbGFjZShxLCBcIlwiKSkubGVuZ3RoIDwgMilcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgZm9yICg7IGU0Lmxlbmd0aCAlIDQgIT0gMDsgKVxuICAgICAgICAgICAgICAgIGU0ICs9IFwiPVwiO1xuICAgICAgICAgICAgICByZXR1cm4gZTQ7XG4gICAgICAgICAgICB9KGUzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIFYoZTMsIHQzLCByMywgbjMpIHtcbiAgICAgICAgICAgIGxldCBpMjtcbiAgICAgICAgICAgIGZvciAoaTIgPSAwOyBpMiA8IG4zICYmICEoaTIgKyByMyA+PSB0My5sZW5ndGggfHwgaTIgPj0gZTMubGVuZ3RoKTsgKytpMilcbiAgICAgICAgICAgICAgdDNbaTIgKyByM10gPSBlM1tpMl07XG4gICAgICAgICAgICByZXR1cm4gaTI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIHooZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgaW5zdGFuY2VvZiB0MyB8fCBlMyAhPSBudWxsICYmIGUzLmNvbnN0cnVjdG9yICE9IG51bGwgJiYgZTMuY29uc3RydWN0b3IubmFtZSAhPSBudWxsICYmIGUzLmNvbnN0cnVjdG9yLm5hbWUgPT09IHQzLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIEooZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMyAhPSBlMztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgWCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgZTMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIiwgdDMgPSBuZXcgQXJyYXkoMjU2KTtcbiAgICAgICAgICAgIGZvciAobGV0IHIzID0gMDsgcjMgPCAxNjsgKytyMykge1xuICAgICAgICAgICAgICBjb25zdCBuMyA9IDE2ICogcjM7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCAxNjsgKytpMilcbiAgICAgICAgICAgICAgICB0M1tuMyArIGkyXSA9IGUzW3IzXSArIGUzW2kyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0MztcbiAgICAgICAgICB9KCk7XG4gICAgICAgICAgZnVuY3Rpb24gUShlMykge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBCaWdJbnQgPT0gXCJ1bmRlZmluZWRcIiA/IFogOiBlMztcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gWigpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJpZ0ludCBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTQxOiAoZTIsIHQyLCByMikgPT4ge1xuICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAgIHQyLkNvbW1lbnRlZCA9IHIyKDIwKSwgdDIuRGlhZ25vc2UgPSByMig2OTQpLCB0Mi5EZWNvZGVyID0gcjIoNzc0KSwgdDIuRW5jb2RlciA9IHIyKDY2NiksIHQyLlNpbXBsZSA9IHIyKDMyKSwgdDIuVGFnZ2VkID0gcjIoNzg1KSwgdDIuTWFwID0gcjIoNzApLCB0Mi5VSSA9IHQyLkNvbW1lbnRlZC5jb21tZW50LCB0Mi5mSSA9IHQyLkRlY29kZXIuZGVjb2RlQWxsLCB0Mi5oOCA9IHQyLkRlY29kZXIuZGVjb2RlRmlyc3QsIHQyLmNjID0gdDIuRGVjb2Rlci5kZWNvZGVBbGxTeW5jLCB0Mi4kdSA9IHQyLkRlY29kZXIuZGVjb2RlRmlyc3RTeW5jLCB0Mi5NID0gdDIuRGlhZ25vc2UuZGlhZ25vc2UsIHQyLmN2ID0gdDIuRW5jb2Rlci5lbmNvZGUsIHQyLk4yID0gdDIuRW5jb2Rlci5lbmNvZGVDYW5vbmljYWwsIHQyLlRHID0gdDIuRW5jb2Rlci5lbmNvZGVPbmUsIHQyLldSID0gdDIuRW5jb2Rlci5lbmNvZGVBc3luYywgdDIuSnggPSB0Mi5EZWNvZGVyLmRlY29kZUZpcnN0U3luYywgdDIud3cgPSB7IGRlY29kZTogdDIuRGVjb2Rlci5kZWNvZGVGaXJzdFN5bmMsIGVuY29kZTogdDIuRW5jb2Rlci5lbmNvZGUsIGJ1ZmZlcjogdHJ1ZSwgbmFtZTogXCJjYm9yXCIgfSwgdDIubWMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHQyLkVuY29kZXIucmVzZXQoKSwgdDIuVGFnZ2VkLnJlc2V0KCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgMjA6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgY29uc3QgbjIgPSByMig4MzApLCBpID0gcjIoODczKSwgbyA9IHIyKDc3NCksIHMgPSByMigyMDIpLCB7IE1UOiBhLCBOVU1CWVRFUzogdSwgU1lNUzogZiB9ID0gcjIoNjYpLCB7IEJ1ZmZlcjogaCB9ID0gcjIoNzY0KTtcbiAgICAgICAgICBmdW5jdGlvbiBsKGUzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMgPiAxID8gXCJzXCIgOiBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGFzcyBjIGV4dGVuZHMgbjIuVHJhbnNmb3JtIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGUzID0ge30pIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBkZXB0aDogdDMgPSAxLCBtYXhfZGVwdGg6IHIzID0gMTAsIG5vX3N1bW1hcnk6IG4zID0gZmFsc2UsIHRhZ3M6IGkyID0ge30sIHByZWZlcldlYjogYTIsIGVuY29kaW5nOiB1MiwgLi4uZjIgfSA9IGUzO1xuICAgICAgICAgICAgICBzdXBlcih7IC4uLmYyLCByZWFkYWJsZU9iamVjdE1vZGU6IGZhbHNlLCB3cml0YWJsZU9iamVjdE1vZGU6IGZhbHNlIH0pLCB0aGlzLmRlcHRoID0gdDMsIHRoaXMubWF4X2RlcHRoID0gcjMsIHRoaXMuYWxsID0gbmV3IHMoKSwgaTJbMjRdIHx8IChpMlsyNF0gPSB0aGlzLl90YWdfMjQuYmluZCh0aGlzKSksIHRoaXMucGFyc2VyID0gbmV3IG8oeyB0YWdzOiBpMiwgbWF4X2RlcHRoOiByMywgcHJlZmVyV2ViOiBhMiwgZW5jb2Rpbmc6IHUyIH0pLCB0aGlzLnBhcnNlci5vbihcInZhbHVlXCIsIHRoaXMuX29uX3ZhbHVlLmJpbmQodGhpcykpLCB0aGlzLnBhcnNlci5vbihcInN0YXJ0XCIsIHRoaXMuX29uX3N0YXJ0LmJpbmQodGhpcykpLCB0aGlzLnBhcnNlci5vbihcInN0YXJ0LXN0cmluZ1wiLCB0aGlzLl9vbl9zdGFydF9zdHJpbmcuYmluZCh0aGlzKSksIHRoaXMucGFyc2VyLm9uKFwic3RvcFwiLCB0aGlzLl9vbl9zdG9wLmJpbmQodGhpcykpLCB0aGlzLnBhcnNlci5vbihcIm1vcmUtYnl0ZXNcIiwgdGhpcy5fb25fbW9yZS5iaW5kKHRoaXMpKSwgdGhpcy5wYXJzZXIub24oXCJlcnJvclwiLCB0aGlzLl9vbl9lcnJvci5iaW5kKHRoaXMpKSwgbjMgfHwgdGhpcy5wYXJzZXIub24oXCJkYXRhXCIsIHRoaXMuX29uX2RhdGEuYmluZCh0aGlzKSksIHRoaXMucGFyc2VyLmJzLm9uKFwicmVhZFwiLCB0aGlzLl9vbl9yZWFkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RhZ18yNChlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IG5ldyBjKHsgZGVwdGg6IHRoaXMuZGVwdGggKyAxLCBub19zdW1tYXJ5OiB0cnVlIH0pO1xuICAgICAgICAgICAgICB0My5vbihcImRhdGFcIiwgKGU0KSA9PiB0aGlzLnB1c2goZTQpKSwgdDMub24oXCJlcnJvclwiLCAoZTQpID0+IHRoaXMuZW1pdChcImVycm9yXCIsIGU0KSksIHQzLmVuZChlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdHJhbnNmb3JtKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgICAgdGhpcy5wYXJzZXIud3JpdGUoZTMsIHQzLCByMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZmx1c2goZTMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLl9mbHVzaChlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgY29tbWVudChlMywgdDMgPSB7fSwgcjMgPSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChlMyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImlucHV0IHJlcXVpcmVkXCIpO1xuICAgICAgICAgICAgICAoeyBvcHRpb25zOiB0MywgY2I6IHIzIH0gPSBmdW5jdGlvbihlNCwgdDQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBlNCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG9wdGlvbnM6IHt9LCBjYjogZTQgfTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgb3B0aW9uczogeyBlbmNvZGluZzogZTQgfSwgY2I6IHQ0IH07XG4gICAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG9wdGlvbnM6IHsgbWF4X2RlcHRoOiBlNCB9LCBjYjogdDQgfTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgb3B0aW9uczogZTQgfHwge30sIGNiOiB0NCB9O1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gb3B0aW9uIHR5cGVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KHQzLCByMykpO1xuICAgICAgICAgICAgICBjb25zdCBuMyA9IG5ldyBzKCksIHsgZW5jb2Rpbmc6IG8yID0gXCJoZXhcIiwgLi4uYTIgfSA9IHQzLCB1MiA9IG5ldyBjKGEyKTtcbiAgICAgICAgICAgICAgbGV0IGYyID0gbnVsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiByMyA9PSBcImZ1bmN0aW9uXCIgPyAodTIub24oXCJlbmRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHIzKG51bGwsIG4zLnRvU3RyaW5nKFwidXRmOFwiKSk7XG4gICAgICAgICAgICAgIH0pLCB1Mi5vbihcImVycm9yXCIsIHIzKSkgOiBmMiA9IG5ldyBQcm9taXNlKChlNCwgdDQpID0+IHtcbiAgICAgICAgICAgICAgICB1Mi5vbihcImVuZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBlNChuMy50b1N0cmluZyhcInV0ZjhcIikpO1xuICAgICAgICAgICAgICAgIH0pLCB1Mi5vbihcImVycm9yXCIsIHQ0KTtcbiAgICAgICAgICAgICAgfSksIHUyLnBpcGUobjMpLCBpLmd1ZXNzRW5jb2RpbmcoZTMsIG8yKS5waXBlKHUyKSwgZjI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25fZXJyb3IoZTMpIHtcbiAgICAgICAgICAgICAgdGhpcy5wdXNoKFwiRVJST1I6IFwiKSwgdGhpcy5wdXNoKGUzLnRvU3RyaW5nKCkpLCB0aGlzLnB1c2goXCJcXG5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25fcmVhZChlMykge1xuICAgICAgICAgICAgICB0aGlzLmFsbC53cml0ZShlMyk7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gZTMudG9TdHJpbmcoXCJoZXhcIik7XG4gICAgICAgICAgICAgIHRoaXMucHVzaChuZXcgQXJyYXkodGhpcy5kZXB0aCArIDEpLmpvaW4oXCIgIFwiKSksIHRoaXMucHVzaCh0Myk7XG4gICAgICAgICAgICAgIGxldCByMyA9IDIgKiAodGhpcy5tYXhfZGVwdGggLSB0aGlzLmRlcHRoKSAtIHQzLmxlbmd0aDtcbiAgICAgICAgICAgICAgcjMgPCAxICYmIChyMyA9IDEpLCB0aGlzLnB1c2gobmV3IEFycmF5KHIzICsgMSkuam9pbihcIiBcIikpLCB0aGlzLnB1c2goXCItLSBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25fbW9yZShlMywgdDMsIHIzLCBuMykge1xuICAgICAgICAgICAgICBsZXQgaTIgPSBcIlwiO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGVwdGgrKywgZTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGEuUE9TX0lOVDpcbiAgICAgICAgICAgICAgICAgIGkyID0gXCJQb3NpdGl2ZSBudW1iZXIsXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGEuTkVHX0lOVDpcbiAgICAgICAgICAgICAgICAgIGkyID0gXCJOZWdhdGl2ZSBudW1iZXIsXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGEuQVJSQVk6XG4gICAgICAgICAgICAgICAgICBpMiA9IFwiQXJyYXksIGxlbmd0aFwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBhLk1BUDpcbiAgICAgICAgICAgICAgICAgIGkyID0gXCJNYXAsIGNvdW50XCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGEuQllURV9TVFJJTkc6XG4gICAgICAgICAgICAgICAgICBpMiA9IFwiQnl0ZXMsIGxlbmd0aFwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBhLlVURjhfU1RSSU5HOlxuICAgICAgICAgICAgICAgICAgaTIgPSBcIlN0cmluZywgbGVuZ3RoXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGEuU0lNUExFX0ZMT0FUOlxuICAgICAgICAgICAgICAgICAgaTIgPSB0MyA9PT0gMSA/IFwiU2ltcGxlIHZhbHVlLFwiIDogXCJGbG9hdCxcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLnB1c2goYCR7aTJ9IG5leHQgJHt0M30gYnl0ZSR7bCh0Myl9XG5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9vbl9zdGFydF9zdHJpbmcoZTMsIHQzLCByMywgbjMpIHtcbiAgICAgICAgICAgICAgbGV0IGkyID0gXCJcIjtcbiAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmRlcHRoKyssIGUzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBhLkJZVEVfU1RSSU5HOlxuICAgICAgICAgICAgICAgICAgaTIgPSBgQnl0ZXMsIGxlbmd0aDogJHt0M31gO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBhLlVURjhfU1RSSU5HOlxuICAgICAgICAgICAgICAgICAgaTIgPSBgU3RyaW5nLCBsZW5ndGg6ICR7dDMudG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMucHVzaChgJHtpMn1cbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX29uX3N0YXJ0KGUzLCB0MywgcjMsIG4zKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5kZXB0aCsrLCByMykge1xuICAgICAgICAgICAgICAgIGNhc2UgYS5BUlJBWTpcbiAgICAgICAgICAgICAgICAgIHRoaXMucHVzaChgWyR7bjN9XSwgYCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGEuTUFQOlxuICAgICAgICAgICAgICAgICAgbjMgJSAyID8gdGhpcy5wdXNoKGB7VmFsOiR7TWF0aC5mbG9vcihuMyAvIDIpfX0sIGApIDogdGhpcy5wdXNoKGB7S2V5OiR7TWF0aC5mbG9vcihuMyAvIDIpfX0sIGApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN3aXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGEuVEFHOlxuICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoKGBUYWcgIyR7dDN9YCksIHQzID09PSAyNCAmJiB0aGlzLnB1c2goXCIgRW5jb2RlZCBDQk9SIGRhdGEgaXRlbVwiKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgYS5BUlJBWTpcbiAgICAgICAgICAgICAgICAgIHQzID09PSBmLlNUUkVBTSA/IHRoaXMucHVzaChcIkFycmF5IChzdHJlYW1pbmcpXCIpIDogdGhpcy5wdXNoKGBBcnJheSwgJHt0M30gaXRlbSR7bCh0Myl9YCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGEuTUFQOlxuICAgICAgICAgICAgICAgICAgdDMgPT09IGYuU1RSRUFNID8gdGhpcy5wdXNoKFwiTWFwIChzdHJlYW1pbmcpXCIpIDogdGhpcy5wdXNoKGBNYXAsICR7dDN9IHBhaXIke2wodDMpfWApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBhLkJZVEVfU1RSSU5HOlxuICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoKFwiQnl0ZXMgKHN0cmVhbWluZylcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGEuVVRGOF9TVFJJTkc6XG4gICAgICAgICAgICAgICAgICB0aGlzLnB1c2goXCJTdHJpbmcgKHN0cmVhbWluZylcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5wdXNoKFwiXFxuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX29uX3N0b3AoZTMpIHtcbiAgICAgICAgICAgICAgdGhpcy5kZXB0aC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX29uX3ZhbHVlKGUzLCB0MywgcjMsIG4zKSB7XG4gICAgICAgICAgICAgIGlmIChlMyAhPT0gZi5CUkVBSylcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHQzKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIGEuQVJSQVk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaChgWyR7cjN9XSwgYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBhLk1BUDpcbiAgICAgICAgICAgICAgICAgICAgcjMgJSAyID8gdGhpcy5wdXNoKGB7VmFsOiR7TWF0aC5mbG9vcihyMyAvIDIpfX0sIGApIDogdGhpcy5wdXNoKGB7S2V5OiR7TWF0aC5mbG9vcihyMyAvIDIpfX0sIGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgbzIgPSBpLmNib3JWYWx1ZVRvU3RyaW5nKGUzLCAtMSAvIDApO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBlMyA9PSBcInN0cmluZ1wiIHx8IGguaXNCdWZmZXIoZTMpID8gKGUzLmxlbmd0aCA+IDAgJiYgKHRoaXMucHVzaChvMiksIHRoaXMucHVzaChcIlxcblwiKSksIHRoaXMuZGVwdGgtLSkgOiAodGhpcy5wdXNoKG8yKSwgdGhpcy5wdXNoKFwiXFxuXCIpKSwgbjMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHUuT05FOlxuICAgICAgICAgICAgICAgIGNhc2UgdS5UV086XG4gICAgICAgICAgICAgICAgY2FzZSB1LkZPVVI6XG4gICAgICAgICAgICAgICAgY2FzZSB1LkVJR0hUOlxuICAgICAgICAgICAgICAgICAgdGhpcy5kZXB0aC0tO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25fZGF0YSgpIHtcbiAgICAgICAgICAgICAgdGhpcy5wdXNoKFwiMHhcIiksIHRoaXMucHVzaCh0aGlzLmFsbC5yZWFkKCkudG9TdHJpbmcoXCJoZXhcIikpLCB0aGlzLnB1c2goXCJcXG5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGUyLmV4cG9ydHMgPSBjO1xuICAgICAgICB9LCA2NjogKGUyLCB0MikgPT4ge1xuICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAgIHQyLk1UID0geyBQT1NfSU5UOiAwLCBORUdfSU5UOiAxLCBCWVRFX1NUUklORzogMiwgVVRGOF9TVFJJTkc6IDMsIEFSUkFZOiA0LCBNQVA6IDUsIFRBRzogNiwgU0lNUExFX0ZMT0FUOiA3IH0sIHQyLlRBRyA9IHsgREFURV9TVFJJTkc6IDAsIERBVEVfRVBPQ0g6IDEsIFBPU19CSUdJTlQ6IDIsIE5FR19CSUdJTlQ6IDMsIERFQ0lNQUxfRlJBQzogNCwgQklHRkxPQVQ6IDUsIEJBU0U2NFVSTF9FWFBFQ1RFRDogMjEsIEJBU0U2NF9FWFBFQ1RFRDogMjIsIEJBU0UxNl9FWFBFQ1RFRDogMjMsIENCT1I6IDI0LCBVUkk6IDMyLCBCQVNFNjRVUkw6IDMzLCBCQVNFNjQ6IDM0LCBSRUdFWFA6IDM1LCBNSU1FOiAzNiwgU0VUOiAyNTggfSwgdDIuTlVNQllURVMgPSB7IFpFUk86IDAsIE9ORTogMjQsIFRXTzogMjUsIEZPVVI6IDI2LCBFSUdIVDogMjcsIElOREVGSU5JVEU6IDMxIH0sIHQyLlNJTVBMRSA9IHsgRkFMU0U6IDIwLCBUUlVFOiAyMSwgTlVMTDogMjIsIFVOREVGSU5FRDogMjMgfSwgdDIuU1lNUyA9IHsgTlVMTDogU3ltYm9sLmZvcihcImdpdGh1Yi5jb20vaGlsZGpqL25vZGUtY2Jvci9udWxsXCIpLCBVTkRFRklORUQ6IFN5bWJvbC5mb3IoXCJnaXRodWIuY29tL2hpbGRqai9ub2RlLWNib3IvdW5kZWZcIiksIFBBUkVOVDogU3ltYm9sLmZvcihcImdpdGh1Yi5jb20vaGlsZGpqL25vZGUtY2Jvci9wYXJlbnRcIiksIEJSRUFLOiBTeW1ib2wuZm9yKFwiZ2l0aHViLmNvbS9oaWxkamovbm9kZS1jYm9yL2JyZWFrXCIpLCBTVFJFQU06IFN5bWJvbC5mb3IoXCJnaXRodWIuY29tL2hpbGRqai9ub2RlLWNib3Ivc3RyZWFtXCIpIH0sIHQyLlNISUZUMzIgPSA0Mjk0OTY3Mjk2LCB0Mi5CSSA9IHsgTUlOVVNfT05FOiBCaWdJbnQoLTEpLCBORUdfTUFYOiBCaWdJbnQoLTEpIC0gQmlnSW50KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSwgTUFYSU5UMzI6IEJpZ0ludChcIjB4ZmZmZmZmZmZcIiksIE1BWElOVDY0OiBCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZcIiksIFNISUZUMzI6IEJpZ0ludCh0Mi5TSElGVDMyKSB9O1xuICAgICAgICB9LCA3NzQ6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgY29uc3QgbjIgPSByMig3MSksIGkgPSByMig3ODUpLCBvID0gcjIoMzIpLCBzID0gcjIoODczKSwgYSA9IHIyKDIwMiksIHUgPSAocjIoODMwKSwgcjIoNjYpKSwgeyBNVDogZiwgTlVNQllURVM6IGgsIFNZTVM6IGwsIEJJOiBjIH0gPSB1LCB7IEJ1ZmZlcjogZCB9ID0gcjIoNzY0KSwgcCA9IFN5bWJvbChcImNvdW50XCIpLCBnID0gU3ltYm9sKFwibWFqb3IgdHlwZVwiKSwgeSA9IFN5bWJvbChcImVycm9yXCIpLCBiID0gU3ltYm9sKFwibm90IGZvdW5kXCIpO1xuICAgICAgICAgIGZ1bmN0aW9uIHcoZTMsIHQzLCByMykge1xuICAgICAgICAgICAgY29uc3QgbjMgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBuM1twXSA9IHIzLCBuM1tsLlBBUkVOVF0gPSBlMywgbjNbZ10gPSB0MywgbjM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIF8oZTMsIHQzKSB7XG4gICAgICAgICAgICBjb25zdCByMyA9IG5ldyBhKCk7XG4gICAgICAgICAgICByZXR1cm4gcjNbcF0gPSAtMSwgcjNbbC5QQVJFTlRdID0gZTMsIHIzW2ddID0gdDMsIHIzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGFzcyBtIGV4dGVuZHMgRXJyb3Ige1xuICAgICAgICAgICAgY29uc3RydWN0b3IoZTMsIHQzKSB7XG4gICAgICAgICAgICAgIHN1cGVyKGBVbmV4cGVjdGVkIGRhdGE6IDB4JHtlMy50b1N0cmluZygxNil9YCksIHRoaXMubmFtZSA9IFwiVW5leHBlY3RlZERhdGFFcnJvclwiLCB0aGlzLmJ5dGUgPSBlMywgdGhpcy52YWx1ZSA9IHQzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBFKGUzLCB0Mykge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgZTMpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgb3B0aW9uczoge30sIGNiOiBlMyB9O1xuICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgb3B0aW9uczogeyBlbmNvZGluZzogZTMgfSwgY2I6IHQzIH07XG4gICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4geyBvcHRpb25zOiBlMyB8fCB7fSwgY2I6IHQzIH07XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gb3B0aW9uIHR5cGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNsYXNzIHYgZXh0ZW5kcyBuMiB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihlMyA9IHt9KSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgdGFnczogdDMgPSB7fSwgbWF4X2RlcHRoOiByMyA9IC0xLCBwcmVmZXJXZWI6IG4zID0gZmFsc2UsIHJlcXVpcmVkOiBpMiA9IGZhbHNlLCBlbmNvZGluZzogbzIgPSBcImhleFwiLCBleHRlbmRlZFJlc3VsdHM6IHMyID0gZmFsc2UsIHByZXZlbnREdXBsaWNhdGVLZXlzOiB1MiA9IGZhbHNlLCAuLi5mMiB9ID0gZTM7XG4gICAgICAgICAgICAgIHN1cGVyKHsgZGVmYXVsdEVuY29kaW5nOiBvMiwgLi4uZjIgfSksIHRoaXMucnVubmluZyA9IHRydWUsIHRoaXMubWF4X2RlcHRoID0gcjMsIHRoaXMudGFncyA9IHQzLCB0aGlzLnByZWZlcldlYiA9IG4zLCB0aGlzLmV4dGVuZGVkUmVzdWx0cyA9IHMyLCB0aGlzLnJlcXVpcmVkID0gaTIsIHRoaXMucHJldmVudER1cGxpY2F0ZUtleXMgPSB1MiwgczIgJiYgKHRoaXMuYnMub24oXCJyZWFkXCIsIHRoaXMuX29uUmVhZC5iaW5kKHRoaXMpKSwgdGhpcy52YWx1ZUJ5dGVzID0gbmV3IGEoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgbnVsbGNoZWNrKGUzKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGwuTlVMTDpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGNhc2UgbC5VTkRFRklORUQ6XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsdWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZTM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBkZWNvZGVGaXJzdFN5bmMoZTMsIHQzID0ge30pIHtcbiAgICAgICAgICAgICAgaWYgKGUzID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImlucHV0IHJlcXVpcmVkXCIpO1xuICAgICAgICAgICAgICAoeyBvcHRpb25zOiB0MyB9ID0gRSh0MykpO1xuICAgICAgICAgICAgICBjb25zdCB7IGVuY29kaW5nOiByMyA9IFwiaGV4XCIsIC4uLm4zIH0gPSB0MywgaTIgPSBuZXcgdihuMyksIG8yID0gcy5ndWVzc0VuY29kaW5nKGUzLCByMyksIGEyID0gaTIuX3BhcnNlKCk7XG4gICAgICAgICAgICAgIGxldCB1MiA9IGEyLm5leHQoKTtcbiAgICAgICAgICAgICAgZm9yICg7ICF1Mi5kb25lOyApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlNCA9IG8yLnJlYWQodTIudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChlNCA9PSBudWxsIHx8IGU0Lmxlbmd0aCAhPT0gdTIudmFsdWUpXG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnN1ZmZpY2llbnQgZGF0YVwiKTtcbiAgICAgICAgICAgICAgICBpMi5leHRlbmRlZFJlc3VsdHMgJiYgaTIudmFsdWVCeXRlcy53cml0ZShlNCksIHUyID0gYTIubmV4dChlNCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGV0IGYyID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKGkyLmV4dGVuZGVkUmVzdWx0cylcbiAgICAgICAgICAgICAgICBmMiA9IHUyLnZhbHVlLCBmMi51bnVzZWQgPSBvMi5yZWFkKCk7XG4gICAgICAgICAgICAgIGVsc2UgaWYgKGYyID0gdi5udWxsY2hlY2sodTIudmFsdWUpLCBvMi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZTQgPSBvMi5yZWFkKDEpO1xuICAgICAgICAgICAgICAgIHRocm93IG8yLnVuc2hpZnQoZTQpLCBuZXcgbShlNFswXSwgZjIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBmMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBkZWNvZGVBbGxTeW5jKGUzLCB0MyA9IHt9KSB7XG4gICAgICAgICAgICAgIGlmIChlMyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnB1dCByZXF1aXJlZFwiKTtcbiAgICAgICAgICAgICAgKHsgb3B0aW9uczogdDMgfSA9IEUodDMpKTtcbiAgICAgICAgICAgICAgY29uc3QgeyBlbmNvZGluZzogcjMgPSBcImhleFwiLCAuLi5uMyB9ID0gdDMsIGkyID0gbmV3IHYobjMpLCBvMiA9IHMuZ3Vlc3NFbmNvZGluZyhlMywgcjMpLCBhMiA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKDsgbzIubGVuZ3RoID4gMDsgKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZTQgPSBpMi5fcGFyc2UoKTtcbiAgICAgICAgICAgICAgICBsZXQgdDQgPSBlNC5uZXh0KCk7XG4gICAgICAgICAgICAgICAgZm9yICg7ICF0NC5kb25lOyApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHI0ID0gbzIucmVhZCh0NC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBpZiAocjQgPT0gbnVsbCB8fCByNC5sZW5ndGggIT09IHQ0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnN1ZmZpY2llbnQgZGF0YVwiKTtcbiAgICAgICAgICAgICAgICAgIGkyLmV4dGVuZGVkUmVzdWx0cyAmJiBpMi52YWx1ZUJ5dGVzLndyaXRlKHI0KSwgdDQgPSBlNC5uZXh0KHI0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYTIucHVzaCh2Lm51bGxjaGVjayh0NC52YWx1ZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBhMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBkZWNvZGVGaXJzdChlMywgdDMgPSB7fSwgcjMgPSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChlMyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnB1dCByZXF1aXJlZFwiKTtcbiAgICAgICAgICAgICAgKHsgb3B0aW9uczogdDMsIGNiOiByMyB9ID0gRSh0MywgcjMpKTtcbiAgICAgICAgICAgICAgY29uc3QgeyBlbmNvZGluZzogbjMgPSBcImhleFwiLCByZXF1aXJlZDogaTIgPSBmYWxzZSwgLi4ubzIgfSA9IHQzLCBhMiA9IG5ldyB2KG8yKTtcbiAgICAgICAgICAgICAgbGV0IHUyID0gYjtcbiAgICAgICAgICAgICAgY29uc3QgZjIgPSBzLmd1ZXNzRW5jb2RpbmcoZTMsIG4zKSwgaDIgPSBuZXcgUHJvbWlzZSgoZTQsIHQ0KSA9PiB7XG4gICAgICAgICAgICAgICAgYTIub24oXCJkYXRhXCIsIChlNSkgPT4ge1xuICAgICAgICAgICAgICAgICAgdTIgPSB2Lm51bGxjaGVjayhlNSksIGEyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSksIGEyLm9uY2UoXCJlcnJvclwiLCAocjQpID0+IGEyLmV4dGVuZGVkUmVzdWx0cyAmJiByNCBpbnN0YW5jZW9mIG0gPyAodTIudW51c2VkID0gYTIuYnMuc2xpY2UoKSwgZTQodTIpKSA6ICh1MiAhPT0gYiAmJiAocjQudmFsdWUgPSB1MiksIHUyID0geSwgYTIuY2xvc2UoKSwgdDQocjQpKSksIGEyLm9uY2UoXCJlbmRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc3dpdGNoICh1Mikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkyID8gdDQobmV3IEVycm9yKFwiTm8gQ0JPUiBmb3VuZFwiKSkgOiBlNCh1Mik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgeTpcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU0KHUyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcjMgPT0gXCJmdW5jdGlvblwiICYmIGgyLnRoZW4oKGU0KSA9PiByMyhudWxsLCBlNCksIHIzKSwgZjIucGlwZShhMiksIGgyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIGRlY29kZUFsbChlMywgdDMgPSB7fSwgcjMgPSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChlMyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnB1dCByZXF1aXJlZFwiKTtcbiAgICAgICAgICAgICAgKHsgb3B0aW9uczogdDMsIGNiOiByMyB9ID0gRSh0MywgcjMpKTtcbiAgICAgICAgICAgICAgY29uc3QgeyBlbmNvZGluZzogbjMgPSBcImhleFwiLCAuLi5pMiB9ID0gdDMsIG8yID0gbmV3IHYoaTIpLCBhMiA9IFtdO1xuICAgICAgICAgICAgICBvMi5vbihcImRhdGFcIiwgKGU0KSA9PiBhMi5wdXNoKHYubnVsbGNoZWNrKGU0KSkpO1xuICAgICAgICAgICAgICBjb25zdCB1MiA9IG5ldyBQcm9taXNlKChlNCwgdDQpID0+IHtcbiAgICAgICAgICAgICAgICBvMi5vbihcImVycm9yXCIsIHQ0KSwgbzIub24oXCJlbmRcIiwgKCkgPT4gZTQoYTIpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcjMgPT0gXCJmdW5jdGlvblwiICYmIHUyLnRoZW4oKGU0KSA9PiByMyh2b2lkIDAsIGU0KSwgKGU0KSA9PiByMyhlNCwgdm9pZCAwKSksIHMuZ3Vlc3NFbmNvZGluZyhlMywgbjMpLnBpcGUobzIpLCB1MjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsb3NlKCkge1xuICAgICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZSwgdGhpcy5fX2ZyZXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9vblJlYWQoZTMpIHtcbiAgICAgICAgICAgICAgdGhpcy52YWx1ZUJ5dGVzLndyaXRlKGUzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICpfcGFyc2UoKSB7XG4gICAgICAgICAgICAgIGxldCBlMyA9IG51bGwsIHQzID0gMCwgcjMgPSBudWxsO1xuICAgICAgICAgICAgICBmb3IgKDsgOyApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhfZGVwdGggPj0gMCAmJiB0MyA+IHRoaXMubWF4X2RlcHRoKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYXhpbXVtIGRlcHRoICR7dGhpcy5tYXhfZGVwdGh9IGV4Y2VlZGVkYCk7XG4gICAgICAgICAgICAgICAgY29uc3QgW24zXSA9IHlpZWxkIDE7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcpXG4gICAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLmJzLnVuc2hpZnQoZC5mcm9tKFtuM10pKSwgbmV3IG0objMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHUyID0gbjMgPj4gNSwgeTIgPSAzMSAmIG4zLCBiMiA9IGUzID09IG51bGwgPyB2b2lkIDAgOiBlM1tnXSwgRTIgPSBlMyA9PSBudWxsID8gdm9pZCAwIDogZTMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoeTIpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgaC5PTkU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcIm1vcmUtYnl0ZXNcIiwgdTIsIDEsIGIyLCBFMiksIFtyM10gPSB5aWVsZCAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgaC5UV086XG4gICAgICAgICAgICAgICAgICBjYXNlIGguRk9VUjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgaC5FSUdIVDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlNCA9IDEgPDwgeTIgLSAyNDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibW9yZS1ieXRlc1wiLCB1MiwgZTQsIGIyLCBFMik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQ0ID0geWllbGQgZTQ7XG4gICAgICAgICAgICAgICAgICAgIHIzID0gdTIgPT09IGYuU0lNUExFX0ZMT0FUID8gdDQgOiBzLnBhcnNlQ0JPUmludCh5MiwgdDQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgICAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgdGhpcy5ydW5uaW5nID0gZmFsc2UsIG5ldyBFcnJvcihgQWRkaXRpb25hbCBpbmZvIG5vdCBpbXBsZW1lbnRlZDogJHt5Mn1gKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgaC5JTkRFRklOSVRFOlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHUyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBmLlBPU19JTlQ6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBmLk5FR19JTlQ6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBmLlRBRzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpbmRlZmluaXRlIGVuY29kaW5nIGZvciBNVCAke3UyfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHIzID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcjMgPSB5MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoICh1Mikge1xuICAgICAgICAgICAgICAgICAgY2FzZSBmLlBPU19JTlQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBmLk5FR19JTlQ6XG4gICAgICAgICAgICAgICAgICAgIHIzID0gcjMgPT09IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSID8gYy5ORUdfTUFYIDogdHlwZW9mIHIzID09IFwiYmlnaW50XCIgPyBjLk1JTlVTX09ORSAtIHIzIDogLTEgLSByMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIGYuQllURV9TVFJJTkc6XG4gICAgICAgICAgICAgICAgICBjYXNlIGYuVVRGOF9TVFJJTkc6XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdGFydC1zdHJpbmdcIiwgdTIsIHIzLCBiMiwgRTIpLCByMyA9IHUyID09PSBmLlVURjhfU1RSSU5HID8gXCJcIiA6IHRoaXMucHJlZmVyV2ViID8gbmV3IFVpbnQ4QXJyYXkoMCkgOiBkLmFsbG9jVW5zYWZlKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInN0YXJ0XCIsIHUyLCBsLlNUUkVBTSwgYjIsIEUyKSwgZTMgPSBfKGUzLCB1MiksIHQzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwic3RhcnQtc3RyaW5nXCIsIHUyLCByMywgYjIsIEUyKSwgcjMgPSB5aWVsZCByMywgdTIgPT09IGYuVVRGOF9TVFJJTkcgPyByMyA9IHMudXRmOChyMykgOiB0aGlzLnByZWZlcldlYiAmJiAocjMgPSBuZXcgVWludDhBcnJheShyMy5idWZmZXIsIHIzLmJ5dGVPZmZzZXQsIHIzLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBmLkFSUkFZOlxuICAgICAgICAgICAgICAgICAgY2FzZSBmLk1BUDpcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyMykge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIzID0gdTIgPT09IGYuTUFQID8ge30gOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdGFydFwiLCB1MiwgbC5TVFJFQU0sIGIyLCBFMiksIGUzID0gdyhlMywgdTIsIC0xKSwgdDMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdGFydFwiLCB1MiwgcjMsIGIyLCBFMiksIGUzID0gdyhlMywgdTIsIHIzICogKHUyIC0gMykpLCB0MysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIGYuVEFHOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdGFydFwiLCB1MiwgcjMsIGIyLCBFMiksIGUzID0gdyhlMywgdTIsIDEpLCBlMy5wdXNoKHIzKSwgdDMrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBjYXNlIGYuU0lNUExFX0ZMT0FUOlxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHIzID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoeTIgPT09IGguT05FICYmIHIzIDwgMzIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdHdvLWJ5dGUgZW5jb2Rpbmcgb2Ygc2ltcGxlIHZhbHVlICR7cjN9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdDQgPSBlMyAhPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIHIzID0gby5kZWNvZGUocjMsIHQ0LCB0NCAmJiBlM1twXSA8IDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICByMyA9IHMucGFyc2VDQk9SZmxvYXQocjMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJ2YWx1ZVwiLCByMywgYjIsIEUyLCB5Mik7XG4gICAgICAgICAgICAgICAgbGV0IFMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKDsgZTMgIT0gbnVsbDsgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAocjMgPT09IGwuQlJFQUspXG4gICAgICAgICAgICAgICAgICAgIGUzW3BdID0gMTtcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZTMpKVxuICAgICAgICAgICAgICAgICAgICBlMy5wdXNoKHIzKTtcbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0NCA9IGUzW2ddO1xuICAgICAgICAgICAgICAgICAgICBpZiAodDQgIT0gbnVsbCAmJiB0NCAhPT0gdTIpXG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgdGhpcy5ydW5uaW5nID0gZmFsc2UsIG5ldyBFcnJvcihcIkludmFsaWQgbWFqb3IgdHlwZSBpbiBpbmRlZmluaXRlIGVuY29kaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICBlMy53cml0ZShyMyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoLS1lM1twXSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIFMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICgtLXQzLCBkZWxldGUgZTNbcF0sIEFycmF5LmlzQXJyYXkoZTMpKVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUzW2ddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBmLkFSUkFZOlxuICAgICAgICAgICAgICAgICAgICAgICAgcjMgPSBlMztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZi5NQVA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0NCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZTMubGVuZ3RoICUgMiAhPSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWFwIGxlbmd0aDogJHtlMy5sZW5ndGh9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByNCA9IDAsIG41ID0gZTMubGVuZ3RoOyByNCA8IG41OyByNCArPSAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGUzW3I0XSAhPSBcInN0cmluZ1wiIHx8IGUzW3I0XSA9PT0gXCJfX3Byb3RvX19cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByMyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0NSA9IDAsIG41ID0gZTMubGVuZ3RoOyB0NSA8IG41OyB0NSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldmVudER1cGxpY2F0ZUtleXMgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIzLCBlM1t0NV0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIGtleXMgaW4gYSBtYXBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcjNbZTNbdDVdXSA9IGUzW3Q1ICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHIzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdDUgPSAwLCBuNSA9IGUzLmxlbmd0aDsgdDUgPCBuNTsgdDUgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXZlbnREdXBsaWNhdGVLZXlzICYmIHIzLmhhcyhlM1t0NV0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIGtleXMgaW4gYSBtYXBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcjMuc2V0KGUzW3Q1XSwgZTNbdDUgKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIGYuVEFHOlxuICAgICAgICAgICAgICAgICAgICAgICAgcjMgPSBuZXcgaShlM1swXSwgZTNbMV0pLmNvbnZlcnQodGhpcy50YWdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZTMgaW5zdGFuY2VvZiBhKVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUzW2ddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBmLkJZVEVfU1RSSU5HOlxuICAgICAgICAgICAgICAgICAgICAgICAgcjMgPSBlMy5zbGljZSgpLCB0aGlzLnByZWZlcldlYiAmJiAocjMgPSBuZXcgVWludDhBcnJheShyMy5idWZmZXIsIHIzLmJ5dGVPZmZzZXQsIHIzLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBmLlVURjhfU1RSSU5HOlxuICAgICAgICAgICAgICAgICAgICAgICAgcjMgPSBlMy50b1N0cmluZyhcInV0Zi04XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJzdG9wXCIsIGUzW2ddKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG40ID0gZTM7XG4gICAgICAgICAgICAgICAgICBlMyA9IGUzW2wuUEFSRU5UXSwgZGVsZXRlIG40W2wuUEFSRU5UXSwgZGVsZXRlIG40W2ddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIVMpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4dGVuZGVkUmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlNCA9IHRoaXMudmFsdWVCeXRlcy5zbGljZSgpLCB0NCA9IHsgdmFsdWU6IHYubnVsbGNoZWNrKHIzKSwgYnl0ZXM6IGU0LCBsZW5ndGg6IGU0Lmxlbmd0aCB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUJ5dGVzID0gbmV3IGEoKSwgdDQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcjM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHYuTk9UX0ZPVU5EID0gYiwgZTIuZXhwb3J0cyA9IHY7XG4gICAgICAgIH0sIDY5NDogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICBjb25zdCBuMiA9IHIyKDgzMCksIGkgPSByMig3NzQpLCBvID0gcjIoODczKSwgcyA9IHIyKDIwMiksIHsgTVQ6IGEsIFNZTVM6IHUgfSA9IHIyKDY2KTtcbiAgICAgICAgICBjbGFzcyBmIGV4dGVuZHMgbjIuVHJhbnNmb3JtIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGUzID0ge30pIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBzZXBhcmF0b3I6IHQzID0gXCJcXG5cIiwgc3RyZWFtX2Vycm9yczogcjMgPSBmYWxzZSwgdGFnczogbjMsIG1heF9kZXB0aDogbzIsIHByZWZlcldlYjogczIsIGVuY29kaW5nOiBhMiwgLi4udTIgfSA9IGUzO1xuICAgICAgICAgICAgICBzdXBlcih7IC4uLnUyLCByZWFkYWJsZU9iamVjdE1vZGU6IGZhbHNlLCB3cml0YWJsZU9iamVjdE1vZGU6IGZhbHNlIH0pLCB0aGlzLmZsb2F0X2J5dGVzID0gLTEsIHRoaXMuc2VwYXJhdG9yID0gdDMsIHRoaXMuc3RyZWFtX2Vycm9ycyA9IHIzLCB0aGlzLnBhcnNlciA9IG5ldyBpKHsgdGFnczogbjMsIG1heF9kZXB0aDogbzIsIHByZWZlcldlYjogczIsIGVuY29kaW5nOiBhMiB9KSwgdGhpcy5wYXJzZXIub24oXCJtb3JlLWJ5dGVzXCIsIHRoaXMuX29uX21vcmUuYmluZCh0aGlzKSksIHRoaXMucGFyc2VyLm9uKFwidmFsdWVcIiwgdGhpcy5fb25fdmFsdWUuYmluZCh0aGlzKSksIHRoaXMucGFyc2VyLm9uKFwic3RhcnRcIiwgdGhpcy5fb25fc3RhcnQuYmluZCh0aGlzKSksIHRoaXMucGFyc2VyLm9uKFwic3RvcFwiLCB0aGlzLl9vbl9zdG9wLmJpbmQodGhpcykpLCB0aGlzLnBhcnNlci5vbihcImRhdGFcIiwgdGhpcy5fb25fZGF0YS5iaW5kKHRoaXMpKSwgdGhpcy5wYXJzZXIub24oXCJlcnJvclwiLCB0aGlzLl9vbl9lcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90cmFuc2Zvcm0oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIud3JpdGUoZTMsIHQzLCByMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZmx1c2goZTMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLl9mbHVzaCgodDMpID0+IHRoaXMuc3RyZWFtX2Vycm9ycyA/ICh0MyAmJiB0aGlzLl9vbl9lcnJvcih0MyksIGUzKCkpIDogZTModDMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBkaWFnbm9zZShlMywgdDMgPSB7fSwgcjMgPSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChlMyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnB1dCByZXF1aXJlZFwiKTtcbiAgICAgICAgICAgICAgKHsgb3B0aW9uczogdDMsIGNiOiByMyB9ID0gZnVuY3Rpb24oZTQsIHQ0KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgZTQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBvcHRpb25zOiB7fSwgY2I6IGU0IH07XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG9wdGlvbnM6IHsgZW5jb2Rpbmc6IGU0IH0sIGNiOiB0NCB9O1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBvcHRpb25zOiBlNCB8fCB7fSwgY2I6IHQ0IH07XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBvcHRpb24gdHlwZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0odDMsIHIzKSk7XG4gICAgICAgICAgICAgIGNvbnN0IHsgZW5jb2Rpbmc6IG4zID0gXCJoZXhcIiwgLi4uaTIgfSA9IHQzLCBhMiA9IG5ldyBzKCksIHUyID0gbmV3IGYoaTIpO1xuICAgICAgICAgICAgICBsZXQgaCA9IG51bGw7XG4gICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcjMgPT0gXCJmdW5jdGlvblwiID8gKHUyLm9uKFwiZW5kXCIsICgpID0+IHIzKG51bGwsIGEyLnRvU3RyaW5nKFwidXRmOFwiKSkpLCB1Mi5vbihcImVycm9yXCIsIHIzKSkgOiBoID0gbmV3IFByb21pc2UoKGU0LCB0NCkgPT4ge1xuICAgICAgICAgICAgICAgIHUyLm9uKFwiZW5kXCIsICgpID0+IGU0KGEyLnRvU3RyaW5nKFwidXRmOFwiKSkpLCB1Mi5vbihcImVycm9yXCIsIHQ0KTtcbiAgICAgICAgICAgICAgfSksIHUyLnBpcGUoYTIpLCBvLmd1ZXNzRW5jb2RpbmcoZTMsIG4zKS5waXBlKHUyKSwgaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9vbl9lcnJvcihlMykge1xuICAgICAgICAgICAgICB0aGlzLnN0cmVhbV9lcnJvcnMgPyB0aGlzLnB1c2goZTMudG9TdHJpbmcoKSkgOiB0aGlzLmVtaXQoXCJlcnJvclwiLCBlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25fbW9yZShlMywgdDMsIHIzLCBuMykge1xuICAgICAgICAgICAgICBlMyA9PT0gYS5TSU1QTEVfRkxPQVQgJiYgKHRoaXMuZmxvYXRfYnl0ZXMgPSB7IDI6IDEsIDQ6IDIsIDg6IDMgfVt0M10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2ZvcmUoZTMsIHQzKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGEuQllURV9TVFJJTkc6XG4gICAgICAgICAgICAgICAgY2FzZSBhLlVURjhfU1RSSU5HOlxuICAgICAgICAgICAgICAgIGNhc2UgYS5BUlJBWTpcbiAgICAgICAgICAgICAgICAgIHQzID4gMCAmJiB0aGlzLnB1c2goXCIsIFwiKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgYS5NQVA6XG4gICAgICAgICAgICAgICAgICB0MyA+IDAgJiYgKHQzICUgMiA/IHRoaXMucHVzaChcIjogXCIpIDogdGhpcy5wdXNoKFwiLCBcIikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25fdmFsdWUoZTMsIHQzLCByMykge1xuICAgICAgICAgICAgICBpZiAoZTMgPT09IHUuQlJFQUspXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB0aGlzLl9mb3JlKHQzLCByMyk7XG4gICAgICAgICAgICAgIGNvbnN0IG4zID0gdGhpcy5mbG9hdF9ieXRlcztcbiAgICAgICAgICAgICAgdGhpcy5mbG9hdF9ieXRlcyA9IC0xLCB0aGlzLnB1c2goby5jYm9yVmFsdWVUb1N0cmluZyhlMywgbjMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9vbl9zdGFydChlMywgdDMsIHIzLCBuMykge1xuICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX2ZvcmUocjMsIG4zKSwgZTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGEuVEFHOlxuICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoKGAke3QzfShgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgYS5BUlJBWTpcbiAgICAgICAgICAgICAgICAgIHRoaXMucHVzaChcIltcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGEuTUFQOlxuICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoKFwie1wiKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgYS5CWVRFX1NUUklORzpcbiAgICAgICAgICAgICAgICBjYXNlIGEuVVRGOF9TVFJJTkc6XG4gICAgICAgICAgICAgICAgICB0aGlzLnB1c2goXCIoXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHQzID09PSB1LlNUUkVBTSAmJiB0aGlzLnB1c2goXCJfIFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9vbl9zdG9wKGUzKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoZTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGEuVEFHOlxuICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoKFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgYS5BUlJBWTpcbiAgICAgICAgICAgICAgICAgIHRoaXMucHVzaChcIl1cIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGEuTUFQOlxuICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoKFwifVwiKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgYS5CWVRFX1NUUklORzpcbiAgICAgICAgICAgICAgICBjYXNlIGEuVVRGOF9TVFJJTkc6XG4gICAgICAgICAgICAgICAgICB0aGlzLnB1c2goXCIpXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25fZGF0YSgpIHtcbiAgICAgICAgICAgICAgdGhpcy5wdXNoKHRoaXMuc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZTIuZXhwb3J0cyA9IGY7XG4gICAgICAgIH0sIDY2NjogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICBjb25zdCBuMiA9IHIyKDgzMCksIGkgPSByMigyMDIpLCBvID0gcjIoODczKSwgcyA9IHIyKDY2KSwgeyBNVDogYSwgTlVNQllURVM6IHUsIFNISUZUMzI6IGYsIFNJTVBMRTogaCwgU1lNUzogbCwgVEFHOiBjLCBCSTogZCB9ID0gcywgeyBCdWZmZXI6IHAgfSA9IHIyKDc2NCksIGcgPSBhLlNJTVBMRV9GTE9BVCA8PCA1IHwgdS5UV08sIHkgPSBhLlNJTVBMRV9GTE9BVCA8PCA1IHwgdS5GT1VSLCBiID0gYS5TSU1QTEVfRkxPQVQgPDwgNSB8IHUuRUlHSFQsIHcgPSBhLlNJTVBMRV9GTE9BVCA8PCA1IHwgaC5UUlVFLCBfID0gYS5TSU1QTEVfRkxPQVQgPDwgNSB8IGguRkFMU0UsIG0gPSBhLlNJTVBMRV9GTE9BVCA8PCA1IHwgaC5VTkRFRklORUQsIEUgPSBhLlNJTVBMRV9GTE9BVCA8PCA1IHwgaC5OVUxMLCB2ID0gcC5mcm9tKFsyNTVdKSwgUyA9IHAuZnJvbShcImY5N2UwMFwiLCBcImhleFwiKSwgVCA9IHAuZnJvbShcImY5ZmMwMFwiLCBcImhleFwiKSwgSSA9IHAuZnJvbShcImY5N2MwMFwiLCBcImhleFwiKSwgQSA9IHAuZnJvbShcImY5ODAwMFwiLCBcImhleFwiKSwgQiA9IHt9O1xuICAgICAgICAgIGxldCBSID0ge307XG4gICAgICAgICAgY2xhc3MgVSBleHRlbmRzIG4yLlRyYW5zZm9ybSB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihlMyA9IHt9KSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgY2Fub25pY2FsOiB0MyA9IGZhbHNlLCBlbmNvZGVVbmRlZmluZWQ6IHIzLCBkaXNhbGxvd1VuZGVmaW5lZEtleXM6IG4zID0gZmFsc2UsIGRhdGVUeXBlOiBpMiA9IFwibnVtYmVyXCIsIGNvbGxhcHNlQmlnSW50ZWdlcnM6IG8yID0gZmFsc2UsIGRldGVjdExvb3BzOiBzMiA9IGZhbHNlLCBvbWl0VW5kZWZpbmVkUHJvcGVydGllczogYTIgPSBmYWxzZSwgZ2VuVHlwZXM6IHUyID0gW10sIC4uLmYyIH0gPSBlMztcbiAgICAgICAgICAgICAgaWYgKHN1cGVyKHsgLi4uZjIsIHJlYWRhYmxlT2JqZWN0TW9kZTogZmFsc2UsIHdyaXRhYmxlT2JqZWN0TW9kZTogdHJ1ZSB9KSwgdGhpcy5jYW5vbmljYWwgPSB0MywgdGhpcy5lbmNvZGVVbmRlZmluZWQgPSByMywgdGhpcy5kaXNhbGxvd1VuZGVmaW5lZEtleXMgPSBuMywgdGhpcy5kYXRlVHlwZSA9IGZ1bmN0aW9uKGU0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlNClcbiAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZTQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJmbG9hdFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJmbG9hdFwiO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImludFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImludGVnZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaW50XCI7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBkYXRlVHlwZSBpbnZhbGlkLCBnb3QgXCIke2U0fVwiYCk7XG4gICAgICAgICAgICAgIH0oaTIpLCB0aGlzLmNvbGxhcHNlQmlnSW50ZWdlcnMgPSAhIXRoaXMuY2Fub25pY2FsIHx8IG8yLCB0aGlzLmRldGVjdExvb3BzID0gdm9pZCAwLCB0eXBlb2YgczIgPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICAgICAgczIgJiYgKHRoaXMuZGV0ZWN0TG9vcHMgPSBuZXcgV2Vha1NldCgpKTtcbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoczIgaW5zdGFuY2VvZiBXZWFrU2V0KSlcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJkZXRlY3RMb29wcyBtdXN0IGJlIGJvb2xlYW4gb3IgV2Vha1NldFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRldGVjdExvb3BzID0gczI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRoaXMub21pdFVuZGVmaW5lZFByb3BlcnRpZXMgPSBhMiwgdGhpcy5zZW1hbnRpY1R5cGVzID0geyAuLi5VLlNFTUFOVElDX1RZUEVTIH0sIEFycmF5LmlzQXJyYXkodTIpKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGU0ID0gMCwgdDQgPSB1Mi5sZW5ndGg7IGU0IDwgdDQ7IGU0ICs9IDIpXG4gICAgICAgICAgICAgICAgICB0aGlzLmFkZFNlbWFudGljVHlwZSh1MltlNF0sIHUyW2U0ICsgMV0pO1xuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbZTQsIHQ0XSBvZiBPYmplY3QuZW50cmllcyh1MikpXG4gICAgICAgICAgICAgICAgICB0aGlzLmFkZFNlbWFudGljVHlwZShlNCwgdDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RyYW5zZm9ybShlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICAgIHJldHVybiByMyh0aGlzLnB1c2hBbnkoZTMpID09PSBmYWxzZSA/IG5ldyBFcnJvcihcIlB1c2ggRXJyb3JcIikgOiB2b2lkIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2ZsdXNoKGUzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlMygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3B1c2hVSW50OChlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IHAuYWxsb2NVbnNhZmUoMSk7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZVVJbnQ4KGUzLCAwKSwgdGhpcy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9wdXNoVUludDE2QkUoZTMpIHtcbiAgICAgICAgICAgICAgY29uc3QgdDMgPSBwLmFsbG9jVW5zYWZlKDIpO1xuICAgICAgICAgICAgICByZXR1cm4gdDMud3JpdGVVSW50MTZCRShlMywgMCksIHRoaXMucHVzaCh0Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcHVzaFVJbnQzMkJFKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gcC5hbGxvY1Vuc2FmZSg0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLndyaXRlVUludDMyQkUoZTMsIDApLCB0aGlzLnB1c2godDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3B1c2hGbG9hdEJFKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gcC5hbGxvY1Vuc2FmZSg0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLndyaXRlRmxvYXRCRShlMywgMCksIHRoaXMucHVzaCh0Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcHVzaERvdWJsZUJFKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gcC5hbGxvY1Vuc2FmZSg4KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLndyaXRlRG91YmxlQkUoZTMsIDApLCB0aGlzLnB1c2godDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3B1c2hOYU4oKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcHVzaEluZmluaXR5KGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gZTMgPCAwID8gVCA6IEk7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2godDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3B1c2hGbG9hdChlMykge1xuICAgICAgICAgICAgICBpZiAodGhpcy5jYW5vbmljYWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0MyA9IHAuYWxsb2NVbnNhZmUoMik7XG4gICAgICAgICAgICAgICAgaWYgKG8ud3JpdGVIYWxmKHQzLCBlMykpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaFVJbnQ4KGcpICYmIHRoaXMucHVzaCh0Myk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZnJvdW5kKGUzKSA9PT0gZTMgPyB0aGlzLl9wdXNoVUludDgoeSkgJiYgdGhpcy5fcHVzaEZsb2F0QkUoZTMpIDogdGhpcy5fcHVzaFVJbnQ4KGIpICYmIHRoaXMuX3B1c2hEb3VibGVCRShlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcHVzaEludChlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG4zID0gdDMgPDwgNTtcbiAgICAgICAgICAgICAgaWYgKGUzIDwgMjQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hVSW50OChuMyB8IGUzKTtcbiAgICAgICAgICAgICAgaWYgKGUzIDw9IDI1NSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaFVJbnQ4KG4zIHwgdS5PTkUpICYmIHRoaXMuX3B1c2hVSW50OChlMyk7XG4gICAgICAgICAgICAgIGlmIChlMyA8PSA2NTUzNSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaFVJbnQ4KG4zIHwgdS5UV08pICYmIHRoaXMuX3B1c2hVSW50MTZCRShlMyk7XG4gICAgICAgICAgICAgIGlmIChlMyA8PSA0Mjk0OTY3Mjk1KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoVUludDgobjMgfCB1LkZPVVIpICYmIHRoaXMuX3B1c2hVSW50MzJCRShlMyk7XG4gICAgICAgICAgICAgIGxldCBpMiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICAgICAgICByZXR1cm4gdDMgPT09IGEuTkVHX0lOVCAmJiBpMi0tLCBlMyA8PSBpMiA/IHRoaXMuX3B1c2hVSW50OChuMyB8IHUuRUlHSFQpICYmIHRoaXMuX3B1c2hVSW50MzJCRShNYXRoLmZsb29yKGUzIC8gZikpICYmIHRoaXMuX3B1c2hVSW50MzJCRShlMyAlIGYpIDogdDMgPT09IGEuTkVHX0lOVCA/IHRoaXMuX3B1c2hGbG9hdChyMykgOiB0aGlzLl9wdXNoRmxvYXQoZTMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3B1c2hJbnROdW0oZTMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5pcyhlMywgLTApID8gdGhpcy5wdXNoKEEpIDogZTMgPCAwID8gdGhpcy5fcHVzaEludCgtZTMgLSAxLCBhLk5FR19JTlQsIGUzKSA6IHRoaXMuX3B1c2hJbnQoZTMsIGEuUE9TX0lOVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcHVzaE51bWJlcihlMykge1xuICAgICAgICAgICAgICByZXR1cm4gaXNOYU4oZTMpID8gdGhpcy5fcHVzaE5hTigpIDogaXNGaW5pdGUoZTMpID8gTWF0aC5yb3VuZChlMykgPT09IGUzID8gdGhpcy5fcHVzaEludE51bShlMykgOiB0aGlzLl9wdXNoRmxvYXQoZTMpIDogdGhpcy5fcHVzaEluZmluaXR5KGUzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9wdXNoU3RyaW5nKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gcC5ieXRlTGVuZ3RoKGUzLCBcInV0ZjhcIik7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoSW50KHQzLCBhLlVURjhfU1RSSU5HKSAmJiB0aGlzLnB1c2goZTMsIFwidXRmOFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9wdXNoQm9vbGVhbihlMykge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaFVJbnQ4KGUzID8gdyA6IF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3B1c2hVbmRlZmluZWQoZTMpIHtcbiAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgdGhpcy5lbmNvZGVVbmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaFVJbnQ4KG0pO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaEFueSh0aGlzLmVuY29kZVVuZGVmaW5lZChlMykpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZTQgPSBvLmJ1ZmZlcmlzaFRvQnVmZmVyKHRoaXMuZW5jb2RlVW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgIGlmIChlNClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChlNCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2hBbnkodGhpcy5lbmNvZGVVbmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3B1c2hOdWxsKGUzKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoVUludDgoRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcHVzaFRhZyhlMykge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaEludChlMywgYS5UQUcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3B1c2hKU0JpZ2ludChlMykge1xuICAgICAgICAgICAgICBsZXQgdDMgPSBhLlBPU19JTlQsIHIzID0gYy5QT1NfQklHSU5UO1xuICAgICAgICAgICAgICBpZiAoZTMgPCAwICYmIChlMyA9IC1lMyArIGQuTUlOVVNfT05FLCB0MyA9IGEuTkVHX0lOVCwgcjMgPSBjLk5FR19CSUdJTlQpLCB0aGlzLmNvbGxhcHNlQmlnSW50ZWdlcnMgJiYgZTMgPD0gZC5NQVhJTlQ2NClcbiAgICAgICAgICAgICAgICByZXR1cm4gZTMgPD0gNDI5NDk2NzI5NSA/IHRoaXMuX3B1c2hJbnQoTnVtYmVyKGUzKSwgdDMpIDogdGhpcy5fcHVzaFVJbnQ4KHQzIDw8IDUgfCB1LkVJR0hUKSAmJiB0aGlzLl9wdXNoVUludDMyQkUoTnVtYmVyKGUzIC8gZC5TSElGVDMyKSkgJiYgdGhpcy5fcHVzaFVJbnQzMkJFKE51bWJlcihlMyAlIGQuU0hJRlQzMikpO1xuICAgICAgICAgICAgICBsZXQgbjMgPSBlMy50b1N0cmluZygxNik7XG4gICAgICAgICAgICAgIG4zLmxlbmd0aCAlIDIgJiYgKG4zID0gYDAke24zfWApO1xuICAgICAgICAgICAgICBjb25zdCBpMiA9IHAuZnJvbShuMywgXCJoZXhcIik7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoVGFnKHIzKSAmJiBVLl9wdXNoQnVmZmVyKHRoaXMsIGkyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9wdXNoT2JqZWN0KGUzLCB0Mykge1xuICAgICAgICAgICAgICBpZiAoIWUzKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoTnVsbChlMyk7XG4gICAgICAgICAgICAgIGlmICghKHQzID0geyBpbmRlZmluaXRlOiBmYWxzZSwgc2tpcFR5cGVzOiBmYWxzZSwgLi4udDMgfSkuaW5kZWZpbml0ZSAmJiB0aGlzLmRldGVjdExvb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGV0ZWN0TG9vcHMuaGFzKGUzKSlcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxvb3AgZGV0ZWN0ZWQgd2hpbGUgQ0JPUiBlbmNvZGluZy5cXG5DYWxsIHJlbW92ZUxvb3BEZXRlY3RvcnMgYmVmb3JlIHJlc3VtaW5nLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRldGVjdExvb3BzLmFkZChlMyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCF0My5za2lwVHlwZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0NCA9IGUzLmVuY29kZUNCT1I7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0NCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdDQuY2FsbChlMywgdGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcjQgPSB0aGlzLnNlbWFudGljVHlwZXNbZTMuY29uc3RydWN0b3IubmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHI0KVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHI0LmNhbGwoZTMsIHRoaXMsIGUzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCByMyA9IE9iamVjdC5rZXlzKGUzKS5maWx0ZXIoKHQ0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcjQgPSB0eXBlb2YgZTNbdDRdO1xuICAgICAgICAgICAgICAgIHJldHVybiByNCAhPT0gXCJmdW5jdGlvblwiICYmICghdGhpcy5vbWl0VW5kZWZpbmVkUHJvcGVydGllcyB8fCByNCAhPT0gXCJ1bmRlZmluZWRcIik7XG4gICAgICAgICAgICAgIH0pLCBuMyA9IHt9O1xuICAgICAgICAgICAgICBpZiAodGhpcy5jYW5vbmljYWwgJiYgcjMuc29ydCgoZTQsIHQ0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcjQgPSBuM1tlNF0gfHwgKG4zW2U0XSA9IFUuZW5jb2RlKGU0KSksIGkzID0gbjNbdDRdIHx8IChuM1t0NF0gPSBVLmVuY29kZSh0NCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByNC5jb21wYXJlKGkzKTtcbiAgICAgICAgICAgICAgfSksIHQzLmluZGVmaW5pdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3B1c2hVSW50OChhLk1BUCA8PCA1IHwgdS5JTkRFRklOSVRFKSlcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fcHVzaEludChyMy5sZW5ndGgsIGEuTUFQKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIGxldCBpMiA9IG51bGw7XG4gICAgICAgICAgICAgIGZvciAobGV0IHQ0ID0gMCwgbzIgPSByMy5sZW5ndGg7IHQ0IDwgbzI7IHQ0KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvMyA9IHIzW3Q0XTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5vbmljYWwgJiYgKGkyID0gbjNbbzNdKSkge1xuICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnB1c2goaTIpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fcHVzaFN0cmluZyhvMykpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnB1c2hBbnkoZTNbbzNdKSlcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodDMuaW5kZWZpbml0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wdXNoKHYpKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmRldGVjdExvb3BzICYmIHRoaXMuZGV0ZWN0TG9vcHMuZGVsZXRlKGUzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZW5jb2RlQWxsKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gbmV3IGkoeyBoaWdoV2F0ZXJNYXJrOiB0aGlzLnJlYWRhYmxlSGlnaFdhdGVyTWFyayB9KTtcbiAgICAgICAgICAgICAgdGhpcy5waXBlKHQzKTtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB0NCBvZiBlMylcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hBbnkodDQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmQoKSwgdDMucmVhZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkU2VtYW50aWNUeXBlKGUzLCB0Mykge1xuICAgICAgICAgICAgICBjb25zdCByMyA9IHR5cGVvZiBlMyA9PSBcInN0cmluZ1wiID8gZTMgOiBlMy5uYW1lLCBuMyA9IHRoaXMuc2VtYW50aWNUeXBlc1tyM107XG4gICAgICAgICAgICAgIGlmICh0Mykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdDMgIT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImZ1biBtdXN0IGJlIG9mIHR5cGUgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY1R5cGVzW3IzXSA9IHQzO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBuMyAmJiBkZWxldGUgdGhpcy5zZW1hbnRpY1R5cGVzW3IzXTtcbiAgICAgICAgICAgICAgcmV0dXJuIG4zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHVzaEFueShlMykge1xuICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBlMykge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoTnVtYmVyKGUzKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaEpTQmlnaW50KGUzKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaFN0cmluZyhlMyk7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoQm9vbGVhbihlMyk7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hVbmRlZmluZWQoZTMpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoT2JqZWN0KGUzKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbC5OVUxMOlxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoTnVsbChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBsLlVOREVGSU5FRDpcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaFVuZGVmaW5lZCh2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFVua25vd24gc3ltYm9sOiAke2UzLnRvU3RyaW5nKCl9YCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFVua25vd24gdHlwZTogJHt0eXBlb2YgZTN9LCAke3R5cGVvZiBlMy50b1N0cmluZyA9PSBcImZ1bmN0aW9uXCIgPyBlMy50b1N0cmluZygpIDogXCJcIn1gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIHB1c2hBcnJheShlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICAgIHIzID0geyBpbmRlZmluaXRlOiBmYWxzZSwgLi4ucjMgfTtcbiAgICAgICAgICAgICAgY29uc3QgbjMgPSB0My5sZW5ndGg7XG4gICAgICAgICAgICAgIGlmIChyMy5pbmRlZmluaXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlMy5fcHVzaFVJbnQ4KGEuQVJSQVkgPDwgNSB8IHUuSU5ERUZJTklURSkpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWUzLl9wdXNoSW50KG4zLCBhLkFSUkFZKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIGZvciAobGV0IHI0ID0gMDsgcjQgPCBuMzsgcjQrKylcbiAgICAgICAgICAgICAgICBpZiAoIWUzLnB1c2hBbnkodDNbcjRdKSlcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuICEocjMuaW5kZWZpbml0ZSAmJiAhZTMucHVzaCh2KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVMb29wRGV0ZWN0b3JzKCkge1xuICAgICAgICAgICAgICByZXR1cm4gISF0aGlzLmRldGVjdExvb3BzICYmICh0aGlzLmRldGVjdExvb3BzID0gbmV3IFdlYWtTZXQoKSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgX3B1c2hEYXRlKGUzLCB0Mykge1xuICAgICAgICAgICAgICBzd2l0Y2ggKGUzLmRhdGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGUzLl9wdXNoVGFnKGMuREFURV9TVFJJTkcpICYmIGUzLl9wdXNoU3RyaW5nKHQzLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRcIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlMy5fcHVzaFRhZyhjLkRBVEVfRVBPQ0gpICYmIGUzLl9wdXNoSW50TnVtKE1hdGgucm91bmQodDMuZ2V0VGltZSgpIC8gMWUzKSk7XG4gICAgICAgICAgICAgICAgY2FzZSBcImZsb2F0XCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZTMuX3B1c2hUYWcoYy5EQVRFX0VQT0NIKSAmJiBlMy5fcHVzaEZsb2F0KHQzLmdldFRpbWUoKSAvIDFlMyk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlMy5fcHVzaFRhZyhjLkRBVEVfRVBPQ0gpICYmIGUzLnB1c2hBbnkodDMuZ2V0VGltZSgpIC8gMWUzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIF9wdXNoQnVmZmVyKGUzLCB0Mykge1xuICAgICAgICAgICAgICByZXR1cm4gZTMuX3B1c2hJbnQodDMubGVuZ3RoLCBhLkJZVEVfU1RSSU5HKSAmJiBlMy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBfcHVzaE5vRmlsdGVyKGUzLCB0Mykge1xuICAgICAgICAgICAgICByZXR1cm4gVS5fcHVzaEJ1ZmZlcihlMywgdDMuc2xpY2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgX3B1c2hSZWdleHAoZTMsIHQzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlMy5fcHVzaFRhZyhjLlJFR0VYUCkgJiYgZTMucHVzaEFueSh0My5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIF9wdXNoU2V0KGUzLCB0Mykge1xuICAgICAgICAgICAgICBpZiAoIWUzLl9wdXNoVGFnKGMuU0VUKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIGlmICghZTMuX3B1c2hJbnQodDMuc2l6ZSwgYS5BUlJBWSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHIzIG9mIHQzKVxuICAgICAgICAgICAgICAgIGlmICghZTMucHVzaEFueShyMykpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIF9wdXNoVVJMKGUzLCB0Mykge1xuICAgICAgICAgICAgICByZXR1cm4gZTMuX3B1c2hUYWcoYy5VUkkpICYmIGUzLnB1c2hBbnkodDMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgX3B1c2hCb3hlZChlMywgdDMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGUzLnB1c2hBbnkodDMudmFsdWVPZigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBfcHVzaE1hcChlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICAgIHIzID0geyBpbmRlZmluaXRlOiBmYWxzZSwgLi4ucjMgfTtcbiAgICAgICAgICAgICAgbGV0IG4zID0gWy4uLnQzLmVudHJpZXMoKV07XG4gICAgICAgICAgICAgIGlmIChlMy5vbWl0VW5kZWZpbmVkUHJvcGVydGllcyAmJiAobjMgPSBuMy5maWx0ZXIoKFtlNCwgdDRdKSA9PiB0NCAhPT0gdm9pZCAwKSksIHIzLmluZGVmaW5pdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWUzLl9wdXNoVUludDgoYS5NQVAgPDwgNSB8IHUuSU5ERUZJTklURSkpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWUzLl9wdXNoSW50KG4zLmxlbmd0aCwgYS5NQVApKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgaWYgKGUzLmNhbm9uaWNhbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQ0ID0gbmV3IFUoeyBnZW5UeXBlczogZTMuc2VtYW50aWNUeXBlcywgY2Fub25pY2FsOiBlMy5jYW5vbmljYWwsIGRldGVjdExvb3BzOiBCb29sZWFuKGUzLmRldGVjdExvb3BzKSwgZGF0ZVR5cGU6IGUzLmRhdGVUeXBlLCBkaXNhbGxvd1VuZGVmaW5lZEtleXM6IGUzLmRpc2FsbG93VW5kZWZpbmVkS2V5cywgY29sbGFwc2VCaWdJbnRlZ2VyczogZTMuY29sbGFwc2VCaWdJbnRlZ2VycyB9KSwgcjQgPSBuZXcgaSh7IGhpZ2hXYXRlck1hcms6IGUzLnJlYWRhYmxlSGlnaFdhdGVyTWFyayB9KTtcbiAgICAgICAgICAgICAgICB0NC5waXBlKHI0KSwgbjMuc29ydCgoW2U0XSwgW240XSkgPT4ge1xuICAgICAgICAgICAgICAgICAgdDQucHVzaEFueShlNCk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpMiA9IHI0LnJlYWQoKTtcbiAgICAgICAgICAgICAgICAgIHQ0LnB1c2hBbnkobjQpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbzIgPSByNC5yZWFkKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gaTIuY29tcGFyZShvMik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbdDUsIHI1XSBvZiBuMykge1xuICAgICAgICAgICAgICAgICAgaWYgKGUzLmRpc2FsbG93VW5kZWZpbmVkS2V5cyAmJiB0NSA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIE1hcCBrZXk6IHVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgICAgICAgIGlmICghZTMucHVzaEFueSh0NSkgfHwgIWUzLnB1c2hBbnkocjUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFt0NCwgcjRdIG9mIG4zKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZTMuZGlzYWxsb3dVbmRlZmluZWRLZXlzICYmIHQ0ID09PSB2b2lkIDApXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgTWFwIGtleTogdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgICAgICAgaWYgKCFlMy5wdXNoQW55KHQ0KSB8fCAhZTMucHVzaEFueShyNCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiAhKHIzLmluZGVmaW5pdGUgJiYgIWUzLnB1c2godikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIF9wdXNoVHlwZWRBcnJheShlMywgdDMpIHtcbiAgICAgICAgICAgICAgbGV0IHIzID0gNjQsIG4zID0gdDMuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgICAgIGNvbnN0IHsgbmFtZTogaTIgfSA9IHQzLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICByZXR1cm4gaTIuc3RhcnRzV2l0aChcIkZsb2F0XCIpID8gKHIzIHw9IDE2LCBuMyAvPSAyKSA6IGkyLmluY2x1ZGVzKFwiVVwiKSB8fCAocjMgfD0gOCksIChpMi5pbmNsdWRlcyhcIkNsYW1wZWRcIikgfHwgbjMgIT09IDEgJiYgIW8uaXNCaWdFbmRpYW4oKSkgJiYgKHIzIHw9IDQpLCByMyB8PSB7IDE6IDAsIDI6IDEsIDQ6IDIsIDg6IDMgfVtuM10sICEhZTMuX3B1c2hUYWcocjMpICYmIFUuX3B1c2hCdWZmZXIoZTMsIHAuZnJvbSh0My5idWZmZXIsIHQzLmJ5dGVPZmZzZXQsIHQzLmJ5dGVMZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBfcHVzaEFycmF5QnVmZmVyKGUzLCB0Mykge1xuICAgICAgICAgICAgICByZXR1cm4gVS5fcHVzaEJ1ZmZlcihlMywgcC5mcm9tKHQzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZW5jb2RlSW5kZWZpbml0ZShlMywgdDMsIHIzID0ge30pIHtcbiAgICAgICAgICAgICAgaWYgKHQzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcyA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gb2JqZWN0IHRvIGVuY29kZVwiKTtcbiAgICAgICAgICAgICAgICB0MyA9IHRoaXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgeyBjaHVua1NpemU6IG4zID0gNDA5NiB9ID0gcjM7XG4gICAgICAgICAgICAgIGxldCBpMiA9IHRydWU7XG4gICAgICAgICAgICAgIGNvbnN0IHMyID0gdHlwZW9mIHQzO1xuICAgICAgICAgICAgICBsZXQgZjIgPSBudWxsO1xuICAgICAgICAgICAgICBpZiAoczIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBpMiA9IGkyICYmIGUzLl9wdXNoVUludDgoYS5VVEY4X1NUUklORyA8PCA1IHwgdS5JTkRFRklOSVRFKTtcbiAgICAgICAgICAgICAgICBsZXQgcjQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoOyByNCA8IHQzLmxlbmd0aDsgKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBvMiA9IHI0ICsgbjM7XG4gICAgICAgICAgICAgICAgICBpMiA9IGkyICYmIGUzLl9wdXNoU3RyaW5nKHQzLnNsaWNlKHI0LCBvMikpLCByNCA9IG8yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpMiA9IGkyICYmIGUzLnB1c2godik7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZjIgPSBvLmJ1ZmZlcmlzaFRvQnVmZmVyKHQzKSkge1xuICAgICAgICAgICAgICAgIGkyID0gaTIgJiYgZTMuX3B1c2hVSW50OChhLkJZVEVfU1RSSU5HIDw8IDUgfCB1LklOREVGSU5JVEUpO1xuICAgICAgICAgICAgICAgIGxldCB0NCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICg7IHQ0IDwgZjIubGVuZ3RoOyApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHI0ID0gdDQgKyBuMztcbiAgICAgICAgICAgICAgICAgIGkyID0gaTIgJiYgVS5fcHVzaEJ1ZmZlcihlMywgZjIuc2xpY2UodDQsIHI0KSksIHQ0ID0gcjQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkyID0gaTIgJiYgZTMucHVzaCh2KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHQzKSlcbiAgICAgICAgICAgICAgICBpMiA9IGkyICYmIFUucHVzaEFycmF5KGUzLCB0MywgeyBpbmRlZmluaXRlOiB0cnVlIH0pO1xuICAgICAgICAgICAgICBlbHNlIGlmICh0MyBpbnN0YW5jZW9mIE1hcClcbiAgICAgICAgICAgICAgICBpMiA9IGkyICYmIFUuX3B1c2hNYXAoZTMsIHQzLCB7IGluZGVmaW5pdGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzMiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5kZWZpbml0ZSBlbmNvZGluZ1wiKTtcbiAgICAgICAgICAgICAgICBpMiA9IGkyICYmIGUzLl9wdXNoT2JqZWN0KHQzLCB7IGluZGVmaW5pdGU6IHRydWUsIHNraXBUeXBlczogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gaTI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZW5jb2RlKC4uLmUzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgVSgpLl9lbmNvZGVBbGwoZTMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIGVuY29kZUNhbm9uaWNhbCguLi5lMykge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFUoeyBjYW5vbmljYWw6IHRydWUgfSkuX2VuY29kZUFsbChlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZW5jb2RlT25lKGUzLCB0Mykge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFUodDMpLl9lbmNvZGVBbGwoW2UzXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZW5jb2RlQXN5bmMoZTMsIHQzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocjMsIG4zKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaTIgPSBbXSwgbzIgPSBuZXcgVSh0Myk7XG4gICAgICAgICAgICAgICAgbzIub24oXCJkYXRhXCIsIChlNCkgPT4gaTIucHVzaChlNCkpLCBvMi5vbihcImVycm9yXCIsIG4zKSwgbzIub24oXCJmaW5pc2hcIiwgKCkgPT4gcjMocC5jb25jYXQoaTIpKSksIG8yLnB1c2hBbnkoZTMpLCBvMi5lbmQoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZ2V0IFNFTUFOVElDX1RZUEVTKCkge1xuICAgICAgICAgICAgICByZXR1cm4gUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBzZXQgU0VNQU5USUNfVFlQRVMoZTMpIHtcbiAgICAgICAgICAgICAgUiA9IGUzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIHJlc2V0KCkge1xuICAgICAgICAgICAgICBVLlNFTUFOVElDX1RZUEVTID0geyAuLi5CIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oQiwgeyBBcnJheTogVS5wdXNoQXJyYXksIERhdGU6IFUuX3B1c2hEYXRlLCBCdWZmZXI6IFUuX3B1c2hCdWZmZXIsIFtwLm5hbWVdOiBVLl9wdXNoQnVmZmVyLCBNYXA6IFUuX3B1c2hNYXAsIE5vRmlsdGVyOiBVLl9wdXNoTm9GaWx0ZXIsIFtpLm5hbWVdOiBVLl9wdXNoTm9GaWx0ZXIsIFJlZ0V4cDogVS5fcHVzaFJlZ2V4cCwgU2V0OiBVLl9wdXNoU2V0LCBBcnJheUJ1ZmZlcjogVS5fcHVzaEFycmF5QnVmZmVyLCBVaW50OENsYW1wZWRBcnJheTogVS5fcHVzaFR5cGVkQXJyYXksIFVpbnQ4QXJyYXk6IFUuX3B1c2hUeXBlZEFycmF5LCBVaW50MTZBcnJheTogVS5fcHVzaFR5cGVkQXJyYXksIFVpbnQzMkFycmF5OiBVLl9wdXNoVHlwZWRBcnJheSwgSW50OEFycmF5OiBVLl9wdXNoVHlwZWRBcnJheSwgSW50MTZBcnJheTogVS5fcHVzaFR5cGVkQXJyYXksIEludDMyQXJyYXk6IFUuX3B1c2hUeXBlZEFycmF5LCBGbG9hdDMyQXJyYXk6IFUuX3B1c2hUeXBlZEFycmF5LCBGbG9hdDY0QXJyYXk6IFUuX3B1c2hUeXBlZEFycmF5LCBVUkw6IFUuX3B1c2hVUkwsIEJvb2xlYW46IFUuX3B1c2hCb3hlZCwgTnVtYmVyOiBVLl9wdXNoQm94ZWQsIFN0cmluZzogVS5fcHVzaEJveGVkIH0pLCB0eXBlb2YgQmlnVWludDY0QXJyYXkgIT0gXCJ1bmRlZmluZWRcIiAmJiAoQltCaWdVaW50NjRBcnJheS5uYW1lXSA9IFUuX3B1c2hUeXBlZEFycmF5KSwgdHlwZW9mIEJpZ0ludDY0QXJyYXkgIT0gXCJ1bmRlZmluZWRcIiAmJiAoQltCaWdJbnQ2NEFycmF5Lm5hbWVdID0gVS5fcHVzaFR5cGVkQXJyYXkpLCBVLnJlc2V0KCksIGUyLmV4cG9ydHMgPSBVO1xuICAgICAgICB9LCA3MDogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICBjb25zdCB7IEJ1ZmZlcjogbjIgfSA9IHIyKDc2NCksIGkgPSByMig2NjYpLCBvID0gcjIoNzc0KSwgeyBNVDogcyB9ID0gcjIoNjYpO1xuICAgICAgICAgIGNsYXNzIGEgZXh0ZW5kcyBNYXAge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoZTMpIHtcbiAgICAgICAgICAgICAgc3VwZXIoZTMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIF9lbmNvZGUoZTMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGkuZW5jb2RlQ2Fub25pY2FsKGUzKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBfZGVjb2RlKGUzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvLmRlY29kZUZpcnN0U3luYyhlMywgXCJiYXNlNjRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXQoZTMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldChhLl9lbmNvZGUoZTMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldChlMywgdDMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnNldChhLl9lbmNvZGUoZTMpLCB0Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUoZTMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmRlbGV0ZShhLl9lbmNvZGUoZTMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhcyhlMykge1xuICAgICAgICAgICAgICByZXR1cm4gc3VwZXIuaGFzKGEuX2VuY29kZShlMykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKmtleXMoKSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZTMgb2Ygc3VwZXIua2V5cygpKVxuICAgICAgICAgICAgICAgIHlpZWxkIGEuX2RlY29kZShlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAqZW50cmllcygpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBlMyBvZiBzdXBlci5lbnRyaWVzKCkpXG4gICAgICAgICAgICAgICAgeWllbGQgW2EuX2RlY29kZShlM1swXSksIGUzWzFdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JFYWNoKGUzLCB0Mykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIGUzICE9IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTXVzdCBiZSBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB0NCBvZiBzdXBlci5lbnRyaWVzKCkpXG4gICAgICAgICAgICAgICAgZTMuY2FsbCh0aGlzLCB0NFsxXSwgYS5fZGVjb2RlKHQ0WzBdKSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmNvZGVDQk9SKGUzKSB7XG4gICAgICAgICAgICAgIGlmICghZTMuX3B1c2hJbnQodGhpcy5zaXplLCBzLk1BUCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICBpZiAoZTMuY2Fub25pY2FsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdDMgPSBBcnJheS5mcm9tKHN1cGVyLmVudHJpZXMoKSkubWFwKChlNCkgPT4gW24yLmZyb20oZTRbMF0sIFwiYmFzZTY0XCIpLCBlNFsxXV0pO1xuICAgICAgICAgICAgICAgIHQzLnNvcnQoKGU0LCB0NCkgPT4gZTRbMF0uY29tcGFyZSh0NFswXSkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcjMgb2YgdDMpXG4gICAgICAgICAgICAgICAgICBpZiAoIWUzLnB1c2gocjNbMF0pIHx8ICFlMy5wdXNoQW55KHIzWzFdKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQzIG9mIHN1cGVyLmVudHJpZXMoKSlcbiAgICAgICAgICAgICAgICAgIGlmICghZTMucHVzaChuMi5mcm9tKHQzWzBdLCBcImJhc2U2NFwiKSkgfHwgIWUzLnB1c2hBbnkodDNbMV0pKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlMi5leHBvcnRzID0gYTtcbiAgICAgICAgfSwgMzI6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgY29uc3QgeyBNVDogbjIsIFNJTVBMRTogaSwgU1lNUzogbyB9ID0gcjIoNjYpO1xuICAgICAgICAgIGNsYXNzIHMge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoZTMpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlMyAhPSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU2ltcGxlIHR5cGU6IFwiICsgdHlwZW9mIGUzKTtcbiAgICAgICAgICAgICAgaWYgKGUzIDwgMCB8fCBlMyA+IDI1NSB8fCAoMCB8IGUzKSAhPT0gZTMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB2YWx1ZSBtdXN0IGJlIGEgc21hbGwgcG9zaXRpdmUgaW50ZWdlcjogJHtlM31gKTtcbiAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGUzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBgc2ltcGxlKCR7dGhpcy52YWx1ZX0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFtTeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIildKGUzLCB0Mykge1xuICAgICAgICAgICAgICByZXR1cm4gYHNpbXBsZSgke3RoaXMudmFsdWV9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmNvZGVDQk9SKGUzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlMy5fcHVzaEludCh0aGlzLnZhbHVlLCBuMi5TSU1QTEVfRkxPQVQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIGlzU2ltcGxlKGUzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlMyBpbnN0YW5jZW9mIHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZGVjb2RlKGUzLCB0MyA9IHRydWUsIHIzID0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChlMykge1xuICAgICAgICAgICAgICAgIGNhc2UgaS5GQUxTRTpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBjYXNlIGkuVFJVRTpcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgaS5OVUxMOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHQzID8gbnVsbCA6IG8uTlVMTDtcbiAgICAgICAgICAgICAgICBjYXNlIGkuVU5ERUZJTkVEOlxuICAgICAgICAgICAgICAgICAgaWYgKHQzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICByZXR1cm4gby5VTkRFRklORUQ7XG4gICAgICAgICAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgICAgICAgICAgIGlmICghdDMgfHwgIXIzKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEJSRUFLXCIpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uQlJFQUs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgcyhlMyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZTIuZXhwb3J0cyA9IHM7XG4gICAgICAgIH0sIDc4NTogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICBjb25zdCBuMiA9IHIyKDY2KSwgaSA9IHIyKDg3MyksIG8gPSBTeW1ib2woXCJJTlRFUk5BTF9KU09OXCIpO1xuICAgICAgICAgIGZ1bmN0aW9uIHMoZTMsIHQzKSB7XG4gICAgICAgICAgICBpZiAoaS5pc0J1ZmZlcmlzaChlMykpXG4gICAgICAgICAgICAgIGUzLnRvSlNPTiA9IHQzO1xuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlMykpXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgcjMgb2YgZTMpXG4gICAgICAgICAgICAgICAgcyhyMywgdDMpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZTMgJiYgdHlwZW9mIGUzID09IFwib2JqZWN0XCIgJiYgKCEoZTMgaW5zdGFuY2VvZiBwKSB8fCBlMy50YWcgPCAyMSB8fCBlMy50YWcgPiAyMykpXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgcjMgb2YgT2JqZWN0LnZhbHVlcyhlMykpXG4gICAgICAgICAgICAgICAgcyhyMywgdDMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBhKCkge1xuICAgICAgICAgICAgcmV0dXJuIGkuYmFzZTY0KHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiB1KCkge1xuICAgICAgICAgICAgcmV0dXJuIGkuYmFzZTY0dXJsKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBmKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoXCJoZXhcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGggPSB7IDA6IChlMykgPT4gbmV3IERhdGUoZTMpLCAxOiAoZTMpID0+IG5ldyBEYXRlKDFlMyAqIGUzKSwgMjogKGUzKSA9PiBpLmJ1ZmZlclRvQmlnSW50KGUzKSwgMzogKGUzKSA9PiBuMi5CSS5NSU5VU19PTkUgLSBpLmJ1ZmZlclRvQmlnSW50KGUzKSwgMjE6IChlMywgdDMpID0+IChpLmlzQnVmZmVyaXNoKGUzKSA/IHQzW29dID0gdSA6IHMoZTMsIHUpLCB0MyksIDIyOiAoZTMsIHQzKSA9PiAoaS5pc0J1ZmZlcmlzaChlMykgPyB0M1tvXSA9IGEgOiBzKGUzLCBhKSwgdDMpLCAyMzogKGUzLCB0MykgPT4gKGkuaXNCdWZmZXJpc2goZTMpID8gdDNbb10gPSBmIDogcyhlMywgZiksIHQzKSwgMzI6IChlMykgPT4gbmV3IFVSTChlMyksIDMzOiAoZTMsIHQzKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWUzLm1hdGNoKC9eW2EtekEtWjAtOV8tXSskLykpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0dXJsIGNoYXJhY3RlcnNcIik7XG4gICAgICAgICAgICBjb25zdCByMyA9IGUzLmxlbmd0aCAlIDQ7XG4gICAgICAgICAgICBpZiAocjMgPT09IDEpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0dXJsIGxlbmd0aFwiKTtcbiAgICAgICAgICAgIGlmIChyMyA9PT0gMikge1xuICAgICAgICAgICAgICBpZiAoXCJBUWd3XCIuaW5kZXhPZihlM1tlMy5sZW5ndGggLSAxXSkgPT09IC0xKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0IHBhZGRpbmdcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHIzID09PSAzICYmIFwiQUVJTVFVWWNna29zdzA0OFwiLmluZGV4T2YoZTNbZTMubGVuZ3RoIC0gMV0pID09PSAtMSlcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgcGFkZGluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybiB0MztcbiAgICAgICAgICB9LCAzNDogKGUzLCB0MykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcjMgPSBlMy5tYXRjaCgvXlthLXpBLVowLTkrL10rKD88cGFkZGluZz49ezAsMn0pJC8pO1xuICAgICAgICAgICAgaWYgKCFyMylcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgY2hhcmFjdGVyc1wiKTtcbiAgICAgICAgICAgIGlmIChlMy5sZW5ndGggJSA0ICE9IDApXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0IGxlbmd0aFwiKTtcbiAgICAgICAgICAgIGlmIChyMy5ncm91cHMucGFkZGluZyA9PT0gXCI9XCIpIHtcbiAgICAgICAgICAgICAgaWYgKFwiQVFnd1wiLmluZGV4T2YoZTNbZTMubGVuZ3RoIC0gMl0pID09PSAtMSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhc2U2NCBwYWRkaW5nXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyMy5ncm91cHMucGFkZGluZyA9PT0gXCI9PVwiICYmIFwiQUVJTVFVWWNna29zdzA0OFwiLmluZGV4T2YoZTNbZTMubGVuZ3RoIC0gM10pID09PSAtMSlcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgcGFkZGluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybiB0MztcbiAgICAgICAgICB9LCAzNTogKGUzKSA9PiBuZXcgUmVnRXhwKGUzKSwgMjU4OiAoZTMpID0+IG5ldyBTZXQoZTMpIH0sIGwgPSB7IDY0OiBVaW50OEFycmF5LCA2NTogVWludDE2QXJyYXksIDY2OiBVaW50MzJBcnJheSwgNjg6IFVpbnQ4Q2xhbXBlZEFycmF5LCA2OTogVWludDE2QXJyYXksIDcwOiBVaW50MzJBcnJheSwgNzI6IEludDhBcnJheSwgNzM6IEludDE2QXJyYXksIDc0OiBJbnQzMkFycmF5LCA3NzogSW50MTZBcnJheSwgNzg6IEludDMyQXJyYXksIDgxOiBGbG9hdDMyQXJyYXksIDgyOiBGbG9hdDY0QXJyYXksIDg1OiBGbG9hdDMyQXJyYXksIDg2OiBGbG9hdDY0QXJyYXkgfTtcbiAgICAgICAgICBmdW5jdGlvbiBjKGUzLCB0Mykge1xuICAgICAgICAgICAgaWYgKCFpLmlzQnVmZmVyaXNoKGUzKSlcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBub3QgYSBidWZmZXJcIik7XG4gICAgICAgICAgICBjb25zdCB7IHRhZzogcjMgfSA9IHQzLCBuMyA9IGxbcjNdO1xuICAgICAgICAgICAgaWYgKCFuMylcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGVkIGFycmF5IHRhZzogJHtyM31gKTtcbiAgICAgICAgICAgIGNvbnN0IG8yID0gMiAqKiAoKCgxNiAmIHIzKSA+PiA0KSArICgzICYgcjMpKTtcbiAgICAgICAgICAgIHJldHVybiAhKDQgJiByMykgIT09IGkuaXNCaWdFbmRpYW4oKSAmJiBvMiA+IDEgJiYgZnVuY3Rpb24oZTQsIHQ0LCByNCwgbjQpIHtcbiAgICAgICAgICAgICAgY29uc3QgaTIgPSBuZXcgRGF0YVZpZXcoZTQpLCBbbzMsIHMyXSA9IHsgMjogW2kyLmdldFVpbnQxNiwgaTIuc2V0VWludDE2XSwgNDogW2kyLmdldFVpbnQzMiwgaTIuc2V0VWludDMyXSwgODogW2kyLmdldEJpZ1VpbnQ2NCwgaTIuc2V0QmlnVWludDY0XSB9W3Q0XSwgYTIgPSByNCArIG40O1xuICAgICAgICAgICAgICBmb3IgKGxldCBlNSA9IHI0OyBlNSA8IGEyOyBlNSArPSB0NClcbiAgICAgICAgICAgICAgICBzMi5jYWxsKGkyLCBlNSwgbzMuY2FsbChpMiwgZTUsIHRydWUpKTtcbiAgICAgICAgICAgIH0oZTMuYnVmZmVyLCBvMiwgZTMuYnl0ZU9mZnNldCwgZTMuYnl0ZUxlbmd0aCksIG5ldyBuMyhlMy5idWZmZXIuc2xpY2UoZTMuYnl0ZU9mZnNldCwgZTMuYnl0ZU9mZnNldCArIGUzLmJ5dGVMZW5ndGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHlwZW9mIEJpZ1VpbnQ2NEFycmF5ICE9IFwidW5kZWZpbmVkXCIgJiYgKGxbNjddID0gQmlnVWludDY0QXJyYXksIGxbNzFdID0gQmlnVWludDY0QXJyYXkpLCB0eXBlb2YgQmlnSW50NjRBcnJheSAhPSBcInVuZGVmaW5lZFwiICYmIChsWzc1XSA9IEJpZ0ludDY0QXJyYXksIGxbNzldID0gQmlnSW50NjRBcnJheSk7XG4gICAgICAgICAgZm9yIChjb25zdCBlMyBvZiBPYmplY3Qua2V5cyhsKSlcbiAgICAgICAgICAgIGhbZTNdID0gYztcbiAgICAgICAgICBsZXQgZCA9IHt9O1xuICAgICAgICAgIGNsYXNzIHAge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoZTMsIHQzLCByMykge1xuICAgICAgICAgICAgICBpZiAodGhpcy50YWcgPSBlMywgdGhpcy52YWx1ZSA9IHQzLCB0aGlzLmVyciA9IHIzLCB0eXBlb2YgdGhpcy50YWcgIT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGFnIHR5cGUgKCR7dHlwZW9mIHRoaXMudGFnfSlgKTtcbiAgICAgICAgICAgICAgaWYgKHRoaXMudGFnIDwgMCB8fCAoMCB8IHRoaXMudGFnKSAhPT0gdGhpcy50YWcpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUYWcgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXI6ICR7dGhpcy50YWd9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b0pTT04oKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzW29dKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW29dLmNhbGwodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgIGNvbnN0IGUzID0geyB0YWc6IHRoaXMudGFnLCB2YWx1ZTogdGhpcy52YWx1ZSB9O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lcnIgJiYgKGUzLmVyciA9IHRoaXMuZXJyKSwgZTM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMudGFnfSgke0pTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUpfSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5jb2RlQ0JPUihlMykge1xuICAgICAgICAgICAgICByZXR1cm4gZTMuX3B1c2hUYWcodGhpcy50YWcpLCBlMy5wdXNoQW55KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udmVydChlMykge1xuICAgICAgICAgICAgICBsZXQgdDMgPSBlMyA9PSBudWxsID8gdm9pZCAwIDogZTNbdGhpcy50YWddO1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHQzICE9IFwiZnVuY3Rpb25cIiAmJiAodDMgPSBwLlRBR1NbdGhpcy50YWddLCB0eXBlb2YgdDMgIT0gXCJmdW5jdGlvblwiKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdDMuY2FsbCh0aGlzLCB0aGlzLnZhbHVlLCB0aGlzKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZTQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZTQgJiYgZTQubWVzc2FnZSAmJiBlNC5tZXNzYWdlLmxlbmd0aCA+IDAgPyB0aGlzLmVyciA9IGU0Lm1lc3NhZ2UgOiB0aGlzLmVyciA9IGU0LCB0aGlzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZ2V0IFRBR1MoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIHNldCBUQUdTKGUzKSB7XG4gICAgICAgICAgICAgIGQgPSBlMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyByZXNldCgpIHtcbiAgICAgICAgICAgICAgcC5UQUdTID0geyAuLi5oIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHAuSU5URVJOQUxfSlNPTiA9IG8sIHAucmVzZXQoKSwgZTIuZXhwb3J0cyA9IHA7XG4gICAgICAgIH0sIDg3MzogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICBjb25zdCB7IEJ1ZmZlcjogbjIgfSA9IHIyKDc2NCksIGkgPSByMigyMDIpLCBvID0gcjIoODMwKSwgcyA9IHIyKDY2KSwgeyBOVU1CWVRFUzogYSwgU0hJRlQzMjogdSwgQkk6IGYsIFNZTVM6IGggfSA9IHMsIGwgPSBuZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIsIHsgZmF0YWw6IHRydWUsIGlnbm9yZUJPTTogdHJ1ZSB9KTtcbiAgICAgICAgICB0Mi51dGY4ID0gKGUzKSA9PiBsLmRlY29kZShlMyksIHQyLnV0ZjguY2hlY2tzVVRGOCA9IHRydWUsIHQyLmlzQnVmZmVyaXNoID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMyAmJiB0eXBlb2YgZTMgPT0gXCJvYmplY3RcIiAmJiAobjIuaXNCdWZmZXIoZTMpIHx8IGUzIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBlMyBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5IHx8IGUzIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgZTMgaW5zdGFuY2VvZiBEYXRhVmlldyk7XG4gICAgICAgICAgfSwgdDIuYnVmZmVyaXNoVG9CdWZmZXIgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgcmV0dXJuIG4yLmlzQnVmZmVyKGUzKSA/IGUzIDogQXJyYXlCdWZmZXIuaXNWaWV3KGUzKSA/IG4yLmZyb20oZTMuYnVmZmVyLCBlMy5ieXRlT2Zmc2V0LCBlMy5ieXRlTGVuZ3RoKSA6IGUzIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBuMi5mcm9tKGUzKSA6IG51bGw7XG4gICAgICAgICAgfSwgdDIucGFyc2VDQk9SaW50ID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUzKSB7XG4gICAgICAgICAgICAgIGNhc2UgYS5PTkU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQzLnJlYWRVSW50OCgwKTtcbiAgICAgICAgICAgICAgY2FzZSBhLlRXTzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdDMucmVhZFVJbnQxNkJFKDApO1xuICAgICAgICAgICAgICBjYXNlIGEuRk9VUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdDMucmVhZFVJbnQzMkJFKDApO1xuICAgICAgICAgICAgICBjYXNlIGEuRUlHSFQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlNCA9IHQzLnJlYWRVSW50MzJCRSgwKSwgcjMgPSB0My5yZWFkVUludDMyQkUoNCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGU0ID4gMjA5NzE1MSA/IEJpZ0ludChlNCkgKiBmLlNISUZUMzIgKyBCaWdJbnQocjMpIDogZTQgKiB1ICsgcjM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYWRkaXRpb25hbCBpbmZvIGZvciBpbnQ6ICR7ZTN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdDIud3JpdGVIYWxmID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICBjb25zdCByMyA9IG4yLmFsbG9jVW5zYWZlKDQpO1xuICAgICAgICAgICAgcjMud3JpdGVGbG9hdEJFKHQzLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IGkyID0gcjMucmVhZFVJbnQzMkJFKDApO1xuICAgICAgICAgICAgaWYgKCg4MTkxICYgaTIpICE9IDApXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGxldCBvMiA9IGkyID4+IDE2ICYgMzI3Njg7XG4gICAgICAgICAgICBjb25zdCBzMiA9IGkyID4+IDIzICYgMjU1LCBhMiA9IDgzODg2MDcgJiBpMjtcbiAgICAgICAgICAgIGlmIChzMiA+PSAxMTMgJiYgczIgPD0gMTQyKVxuICAgICAgICAgICAgICBvMiArPSAoczIgLSAxMTIgPDwgMTApICsgKGEyID4+IDEzKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoIShzMiA+PSAxMDMgJiYgczIgPCAxMTMpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgaWYgKGEyICYgKDEgPDwgMTI2IC0gczIpIC0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIG8yICs9IGEyICsgODM4ODYwOCA+PiAxMjYgLSBzMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlMy53cml0ZVVJbnQxNkJFKG8yKSwgdHJ1ZTtcbiAgICAgICAgICB9LCB0Mi5wYXJzZUhhbGYgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgY29uc3QgdDMgPSAxMjggJiBlM1swXSA/IC0xIDogMSwgcjMgPSAoMTI0ICYgZTNbMF0pID4+IDIsIG4zID0gKDMgJiBlM1swXSkgPDwgOCB8IGUzWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHIzID8gcjMgPT09IDMxID8gdDMgKiAobjMgPyBOYU4gOiAxIC8gMCkgOiB0MyAqIDIgKiogKHIzIC0gMjUpICogKDEwMjQgKyBuMykgOiA1OTYwNDY0NDc3NTM5MDYzZS0yMyAqIHQzICogbjM7XG4gICAgICAgICAgfSwgdDIucGFyc2VDQk9SZmxvYXQgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgc3dpdGNoIChlMy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiB0Mi5wYXJzZUhhbGYoZTMpO1xuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUzLnJlYWRGbG9hdEJFKDApO1xuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUzLnJlYWREb3VibGVCRSgwKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZmxvYXQgc2l6ZTogJHtlMy5sZW5ndGh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdDIuaGV4ID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBuMi5mcm9tKGUzLnJlcGxhY2UoL14weC8sIFwiXCIpLCBcImhleFwiKTtcbiAgICAgICAgICB9LCB0Mi5iaW4gPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgbGV0IHQzID0gMCwgcjMgPSAoZTMgPSBlMy5yZXBsYWNlKC9cXHMvZywgXCJcIikpLmxlbmd0aCAlIDggfHwgODtcbiAgICAgICAgICAgIGNvbnN0IGkyID0gW107XG4gICAgICAgICAgICBmb3IgKDsgcjMgPD0gZTMubGVuZ3RoOyApXG4gICAgICAgICAgICAgIGkyLnB1c2gocGFyc2VJbnQoZTMuc2xpY2UodDMsIHIzKSwgMikpLCB0MyA9IHIzLCByMyArPSA4O1xuICAgICAgICAgICAgcmV0dXJuIG4yLmZyb20oaTIpO1xuICAgICAgICAgIH0sIHQyLmFycmF5RXF1YWwgPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMyA9PSBudWxsICYmIHQzID09IG51bGwgfHwgZTMgIT0gbnVsbCAmJiB0MyAhPSBudWxsICYmIGUzLmxlbmd0aCA9PT0gdDMubGVuZ3RoICYmIGUzLmV2ZXJ5KChlNCwgcjMpID0+IGU0ID09PSB0M1tyM10pO1xuICAgICAgICAgIH0sIHQyLmJ1ZmZlclRvQmlnSW50ID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBCaWdJbnQoYDB4JHtlMy50b1N0cmluZyhcImhleFwiKX1gKTtcbiAgICAgICAgICB9LCB0Mi5jYm9yVmFsdWVUb1N0cmluZyA9IGZ1bmN0aW9uKGUzLCByMyA9IC0xKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBlMykge1xuICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGUzKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIGguTlVMTDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgY2FzZSBoLlVOREVGSU5FRDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgICAgICAgICAgICAgICBjYXNlIGguQlJFQUs6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkJSRUFLXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlMy5kZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlMy5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICBjb25zdCB0MyA9IGUzLnRvU3RyaW5nKCkubWF0Y2goL15TeW1ib2xcXCgoPzxuYW1lPi4qKVxcKS8pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0MyAmJiB0My5ncm91cHMubmFtZSA/IHQzLmdyb3Vwcy5uYW1lIDogXCJTeW1ib2xcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUzKTtcbiAgICAgICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBlMy50b1N0cmluZygpO1xuICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0MyA9IE9iamVjdC5pcyhlMywgLTApID8gXCItMFwiIDogU3RyaW5nKGUzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjMgPiAwID8gYCR7dDN9XyR7cjN9YCA6IHQzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4zID0gdDIuYnVmZmVyaXNoVG9CdWZmZXIoZTMpO1xuICAgICAgICAgICAgICAgIGlmIChuMykge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZTQgPSBuMy50b1N0cmluZyhcImhleFwiKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByMyA9PT0gLTEgLyAwID8gZTQgOiBgaCcke2U0fSdgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGUzW1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKV0gPT0gXCJmdW5jdGlvblwiID8gZTNbU3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpXSgpIDogQXJyYXkuaXNBcnJheShlMykgPyBcIltdXCIgOiBcInt9XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoZTMpO1xuICAgICAgICAgIH0sIHQyLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbihlMywgcjMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZTMgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBpKGUzLCByMyA9PSBudWxsID8gXCJoZXhcIiA6IHIzKTtcbiAgICAgICAgICAgIGNvbnN0IG4zID0gdDIuYnVmZmVyaXNoVG9CdWZmZXIoZTMpO1xuICAgICAgICAgICAgaWYgKG4zKVxuICAgICAgICAgICAgICByZXR1cm4gbmV3IGkobjMpO1xuICAgICAgICAgICAgaWYgKChzMiA9IGUzKSBpbnN0YW5jZW9mIG8uUmVhZGFibGUgfHwgW1wicmVhZFwiLCBcIm9uXCIsIFwicGlwZVwiXS5ldmVyeSgoZTQpID0+IHR5cGVvZiBzMltlNF0gPT0gXCJmdW5jdGlvblwiKSlcbiAgICAgICAgICAgICAgcmV0dXJuIGUzO1xuICAgICAgICAgICAgdmFyIHMyO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBpbnB1dCB0eXBlXCIpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgYyA9IHsgXCI9XCI6IFwiXCIsIFwiK1wiOiBcIi1cIiwgXCIvXCI6IFwiX1wiIH07XG4gICAgICAgICAgdDIuYmFzZTY0dXJsID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiB0Mi5idWZmZXJpc2hUb0J1ZmZlcihlMykudG9TdHJpbmcoXCJiYXNlNjRcIikucmVwbGFjZSgvWz0rL10vZywgKGU0KSA9PiBjW2U0XSk7XG4gICAgICAgICAgfSwgdDIuYmFzZTY0ID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiB0Mi5idWZmZXJpc2hUb0J1ZmZlcihlMykudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gICAgICAgICAgfSwgdDIuaXNCaWdFbmRpYW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnN0IGUzID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgICAgICByZXR1cm4gISgobmV3IFVpbnQzMkFycmF5KGUzLmJ1ZmZlcilbMF0gPSAxKSAmIGUzWzBdKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LCAyMDI6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgY29uc3QgbjIgPSByMig4MzApLCB7IEJ1ZmZlcjogaSB9ID0gcjIoNzY0KSwgbyA9IG5ldyBUZXh0RGVjb2RlcihcInV0ZjhcIiwgeyBmYXRhbDogdHJ1ZSwgaWdub3JlQk9NOiB0cnVlIH0pO1xuICAgICAgICAgIGNsYXNzIHMgZXh0ZW5kcyBuMi5UcmFuc2Zvcm0ge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoZTMsIHQzLCByMyA9IHt9KSB7XG4gICAgICAgICAgICAgIGxldCBuMyA9IG51bGwsIG8yID0gbnVsbDtcbiAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgZTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgICBpLmlzQnVmZmVyKGUzKSA/IG4zID0gZTMgOiBlMyAmJiAocjMgPSBlMyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICBuMyA9IGUzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGlucHV0XCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHQzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgICAgdDMgJiYgKHIzID0gdDMpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgICAgbzIgPSB0MztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBpbnB1dEVuY29kaW5nXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghcjMgfHwgdHlwZW9mIHIzICE9IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgb3B0aW9uc1wiKTtcbiAgICAgICAgICAgICAgbjMgPT0gbnVsbCAmJiAobjMgPSByMy5pbnB1dCksIG8yID09IG51bGwgJiYgKG8yID0gcjMuaW5wdXRFbmNvZGluZyksIGRlbGV0ZSByMy5pbnB1dCwgZGVsZXRlIHIzLmlucHV0RW5jb2Rpbmc7XG4gICAgICAgICAgICAgIGNvbnN0IHMyID0gcjMud2F0Y2hQaXBlID09IG51bGwgfHwgcjMud2F0Y2hQaXBlO1xuICAgICAgICAgICAgICBkZWxldGUgcjMud2F0Y2hQaXBlO1xuICAgICAgICAgICAgICBjb25zdCBhID0gQm9vbGVhbihyMy5yZWFkRXJyb3IpO1xuICAgICAgICAgICAgICBkZWxldGUgcjMucmVhZEVycm9yLCBzdXBlcihyMyksIHRoaXMucmVhZEVycm9yID0gYSwgczIgJiYgdGhpcy5vbihcInBpcGVcIiwgKGU0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdDQgPSBlNC5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCA+IDAgJiYgdDQgIT09IHRoaXMuX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZSlcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvIG5vdCBzd2l0Y2ggb2JqZWN0TW9kZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzdHJlYW1cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlID0gdDQsIHRoaXMuX3dyaXRhYmxlU3RhdGUub2JqZWN0TW9kZSA9IHQ0O1xuICAgICAgICAgICAgICB9KSwgbjMgIT0gbnVsbCAmJiB0aGlzLmVuZChuMywgbzIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIGlzTm9GaWx0ZXIoZTMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGUzIGluc3RhbmNlb2YgdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBjb21wYXJlKGUzLCB0Mykge1xuICAgICAgICAgICAgICBpZiAoIShlMyBpbnN0YW5jZW9mIHRoaXMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgbXVzdCBiZSBOb0ZpbHRlcnNcIik7XG4gICAgICAgICAgICAgIHJldHVybiBlMyA9PT0gdDMgPyAwIDogZTMuY29tcGFyZSh0Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgY29uY2F0KGUzLCB0Mykge1xuICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZTMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJsaXN0IGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgTm9GaWx0ZXJzXCIpO1xuICAgICAgICAgICAgICBpZiAoZTMubGVuZ3RoID09PSAwIHx8IHQzID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBpLmFsbG9jKDApO1xuICAgICAgICAgICAgICB0MyA9PSBudWxsICYmICh0MyA9IGUzLnJlZHVjZSgoZTQsIHQ0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEodDQgaW5zdGFuY2VvZiBzKSlcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJsaXN0IGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgTm9GaWx0ZXJzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlNCArIHQ0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgfSwgMCkpO1xuICAgICAgICAgICAgICBsZXQgcjMgPSB0cnVlLCBuMyA9IHRydWU7XG4gICAgICAgICAgICAgIGNvbnN0IG8yID0gZTMubWFwKChlNCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghKGU0IGluc3RhbmNlb2YgcykpXG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwibGlzdCBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIE5vRmlsdGVyc1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0NCA9IGU0LnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkuaXNCdWZmZXIodDQpID8gbjMgPSBmYWxzZSA6IHIzID0gZmFsc2UsIHQ0O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKHIzKVxuICAgICAgICAgICAgICAgIHJldHVybiBpLmNvbmNhdChvMiwgdDMpO1xuICAgICAgICAgICAgICBpZiAobjMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdLmNvbmNhdCguLi5vMikuc2xpY2UoMCwgdDMpO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25jYXRlbmF0aW5nIG1peGVkIG9iamVjdCBhbmQgYnl0ZSBzdHJlYW1zIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdHJhbnNmb3JtKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlIHx8IGkuaXNCdWZmZXIoZTMpIHx8IChlMyA9IGkuZnJvbShlMywgdDMpKSwgdGhpcy5wdXNoKGUzKSwgcjMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9idWZBcnJheSgpIHtcbiAgICAgICAgICAgICAgbGV0IGUzID0gdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXI7XG4gICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlMykpIHtcbiAgICAgICAgICAgICAgICBsZXQgdDMgPSBlMy5oZWFkO1xuICAgICAgICAgICAgICAgIGZvciAoZTMgPSBbXTsgdDMgIT0gbnVsbDsgKVxuICAgICAgICAgICAgICAgICAgZTMucHVzaCh0My5kYXRhKSwgdDMgPSB0My5uZXh0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBlMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWQoZTMpIHtcbiAgICAgICAgICAgICAgY29uc3QgdDMgPSBzdXBlci5yZWFkKGUzKTtcbiAgICAgICAgICAgICAgaWYgKHQzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbWl0KFwicmVhZFwiLCB0MyksIHRoaXMucmVhZEVycm9yICYmIHQzLmxlbmd0aCA8IGUzKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWFkICR7dDMubGVuZ3RofSwgd2FudGVkICR7ZTN9YCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZWFkRXJyb3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBkYXRhIGF2YWlsYWJsZSwgd2FudGVkICR7ZTN9YCk7XG4gICAgICAgICAgICAgIHJldHVybiB0MztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRGdWxsKGUzKSB7XG4gICAgICAgICAgICAgIGxldCB0MyA9IG51bGwsIHIzID0gbnVsbCwgbjMgPSBudWxsO1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGkyLCBvMikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID49IGUzID8gaTIodGhpcy5yZWFkKGUzKSkgOiB0aGlzLndyaXRhYmxlRmluaXNoZWQgPyBvMihuZXcgRXJyb3IoYFN0cmVhbSBmaW5pc2hlZCBiZWZvcmUgJHtlM30gYnl0ZXMgd2VyZSBhdmFpbGFibGVgKSkgOiAodDMgPSAodDQpID0+IHtcbiAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID49IGUzICYmIGkyKHRoaXMucmVhZChlMykpO1xuICAgICAgICAgICAgICAgIH0sIHIzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgbzIobmV3IEVycm9yKGBTdHJlYW0gZmluaXNoZWQgYmVmb3JlICR7ZTN9IGJ5dGVzIHdlcmUgYXZhaWxhYmxlYCkpO1xuICAgICAgICAgICAgICAgIH0sIG4zID0gbzIsIHRoaXMub24oXCJyZWFkYWJsZVwiLCB0MyksIHRoaXMub24oXCJlcnJvclwiLCBuMyksIHRoaXMub24oXCJmaW5pc2hcIiwgcjMpKTtcbiAgICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdDMgJiYgKHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJyZWFkYWJsZVwiLCB0MyksIHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCBuMyksIHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIiwgcjMpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9taXNlKGUzKSB7XG4gICAgICAgICAgICAgIGxldCB0MyA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHIzLCBuMykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub24oXCJmaW5pc2hcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbjQgPSB0aGlzLnJlYWQoKTtcbiAgICAgICAgICAgICAgICAgIGUzID09IG51bGwgfHwgdDMgfHwgKHQzID0gdHJ1ZSwgZTMobnVsbCwgbjQpKSwgcjMobjQpO1xuICAgICAgICAgICAgICAgIH0pLCB0aGlzLm9uKFwiZXJyb3JcIiwgKHI0KSA9PiB7XG4gICAgICAgICAgICAgICAgICBlMyA9PSBudWxsIHx8IHQzIHx8ICh0MyA9IHRydWUsIGUzKHI0KSksIG4zKHI0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wYXJlKGUzKSB7XG4gICAgICAgICAgICAgIGlmICghKGUzIGluc3RhbmNlb2YgcykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyBtdXN0IGJlIE5vRmlsdGVyc1wiKTtcbiAgICAgICAgICAgICAgaWYgKHRoaXMgPT09IGUzKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IHRoaXMuc2xpY2UoKSwgcjMgPSBlMy5zbGljZSgpO1xuICAgICAgICAgICAgICBpZiAoaS5pc0J1ZmZlcih0MykgJiYgaS5pc0J1ZmZlcihyMykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHQzLmNvbXBhcmUocjMpO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tcGFyZSBzdHJlYW1zIGluIG9iamVjdCBtb2RlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXF1YWxzKGUzKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUoZTMpID09PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2xpY2UoZTMsIHQzKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZkFycmF5KCkuc2xpY2UoZTMsIHQzKTtcbiAgICAgICAgICAgICAgY29uc3QgcjMgPSB0aGlzLl9idWZBcnJheSgpO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHIzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpLmFsbG9jKDApO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgIHJldHVybiByM1swXS5zbGljZShlMywgdDMpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gaS5jb25jYXQocjMpLnNsaWNlKGUzLCB0Myk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldChlMykge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zbGljZSgpW2UzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvSlNPTigpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnNsaWNlKCk7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnRvSlNPTigpIDogZTM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b1N0cmluZyhlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG4zID0gdGhpcy5zbGljZSh0MywgcjMpO1xuICAgICAgICAgICAgICByZXR1cm4gaS5pc0J1ZmZlcihuMykgPyBlMyAmJiBlMyAhPT0gXCJ1dGY4XCIgPyBuMy50b1N0cmluZyhlMykgOiBvLmRlY29kZShuMykgOiBKU09OLnN0cmluZ2lmeShuMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBbU3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpXShlMywgdDMpIHtcbiAgICAgICAgICAgICAgY29uc3QgcjMgPSB0aGlzLl9idWZBcnJheSgpLm1hcCgoZTQpID0+IGkuaXNCdWZmZXIoZTQpID8gdDMuc3R5bGl6ZShlNC50b1N0cmluZyhcImhleFwiKSwgXCJzdHJpbmdcIikgOiBKU09OLnN0cmluZ2lmeShlNCkpLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gWyR7cjN9XWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cml0ZUJpZ0ludChlMykge1xuICAgICAgICAgICAgICBsZXQgdDMgPSBlMy50b1N0cmluZygxNik7XG4gICAgICAgICAgICAgIGlmIChlMyA8IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCByMyA9IEJpZ0ludChNYXRoLmZsb29yKHQzLmxlbmd0aCAvIDIpKTtcbiAgICAgICAgICAgICAgICB0MyA9IChlMyA9IChCaWdJbnQoMSkgPDwgcjMgKiBCaWdJbnQoOCkpICsgZTMpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdDMubGVuZ3RoICUgMiAmJiAodDMgPSBgMCR7dDN9YCksIHRoaXMucHVzaChpLmZyb20odDMsIFwiaGV4XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRVQmlnSW50KGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gdGhpcy5yZWFkKGUzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGkuaXNCdWZmZXIodDMpID8gQmlnSW50KGAweCR7dDMudG9TdHJpbmcoXCJoZXhcIil9YCkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZEJpZ0ludChlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IHRoaXMucmVhZChlMyk7XG4gICAgICAgICAgICAgIGlmICghaS5pc0J1ZmZlcih0MykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIGxldCByMyA9IEJpZ0ludChgMHgke3QzLnRvU3RyaW5nKFwiaGV4XCIpfWApO1xuICAgICAgICAgICAgICByZXR1cm4gMTI4ICYgdDNbMF0gJiYgKHIzIC09IEJpZ0ludCgxKSA8PCBCaWdJbnQodDMubGVuZ3RoKSAqIEJpZ0ludCg4KSksIHIzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGVVSW50OChlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuZnJvbShbZTNdKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaCh0Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cml0ZVVJbnQxNkxFKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gaS5hbGxvYygyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLndyaXRlVUludDE2TEUoZTMpLCB0aGlzLnB1c2godDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGVVSW50MTZCRShlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuYWxsb2MoMik7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZVVJbnQxNkJFKGUzKSwgdGhpcy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyaXRlVUludDMyTEUoZTMpIHtcbiAgICAgICAgICAgICAgY29uc3QgdDMgPSBpLmFsbG9jKDQpO1xuICAgICAgICAgICAgICByZXR1cm4gdDMud3JpdGVVSW50MzJMRShlMyksIHRoaXMucHVzaCh0Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cml0ZVVJbnQzMkJFKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gaS5hbGxvYyg0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLndyaXRlVUludDMyQkUoZTMpLCB0aGlzLnB1c2godDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGVJbnQ4KGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gaS5mcm9tKFtlM10pO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyaXRlSW50MTZMRShlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuYWxsb2MoMik7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZVVJbnQxNkxFKGUzKSwgdGhpcy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyaXRlSW50MTZCRShlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuYWxsb2MoMik7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZVVJbnQxNkJFKGUzKSwgdGhpcy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyaXRlSW50MzJMRShlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuYWxsb2MoNCk7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZVVJbnQzMkxFKGUzKSwgdGhpcy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyaXRlSW50MzJCRShlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuYWxsb2MoNCk7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZVVJbnQzMkJFKGUzKSwgdGhpcy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyaXRlRmxvYXRMRShlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuYWxsb2MoNCk7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZUZsb2F0TEUoZTMpLCB0aGlzLnB1c2godDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGVGbG9hdEJFKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gaS5hbGxvYyg0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLndyaXRlRmxvYXRCRShlMyksIHRoaXMucHVzaCh0Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cml0ZURvdWJsZUxFKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gaS5hbGxvYyg4KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLndyaXRlRG91YmxlTEUoZTMpLCB0aGlzLnB1c2godDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGVEb3VibGVCRShlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuYWxsb2MoOCk7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZURvdWJsZUJFKGUzKSwgdGhpcy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyaXRlQmlnSW50NjRMRShlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuYWxsb2MoOCk7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZUJpZ0ludDY0TEUoZTMpLCB0aGlzLnB1c2godDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGVCaWdJbnQ2NEJFKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gaS5hbGxvYyg4KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLndyaXRlQmlnSW50NjRCRShlMyksIHRoaXMucHVzaCh0Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cml0ZUJpZ1VJbnQ2NExFKGUzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQzID0gaS5hbGxvYyg4KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLndyaXRlQmlnVUludDY0TEUoZTMpLCB0aGlzLnB1c2godDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGVCaWdVSW50NjRCRShlMykge1xuICAgICAgICAgICAgICBjb25zdCB0MyA9IGkuYWxsb2MoOCk7XG4gICAgICAgICAgICAgIHJldHVybiB0My53cml0ZUJpZ1VJbnQ2NEJFKGUzKSwgdGhpcy5wdXNoKHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRVSW50OCgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoMSk7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRVSW50OCgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRVSW50MTZMRSgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoMik7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRVSW50MTZMRSgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRVSW50MTZCRSgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoMik7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRVSW50MTZCRSgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRVSW50MzJMRSgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoNCk7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRVSW50MzJMRSgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRVSW50MzJCRSgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoNCk7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRVSW50MzJCRSgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRJbnQ4KCkge1xuICAgICAgICAgICAgICBjb25zdCBlMyA9IHRoaXMucmVhZCgxKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGkuaXNCdWZmZXIoZTMpID8gZTMucmVhZEludDgoKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkSW50MTZMRSgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoMik7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRJbnQxNkxFKCkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZEludDE2QkUoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGUzID0gdGhpcy5yZWFkKDIpO1xuICAgICAgICAgICAgICByZXR1cm4gaS5pc0J1ZmZlcihlMykgPyBlMy5yZWFkSW50MTZCRSgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRJbnQzMkxFKCkge1xuICAgICAgICAgICAgICBjb25zdCBlMyA9IHRoaXMucmVhZCg0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIGkuaXNCdWZmZXIoZTMpID8gZTMucmVhZEludDMyTEUoKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkSW50MzJCRSgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoNCk7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRJbnQzMkJFKCkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZEZsb2F0TEUoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGUzID0gdGhpcy5yZWFkKDQpO1xuICAgICAgICAgICAgICByZXR1cm4gaS5pc0J1ZmZlcihlMykgPyBlMy5yZWFkRmxvYXRMRSgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRGbG9hdEJFKCkge1xuICAgICAgICAgICAgICBjb25zdCBlMyA9IHRoaXMucmVhZCg0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIGkuaXNCdWZmZXIoZTMpID8gZTMucmVhZEZsb2F0QkUoKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkRG91YmxlTEUoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGUzID0gdGhpcy5yZWFkKDgpO1xuICAgICAgICAgICAgICByZXR1cm4gaS5pc0J1ZmZlcihlMykgPyBlMy5yZWFkRG91YmxlTEUoKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkRG91YmxlQkUoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGUzID0gdGhpcy5yZWFkKDgpO1xuICAgICAgICAgICAgICByZXR1cm4gaS5pc0J1ZmZlcihlMykgPyBlMy5yZWFkRG91YmxlQkUoKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkQmlnSW50NjRMRSgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoOCk7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRCaWdJbnQ2NExFKCkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZEJpZ0ludDY0QkUoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGUzID0gdGhpcy5yZWFkKDgpO1xuICAgICAgICAgICAgICByZXR1cm4gaS5pc0J1ZmZlcihlMykgPyBlMy5yZWFkQmlnSW50NjRCRSgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRCaWdVSW50NjRMRSgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoOCk7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRCaWdVSW50NjRMRSgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRCaWdVSW50NjRCRSgpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnJlYWQoOCk7XG4gICAgICAgICAgICAgIHJldHVybiBpLmlzQnVmZmVyKGUzKSA/IGUzLnJlYWRCaWdVSW50NjRCRSgpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZTIuZXhwb3J0cyA9IHM7XG4gICAgICAgIH0sIDcxOiAoZTIsIHQyLCByMikgPT4ge1xuICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAgIGNvbnN0IG4yID0gcjIoODMwKSwgaSA9IHIyKDIwMik7XG4gICAgICAgICAgY2xhc3MgbyBleHRlbmRzIG4yLlRyYW5zZm9ybSB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihlMykge1xuICAgICAgICAgICAgICBzdXBlcihlMyksIHRoaXMuX3dyaXRhYmxlU3RhdGUub2JqZWN0TW9kZSA9IGZhbHNlLCB0aGlzLl9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGUgPSB0cnVlLCB0aGlzLmJzID0gbmV3IGkoKSwgdGhpcy5fX3Jlc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90cmFuc2Zvcm0oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgICBmb3IgKHRoaXMuYnMud3JpdGUoZTMpOyB0aGlzLmJzLmxlbmd0aCA+PSB0aGlzLl9fbmVlZGVkOyApIHtcbiAgICAgICAgICAgICAgICBsZXQgZTQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQ0ID0gdGhpcy5fX25lZWRlZCA9PT0gbnVsbCA/IHZvaWQgMCA6IHRoaXMuYnMucmVhZCh0aGlzLl9fbmVlZGVkKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgZTQgPSB0aGlzLl9fcGFyc2VyLm5leHQodDQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU1KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcjMoZTUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9fbmVlZGVkICYmICh0aGlzLl9fZnJlc2ggPSBmYWxzZSksIGU0LmRvbmUgPyAodGhpcy5wdXNoKGU0LnZhbHVlKSwgdGhpcy5fX3Jlc3RhcnQoKSkgOiB0aGlzLl9fbmVlZGVkID0gZTQudmFsdWUgfHwgMSAvIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHIzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAqX3BhcnNlKCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19yZXN0YXJ0KCkge1xuICAgICAgICAgICAgICB0aGlzLl9fbmVlZGVkID0gbnVsbCwgdGhpcy5fX3BhcnNlciA9IHRoaXMuX3BhcnNlKCksIHRoaXMuX19mcmVzaCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZmx1c2goZTMpIHtcbiAgICAgICAgICAgICAgZTModGhpcy5fX2ZyZXNoID8gbnVsbCA6IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZTIuZXhwb3J0cyA9IG87XG4gICAgICAgIH0sIDE4NzogKGUyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgdmFyIHQyLCByMiA9IHR5cGVvZiBSZWZsZWN0ID09IFwib2JqZWN0XCIgPyBSZWZsZWN0IDogbnVsbCwgbjIgPSByMiAmJiB0eXBlb2YgcjIuYXBwbHkgPT0gXCJmdW5jdGlvblwiID8gcjIuYXBwbHkgOiBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZTMsIHQzLCByMyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB0MiA9IHIyICYmIHR5cGVvZiByMi5vd25LZXlzID09IFwiZnVuY3Rpb25cIiA/IHIyLm93bktleXMgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlMykuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZTMpKTtcbiAgICAgICAgICB9IDogZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlMyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2YXIgaSA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgcmV0dXJuIGUzICE9IGUzO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZnVuY3Rpb24gbygpIHtcbiAgICAgICAgICAgIG8uaW5pdC5jYWxsKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlMi5leHBvcnRzID0gbywgZTIuZXhwb3J0cy5vbmNlID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocjMsIG4zKSB7XG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGkyKHI0KSB7XG4gICAgICAgICAgICAgICAgZTMucmVtb3ZlTGlzdGVuZXIodDMsIG8yKSwgbjMocjQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG8yKCkge1xuICAgICAgICAgICAgICAgIHR5cGVvZiBlMy5yZW1vdmVMaXN0ZW5lciA9PSBcImZ1bmN0aW9uXCIgJiYgZTMucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCBpMiksIHIzKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZyhlMywgdDMsIG8yLCB7IG9uY2U6IHRydWUgfSksIHQzICE9PSBcImVycm9yXCIgJiYgZnVuY3Rpb24oZTQsIHQ0LCByNCkge1xuICAgICAgICAgICAgICAgIHR5cGVvZiBlNC5vbiA9PSBcImZ1bmN0aW9uXCIgJiYgZyhlNCwgXCJlcnJvclwiLCB0NCwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgICB9KGUzLCBpMik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCBvLkV2ZW50RW1pdHRlciA9IG8sIG8ucHJvdG90eXBlLl9ldmVudHMgPSB2b2lkIDAsIG8ucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDAsIG8ucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB2b2lkIDA7XG4gICAgICAgICAgdmFyIHMgPSAxMDtcbiAgICAgICAgICBmdW5jdGlvbiBhKGUzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGUzICE9IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlMyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIHUoZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMy5fbWF4TGlzdGVuZXJzID09PSB2b2lkIDAgPyBvLmRlZmF1bHRNYXhMaXN0ZW5lcnMgOiBlMy5fbWF4TGlzdGVuZXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBmKGUzLCB0MywgcjMsIG4zKSB7XG4gICAgICAgICAgICB2YXIgaTIsIG8yLCBzMiwgZjI7XG4gICAgICAgICAgICBpZiAoYShyMyksIChvMiA9IGUzLl9ldmVudHMpID09PSB2b2lkIDAgPyAobzIgPSBlMy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKSwgZTMuX2V2ZW50c0NvdW50ID0gMCkgOiAobzIubmV3TGlzdGVuZXIgIT09IHZvaWQgMCAmJiAoZTMuZW1pdChcIm5ld0xpc3RlbmVyXCIsIHQzLCByMy5saXN0ZW5lciA/IHIzLmxpc3RlbmVyIDogcjMpLCBvMiA9IGUzLl9ldmVudHMpLCBzMiA9IG8yW3QzXSksIHMyID09PSB2b2lkIDApXG4gICAgICAgICAgICAgIHMyID0gbzJbdDNdID0gcjMsICsrZTMuX2V2ZW50c0NvdW50O1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHMyID09IFwiZnVuY3Rpb25cIiA/IHMyID0gbzJbdDNdID0gbjMgPyBbcjMsIHMyXSA6IFtzMiwgcjNdIDogbjMgPyBzMi51bnNoaWZ0KHIzKSA6IHMyLnB1c2gocjMpLCAoaTIgPSB1KGUzKSkgPiAwICYmIHMyLmxlbmd0aCA+IGkyICYmICFzMi53YXJuZWQpIHtcbiAgICAgICAgICAgICAgczIud2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdmFyIGgyID0gbmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIiArIHMyLmxlbmd0aCArIFwiIFwiICsgU3RyaW5nKHQzKSArIFwiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7XG4gICAgICAgICAgICAgIGgyLm5hbWUgPSBcIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLCBoMi5lbWl0dGVyID0gZTMsIGgyLnR5cGUgPSB0MywgaDIuY291bnQgPSBzMi5sZW5ndGgsIGYyID0gaDIsIGNvbnNvbGUgJiYgY29uc29sZS53YXJuICYmIGNvbnNvbGUud2FybihmMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZTM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGgoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZmlyZWQpXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKSwgdGhpcy5maXJlZCA9IHRydWUsIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgPyB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpIDogdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gbChlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICB2YXIgbjMgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB2b2lkIDAsIHRhcmdldDogZTMsIHR5cGU6IHQzLCBsaXN0ZW5lcjogcjMgfSwgaTIgPSBoLmJpbmQobjMpO1xuICAgICAgICAgICAgcmV0dXJuIGkyLmxpc3RlbmVyID0gcjMsIG4zLndyYXBGbiA9IGkyLCBpMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gYyhlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICB2YXIgbjMgPSBlMy5fZXZlbnRzO1xuICAgICAgICAgICAgaWYgKG4zID09PSB2b2lkIDApXG4gICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIHZhciBpMiA9IG4zW3QzXTtcbiAgICAgICAgICAgIHJldHVybiBpMiA9PT0gdm9pZCAwID8gW10gOiB0eXBlb2YgaTIgPT0gXCJmdW5jdGlvblwiID8gcjMgPyBbaTIubGlzdGVuZXIgfHwgaTJdIDogW2kyXSA6IHIzID8gZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgdDQgPSBuZXcgQXJyYXkoZTQubGVuZ3RoKSwgcjQgPSAwOyByNCA8IHQ0Lmxlbmd0aDsgKytyNClcbiAgICAgICAgICAgICAgICB0NFtyNF0gPSBlNFtyNF0ubGlzdGVuZXIgfHwgZTRbcjRdO1xuICAgICAgICAgICAgICByZXR1cm4gdDQ7XG4gICAgICAgICAgICB9KGkyKSA6IHAoaTIsIGkyLmxlbmd0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGQoZTMpIHtcbiAgICAgICAgICAgIHZhciB0MyA9IHRoaXMuX2V2ZW50cztcbiAgICAgICAgICAgIGlmICh0MyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHZhciByMyA9IHQzW2UzXTtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiByMyA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgIGlmIChyMyAhPT0gdm9pZCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiByMy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gcChlMywgdDMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHIzID0gbmV3IEFycmF5KHQzKSwgbjMgPSAwOyBuMyA8IHQzOyArK24zKVxuICAgICAgICAgICAgICByM1tuM10gPSBlM1tuM107XG4gICAgICAgICAgICByZXR1cm4gcjM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGcoZTMsIHQzLCByMywgbjMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZTMub24gPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICBuMy5vbmNlID8gZTMub25jZSh0MywgcjMpIDogZTMub24odDMsIHIzKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIGUzLmFkZEV2ZW50TGlzdGVuZXIgIT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZTMpO1xuICAgICAgICAgICAgICBlMy5hZGRFdmVudExpc3RlbmVyKHQzLCBmdW5jdGlvbiBpMihvMikge1xuICAgICAgICAgICAgICAgIG4zLm9uY2UgJiYgZTMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0MywgaTIpLCByMyhvMik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICAgIH0sIHNldDogZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZTMgIT0gXCJudW1iZXJcIiB8fCBlMyA8IDAgfHwgaShlMykpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGUzICsgXCIuXCIpO1xuICAgICAgICAgICAgcyA9IGUzO1xuICAgICAgICAgIH0gfSksIG8uaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRzICE9PSB2b2lkIDAgJiYgdGhpcy5fZXZlbnRzICE9PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cyB8fCAodGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKSwgdGhpcy5fZXZlbnRzQ291bnQgPSAwKSwgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHZvaWQgMDtcbiAgICAgICAgICB9LCBvLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlMyAhPSBcIm51bWJlclwiIHx8IGUzIDwgMCB8fCBpKGUzKSlcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgZTMgKyBcIi5cIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzID0gZTMsIHRoaXM7XG4gICAgICAgICAgfSwgby5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdSh0aGlzKTtcbiAgICAgICAgICB9LCBvLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHQzID0gW10sIHIzID0gMTsgcjMgPCBhcmd1bWVudHMubGVuZ3RoOyByMysrKVxuICAgICAgICAgICAgICB0My5wdXNoKGFyZ3VtZW50c1tyM10pO1xuICAgICAgICAgICAgdmFyIGkyID0gZTMgPT09IFwiZXJyb3JcIiwgbzIgPSB0aGlzLl9ldmVudHM7XG4gICAgICAgICAgICBpZiAobzIgIT09IHZvaWQgMClcbiAgICAgICAgICAgICAgaTIgPSBpMiAmJiBvMi5lcnJvciA9PT0gdm9pZCAwO1xuICAgICAgICAgICAgZWxzZSBpZiAoIWkyKVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaTIpIHtcbiAgICAgICAgICAgICAgdmFyIHMyO1xuICAgICAgICAgICAgICBpZiAodDMubGVuZ3RoID4gMCAmJiAoczIgPSB0M1swXSksIHMyIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgczI7XG4gICAgICAgICAgICAgIHZhciBhMiA9IG5ldyBFcnJvcihcIlVuaGFuZGxlZCBlcnJvci5cIiArIChzMiA/IFwiIChcIiArIHMyLm1lc3NhZ2UgKyBcIilcIiA6IFwiXCIpKTtcbiAgICAgICAgICAgICAgdGhyb3cgYTIuY29udGV4dCA9IHMyLCBhMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1MiA9IG8yW2UzXTtcbiAgICAgICAgICAgIGlmICh1MiA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHUyID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgbjIodTIsIHRoaXMsIHQzKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgZjIgPSB1Mi5sZW5ndGgsIGgyID0gcCh1MiwgZjIpO1xuICAgICAgICAgICAgICBmb3IgKHIzID0gMDsgcjMgPCBmMjsgKytyMylcbiAgICAgICAgICAgICAgICBuMihoMltyM10sIHRoaXMsIHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0sIG8ucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZih0aGlzLCBlMywgdDMsIGZhbHNlKTtcbiAgICAgICAgICB9LCBvLnByb3RvdHlwZS5vbiA9IG8ucHJvdG90eXBlLmFkZExpc3RlbmVyLCBvLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIHJldHVybiBmKHRoaXMsIGUzLCB0MywgdHJ1ZSk7XG4gICAgICAgICAgfSwgby5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgcmV0dXJuIGEodDMpLCB0aGlzLm9uKGUzLCBsKHRoaXMsIGUzLCB0MykpLCB0aGlzO1xuICAgICAgICAgIH0sIG8ucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIHJldHVybiBhKHQzKSwgdGhpcy5wcmVwZW5kTGlzdGVuZXIoZTMsIGwodGhpcywgZTMsIHQzKSksIHRoaXM7XG4gICAgICAgICAgfSwgby5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIHZhciByMywgbjMsIGkyLCBvMiwgczI7XG4gICAgICAgICAgICBpZiAoYSh0MyksIChuMyA9IHRoaXMuX2V2ZW50cykgPT09IHZvaWQgMClcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICBpZiAoKHIzID0gbjNbZTNdKSA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGlmIChyMyA9PT0gdDMgfHwgcjMubGlzdGVuZXIgPT09IHQzKVxuICAgICAgICAgICAgICAtLXRoaXMuX2V2ZW50c0NvdW50ID09IDAgPyB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpIDogKGRlbGV0ZSBuM1tlM10sIG4zLnJlbW92ZUxpc3RlbmVyICYmIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsIGUzLCByMy5saXN0ZW5lciB8fCB0MykpO1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHIzICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICBmb3IgKGkyID0gLTEsIG8yID0gcjMubGVuZ3RoIC0gMTsgbzIgPj0gMDsgbzItLSlcbiAgICAgICAgICAgICAgICBpZiAocjNbbzJdID09PSB0MyB8fCByM1tvMl0ubGlzdGVuZXIgPT09IHQzKSB7XG4gICAgICAgICAgICAgICAgICBzMiA9IHIzW28yXS5saXN0ZW5lciwgaTIgPSBvMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGkyIDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgaTIgPT09IDAgPyByMy5zaGlmdCgpIDogZnVuY3Rpb24oZTQsIHQ0KSB7XG4gICAgICAgICAgICAgICAgZm9yICg7IHQ0ICsgMSA8IGU0Lmxlbmd0aDsgdDQrKylcbiAgICAgICAgICAgICAgICAgIGU0W3Q0XSA9IGU0W3Q0ICsgMV07XG4gICAgICAgICAgICAgICAgZTQucG9wKCk7XG4gICAgICAgICAgICAgIH0ocjMsIGkyKSwgcjMubGVuZ3RoID09PSAxICYmIChuM1tlM10gPSByM1swXSksIG4zLnJlbW92ZUxpc3RlbmVyICE9PSB2b2lkIDAgJiYgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgZTMsIHMyIHx8IHQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH0sIG8ucHJvdG90eXBlLm9mZiA9IG8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLCBvLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgdmFyIHQzLCByMywgbjM7XG4gICAgICAgICAgICBpZiAoKHIzID0gdGhpcy5fZXZlbnRzKSA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGlmIChyMy5yZW1vdmVMaXN0ZW5lciA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/ICh0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpLCB0aGlzLl9ldmVudHNDb3VudCA9IDApIDogcjNbZTNdICE9PSB2b2lkIDAgJiYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT0gMCA/IHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCkgOiBkZWxldGUgcjNbZTNdKSwgdGhpcztcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHZhciBpMiwgbzIgPSBPYmplY3Qua2V5cyhyMyk7XG4gICAgICAgICAgICAgIGZvciAobjMgPSAwOyBuMyA8IG8yLmxlbmd0aDsgKytuMylcbiAgICAgICAgICAgICAgICAoaTIgPSBvMltuM10pICE9PSBcInJlbW92ZUxpc3RlbmVyXCIgJiYgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoaTIpO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSwgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKSwgdGhpcy5fZXZlbnRzQ291bnQgPSAwLCB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiAodDMgPSByM1tlM10pID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihlMywgdDMpO1xuICAgICAgICAgICAgZWxzZSBpZiAodDMgIT09IHZvaWQgMClcbiAgICAgICAgICAgICAgZm9yIChuMyA9IHQzLmxlbmd0aCAtIDE7IG4zID49IDA7IG4zLS0pXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihlMywgdDNbbjNdKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH0sIG8ucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICByZXR1cm4gYyh0aGlzLCBlMywgdHJ1ZSk7XG4gICAgICAgICAgfSwgby5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBjKHRoaXMsIGUzLCBmYWxzZSk7XG4gICAgICAgICAgfSwgby5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGUzLmxpc3RlbmVyQ291bnQgPT0gXCJmdW5jdGlvblwiID8gZTMubGlzdGVuZXJDb3VudCh0MykgOiBkLmNhbGwoZTMsIHQzKTtcbiAgICAgICAgICB9LCBvLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZCwgby5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IHQyKHRoaXMuX2V2ZW50cykgOiBbXTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LCA2NDU6IChlMiwgdDIpID0+IHtcbiAgICAgICAgICB0Mi5yZWFkID0gZnVuY3Rpb24oZTMsIHQzLCByMiwgbjIsIGkpIHtcbiAgICAgICAgICAgIHZhciBvLCBzLCBhID0gOCAqIGkgLSBuMiAtIDEsIHUgPSAoMSA8PCBhKSAtIDEsIGYgPSB1ID4+IDEsIGggPSAtNywgbCA9IHIyID8gaSAtIDEgOiAwLCBjID0gcjIgPyAtMSA6IDEsIGQgPSBlM1t0MyArIGxdO1xuICAgICAgICAgICAgZm9yIChsICs9IGMsIG8gPSBkICYgKDEgPDwgLWgpIC0gMSwgZCA+Pj0gLWgsIGggKz0gYTsgaCA+IDA7IG8gPSAyNTYgKiBvICsgZTNbdDMgKyBsXSwgbCArPSBjLCBoIC09IDgpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGZvciAocyA9IG8gJiAoMSA8PCAtaCkgLSAxLCBvID4+PSAtaCwgaCArPSBuMjsgaCA+IDA7IHMgPSAyNTYgKiBzICsgZTNbdDMgKyBsXSwgbCArPSBjLCBoIC09IDgpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGlmIChvID09PSAwKVxuICAgICAgICAgICAgICBvID0gMSAtIGY7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKG8gPT09IHUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHMgPyBOYU4gOiAxIC8gMCAqIChkID8gLTEgOiAxKTtcbiAgICAgICAgICAgICAgcyArPSBNYXRoLnBvdygyLCBuMiksIG8gLT0gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoZCA/IC0xIDogMSkgKiBzICogTWF0aC5wb3coMiwgbyAtIG4yKTtcbiAgICAgICAgICB9LCB0Mi53cml0ZSA9IGZ1bmN0aW9uKGUzLCB0MywgcjIsIG4yLCBpLCBvKSB7XG4gICAgICAgICAgICB2YXIgcywgYSwgdSwgZiA9IDggKiBvIC0gaSAtIDEsIGggPSAoMSA8PCBmKSAtIDEsIGwgPSBoID4+IDEsIGMgPSBpID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMCwgZCA9IG4yID8gMCA6IG8gLSAxLCBwID0gbjIgPyAxIDogLTEsIGcgPSB0MyA8IDAgfHwgdDMgPT09IDAgJiYgMSAvIHQzIDwgMCA/IDEgOiAwO1xuICAgICAgICAgICAgZm9yICh0MyA9IE1hdGguYWJzKHQzKSwgaXNOYU4odDMpIHx8IHQzID09PSAxIC8gMCA/IChhID0gaXNOYU4odDMpID8gMSA6IDAsIHMgPSBoKSA6IChzID0gTWF0aC5mbG9vcihNYXRoLmxvZyh0MykgLyBNYXRoLkxOMiksIHQzICogKHUgPSBNYXRoLnBvdygyLCAtcykpIDwgMSAmJiAocy0tLCB1ICo9IDIpLCAodDMgKz0gcyArIGwgPj0gMSA/IGMgLyB1IDogYyAqIE1hdGgucG93KDIsIDEgLSBsKSkgKiB1ID49IDIgJiYgKHMrKywgdSAvPSAyKSwgcyArIGwgPj0gaCA/IChhID0gMCwgcyA9IGgpIDogcyArIGwgPj0gMSA/IChhID0gKHQzICogdSAtIDEpICogTWF0aC5wb3coMiwgaSksIHMgKz0gbCkgOiAoYSA9IHQzICogTWF0aC5wb3coMiwgbCAtIDEpICogTWF0aC5wb3coMiwgaSksIHMgPSAwKSk7IGkgPj0gODsgZTNbcjIgKyBkXSA9IDI1NSAmIGEsIGQgKz0gcCwgYSAvPSAyNTYsIGkgLT0gOClcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgZm9yIChzID0gcyA8PCBpIHwgYSwgZiArPSBpOyBmID4gMDsgZTNbcjIgKyBkXSA9IDI1NSAmIHMsIGQgKz0gcCwgcyAvPSAyNTYsIGYgLT0gOClcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgZTNbcjIgKyBkIC0gcF0gfD0gMTI4ICogZztcbiAgICAgICAgICB9O1xuICAgICAgICB9LCA3MTc6IChlMikgPT4ge1xuICAgICAgICAgIHR5cGVvZiBPYmplY3QuY3JlYXRlID09IFwiZnVuY3Rpb25cIiA/IGUyLmV4cG9ydHMgPSBmdW5jdGlvbihlMywgdDIpIHtcbiAgICAgICAgICAgIHQyICYmIChlMy5zdXBlcl8gPSB0MiwgZTMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh0Mi5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IGUzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pKTtcbiAgICAgICAgICB9IDogZTIuZXhwb3J0cyA9IGZ1bmN0aW9uKGUzLCB0Mikge1xuICAgICAgICAgICAgaWYgKHQyKSB7XG4gICAgICAgICAgICAgIGUzLnN1cGVyXyA9IHQyO1xuICAgICAgICAgICAgICB2YXIgcjIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcjIucHJvdG90eXBlID0gdDIucHJvdG90eXBlLCBlMy5wcm90b3R5cGUgPSBuZXcgcjIoKSwgZTMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gZTM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgMTU1OiAoZTIpID0+IHtcbiAgICAgICAgICB2YXIgdDIsIHIyLCBuMiA9IGUyLmV4cG9ydHMgPSB7fTtcbiAgICAgICAgICBmdW5jdGlvbiBpKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gbygpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gcyhlMykge1xuICAgICAgICAgICAgaWYgKHQyID09PSBzZXRUaW1lb3V0KVxuICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChlMywgMCk7XG4gICAgICAgICAgICBpZiAoKHQyID09PSBpIHx8ICF0MikgJiYgc2V0VGltZW91dClcbiAgICAgICAgICAgICAgcmV0dXJuIHQyID0gc2V0VGltZW91dCwgc2V0VGltZW91dChlMywgMCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gdDIoZTMsIDApO1xuICAgICAgICAgICAgfSBjYXRjaCAocjMpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdDIuY2FsbChudWxsLCBlMywgMCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKHI0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQyLmNhbGwodGhpcywgZTMsIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICFmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHQyID0gdHlwZW9mIHNldFRpbWVvdXQgPT0gXCJmdW5jdGlvblwiID8gc2V0VGltZW91dCA6IGk7XG4gICAgICAgICAgICB9IGNhdGNoIChlMykge1xuICAgICAgICAgICAgICB0MiA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByMiA9IHR5cGVvZiBjbGVhclRpbWVvdXQgPT0gXCJmdW5jdGlvblwiID8gY2xlYXJUaW1lb3V0IDogbztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUzKSB7XG4gICAgICAgICAgICAgIHIyID0gbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KCk7XG4gICAgICAgICAgdmFyIGEsIHUgPSBbXSwgZiA9IGZhbHNlLCBoID0gLTE7XG4gICAgICAgICAgZnVuY3Rpb24gbCgpIHtcbiAgICAgICAgICAgIGYgJiYgYSAmJiAoZiA9IGZhbHNlLCBhLmxlbmd0aCA/IHUgPSBhLmNvbmNhdCh1KSA6IGggPSAtMSwgdS5sZW5ndGggJiYgYygpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gYygpIHtcbiAgICAgICAgICAgIGlmICghZikge1xuICAgICAgICAgICAgICB2YXIgZTMgPSBzKGwpO1xuICAgICAgICAgICAgICBmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgdDMgPSB1Lmxlbmd0aDsgdDM7ICkge1xuICAgICAgICAgICAgICAgIGZvciAoYSA9IHUsIHUgPSBbXTsgKytoIDwgdDM7IClcbiAgICAgICAgICAgICAgICAgIGEgJiYgYVtoXS5ydW4oKTtcbiAgICAgICAgICAgICAgICBoID0gLTEsIHQzID0gdS5sZW5ndGg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYSA9IG51bGwsIGYgPSBmYWxzZSwgZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgICBpZiAocjIgPT09IGNsZWFyVGltZW91dClcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQoZTQpO1xuICAgICAgICAgICAgICAgIGlmICgocjIgPT09IG8gfHwgIXIyKSAmJiBjbGVhclRpbWVvdXQpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcjIgPSBjbGVhclRpbWVvdXQsIGNsZWFyVGltZW91dChlNCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHIyKGU0KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoICh0NCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIyLmNhbGwobnVsbCwgZTQpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAodDUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIyLmNhbGwodGhpcywgZTQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfShlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGQoZTMsIHQzKSB7XG4gICAgICAgICAgICB0aGlzLmZ1biA9IGUzLCB0aGlzLmFycmF5ID0gdDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIHAoKSB7XG4gICAgICAgICAgfVxuICAgICAgICAgIG4yLm5leHRUaWNrID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHZhciB0MyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgIGZvciAodmFyIHIzID0gMTsgcjMgPCBhcmd1bWVudHMubGVuZ3RoOyByMysrKVxuICAgICAgICAgICAgICAgIHQzW3IzIC0gMV0gPSBhcmd1bWVudHNbcjNdO1xuICAgICAgICAgICAgdS5wdXNoKG5ldyBkKGUzLCB0MykpLCB1Lmxlbmd0aCAhPT0gMSB8fCBmIHx8IHMoYyk7XG4gICAgICAgICAgfSwgZC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbiAgICAgICAgICB9LCBuMi50aXRsZSA9IFwiYnJvd3NlclwiLCBuMi5icm93c2VyID0gdHJ1ZSwgbjIuZW52ID0ge30sIG4yLmFyZ3YgPSBbXSwgbjIudmVyc2lvbiA9IFwiXCIsIG4yLnZlcnNpb25zID0ge30sIG4yLm9uID0gcCwgbjIuYWRkTGlzdGVuZXIgPSBwLCBuMi5vbmNlID0gcCwgbjIub2ZmID0gcCwgbjIucmVtb3ZlTGlzdGVuZXIgPSBwLCBuMi5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBwLCBuMi5lbWl0ID0gcCwgbjIucHJlcGVuZExpc3RlbmVyID0gcCwgbjIucHJlcGVuZE9uY2VMaXN0ZW5lciA9IHAsIG4yLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgfSwgbjIuYmluZGluZyA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICB9LCBuMi5jd2QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBcIi9cIjtcbiAgICAgICAgICB9LCBuMi5jaGRpciA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgfSwgbjIudW1hc2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH07XG4gICAgICAgIH0sIDI4MTogKGUyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgdmFyIHQyID0ge307XG4gICAgICAgICAgZnVuY3Rpb24gcjIoZTMsIHIzLCBuMykge1xuICAgICAgICAgICAgbjMgfHwgKG4zID0gRXJyb3IpO1xuICAgICAgICAgICAgdmFyIGkgPSBmdW5jdGlvbihlNCkge1xuICAgICAgICAgICAgICB2YXIgdDMsIG40O1xuICAgICAgICAgICAgICBmdW5jdGlvbiBpMih0NCwgbjUsIGkzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGU0LmNhbGwodGhpcywgZnVuY3Rpb24oZTUsIHQ1LCBuNikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiByMyA9PSBcInN0cmluZ1wiID8gcjMgOiByMyhlNSwgdDUsIG42KTtcbiAgICAgICAgICAgICAgICB9KHQ0LCBuNSwgaTMpKSB8fCB0aGlzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBuNCA9IGU0LCAodDMgPSBpMikucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShuNC5wcm90b3R5cGUpLCB0My5wcm90b3R5cGUuY29uc3RydWN0b3IgPSB0MywgdDMuX19wcm90b19fID0gbjQsIGkyO1xuICAgICAgICAgICAgfShuMyk7XG4gICAgICAgICAgICBpLnByb3RvdHlwZS5uYW1lID0gbjMubmFtZSwgaS5wcm90b3R5cGUuY29kZSA9IGUzLCB0MltlM10gPSBpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBuMihlMywgdDMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUzKSkge1xuICAgICAgICAgICAgICB2YXIgcjMgPSBlMy5sZW5ndGg7XG4gICAgICAgICAgICAgIHJldHVybiBlMyA9IGUzLm1hcChmdW5jdGlvbihlNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoZTQpO1xuICAgICAgICAgICAgICB9KSwgcjMgPiAyID8gXCJvbmUgb2YgXCIuY29uY2F0KHQzLCBcIiBcIikuY29uY2F0KGUzLnNsaWNlKDAsIHIzIC0gMSkuam9pbihcIiwgXCIpLCBcIiwgb3IgXCIpICsgZTNbcjMgLSAxXSA6IHIzID09PSAyID8gXCJvbmUgb2YgXCIuY29uY2F0KHQzLCBcIiBcIikuY29uY2F0KGUzWzBdLCBcIiBvciBcIikuY29uY2F0KGUzWzFdKSA6IFwib2YgXCIuY29uY2F0KHQzLCBcIiBcIikuY29uY2F0KGUzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIm9mIFwiLmNvbmNhdCh0MywgXCIgXCIpLmNvbmNhdChTdHJpbmcoZTMpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcjIoXCJFUlJfSU5WQUxJRF9PUFRfVkFMVUVcIiwgZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1RoZSB2YWx1ZSBcIicgKyB0MyArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCInICsgZTMgKyAnXCInO1xuICAgICAgICAgIH0sIFR5cGVFcnJvciksIHIyKFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIiwgZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgdmFyIGksIG8sIHMsIGEsIHU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHQzID09IFwic3RyaW5nXCIgJiYgKG8gPSBcIm5vdCBcIiwgdDMuc3Vic3RyKDAsIG8ubGVuZ3RoKSA9PT0gbykgPyAoaSA9IFwibXVzdCBub3QgYmVcIiwgdDMgPSB0My5yZXBsYWNlKC9ebm90IC8sIFwiXCIpKSA6IGkgPSBcIm11c3QgYmVcIiwgZnVuY3Rpb24oZTQsIHQ0LCByNCkge1xuICAgICAgICAgICAgICByZXR1cm4gKHI0ID09PSB2b2lkIDAgfHwgcjQgPiBlNC5sZW5ndGgpICYmIChyNCA9IGU0Lmxlbmd0aCksIGU0LnN1YnN0cmluZyhyNCAtIHQ0Lmxlbmd0aCwgcjQpID09PSB0NDtcbiAgICAgICAgICAgIH0oZTMsIFwiIGFyZ3VtZW50XCIpKVxuICAgICAgICAgICAgICBzID0gXCJUaGUgXCIuY29uY2F0KGUzLCBcIiBcIikuY29uY2F0KGksIFwiIFwiKS5jb25jYXQobjIodDMsIFwidHlwZVwiKSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIGYgPSAodHlwZW9mIHUgIT0gXCJudW1iZXJcIiAmJiAodSA9IDApLCB1ICsgXCIuXCIubGVuZ3RoID4gKGEgPSBlMykubGVuZ3RoIHx8IGEuaW5kZXhPZihcIi5cIiwgdSkgPT09IC0xID8gXCJhcmd1bWVudFwiIDogXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICAgICAgcyA9ICdUaGUgXCInLmNvbmNhdChlMywgJ1wiICcpLmNvbmNhdChmLCBcIiBcIikuY29uY2F0KGksIFwiIFwiKS5jb25jYXQobjIodDMsIFwidHlwZVwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcyArIFwiLiBSZWNlaXZlZCB0eXBlIFwiLmNvbmNhdCh0eXBlb2YgcjMpO1xuICAgICAgICAgIH0sIFR5cGVFcnJvciksIHIyKFwiRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRlwiLCBcInN0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GXCIpLCByMihcIkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEXCIsIGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJUaGUgXCIgKyBlMyArIFwiIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWRcIjtcbiAgICAgICAgICB9KSwgcjIoXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiLCBcIlByZW1hdHVyZSBjbG9zZVwiKSwgcjIoXCJFUlJfU1RSRUFNX0RFU1RST1lFRFwiLCBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgcmV0dXJuIFwiQ2Fubm90IGNhbGwgXCIgKyBlMyArIFwiIGFmdGVyIGEgc3RyZWFtIHdhcyBkZXN0cm95ZWRcIjtcbiAgICAgICAgICB9KSwgcjIoXCJFUlJfTVVMVElQTEVfQ0FMTEJBQ0tcIiwgXCJDYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXNcIiksIHIyKFwiRVJSX1NUUkVBTV9DQU5OT1RfUElQRVwiLCBcIkNhbm5vdCBwaXBlLCBub3QgcmVhZGFibGVcIiksIHIyKFwiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkRcIiwgXCJ3cml0ZSBhZnRlciBlbmRcIiksIHIyKFwiRVJSX1NUUkVBTV9OVUxMX1ZBTFVFU1wiLCBcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIsIFR5cGVFcnJvciksIHIyKFwiRVJSX1VOS05PV05fRU5DT0RJTkdcIiwgZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlVua25vd24gZW5jb2Rpbmc6IFwiICsgZTM7XG4gICAgICAgICAgfSwgVHlwZUVycm9yKSwgcjIoXCJFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UXCIsIFwic3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnRcIiksIGUyLmV4cG9ydHMucSA9IHQyO1xuICAgICAgICB9LCA3NTM6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgdmFyIG4yID0gcjIoMTU1KSwgaSA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICB2YXIgdDMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIHIzIGluIGUzKVxuICAgICAgICAgICAgICB0My5wdXNoKHIzKTtcbiAgICAgICAgICAgIHJldHVybiB0MztcbiAgICAgICAgICB9O1xuICAgICAgICAgIGUyLmV4cG9ydHMgPSBoO1xuICAgICAgICAgIHZhciBvID0gcjIoNDgxKSwgcyA9IHIyKDIyOSk7XG4gICAgICAgICAgcjIoNzE3KShoLCBvKTtcbiAgICAgICAgICBmb3IgKHZhciBhID0gaShzLnByb3RvdHlwZSksIHUgPSAwOyB1IDwgYS5sZW5ndGg7IHUrKykge1xuICAgICAgICAgICAgdmFyIGYgPSBhW3VdO1xuICAgICAgICAgICAgaC5wcm90b3R5cGVbZl0gfHwgKGgucHJvdG90eXBlW2ZdID0gcy5wcm90b3R5cGVbZl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBoKGUzKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgaCkpXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgaChlMyk7XG4gICAgICAgICAgICBvLmNhbGwodGhpcywgZTMpLCBzLmNhbGwodGhpcywgZTMpLCB0aGlzLmFsbG93SGFsZk9wZW4gPSB0cnVlLCBlMyAmJiAoZTMucmVhZGFibGUgPT09IGZhbHNlICYmICh0aGlzLnJlYWRhYmxlID0gZmFsc2UpLCBlMy53cml0YWJsZSA9PT0gZmFsc2UgJiYgKHRoaXMud3JpdGFibGUgPSBmYWxzZSksIGUzLmFsbG93SGFsZk9wZW4gPT09IGZhbHNlICYmICh0aGlzLmFsbG93SGFsZk9wZW4gPSBmYWxzZSwgdGhpcy5vbmNlKFwiZW5kXCIsIGwpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGwoKSB7XG4gICAgICAgICAgICB0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkIHx8IG4yLm5leHRUaWNrKGMsIHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBjKGUzKSB7XG4gICAgICAgICAgICBlMy5lbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCBcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLCB7IGVudW1lcmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgICAgICAgICB9IH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoaC5wcm90b3R5cGUsIFwid3JpdGFibGVCdWZmZXJcIiwgeyBlbnVtZXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyKCk7XG4gICAgICAgICAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCBcIndyaXRhYmxlTGVuZ3RoXCIsIHsgZW51bWVyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5sZW5ndGg7XG4gICAgICAgICAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCBcImRlc3Ryb3llZFwiLCB7IGVudW1lcmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUgIT09IHZvaWQgMCAmJiB0aGlzLl93cml0YWJsZVN0YXRlICE9PSB2b2lkIDAgJiYgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gICAgICAgICAgfSwgc2V0OiBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgdGhpcy5fcmVhZGFibGVTdGF0ZSAhPT0gdm9pZCAwICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUgIT09IHZvaWQgMCAmJiAodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBlMywgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBlMyk7XG4gICAgICAgICAgfSB9KTtcbiAgICAgICAgfSwgNzI1OiAoZTIsIHQyLCByMikgPT4ge1xuICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAgIGUyLmV4cG9ydHMgPSBpO1xuICAgICAgICAgIHZhciBuMiA9IHIyKDYwNSk7XG4gICAgICAgICAgZnVuY3Rpb24gaShlMykge1xuICAgICAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGkpKVxuICAgICAgICAgICAgICByZXR1cm4gbmV3IGkoZTMpO1xuICAgICAgICAgICAgbjIuY2FsbCh0aGlzLCBlMyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHIyKDcxNykoaSwgbjIpLCBpLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcjMobnVsbCwgZTMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0sIDQ4MTogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICB2YXIgbjIsIGkgPSByMigxNTUpO1xuICAgICAgICAgIGUyLmV4cG9ydHMgPSBJLCBJLlJlYWRhYmxlU3RhdGUgPSBULCByMigxODcpLkV2ZW50RW1pdHRlcjtcbiAgICAgICAgICB2YXIgbywgcyA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgcmV0dXJuIGUzLmxpc3RlbmVycyh0MykubGVuZ3RoO1xuICAgICAgICAgIH0sIGEgPSByMig1MDMpLCB1ID0gcjIoNzY0KS5CdWZmZXIsIGYgPSByMi5nLlVpbnQ4QXJyYXkgfHwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgfSwgaCA9IHIyKDYxNik7XG4gICAgICAgICAgbyA9IGggJiYgaC5kZWJ1Z2xvZyA/IGguZGVidWdsb2coXCJzdHJlYW1cIikgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBsLCBjLCBkLCBwID0gcjIoMzI3KSwgZyA9IHIyKDE5NSksIHkgPSByMig0NTcpLmdldEhpZ2hXYXRlck1hcmssIGIgPSByMigyODEpLnEsIHcgPSBiLkVSUl9JTlZBTElEX0FSR19UWVBFLCBfID0gYi5FUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GLCBtID0gYi5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCwgRSA9IGIuRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVDtcbiAgICAgICAgICByMig3MTcpKEksIGEpO1xuICAgICAgICAgIHZhciB2ID0gZy5lcnJvck9yRGVzdHJveSwgUyA9IFtcImVycm9yXCIsIFwiY2xvc2VcIiwgXCJkZXN0cm95XCIsIFwicGF1c2VcIiwgXCJyZXN1bWVcIl07XG4gICAgICAgICAgZnVuY3Rpb24gVChlMywgdDMsIGkyKSB7XG4gICAgICAgICAgICBuMiA9IG4yIHx8IHIyKDc1MyksIGUzID0gZTMgfHwge30sIHR5cGVvZiBpMiAhPSBcImJvb2xlYW5cIiAmJiAoaTIgPSB0MyBpbnN0YW5jZW9mIG4yKSwgdGhpcy5vYmplY3RNb2RlID0gISFlMy5vYmplY3RNb2RlLCBpMiAmJiAodGhpcy5vYmplY3RNb2RlID0gdGhpcy5vYmplY3RNb2RlIHx8ICEhZTMucmVhZGFibGVPYmplY3RNb2RlKSwgdGhpcy5oaWdoV2F0ZXJNYXJrID0geSh0aGlzLCBlMywgXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIiwgaTIpLCB0aGlzLmJ1ZmZlciA9IG5ldyBwKCksIHRoaXMubGVuZ3RoID0gMCwgdGhpcy5waXBlcyA9IG51bGwsIHRoaXMucGlwZXNDb3VudCA9IDAsIHRoaXMuZmxvd2luZyA9IG51bGwsIHRoaXMuZW5kZWQgPSBmYWxzZSwgdGhpcy5lbmRFbWl0dGVkID0gZmFsc2UsIHRoaXMucmVhZGluZyA9IGZhbHNlLCB0aGlzLnN5bmMgPSB0cnVlLCB0aGlzLm5lZWRSZWFkYWJsZSA9IGZhbHNlLCB0aGlzLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlLCB0aGlzLnJlYWRhYmxlTGlzdGVuaW5nID0gZmFsc2UsIHRoaXMucmVzdW1lU2NoZWR1bGVkID0gZmFsc2UsIHRoaXMucGF1c2VkID0gdHJ1ZSwgdGhpcy5lbWl0Q2xvc2UgPSBlMy5lbWl0Q2xvc2UgIT09IGZhbHNlLCB0aGlzLmF1dG9EZXN0cm95ID0gISFlMy5hdXRvRGVzdHJveSwgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZSwgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBlMy5kZWZhdWx0RW5jb2RpbmcgfHwgXCJ1dGY4XCIsIHRoaXMuYXdhaXREcmFpbiA9IDAsIHRoaXMucmVhZGluZ01vcmUgPSBmYWxzZSwgdGhpcy5kZWNvZGVyID0gbnVsbCwgdGhpcy5lbmNvZGluZyA9IG51bGwsIGUzLmVuY29kaW5nICYmIChsIHx8IChsID0gcjIoNTUzKS5zKSwgdGhpcy5kZWNvZGVyID0gbmV3IGwoZTMuZW5jb2RpbmcpLCB0aGlzLmVuY29kaW5nID0gZTMuZW5jb2RpbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBJKGUzKSB7XG4gICAgICAgICAgICBpZiAobjIgPSBuMiB8fCByMig3NTMpLCAhKHRoaXMgaW5zdGFuY2VvZiBJKSlcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJKGUzKTtcbiAgICAgICAgICAgIHZhciB0MyA9IHRoaXMgaW5zdGFuY2VvZiBuMjtcbiAgICAgICAgICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUgPSBuZXcgVChlMywgdGhpcywgdDMpLCB0aGlzLnJlYWRhYmxlID0gdHJ1ZSwgZTMgJiYgKHR5cGVvZiBlMy5yZWFkID09IFwiZnVuY3Rpb25cIiAmJiAodGhpcy5fcmVhZCA9IGUzLnJlYWQpLCB0eXBlb2YgZTMuZGVzdHJveSA9PSBcImZ1bmN0aW9uXCIgJiYgKHRoaXMuX2Rlc3Ryb3kgPSBlMy5kZXN0cm95KSksIGEuY2FsbCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gQShlMywgdDMsIHIzLCBuMywgaTIpIHtcbiAgICAgICAgICAgIG8oXCJyZWFkYWJsZUFkZENodW5rXCIsIHQzKTtcbiAgICAgICAgICAgIHZhciBzMiwgYTIgPSBlMy5fcmVhZGFibGVTdGF0ZTtcbiAgICAgICAgICAgIGlmICh0MyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgYTIucmVhZGluZyA9IGZhbHNlLCBmdW5jdGlvbihlNCwgdDQpIHtcbiAgICAgICAgICAgICAgICBpZiAobyhcIm9uRW9mQ2h1bmtcIiksICF0NC5lbmRlZCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHQ0LmRlY29kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHI0ID0gdDQuZGVjb2Rlci5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgcjQgJiYgcjQubGVuZ3RoICYmICh0NC5idWZmZXIucHVzaChyNCksIHQ0Lmxlbmd0aCArPSB0NC5vYmplY3RNb2RlID8gMSA6IHI0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB0NC5lbmRlZCA9IHRydWUsIHQ0LnN5bmMgPyBMKGU0KSA6ICh0NC5uZWVkUmVhZGFibGUgPSBmYWxzZSwgdDQuZW1pdHRlZFJlYWRhYmxlIHx8ICh0NC5lbWl0dGVkUmVhZGFibGUgPSB0cnVlLCBOKGU0KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfShlMywgYTIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoaTIgfHwgKHMyID0gZnVuY3Rpb24oZTQsIHQ0KSB7XG4gICAgICAgICAgICAgIHZhciByNCwgbjQ7XG4gICAgICAgICAgICAgIHJldHVybiBuNCA9IHQ0LCB1LmlzQnVmZmVyKG40KSB8fCBuNCBpbnN0YW5jZW9mIGYgfHwgdHlwZW9mIHQ0ID09IFwic3RyaW5nXCIgfHwgdDQgPT09IHZvaWQgMCB8fCBlNC5vYmplY3RNb2RlIHx8IChyNCA9IG5ldyB3KFwiY2h1bmtcIiwgW1wic3RyaW5nXCIsIFwiQnVmZmVyXCIsIFwiVWludDhBcnJheVwiXSwgdDQpKSwgcjQ7XG4gICAgICAgICAgICB9KGEyLCB0MykpLCBzMilcbiAgICAgICAgICAgICAgdihlMywgczIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoYTIub2JqZWN0TW9kZSB8fCB0MyAmJiB0My5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHQzID09IFwic3RyaW5nXCIgfHwgYTIub2JqZWN0TW9kZSB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodDMpID09PSB1LnByb3RvdHlwZSB8fCAodDMgPSBmdW5jdGlvbihlNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1LmZyb20oZTQpO1xuICAgICAgICAgICAgICB9KHQzKSksIG4zKVxuICAgICAgICAgICAgICAgIGEyLmVuZEVtaXR0ZWQgPyB2KGUzLCBuZXcgRSgpKSA6IEIoZTMsIGEyLCB0MywgdHJ1ZSk7XG4gICAgICAgICAgICAgIGVsc2UgaWYgKGEyLmVuZGVkKVxuICAgICAgICAgICAgICAgIHYoZTMsIG5ldyBfKCkpO1xuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYTIuZGVzdHJveWVkKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGEyLnJlYWRpbmcgPSBmYWxzZSwgYTIuZGVjb2RlciAmJiAhcjMgPyAodDMgPSBhMi5kZWNvZGVyLndyaXRlKHQzKSwgYTIub2JqZWN0TW9kZSB8fCB0My5sZW5ndGggIT09IDAgPyBCKGUzLCBhMiwgdDMsIGZhbHNlKSA6IE0oZTMsIGEyKSkgOiBCKGUzLCBhMiwgdDMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBuMyB8fCAoYTIucmVhZGluZyA9IGZhbHNlLCBNKGUzLCBhMikpO1xuICAgICAgICAgICAgcmV0dXJuICFhMi5lbmRlZCAmJiAoYTIubGVuZ3RoIDwgYTIuaGlnaFdhdGVyTWFyayB8fCBhMi5sZW5ndGggPT09IDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBCKGUzLCB0MywgcjMsIG4zKSB7XG4gICAgICAgICAgICB0My5mbG93aW5nICYmIHQzLmxlbmd0aCA9PT0gMCAmJiAhdDMuc3luYyA/ICh0My5hd2FpdERyYWluID0gMCwgZTMuZW1pdChcImRhdGFcIiwgcjMpKSA6ICh0My5sZW5ndGggKz0gdDMub2JqZWN0TW9kZSA/IDEgOiByMy5sZW5ndGgsIG4zID8gdDMuYnVmZmVyLnVuc2hpZnQocjMpIDogdDMuYnVmZmVyLnB1c2gocjMpLCB0My5uZWVkUmVhZGFibGUgJiYgTChlMykpLCBNKGUzLCB0Myk7XG4gICAgICAgICAgfVxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLnByb3RvdHlwZSwgXCJkZXN0cm95ZWRcIiwgeyBlbnVtZXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlICE9PSB2b2lkIDAgJiYgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gICAgICAgICAgfSwgc2V0OiBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgdGhpcy5fcmVhZGFibGVTdGF0ZSAmJiAodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBlMyk7XG4gICAgICAgICAgfSB9KSwgSS5wcm90b3R5cGUuZGVzdHJveSA9IGcuZGVzdHJveSwgSS5wcm90b3R5cGUuX3VuZGVzdHJveSA9IGcudW5kZXN0cm95LCBJLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgdDMoZTMpO1xuICAgICAgICAgIH0sIEkucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIHZhciByMywgbjMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgICAgICAgICAgcmV0dXJuIG4zLm9iamVjdE1vZGUgPyByMyA9IHRydWUgOiB0eXBlb2YgZTMgPT0gXCJzdHJpbmdcIiAmJiAoKHQzID0gdDMgfHwgbjMuZGVmYXVsdEVuY29kaW5nKSAhPT0gbjMuZW5jb2RpbmcgJiYgKGUzID0gdS5mcm9tKGUzLCB0MyksIHQzID0gXCJcIiksIHIzID0gdHJ1ZSksIEEodGhpcywgZTMsIHQzLCBmYWxzZSwgcjMpO1xuICAgICAgICAgIH0sIEkucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgcmV0dXJuIEEodGhpcywgZTMsIG51bGwsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICB9LCBJLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9PT0gZmFsc2U7XG4gICAgICAgICAgfSwgSS5wcm90b3R5cGUuc2V0RW5jb2RpbmcgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgbCB8fCAobCA9IHIyKDU1Mykucyk7XG4gICAgICAgICAgICB2YXIgdDMgPSBuZXcgbChlMyk7XG4gICAgICAgICAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSB0MywgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZyA9IHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlci5lbmNvZGluZztcbiAgICAgICAgICAgIGZvciAodmFyIG4zID0gdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIuaGVhZCwgaTIgPSBcIlwiOyBuMyAhPT0gbnVsbDsgKVxuICAgICAgICAgICAgICBpMiArPSB0My53cml0ZShuMy5kYXRhKSwgbjMgPSBuMy5uZXh0O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLmNsZWFyKCksIGkyICE9PSBcIlwiICYmIHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLnB1c2goaTIpLCB0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aCA9IGkyLmxlbmd0aCwgdGhpcztcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBSID0gMTA3Mzc0MTgyNDtcbiAgICAgICAgICBmdW5jdGlvbiBVKGUzLCB0Mykge1xuICAgICAgICAgICAgcmV0dXJuIGUzIDw9IDAgfHwgdDMubGVuZ3RoID09PSAwICYmIHQzLmVuZGVkID8gMCA6IHQzLm9iamVjdE1vZGUgPyAxIDogZTMgIT0gZTMgPyB0My5mbG93aW5nICYmIHQzLmxlbmd0aCA/IHQzLmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoIDogdDMubGVuZ3RoIDogKGUzID4gdDMuaGlnaFdhdGVyTWFyayAmJiAodDMuaGlnaFdhdGVyTWFyayA9IGZ1bmN0aW9uKGU0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBlNCA+PSBSID8gZTQgPSBSIDogKGU0LS0sIGU0IHw9IGU0ID4+PiAxLCBlNCB8PSBlNCA+Pj4gMiwgZTQgfD0gZTQgPj4+IDQsIGU0IHw9IGU0ID4+PiA4LCBlNCB8PSBlNCA+Pj4gMTYsIGU0KyspLCBlNDtcbiAgICAgICAgICAgIH0oZTMpKSwgZTMgPD0gdDMubGVuZ3RoID8gZTMgOiB0My5lbmRlZCA/IHQzLmxlbmd0aCA6ICh0My5uZWVkUmVhZGFibGUgPSB0cnVlLCAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIEwoZTMpIHtcbiAgICAgICAgICAgIHZhciB0MyA9IGUzLl9yZWFkYWJsZVN0YXRlO1xuICAgICAgICAgICAgbyhcImVtaXRSZWFkYWJsZVwiLCB0My5uZWVkUmVhZGFibGUsIHQzLmVtaXR0ZWRSZWFkYWJsZSksIHQzLm5lZWRSZWFkYWJsZSA9IGZhbHNlLCB0My5lbWl0dGVkUmVhZGFibGUgfHwgKG8oXCJlbWl0UmVhZGFibGVcIiwgdDMuZmxvd2luZyksIHQzLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWUsIGkubmV4dFRpY2soTiwgZTMpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gTihlMykge1xuICAgICAgICAgICAgdmFyIHQzID0gZTMuX3JlYWRhYmxlU3RhdGU7XG4gICAgICAgICAgICBvKFwiZW1pdFJlYWRhYmxlX1wiLCB0My5kZXN0cm95ZWQsIHQzLmxlbmd0aCwgdDMuZW5kZWQpLCB0My5kZXN0cm95ZWQgfHwgIXQzLmxlbmd0aCAmJiAhdDMuZW5kZWQgfHwgKGUzLmVtaXQoXCJyZWFkYWJsZVwiKSwgdDMuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2UpLCB0My5uZWVkUmVhZGFibGUgPSAhdDMuZmxvd2luZyAmJiAhdDMuZW5kZWQgJiYgdDMubGVuZ3RoIDw9IHQzLmhpZ2hXYXRlck1hcmssIGooZTMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBNKGUzLCB0Mykge1xuICAgICAgICAgICAgdDMucmVhZGluZ01vcmUgfHwgKHQzLnJlYWRpbmdNb3JlID0gdHJ1ZSwgaS5uZXh0VGljayhPLCBlMywgdDMpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gTyhlMywgdDMpIHtcbiAgICAgICAgICAgIGZvciAoOyAhdDMucmVhZGluZyAmJiAhdDMuZW5kZWQgJiYgKHQzLmxlbmd0aCA8IHQzLmhpZ2hXYXRlck1hcmsgfHwgdDMuZmxvd2luZyAmJiB0My5sZW5ndGggPT09IDApOyApIHtcbiAgICAgICAgICAgICAgdmFyIHIzID0gdDMubGVuZ3RoO1xuICAgICAgICAgICAgICBpZiAobyhcIm1heWJlUmVhZE1vcmUgcmVhZCAwXCIpLCBlMy5yZWFkKDApLCByMyA9PT0gdDMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdDMucmVhZGluZ01vcmUgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24geChlMykge1xuICAgICAgICAgICAgdmFyIHQzID0gZTMuX3JlYWRhYmxlU3RhdGU7XG4gICAgICAgICAgICB0My5yZWFkYWJsZUxpc3RlbmluZyA9IGUzLmxpc3RlbmVyQ291bnQoXCJyZWFkYWJsZVwiKSA+IDAsIHQzLnJlc3VtZVNjaGVkdWxlZCAmJiAhdDMucGF1c2VkID8gdDMuZmxvd2luZyA9IHRydWUgOiBlMy5saXN0ZW5lckNvdW50KFwiZGF0YVwiKSA+IDAgJiYgZTMucmVzdW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGsoZTMpIHtcbiAgICAgICAgICAgIG8oXCJyZWFkYWJsZSBuZXh0dGljayByZWFkIDBcIiksIGUzLnJlYWQoMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIFAoZTMsIHQzKSB7XG4gICAgICAgICAgICBvKFwicmVzdW1lXCIsIHQzLnJlYWRpbmcpLCB0My5yZWFkaW5nIHx8IGUzLnJlYWQoMCksIHQzLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlLCBlMy5lbWl0KFwicmVzdW1lXCIpLCBqKGUzKSwgdDMuZmxvd2luZyAmJiAhdDMucmVhZGluZyAmJiBlMy5yZWFkKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBqKGUzKSB7XG4gICAgICAgICAgICB2YXIgdDMgPSBlMy5fcmVhZGFibGVTdGF0ZTtcbiAgICAgICAgICAgIGZvciAobyhcImZsb3dcIiwgdDMuZmxvd2luZyk7IHQzLmZsb3dpbmcgJiYgZTMucmVhZCgpICE9PSBudWxsOyApXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gQyhlMywgdDMpIHtcbiAgICAgICAgICAgIHJldHVybiB0My5sZW5ndGggPT09IDAgPyBudWxsIDogKHQzLm9iamVjdE1vZGUgPyByMyA9IHQzLmJ1ZmZlci5zaGlmdCgpIDogIWUzIHx8IGUzID49IHQzLmxlbmd0aCA/IChyMyA9IHQzLmRlY29kZXIgPyB0My5idWZmZXIuam9pbihcIlwiKSA6IHQzLmJ1ZmZlci5sZW5ndGggPT09IDEgPyB0My5idWZmZXIuZmlyc3QoKSA6IHQzLmJ1ZmZlci5jb25jYXQodDMubGVuZ3RoKSwgdDMuYnVmZmVyLmNsZWFyKCkpIDogcjMgPSB0My5idWZmZXIuY29uc3VtZShlMywgdDMuZGVjb2RlciksIHIzKTtcbiAgICAgICAgICAgIHZhciByMztcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gRihlMykge1xuICAgICAgICAgICAgdmFyIHQzID0gZTMuX3JlYWRhYmxlU3RhdGU7XG4gICAgICAgICAgICBvKFwiZW5kUmVhZGFibGVcIiwgdDMuZW5kRW1pdHRlZCksIHQzLmVuZEVtaXR0ZWQgfHwgKHQzLmVuZGVkID0gdHJ1ZSwgaS5uZXh0VGljayhELCB0MywgZTMpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gRChlMywgdDMpIHtcbiAgICAgICAgICAgIGlmIChvKFwiZW5kUmVhZGFibGVOVFwiLCBlMy5lbmRFbWl0dGVkLCBlMy5sZW5ndGgpLCAhZTMuZW5kRW1pdHRlZCAmJiBlMy5sZW5ndGggPT09IDAgJiYgKGUzLmVuZEVtaXR0ZWQgPSB0cnVlLCB0My5yZWFkYWJsZSA9IGZhbHNlLCB0My5lbWl0KFwiZW5kXCIpLCBlMy5hdXRvRGVzdHJveSkpIHtcbiAgICAgICAgICAgICAgdmFyIHIzID0gdDMuX3dyaXRhYmxlU3RhdGU7XG4gICAgICAgICAgICAgICghcjMgfHwgcjMuYXV0b0Rlc3Ryb3kgJiYgcjMuZmluaXNoZWQpICYmIHQzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gJChlMywgdDMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHIzID0gMCwgbjMgPSBlMy5sZW5ndGg7IHIzIDwgbjM7IHIzKyspXG4gICAgICAgICAgICAgIGlmIChlM1tyM10gPT09IHQzKVxuICAgICAgICAgICAgICAgIHJldHVybiByMztcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgSS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICBvKFwicmVhZFwiLCBlMyksIGUzID0gcGFyc2VJbnQoZTMsIDEwKTtcbiAgICAgICAgICAgIHZhciB0MyA9IHRoaXMuX3JlYWRhYmxlU3RhdGUsIHIzID0gZTM7XG4gICAgICAgICAgICBpZiAoZTMgIT09IDAgJiYgKHQzLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlKSwgZTMgPT09IDAgJiYgdDMubmVlZFJlYWRhYmxlICYmICgodDMuaGlnaFdhdGVyTWFyayAhPT0gMCA/IHQzLmxlbmd0aCA+PSB0My5oaWdoV2F0ZXJNYXJrIDogdDMubGVuZ3RoID4gMCkgfHwgdDMuZW5kZWQpKVxuICAgICAgICAgICAgICByZXR1cm4gbyhcInJlYWQ6IGVtaXRSZWFkYWJsZVwiLCB0My5sZW5ndGgsIHQzLmVuZGVkKSwgdDMubGVuZ3RoID09PSAwICYmIHQzLmVuZGVkID8gRih0aGlzKSA6IEwodGhpcyksIG51bGw7XG4gICAgICAgICAgICBpZiAoKGUzID0gVShlMywgdDMpKSA9PT0gMCAmJiB0My5lbmRlZClcbiAgICAgICAgICAgICAgcmV0dXJuIHQzLmxlbmd0aCA9PT0gMCAmJiBGKHRoaXMpLCBudWxsO1xuICAgICAgICAgICAgdmFyIG4zLCBpMiA9IHQzLm5lZWRSZWFkYWJsZTtcbiAgICAgICAgICAgIHJldHVybiBvKFwibmVlZCByZWFkYWJsZVwiLCBpMiksICh0My5sZW5ndGggPT09IDAgfHwgdDMubGVuZ3RoIC0gZTMgPCB0My5oaWdoV2F0ZXJNYXJrKSAmJiBvKFwibGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmtcIiwgaTIgPSB0cnVlKSwgdDMuZW5kZWQgfHwgdDMucmVhZGluZyA/IG8oXCJyZWFkaW5nIG9yIGVuZGVkXCIsIGkyID0gZmFsc2UpIDogaTIgJiYgKG8oXCJkbyByZWFkXCIpLCB0My5yZWFkaW5nID0gdHJ1ZSwgdDMuc3luYyA9IHRydWUsIHQzLmxlbmd0aCA9PT0gMCAmJiAodDMubmVlZFJlYWRhYmxlID0gdHJ1ZSksIHRoaXMuX3JlYWQodDMuaGlnaFdhdGVyTWFyayksIHQzLnN5bmMgPSBmYWxzZSwgdDMucmVhZGluZyB8fCAoZTMgPSBVKHIzLCB0MykpKSwgKG4zID0gZTMgPiAwID8gQyhlMywgdDMpIDogbnVsbCkgPT09IG51bGwgPyAodDMubmVlZFJlYWRhYmxlID0gdDMubGVuZ3RoIDw9IHQzLmhpZ2hXYXRlck1hcmssIGUzID0gMCkgOiAodDMubGVuZ3RoIC09IGUzLCB0My5hd2FpdERyYWluID0gMCksIHQzLmxlbmd0aCA9PT0gMCAmJiAodDMuZW5kZWQgfHwgKHQzLm5lZWRSZWFkYWJsZSA9IHRydWUpLCByMyAhPT0gZTMgJiYgdDMuZW5kZWQgJiYgRih0aGlzKSksIG4zICE9PSBudWxsICYmIHRoaXMuZW1pdChcImRhdGFcIiwgbjMpLCBuMztcbiAgICAgICAgICB9LCBJLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICB2KHRoaXMsIG5ldyBtKFwiX3JlYWQoKVwiKSk7XG4gICAgICAgICAgfSwgSS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgdmFyIHIzID0gdGhpcywgbjMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgICAgICAgICAgc3dpdGNoIChuMy5waXBlc0NvdW50KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBuMy5waXBlcyA9IGUzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgbjMucGlwZXMgPSBbbjMucGlwZXMsIGUzXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBuMy5waXBlcy5wdXNoKGUzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4zLnBpcGVzQ291bnQgKz0gMSwgbyhcInBpcGUgY291bnQ9JWQgb3B0cz0lalwiLCBuMy5waXBlc0NvdW50LCB0Myk7XG4gICAgICAgICAgICB2YXIgYTIgPSB0MyAmJiB0My5lbmQgPT09IGZhbHNlIHx8IGUzID09PSBpLnN0ZG91dCB8fCBlMyA9PT0gaS5zdGRlcnIgPyBnMiA6IHUyO1xuICAgICAgICAgICAgZnVuY3Rpb24gdTIoKSB7XG4gICAgICAgICAgICAgIG8oXCJvbmVuZFwiKSwgZTMuZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuMy5lbmRFbWl0dGVkID8gaS5uZXh0VGljayhhMikgOiByMy5vbmNlKFwiZW5kXCIsIGEyKSwgZTMub24oXCJ1bnBpcGVcIiwgZnVuY3Rpb24gdDQoaTIsIHMyKSB7XG4gICAgICAgICAgICAgIG8oXCJvbnVucGlwZVwiKSwgaTIgPT09IHIzICYmIHMyICYmIHMyLmhhc1VucGlwZWQgPT09IGZhbHNlICYmIChzMi5oYXNVbnBpcGVkID0gdHJ1ZSwgbyhcImNsZWFudXBcIiksIGUzLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIiwgZDIpLCBlMy5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLCBwMiksIGUzLnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIiwgZjIpLCBlMy5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIGMyKSwgZTMucmVtb3ZlTGlzdGVuZXIoXCJ1bnBpcGVcIiwgdDQpLCByMy5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLCB1MiksIHIzLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsIGcyKSwgcjMucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsIGwyKSwgaDIgPSB0cnVlLCAhbjMuYXdhaXREcmFpbiB8fCBlMy5fd3JpdGFibGVTdGF0ZSAmJiAhZTMuX3dyaXRhYmxlU3RhdGUubmVlZERyYWluIHx8IGYyKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgZjIgPSBmdW5jdGlvbihlNCkge1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQ0ID0gZTQuX3JlYWRhYmxlU3RhdGU7XG4gICAgICAgICAgICAgICAgbyhcInBpcGVPbkRyYWluXCIsIHQ0LmF3YWl0RHJhaW4pLCB0NC5hd2FpdERyYWluICYmIHQ0LmF3YWl0RHJhaW4tLSwgdDQuYXdhaXREcmFpbiA9PT0gMCAmJiBzKGU0LCBcImRhdGFcIikgJiYgKHQ0LmZsb3dpbmcgPSB0cnVlLCBqKGU0KSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KHIzKTtcbiAgICAgICAgICAgIGUzLm9uKFwiZHJhaW5cIiwgZjIpO1xuICAgICAgICAgICAgdmFyIGgyID0gZmFsc2U7XG4gICAgICAgICAgICBmdW5jdGlvbiBsMih0NCkge1xuICAgICAgICAgICAgICBvKFwib25kYXRhXCIpO1xuICAgICAgICAgICAgICB2YXIgaTIgPSBlMy53cml0ZSh0NCk7XG4gICAgICAgICAgICAgIG8oXCJkZXN0LndyaXRlXCIsIGkyKSwgaTIgPT09IGZhbHNlICYmICgobjMucGlwZXNDb3VudCA9PT0gMSAmJiBuMy5waXBlcyA9PT0gZTMgfHwgbjMucGlwZXNDb3VudCA+IDEgJiYgJChuMy5waXBlcywgZTMpICE9PSAtMSkgJiYgIWgyICYmIChvKFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsIG4zLmF3YWl0RHJhaW4pLCBuMy5hd2FpdERyYWluKyspLCByMy5wYXVzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGMyKHQ0KSB7XG4gICAgICAgICAgICAgIG8oXCJvbmVycm9yXCIsIHQ0KSwgZzIoKSwgZTMucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCBjMiksIHMoZTMsIFwiZXJyb3JcIikgPT09IDAgJiYgdihlMywgdDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZDIoKSB7XG4gICAgICAgICAgICAgIGUzLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsIHAyKSwgZzIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHAyKCkge1xuICAgICAgICAgICAgICBvKFwib25maW5pc2hcIiksIGUzLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIiwgZDIpLCBnMigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZzIoKSB7XG4gICAgICAgICAgICAgIG8oXCJ1bnBpcGVcIiksIHIzLnVucGlwZShlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcjMub24oXCJkYXRhXCIsIGwyKSwgZnVuY3Rpb24oZTQsIHQ0LCByNCkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIGU0LnByZXBlbmRMaXN0ZW5lciA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGU0LnByZXBlbmRMaXN0ZW5lcih0NCwgcjQpO1xuICAgICAgICAgICAgICBlNC5fZXZlbnRzICYmIGU0Ll9ldmVudHMuZXJyb3IgPyBBcnJheS5pc0FycmF5KGU0Ll9ldmVudHMuZXJyb3IpID8gZTQuX2V2ZW50cy5lcnJvci51bnNoaWZ0KHI0KSA6IGU0Ll9ldmVudHMuZXJyb3IgPSBbcjQsIGU0Ll9ldmVudHMuZXJyb3JdIDogZTQub24odDQsIHI0KTtcbiAgICAgICAgICAgIH0oZTMsIFwiZXJyb3JcIiwgYzIpLCBlMy5vbmNlKFwiY2xvc2VcIiwgZDIpLCBlMy5vbmNlKFwiZmluaXNoXCIsIHAyKSwgZTMuZW1pdChcInBpcGVcIiwgcjMpLCBuMy5mbG93aW5nIHx8IChvKFwicGlwZSByZXN1bWVcIiksIHIzLnJlc3VtZSgpKSwgZTM7XG4gICAgICAgICAgfSwgSS5wcm90b3R5cGUudW5waXBlID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHZhciB0MyA9IHRoaXMuX3JlYWRhYmxlU3RhdGUsIHIzID0geyBoYXNVbnBpcGVkOiBmYWxzZSB9O1xuICAgICAgICAgICAgaWYgKHQzLnBpcGVzQ291bnQgPT09IDApXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgaWYgKHQzLnBpcGVzQ291bnQgPT09IDEpXG4gICAgICAgICAgICAgIHJldHVybiBlMyAmJiBlMyAhPT0gdDMucGlwZXMgfHwgKGUzIHx8IChlMyA9IHQzLnBpcGVzKSwgdDMucGlwZXMgPSBudWxsLCB0My5waXBlc0NvdW50ID0gMCwgdDMuZmxvd2luZyA9IGZhbHNlLCBlMyAmJiBlMy5lbWl0KFwidW5waXBlXCIsIHRoaXMsIHIzKSksIHRoaXM7XG4gICAgICAgICAgICBpZiAoIWUzKSB7XG4gICAgICAgICAgICAgIHZhciBuMyA9IHQzLnBpcGVzLCBpMiA9IHQzLnBpcGVzQ291bnQ7XG4gICAgICAgICAgICAgIHQzLnBpcGVzID0gbnVsbCwgdDMucGlwZXNDb3VudCA9IDAsIHQzLmZsb3dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgbzIgPSAwOyBvMiA8IGkyOyBvMisrKVxuICAgICAgICAgICAgICAgIG4zW28yXS5lbWl0KFwidW5waXBlXCIsIHRoaXMsIHsgaGFzVW5waXBlZDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHMyID0gJCh0My5waXBlcywgZTMpO1xuICAgICAgICAgICAgcmV0dXJuIHMyID09PSAtMSB8fCAodDMucGlwZXMuc3BsaWNlKHMyLCAxKSwgdDMucGlwZXNDb3VudCAtPSAxLCB0My5waXBlc0NvdW50ID09PSAxICYmICh0My5waXBlcyA9IHQzLnBpcGVzWzBdKSwgZTMuZW1pdChcInVucGlwZVwiLCB0aGlzLCByMykpLCB0aGlzO1xuICAgICAgICAgIH0sIEkucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICB2YXIgcjMgPSBhLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIGUzLCB0MyksIG4zID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICAgICAgICAgIHJldHVybiBlMyA9PT0gXCJkYXRhXCIgPyAobjMucmVhZGFibGVMaXN0ZW5pbmcgPSB0aGlzLmxpc3RlbmVyQ291bnQoXCJyZWFkYWJsZVwiKSA+IDAsIG4zLmZsb3dpbmcgIT09IGZhbHNlICYmIHRoaXMucmVzdW1lKCkpIDogZTMgPT09IFwicmVhZGFibGVcIiAmJiAobjMuZW5kRW1pdHRlZCB8fCBuMy5yZWFkYWJsZUxpc3RlbmluZyB8fCAobjMucmVhZGFibGVMaXN0ZW5pbmcgPSBuMy5uZWVkUmVhZGFibGUgPSB0cnVlLCBuMy5mbG93aW5nID0gZmFsc2UsIG4zLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlLCBvKFwib24gcmVhZGFibGVcIiwgbjMubGVuZ3RoLCBuMy5yZWFkaW5nKSwgbjMubGVuZ3RoID8gTCh0aGlzKSA6IG4zLnJlYWRpbmcgfHwgaS5uZXh0VGljayhrLCB0aGlzKSkpLCByMztcbiAgICAgICAgICB9LCBJLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEkucHJvdG90eXBlLm9uLCBJLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgdmFyIHIzID0gYS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLCBlMywgdDMpO1xuICAgICAgICAgICAgcmV0dXJuIGUzID09PSBcInJlYWRhYmxlXCIgJiYgaS5uZXh0VGljayh4LCB0aGlzKSwgcjM7XG4gICAgICAgICAgfSwgSS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHZhciB0MyA9IGEucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIGUzICE9PSBcInJlYWRhYmxlXCIgJiYgZTMgIT09IHZvaWQgMCB8fCBpLm5leHRUaWNrKHgsIHRoaXMpLCB0MztcbiAgICAgICAgICB9LCBJLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlMyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gZTMuZmxvd2luZyB8fCAobyhcInJlc3VtZVwiKSwgZTMuZmxvd2luZyA9ICFlMy5yZWFkYWJsZUxpc3RlbmluZywgZnVuY3Rpb24oZTQsIHQzKSB7XG4gICAgICAgICAgICAgIHQzLnJlc3VtZVNjaGVkdWxlZCB8fCAodDMucmVzdW1lU2NoZWR1bGVkID0gdHJ1ZSwgaS5uZXh0VGljayhQLCBlNCwgdDMpKTtcbiAgICAgICAgICAgIH0odGhpcywgZTMpKSwgZTMucGF1c2VkID0gZmFsc2UsIHRoaXM7XG4gICAgICAgICAgfSwgSS5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBvKFwiY2FsbCBwYXVzZSBmbG93aW5nPSVqXCIsIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyksIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyAhPT0gZmFsc2UgJiYgKG8oXCJwYXVzZVwiKSwgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID0gZmFsc2UsIHRoaXMuZW1pdChcInBhdXNlXCIpKSwgdGhpcy5fcmVhZGFibGVTdGF0ZS5wYXVzZWQgPSB0cnVlLCB0aGlzO1xuICAgICAgICAgIH0sIEkucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgdmFyIHQzID0gdGhpcywgcjMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlLCBuMyA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaTIgaW4gZTMub24oXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmIChvKFwid3JhcHBlZCBlbmRcIiksIHIzLmRlY29kZXIgJiYgIXIzLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGU0ID0gcjMuZGVjb2Rlci5lbmQoKTtcbiAgICAgICAgICAgICAgICBlNCAmJiBlNC5sZW5ndGggJiYgdDMucHVzaChlNCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdDMucHVzaChudWxsKTtcbiAgICAgICAgICAgIH0pLCBlMy5vbihcImRhdGFcIiwgZnVuY3Rpb24oaTMpIHtcbiAgICAgICAgICAgICAgbyhcIndyYXBwZWQgZGF0YVwiKSwgcjMuZGVjb2RlciAmJiAoaTMgPSByMy5kZWNvZGVyLndyaXRlKGkzKSksIHIzLm9iamVjdE1vZGUgJiYgaTMgPT0gbnVsbCB8fCAocjMub2JqZWN0TW9kZSB8fCBpMyAmJiBpMy5sZW5ndGgpICYmICh0My5wdXNoKGkzKSB8fCAobjMgPSB0cnVlLCBlMy5wYXVzZSgpKSk7XG4gICAgICAgICAgICB9KSwgZTMpXG4gICAgICAgICAgICAgIHRoaXNbaTJdID09PSB2b2lkIDAgJiYgdHlwZW9mIGUzW2kyXSA9PSBcImZ1bmN0aW9uXCIgJiYgKHRoaXNbaTJdID0gZnVuY3Rpb24odDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZTNbdDRdLmFwcGx5KGUzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0oaTIpKTtcbiAgICAgICAgICAgIGZvciAodmFyIHMyID0gMDsgczIgPCBTLmxlbmd0aDsgczIrKylcbiAgICAgICAgICAgICAgZTMub24oU1tzMl0sIHRoaXMuZW1pdC5iaW5kKHRoaXMsIFNbczJdKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZCA9IGZ1bmN0aW9uKHQ0KSB7XG4gICAgICAgICAgICAgIG8oXCJ3cmFwcGVkIF9yZWFkXCIsIHQ0KSwgbjMgJiYgKG4zID0gZmFsc2UsIGUzLnJlc3VtZSgpKTtcbiAgICAgICAgICAgIH0sIHRoaXM7XG4gICAgICAgICAgfSwgdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgKEkucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGMgPT09IHZvaWQgMCAmJiAoYyA9IHIyKDg1MCkpLCBjKHRoaXMpO1xuICAgICAgICAgIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoSS5wcm90b3R5cGUsIFwicmVhZGFibGVIaWdoV2F0ZXJNYXJrXCIsIHsgZW51bWVyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICAgICAgICAgIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLnByb3RvdHlwZSwgXCJyZWFkYWJsZUJ1ZmZlclwiLCB7IGVudW1lcmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUgJiYgdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXI7XG4gICAgICAgICAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KEkucHJvdG90eXBlLCBcInJlYWRhYmxlRmxvd2luZ1wiLCB7IGVudW1lcmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZztcbiAgICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWFkYWJsZVN0YXRlICYmICh0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBlMyk7XG4gICAgICAgICAgfSB9KSwgSS5fZnJvbUxpc3QgPSBDLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoSS5wcm90b3R5cGUsIFwicmVhZGFibGVMZW5ndGhcIiwgeyBlbnVtZXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aDtcbiAgICAgICAgICB9IH0pLCB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiAoSS5mcm9tID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICByZXR1cm4gZCA9PT0gdm9pZCAwICYmIChkID0gcjIoMTY3KSksIGQoSSwgZTMsIHQzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgNjA1OiAoZTIsIHQyLCByMikgPT4ge1xuICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAgIGUyLmV4cG9ydHMgPSBoO1xuICAgICAgICAgIHZhciBuMiA9IHIyKDI4MSkucSwgaSA9IG4yLkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVELCBvID0gbjIuRVJSX01VTFRJUExFX0NBTExCQUNLLCBzID0gbjIuRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORywgYSA9IG4yLkVSUl9UUkFOU0ZPUk1fV0lUSF9MRU5HVEhfMCwgdSA9IHIyKDc1Myk7XG4gICAgICAgICAgZnVuY3Rpb24gZihlMywgdDMpIHtcbiAgICAgICAgICAgIHZhciByMyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICAgICAgICAgICAgcjMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbjMgPSByMy53cml0ZWNiO1xuICAgICAgICAgICAgaWYgKG4zID09PSBudWxsKVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KFwiZXJyb3JcIiwgbmV3IG8oKSk7XG4gICAgICAgICAgICByMy53cml0ZWNodW5rID0gbnVsbCwgcjMud3JpdGVjYiA9IG51bGwsIHQzICE9IG51bGwgJiYgdGhpcy5wdXNoKHQzKSwgbjMoZTMpO1xuICAgICAgICAgICAgdmFyIGkyID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICAgICAgICAgIGkyLnJlYWRpbmcgPSBmYWxzZSwgKGkyLm5lZWRSZWFkYWJsZSB8fCBpMi5sZW5ndGggPCBpMi5oaWdoV2F0ZXJNYXJrKSAmJiB0aGlzLl9yZWFkKGkyLmhpZ2hXYXRlck1hcmspO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBoKGUzKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgaCkpXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgaChlMyk7XG4gICAgICAgICAgICB1LmNhbGwodGhpcywgZTMpLCB0aGlzLl90cmFuc2Zvcm1TdGF0ZSA9IHsgYWZ0ZXJUcmFuc2Zvcm06IGYuYmluZCh0aGlzKSwgbmVlZFRyYW5zZm9ybTogZmFsc2UsIHRyYW5zZm9ybWluZzogZmFsc2UsIHdyaXRlY2I6IG51bGwsIHdyaXRlY2h1bms6IG51bGwsIHdyaXRlZW5jb2Rpbmc6IG51bGwgfSwgdGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlLCB0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmMgPSBmYWxzZSwgZTMgJiYgKHR5cGVvZiBlMy50cmFuc2Zvcm0gPT0gXCJmdW5jdGlvblwiICYmICh0aGlzLl90cmFuc2Zvcm0gPSBlMy50cmFuc2Zvcm0pLCB0eXBlb2YgZTMuZmx1c2ggPT0gXCJmdW5jdGlvblwiICYmICh0aGlzLl9mbHVzaCA9IGUzLmZsdXNoKSksIHRoaXMub24oXCJwcmVmaW5pc2hcIiwgbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGwoKSB7XG4gICAgICAgICAgICB2YXIgZTMgPSB0aGlzO1xuICAgICAgICAgICAgdHlwZW9mIHRoaXMuX2ZsdXNoICE9IFwiZnVuY3Rpb25cIiB8fCB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA/IGModGhpcywgbnVsbCwgbnVsbCkgOiB0aGlzLl9mbHVzaChmdW5jdGlvbih0MywgcjMpIHtcbiAgICAgICAgICAgICAgYyhlMywgdDMsIHIzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBjKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIGlmICh0MylcbiAgICAgICAgICAgICAgcmV0dXJuIGUzLmVtaXQoXCJlcnJvclwiLCB0Myk7XG4gICAgICAgICAgICBpZiAocjMgIT0gbnVsbCAmJiBlMy5wdXNoKHIzKSwgZTMuX3dyaXRhYmxlU3RhdGUubGVuZ3RoKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgYSgpO1xuICAgICAgICAgICAgaWYgKGUzLl90cmFuc2Zvcm1TdGF0ZS50cmFuc2Zvcm1pbmcpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBzKCk7XG4gICAgICAgICAgICByZXR1cm4gZTMucHVzaChudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcjIoNzE3KShoLCB1KSwgaC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZSwgdS5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGUzLCB0Myk7XG4gICAgICAgICAgfSwgaC5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHIzKG5ldyBpKFwiX3RyYW5zZm9ybSgpXCIpKTtcbiAgICAgICAgICB9LCBoLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICB2YXIgbjMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcbiAgICAgICAgICAgIGlmIChuMy53cml0ZWNiID0gcjMsIG4zLndyaXRlY2h1bmsgPSBlMywgbjMud3JpdGVlbmNvZGluZyA9IHQzLCAhbjMudHJhbnNmb3JtaW5nKSB7XG4gICAgICAgICAgICAgIHZhciBpMiA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gICAgICAgICAgICAgIChuMy5uZWVkVHJhbnNmb3JtIHx8IGkyLm5lZWRSZWFkYWJsZSB8fCBpMi5sZW5ndGggPCBpMi5oaWdoV2F0ZXJNYXJrKSAmJiB0aGlzLl9yZWFkKGkyLmhpZ2hXYXRlck1hcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGgucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHZhciB0MyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICAgICAgICAgICAgdDMud3JpdGVjaHVuayA9PT0gbnVsbCB8fCB0My50cmFuc2Zvcm1pbmcgPyB0My5uZWVkVHJhbnNmb3JtID0gdHJ1ZSA6ICh0My50cmFuc2Zvcm1pbmcgPSB0cnVlLCB0aGlzLl90cmFuc2Zvcm0odDMud3JpdGVjaHVuaywgdDMud3JpdGVlbmNvZGluZywgdDMuYWZ0ZXJUcmFuc2Zvcm0pKTtcbiAgICAgICAgICB9LCBoLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgdS5wcm90b3R5cGUuX2Rlc3Ryb3kuY2FsbCh0aGlzLCBlMywgZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgdDMoZTQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgMjI5OiAoZTIsIHQyLCByMikgPT4ge1xuICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAgIHZhciBuMiwgaSA9IHIyKDE1NSk7XG4gICAgICAgICAgZnVuY3Rpb24gbyhlMykge1xuICAgICAgICAgICAgdmFyIHQzID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGwsIHRoaXMuZW50cnkgPSBudWxsLCB0aGlzLmZpbmlzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAhZnVuY3Rpb24oZTQsIHQ0LCByMykge1xuICAgICAgICAgICAgICAgIHZhciBuMyA9IGU0LmVudHJ5O1xuICAgICAgICAgICAgICAgIGZvciAoZTQuZW50cnkgPSBudWxsOyBuMzsgKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgaTIgPSBuMy5jYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgIHQ0LnBlbmRpbmdjYi0tLCBpMih2b2lkIDApLCBuMyA9IG4zLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQ0LmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0ID0gZTQ7XG4gICAgICAgICAgICAgIH0odDMsIGUzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGUyLmV4cG9ydHMgPSBJLCBJLldyaXRhYmxlU3RhdGUgPSBUO1xuICAgICAgICAgIHZhciBzLCBhID0geyBkZXByZWNhdGU6IHIyKDkyNykgfSwgdSA9IHIyKDUwMyksIGYgPSByMig3NjQpLkJ1ZmZlciwgaCA9IHIyLmcuVWludDhBcnJheSB8fCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB9LCBsID0gcjIoMTk1KSwgYyA9IHIyKDQ1NykuZ2V0SGlnaFdhdGVyTWFyaywgZCA9IHIyKDI4MSkucSwgcCA9IGQuRVJSX0lOVkFMSURfQVJHX1RZUEUsIGcgPSBkLkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVELCB5ID0gZC5FUlJfTVVMVElQTEVfQ0FMTEJBQ0ssIGIgPSBkLkVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUsIHcgPSBkLkVSUl9TVFJFQU1fREVTVFJPWUVELCBfID0gZC5FUlJfU1RSRUFNX05VTExfVkFMVUVTLCBtID0gZC5FUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCwgRSA9IGQuRVJSX1VOS05PV05fRU5DT0RJTkcsIHYgPSBsLmVycm9yT3JEZXN0cm95O1xuICAgICAgICAgIGZ1bmN0aW9uIFMoKSB7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIFQoZTMsIHQzLCBzMikge1xuICAgICAgICAgICAgbjIgPSBuMiB8fCByMig3NTMpLCBlMyA9IGUzIHx8IHt9LCB0eXBlb2YgczIgIT0gXCJib29sZWFuXCIgJiYgKHMyID0gdDMgaW5zdGFuY2VvZiBuMiksIHRoaXMub2JqZWN0TW9kZSA9ICEhZTMub2JqZWN0TW9kZSwgczIgJiYgKHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIWUzLndyaXRhYmxlT2JqZWN0TW9kZSksIHRoaXMuaGlnaFdhdGVyTWFyayA9IGModGhpcywgZTMsIFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIsIHMyKSwgdGhpcy5maW5hbENhbGxlZCA9IGZhbHNlLCB0aGlzLm5lZWREcmFpbiA9IGZhbHNlLCB0aGlzLmVuZGluZyA9IGZhbHNlLCB0aGlzLmVuZGVkID0gZmFsc2UsIHRoaXMuZmluaXNoZWQgPSBmYWxzZSwgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBhMiA9IGUzLmRlY29kZVN0cmluZ3MgPT09IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVTdHJpbmdzID0gIWEyLCB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IGUzLmRlZmF1bHRFbmNvZGluZyB8fCBcInV0ZjhcIiwgdGhpcy5sZW5ndGggPSAwLCB0aGlzLndyaXRpbmcgPSBmYWxzZSwgdGhpcy5jb3JrZWQgPSAwLCB0aGlzLnN5bmMgPSB0cnVlLCB0aGlzLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZSwgdGhpcy5vbndyaXRlID0gZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgIWZ1bmN0aW9uKGU1LCB0NCkge1xuICAgICAgICAgICAgICAgIHZhciByMyA9IGU1Ll93cml0YWJsZVN0YXRlLCBuMyA9IHIzLnN5bmMsIG8yID0gcjMud3JpdGVjYjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG8yICE9IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyB5KCk7XG4gICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uKGU2KSB7XG4gICAgICAgICAgICAgICAgICBlNi53cml0aW5nID0gZmFsc2UsIGU2LndyaXRlY2IgPSBudWxsLCBlNi5sZW5ndGggLT0gZTYud3JpdGVsZW4sIGU2LndyaXRlbGVuID0gMDtcbiAgICAgICAgICAgICAgICB9KHIzKSwgdDQpXG4gICAgICAgICAgICAgICAgICAhZnVuY3Rpb24oZTYsIHQ1LCByNCwgbjQsIG8zKSB7XG4gICAgICAgICAgICAgICAgICAgIC0tdDUucGVuZGluZ2NiLCByNCA/IChpLm5leHRUaWNrKG8zLCBuNCksIGkubmV4dFRpY2soTiwgZTYsIHQ1KSwgZTYuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZSwgdihlNiwgbjQpKSA6IChvMyhuNCksIGU2Ll93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWUsIHYoZTYsIG40KSwgTihlNiwgdDUpKTtcbiAgICAgICAgICAgICAgICAgIH0oZTUsIHIzLCBuMywgdDQsIG8yKTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhciBzMyA9IFUocjMpIHx8IGU1LmRlc3Ryb3llZDtcbiAgICAgICAgICAgICAgICAgIHMzIHx8IHIzLmNvcmtlZCB8fCByMy5idWZmZXJQcm9jZXNzaW5nIHx8ICFyMy5idWZmZXJlZFJlcXVlc3QgfHwgUihlNSwgcjMpLCBuMyA/IGkubmV4dFRpY2soQiwgZTUsIHIzLCBzMywgbzIpIDogQihlNSwgcjMsIHMzLCBvMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KHQzLCBlNCk7XG4gICAgICAgICAgICB9LCB0aGlzLndyaXRlY2IgPSBudWxsLCB0aGlzLndyaXRlbGVuID0gMCwgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsLCB0aGlzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsLCB0aGlzLnBlbmRpbmdjYiA9IDAsIHRoaXMucHJlZmluaXNoZWQgPSBmYWxzZSwgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZSwgdGhpcy5lbWl0Q2xvc2UgPSBlMy5lbWl0Q2xvc2UgIT09IGZhbHNlLCB0aGlzLmF1dG9EZXN0cm95ID0gISFlMy5hdXRvRGVzdHJveSwgdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDAsIHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlID0gbmV3IG8odGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIEkoZTMpIHtcbiAgICAgICAgICAgIHZhciB0MyA9IHRoaXMgaW5zdGFuY2VvZiAobjIgPSBuMiB8fCByMig3NTMpKTtcbiAgICAgICAgICAgIGlmICghdDMgJiYgIXMuY2FsbChJLCB0aGlzKSlcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJKGUzKTtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUgPSBuZXcgVChlMywgdGhpcywgdDMpLCB0aGlzLndyaXRhYmxlID0gdHJ1ZSwgZTMgJiYgKHR5cGVvZiBlMy53cml0ZSA9PSBcImZ1bmN0aW9uXCIgJiYgKHRoaXMuX3dyaXRlID0gZTMud3JpdGUpLCB0eXBlb2YgZTMud3JpdGV2ID09IFwiZnVuY3Rpb25cIiAmJiAodGhpcy5fd3JpdGV2ID0gZTMud3JpdGV2KSwgdHlwZW9mIGUzLmRlc3Ryb3kgPT0gXCJmdW5jdGlvblwiICYmICh0aGlzLl9kZXN0cm95ID0gZTMuZGVzdHJveSksIHR5cGVvZiBlMy5maW5hbCA9PSBcImZ1bmN0aW9uXCIgJiYgKHRoaXMuX2ZpbmFsID0gZTMuZmluYWwpKSwgdS5jYWxsKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBBKGUzLCB0MywgcjMsIG4zLCBpMiwgbzIsIHMyKSB7XG4gICAgICAgICAgICB0My53cml0ZWxlbiA9IG4zLCB0My53cml0ZWNiID0gczIsIHQzLndyaXRpbmcgPSB0cnVlLCB0My5zeW5jID0gdHJ1ZSwgdDMuZGVzdHJveWVkID8gdDMub253cml0ZShuZXcgdyhcIndyaXRlXCIpKSA6IHIzID8gZTMuX3dyaXRldihpMiwgdDMub253cml0ZSkgOiBlMy5fd3JpdGUoaTIsIG8yLCB0My5vbndyaXRlKSwgdDMuc3luYyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBCKGUzLCB0MywgcjMsIG4zKSB7XG4gICAgICAgICAgICByMyB8fCBmdW5jdGlvbihlNCwgdDQpIHtcbiAgICAgICAgICAgICAgdDQubGVuZ3RoID09PSAwICYmIHQ0Lm5lZWREcmFpbiAmJiAodDQubmVlZERyYWluID0gZmFsc2UsIGU0LmVtaXQoXCJkcmFpblwiKSk7XG4gICAgICAgICAgICB9KGUzLCB0MyksIHQzLnBlbmRpbmdjYi0tLCBuMygpLCBOKGUzLCB0Myk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIFIoZTMsIHQzKSB7XG4gICAgICAgICAgICB0My5idWZmZXJQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciByMyA9IHQzLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgICAgICAgICAgIGlmIChlMy5fd3JpdGV2ICYmIHIzICYmIHIzLm5leHQpIHtcbiAgICAgICAgICAgICAgdmFyIG4zID0gdDMuYnVmZmVyZWRSZXF1ZXN0Q291bnQsIGkyID0gbmV3IEFycmF5KG4zKSwgczIgPSB0My5jb3JrZWRSZXF1ZXN0c0ZyZWU7XG4gICAgICAgICAgICAgIHMyLmVudHJ5ID0gcjM7XG4gICAgICAgICAgICAgIGZvciAodmFyIGEyID0gMCwgdTIgPSB0cnVlOyByMzsgKVxuICAgICAgICAgICAgICAgIGkyW2EyXSA9IHIzLCByMy5pc0J1ZiB8fCAodTIgPSBmYWxzZSksIHIzID0gcjMubmV4dCwgYTIgKz0gMTtcbiAgICAgICAgICAgICAgaTIuYWxsQnVmZmVycyA9IHUyLCBBKGUzLCB0MywgdHJ1ZSwgdDMubGVuZ3RoLCBpMiwgXCJcIiwgczIuZmluaXNoKSwgdDMucGVuZGluZ2NiKyssIHQzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsLCBzMi5uZXh0ID8gKHQzLmNvcmtlZFJlcXVlc3RzRnJlZSA9IHMyLm5leHQsIHMyLm5leHQgPSBudWxsKSA6IHQzLmNvcmtlZFJlcXVlc3RzRnJlZSA9IG5ldyBvKHQzKSwgdDMuYnVmZmVyZWRSZXF1ZXN0Q291bnQgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yICg7IHIzOyApIHtcbiAgICAgICAgICAgICAgICB2YXIgZjIgPSByMy5jaHVuaywgaDIgPSByMy5lbmNvZGluZywgbDIgPSByMy5jYWxsYmFjaztcbiAgICAgICAgICAgICAgICBpZiAoQShlMywgdDMsIGZhbHNlLCB0My5vYmplY3RNb2RlID8gMSA6IGYyLmxlbmd0aCwgZjIsIGgyLCBsMiksIHIzID0gcjMubmV4dCwgdDMuYnVmZmVyZWRSZXF1ZXN0Q291bnQtLSwgdDMud3JpdGluZylcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHIzID09PSBudWxsICYmICh0My5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0My5idWZmZXJlZFJlcXVlc3QgPSByMywgdDMuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBVKGUzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMuZW5kaW5nICYmIGUzLmxlbmd0aCA9PT0gMCAmJiBlMy5idWZmZXJlZFJlcXVlc3QgPT09IG51bGwgJiYgIWUzLmZpbmlzaGVkICYmICFlMy53cml0aW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBMKGUzLCB0Mykge1xuICAgICAgICAgICAgZTMuX2ZpbmFsKGZ1bmN0aW9uKHIzKSB7XG4gICAgICAgICAgICAgIHQzLnBlbmRpbmdjYi0tLCByMyAmJiB2KGUzLCByMyksIHQzLnByZWZpbmlzaGVkID0gdHJ1ZSwgZTMuZW1pdChcInByZWZpbmlzaFwiKSwgTihlMywgdDMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIE4oZTMsIHQzKSB7XG4gICAgICAgICAgICB2YXIgcjMgPSBVKHQzKTtcbiAgICAgICAgICAgIGlmIChyMyAmJiAoZnVuY3Rpb24oZTQsIHQ0KSB7XG4gICAgICAgICAgICAgIHQ0LnByZWZpbmlzaGVkIHx8IHQ0LmZpbmFsQ2FsbGVkIHx8ICh0eXBlb2YgZTQuX2ZpbmFsICE9IFwiZnVuY3Rpb25cIiB8fCB0NC5kZXN0cm95ZWQgPyAodDQucHJlZmluaXNoZWQgPSB0cnVlLCBlNC5lbWl0KFwicHJlZmluaXNoXCIpKSA6ICh0NC5wZW5kaW5nY2IrKywgdDQuZmluYWxDYWxsZWQgPSB0cnVlLCBpLm5leHRUaWNrKEwsIGU0LCB0NCkpKTtcbiAgICAgICAgICAgIH0oZTMsIHQzKSwgdDMucGVuZGluZ2NiID09PSAwICYmICh0My5maW5pc2hlZCA9IHRydWUsIGUzLmVtaXQoXCJmaW5pc2hcIiksIHQzLmF1dG9EZXN0cm95KSkpIHtcbiAgICAgICAgICAgICAgdmFyIG4zID0gZTMuX3JlYWRhYmxlU3RhdGU7XG4gICAgICAgICAgICAgICghbjMgfHwgbjMuYXV0b0Rlc3Ryb3kgJiYgbjMuZW5kRW1pdHRlZCkgJiYgZTMuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHIzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByMig3MTcpKEksIHUpLCBULnByb3RvdHlwZS5nZXRCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGUzID0gdGhpcy5idWZmZXJlZFJlcXVlc3QsIHQzID0gW107IGUzOyApXG4gICAgICAgICAgICAgIHQzLnB1c2goZTMpLCBlMyA9IGUzLm5leHQ7XG4gICAgICAgICAgICByZXR1cm4gdDM7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVC5wcm90b3R5cGUsIFwiYnVmZmVyXCIsIHsgZ2V0OiBhLmRlcHJlY2F0ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgICAgICAgICAgfSwgXCJfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciBpbnN0ZWFkLlwiLCBcIkRFUDAwMDNcIikgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlMykge1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0oKSwgdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLmhhc0luc3RhbmNlICYmIHR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSA9PSBcImZ1bmN0aW9uXCIgPyAocyA9IEZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoSSwgU3ltYm9sLmhhc0luc3RhbmNlLCB7IHZhbHVlOiBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgcmV0dXJuICEhcy5jYWxsKHRoaXMsIGUzKSB8fCB0aGlzID09PSBJICYmIGUzICYmIGUzLl93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgVDtcbiAgICAgICAgICB9IH0pKSA6IHMgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgcmV0dXJuIGUzIGluc3RhbmNlb2YgdGhpcztcbiAgICAgICAgICB9LCBJLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2KHRoaXMsIG5ldyBiKCkpO1xuICAgICAgICAgIH0sIEkucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgdmFyIG4zLCBvMiA9IHRoaXMuX3dyaXRhYmxlU3RhdGUsIHMyID0gZmFsc2UsIGEyID0gIW8yLm9iamVjdE1vZGUgJiYgKG4zID0gZTMsIGYuaXNCdWZmZXIobjMpIHx8IG4zIGluc3RhbmNlb2YgaCk7XG4gICAgICAgICAgICByZXR1cm4gYTIgJiYgIWYuaXNCdWZmZXIoZTMpICYmIChlMyA9IGZ1bmN0aW9uKGU0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBmLmZyb20oZTQpO1xuICAgICAgICAgICAgfShlMykpLCB0eXBlb2YgdDMgPT0gXCJmdW5jdGlvblwiICYmIChyMyA9IHQzLCB0MyA9IG51bGwpLCBhMiA/IHQzID0gXCJidWZmZXJcIiA6IHQzIHx8ICh0MyA9IG8yLmRlZmF1bHRFbmNvZGluZyksIHR5cGVvZiByMyAhPSBcImZ1bmN0aW9uXCIgJiYgKHIzID0gUyksIG8yLmVuZGluZyA/IGZ1bmN0aW9uKGU0LCB0NCkge1xuICAgICAgICAgICAgICB2YXIgcjQgPSBuZXcgbSgpO1xuICAgICAgICAgICAgICB2KGU0LCByNCksIGkubmV4dFRpY2sodDQsIHI0KTtcbiAgICAgICAgICAgIH0odGhpcywgcjMpIDogKGEyIHx8IGZ1bmN0aW9uKGU0LCB0NCwgcjQsIG40KSB7XG4gICAgICAgICAgICAgIHZhciBvMztcbiAgICAgICAgICAgICAgcmV0dXJuIHI0ID09PSBudWxsID8gbzMgPSBuZXcgXygpIDogdHlwZW9mIHI0ID09IFwic3RyaW5nXCIgfHwgdDQub2JqZWN0TW9kZSB8fCAobzMgPSBuZXcgcChcImNodW5rXCIsIFtcInN0cmluZ1wiLCBcIkJ1ZmZlclwiXSwgcjQpKSwgIW8zIHx8ICh2KGU0LCBvMyksIGkubmV4dFRpY2sobjQsIG8zKSwgZmFsc2UpO1xuICAgICAgICAgICAgfSh0aGlzLCBvMiwgZTMsIHIzKSkgJiYgKG8yLnBlbmRpbmdjYisrLCBzMiA9IGZ1bmN0aW9uKGU0LCB0NCwgcjQsIG40LCBpMiwgbzMpIHtcbiAgICAgICAgICAgICAgaWYgKCFyNCkge1xuICAgICAgICAgICAgICAgIHZhciBzMyA9IGZ1bmN0aW9uKGU1LCB0NSwgcjUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlNS5vYmplY3RNb2RlIHx8IGU1LmRlY29kZVN0cmluZ3MgPT09IGZhbHNlIHx8IHR5cGVvZiB0NSAhPSBcInN0cmluZ1wiIHx8ICh0NSA9IGYuZnJvbSh0NSwgcjUpKSwgdDU7XG4gICAgICAgICAgICAgICAgfSh0NCwgbjQsIGkyKTtcbiAgICAgICAgICAgICAgICBuNCAhPT0gczMgJiYgKHI0ID0gdHJ1ZSwgaTIgPSBcImJ1ZmZlclwiLCBuNCA9IHMzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgYTMgPSB0NC5vYmplY3RNb2RlID8gMSA6IG40Lmxlbmd0aDtcbiAgICAgICAgICAgICAgdDQubGVuZ3RoICs9IGEzO1xuICAgICAgICAgICAgICB2YXIgdTIgPSB0NC5sZW5ndGggPCB0NC5oaWdoV2F0ZXJNYXJrO1xuICAgICAgICAgICAgICBpZiAodTIgfHwgKHQ0Lm5lZWREcmFpbiA9IHRydWUpLCB0NC53cml0aW5nIHx8IHQ0LmNvcmtlZCkge1xuICAgICAgICAgICAgICAgIHZhciBoMiA9IHQ0Lmxhc3RCdWZmZXJlZFJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgdDQubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IHsgY2h1bms6IG40LCBlbmNvZGluZzogaTIsIGlzQnVmOiByNCwgY2FsbGJhY2s6IG8zLCBuZXh0OiBudWxsIH0sIGgyID8gaDIubmV4dCA9IHQ0Lmxhc3RCdWZmZXJlZFJlcXVlc3QgOiB0NC5idWZmZXJlZFJlcXVlc3QgPSB0NC5sYXN0QnVmZmVyZWRSZXF1ZXN0LCB0NC5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBBKGU0LCB0NCwgZmFsc2UsIGEzLCBuNCwgaTIsIG8zKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHUyO1xuICAgICAgICAgICAgfSh0aGlzLCBvMiwgYTIsIGUzLCB0MywgcjMpKSwgczI7XG4gICAgICAgICAgfSwgSS5wcm90b3R5cGUuY29yayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrKztcbiAgICAgICAgICB9LCBJLnByb3RvdHlwZS51bmNvcmsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlMyA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG4gICAgICAgICAgICBlMy5jb3JrZWQgJiYgKGUzLmNvcmtlZC0tLCBlMy53cml0aW5nIHx8IGUzLmNvcmtlZCB8fCBlMy5idWZmZXJQcm9jZXNzaW5nIHx8ICFlMy5idWZmZXJlZFJlcXVlc3QgfHwgUih0aGlzLCBlMykpO1xuICAgICAgICAgIH0sIEkucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGUzID09IFwic3RyaW5nXCIgJiYgKGUzID0gZTMudG9Mb3dlckNhc2UoKSksICEoW1wiaGV4XCIsIFwidXRmOFwiLCBcInV0Zi04XCIsIFwiYXNjaWlcIiwgXCJiaW5hcnlcIiwgXCJiYXNlNjRcIiwgXCJ1Y3MyXCIsIFwidWNzLTJcIiwgXCJ1dGYxNmxlXCIsIFwidXRmLTE2bGVcIiwgXCJyYXdcIl0uaW5kZXhPZigoZTMgKyBcIlwiKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSlcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoZTMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVmYXVsdEVuY29kaW5nID0gZTMsIHRoaXM7XG4gICAgICAgICAgfSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KEkucHJvdG90eXBlLCBcIndyaXRhYmxlQnVmZmVyXCIsIHsgZW51bWVyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpO1xuICAgICAgICAgIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLnByb3RvdHlwZSwgXCJ3cml0YWJsZUhpZ2hXYXRlck1hcmtcIiwgeyBlbnVtZXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gICAgICAgICAgfSB9KSwgSS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcjMobmV3IGcoXCJfd3JpdGUoKVwiKSk7XG4gICAgICAgICAgfSwgSS5wcm90b3R5cGUuX3dyaXRldiA9IG51bGwsIEkucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHZhciBuMyA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGUzID09IFwiZnVuY3Rpb25cIiA/IChyMyA9IGUzLCBlMyA9IG51bGwsIHQzID0gbnVsbCkgOiB0eXBlb2YgdDMgPT0gXCJmdW5jdGlvblwiICYmIChyMyA9IHQzLCB0MyA9IG51bGwpLCBlMyAhPSBudWxsICYmIHRoaXMud3JpdGUoZTMsIHQzKSwgbjMuY29ya2VkICYmIChuMy5jb3JrZWQgPSAxLCB0aGlzLnVuY29yaygpKSwgbjMuZW5kaW5nIHx8IGZ1bmN0aW9uKGU0LCB0NCwgcjQpIHtcbiAgICAgICAgICAgICAgdDQuZW5kaW5nID0gdHJ1ZSwgTihlNCwgdDQpLCByNCAmJiAodDQuZmluaXNoZWQgPyBpLm5leHRUaWNrKHI0KSA6IGU0Lm9uY2UoXCJmaW5pc2hcIiwgcjQpKSwgdDQuZW5kZWQgPSB0cnVlLCBlNC53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSh0aGlzLCBuMywgcjMpLCB0aGlzO1xuICAgICAgICAgIH0sIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLnByb3RvdHlwZSwgXCJ3cml0YWJsZUxlbmd0aFwiLCB7IGVudW1lcmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RoO1xuICAgICAgICAgIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLnByb3RvdHlwZSwgXCJkZXN0cm95ZWRcIiwgeyBlbnVtZXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlICE9PSB2b2lkIDAgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gICAgICAgICAgfSwgc2V0OiBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgdGhpcy5fd3JpdGFibGVTdGF0ZSAmJiAodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBlMyk7XG4gICAgICAgICAgfSB9KSwgSS5wcm90b3R5cGUuZGVzdHJveSA9IGwuZGVzdHJveSwgSS5wcm90b3R5cGUuX3VuZGVzdHJveSA9IGwudW5kZXN0cm95LCBJLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgdDMoZTMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0sIDg1MDogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICB2YXIgbjIsIGkgPSByMigxNTUpO1xuICAgICAgICAgIGZ1bmN0aW9uIG8oZTMsIHQzLCByMykge1xuICAgICAgICAgICAgcmV0dXJuIHQzIGluIGUzID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUzLCB0MywgeyB2YWx1ZTogcjMsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSkgOiBlM1t0M10gPSByMywgZTM7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzID0gcjIoNjEwKSwgYSA9IFN5bWJvbChcImxhc3RSZXNvbHZlXCIpLCB1ID0gU3ltYm9sKFwibGFzdFJlamVjdFwiKSwgZiA9IFN5bWJvbChcImVycm9yXCIpLCBoID0gU3ltYm9sKFwiZW5kZWRcIiksIGwgPSBTeW1ib2woXCJsYXN0UHJvbWlzZVwiKSwgYyA9IFN5bWJvbChcImhhbmRsZVByb21pc2VcIiksIGQgPSBTeW1ib2woXCJzdHJlYW1cIik7XG4gICAgICAgICAgZnVuY3Rpb24gcChlMywgdDMpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBlMywgZG9uZTogdDMgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gZyhlMykge1xuICAgICAgICAgICAgdmFyIHQzID0gZTNbYV07XG4gICAgICAgICAgICBpZiAodDMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdmFyIHIzID0gZTNbZF0ucmVhZCgpO1xuICAgICAgICAgICAgICByMyAhPT0gbnVsbCAmJiAoZTNbbF0gPSBudWxsLCBlM1thXSA9IG51bGwsIGUzW3VdID0gbnVsbCwgdDMocChyMywgZmFsc2UpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIHkoZTMpIHtcbiAgICAgICAgICAgIGkubmV4dFRpY2soZywgZTMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgYiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihmdW5jdGlvbigpIHtcbiAgICAgICAgICB9KSwgdyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZigobyhuMiA9IHsgZ2V0IHN0cmVhbSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW2RdO1xuICAgICAgICAgIH0sIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGUzID0gdGhpcywgdDMgPSB0aGlzW2ZdO1xuICAgICAgICAgICAgaWYgKHQzICE9PSBudWxsKVxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodDMpO1xuICAgICAgICAgICAgaWYgKHRoaXNbaF0pXG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocCh2b2lkIDAsIHRydWUpKTtcbiAgICAgICAgICAgIGlmICh0aGlzW2RdLmRlc3Ryb3llZClcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQ0LCByNCkge1xuICAgICAgICAgICAgICAgIGkubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBlM1tmXSA/IHI0KGUzW2ZdKSA6IHQ0KHAodm9pZCAwLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHIzLCBuMyA9IHRoaXNbbF07XG4gICAgICAgICAgICBpZiAobjMpXG4gICAgICAgICAgICAgIHIzID0gbmV3IFByb21pc2UoZnVuY3Rpb24oZTQsIHQ0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHI0LCBuNCkge1xuICAgICAgICAgICAgICAgICAgZTQudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdDRbaF0gPyByNChwKHZvaWQgMCwgdHJ1ZSkpIDogdDRbY10ocjQsIG40KTtcbiAgICAgICAgICAgICAgICAgIH0sIG40KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KG4zLCB0aGlzKSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIG8yID0gdGhpc1tkXS5yZWFkKCk7XG4gICAgICAgICAgICAgIGlmIChvMiAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHAobzIsIGZhbHNlKSk7XG4gICAgICAgICAgICAgIHIzID0gbmV3IFByb21pc2UodGhpc1tjXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tsXSA9IHIzLCByMztcbiAgICAgICAgICB9IH0sIFN5bWJvbC5hc3luY0l0ZXJhdG9yLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH0pLCBvKG4yLCBcInJldHVyblwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlMyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odDMsIHIzKSB7XG4gICAgICAgICAgICAgIGUzW2RdLmRlc3Ryb3kobnVsbCwgZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgICBlNCA/IHIzKGU0KSA6IHQzKHAodm9pZCAwLCB0cnVlKSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSksIG4yKSwgYik7XG4gICAgICAgICAgZTIuZXhwb3J0cyA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICB2YXIgdDMsIHIzID0gT2JqZWN0LmNyZWF0ZSh3LCAobyh0MyA9IHt9LCBkLCB7IHZhbHVlOiBlMywgd3JpdGFibGU6IHRydWUgfSksIG8odDMsIGEsIHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH0pLCBvKHQzLCB1LCB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9KSwgbyh0MywgZiwgeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfSksIG8odDMsIGgsIHsgdmFsdWU6IGUzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQsIHdyaXRhYmxlOiB0cnVlIH0pLCBvKHQzLCBjLCB7IHZhbHVlOiBmdW5jdGlvbihlNCwgdDQpIHtcbiAgICAgICAgICAgICAgdmFyIG4zID0gcjNbZF0ucmVhZCgpO1xuICAgICAgICAgICAgICBuMyA/IChyM1tsXSA9IG51bGwsIHIzW2FdID0gbnVsbCwgcjNbdV0gPSBudWxsLCBlNChwKG4zLCBmYWxzZSkpKSA6IChyM1thXSA9IGU0LCByM1t1XSA9IHQ0KTtcbiAgICAgICAgICAgIH0sIHdyaXRhYmxlOiB0cnVlIH0pLCB0MykpO1xuICAgICAgICAgICAgcmV0dXJuIHIzW2xdID0gbnVsbCwgcyhlMywgZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgaWYgKGU0ICYmIGU0LmNvZGUgIT09IFwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIikge1xuICAgICAgICAgICAgICAgIHZhciB0NCA9IHIzW3VdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0NCAhPT0gbnVsbCAmJiAocjNbbF0gPSBudWxsLCByM1thXSA9IG51bGwsIHIzW3VdID0gbnVsbCwgdDQoZTQpKSwgdm9pZCAocjNbZl0gPSBlNCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIG4zID0gcjNbYV07XG4gICAgICAgICAgICAgIG4zICE9PSBudWxsICYmIChyM1tsXSA9IG51bGwsIHIzW2FdID0gbnVsbCwgcjNbdV0gPSBudWxsLCBuMyhwKHZvaWQgMCwgdHJ1ZSkpKSwgcjNbaF0gPSB0cnVlO1xuICAgICAgICAgICAgfSksIGUzLm9uKFwicmVhZGFibGVcIiwgeS5iaW5kKG51bGwsIHIzKSksIHIzO1xuICAgICAgICAgIH07XG4gICAgICAgIH0sIDMyNzogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICBmdW5jdGlvbiBuMihlMywgdDMpIHtcbiAgICAgICAgICAgIHZhciByMyA9IE9iamVjdC5rZXlzKGUzKTtcbiAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICAgICAgICAgIHZhciBuMyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZTMpO1xuICAgICAgICAgICAgICB0MyAmJiAobjMgPSBuMy5maWx0ZXIoZnVuY3Rpb24odDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlMywgdDQpLmVudW1lcmFibGU7XG4gICAgICAgICAgICAgIH0pKSwgcjMucHVzaC5hcHBseShyMywgbjMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHIzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBpKGUzLCB0MywgcjMpIHtcbiAgICAgICAgICAgIHJldHVybiB0MyBpbiBlMyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlMywgdDMsIHsgdmFsdWU6IHIzLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pIDogZTNbdDNdID0gcjMsIGUzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBvKGUzLCB0Mykge1xuICAgICAgICAgICAgZm9yICh2YXIgcjMgPSAwOyByMyA8IHQzLmxlbmd0aDsgcjMrKykge1xuICAgICAgICAgICAgICB2YXIgbjMgPSB0M1tyM107XG4gICAgICAgICAgICAgIG4zLmVudW1lcmFibGUgPSBuMy5lbnVtZXJhYmxlIHx8IGZhbHNlLCBuMy5jb25maWd1cmFibGUgPSB0cnVlLCBcInZhbHVlXCIgaW4gbjMgJiYgKG4zLndyaXRhYmxlID0gdHJ1ZSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlMywgbjMua2V5LCBuMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzID0gcjIoNzY0KS5CdWZmZXIsIGEgPSByMigzNjEpLmluc3BlY3QsIHUgPSBhICYmIGEuY3VzdG9tIHx8IFwiaW5zcGVjdFwiO1xuICAgICAgICAgIGUyLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGUzKCkge1xuICAgICAgICAgICAgICAhZnVuY3Rpb24oZTQsIHQ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZTQgaW5zdGFuY2VvZiB0NCkpXG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgICB9KHRoaXMsIGUzKSwgdGhpcy5oZWFkID0gbnVsbCwgdGhpcy50YWlsID0gbnVsbCwgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHQzLCByMztcbiAgICAgICAgICAgIHJldHVybiB0MyA9IGUzLCByMyA9IFt7IGtleTogXCJwdXNoXCIsIHZhbHVlOiBmdW5jdGlvbihlNCkge1xuICAgICAgICAgICAgICB2YXIgdDQgPSB7IGRhdGE6IGU0LCBuZXh0OiBudWxsIH07XG4gICAgICAgICAgICAgIHRoaXMubGVuZ3RoID4gMCA/IHRoaXMudGFpbC5uZXh0ID0gdDQgOiB0aGlzLmhlYWQgPSB0NCwgdGhpcy50YWlsID0gdDQsICsrdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICB9IH0sIHsga2V5OiBcInVuc2hpZnRcIiwgdmFsdWU6IGZ1bmN0aW9uKGU0KSB7XG4gICAgICAgICAgICAgIHZhciB0NCA9IHsgZGF0YTogZTQsIG5leHQ6IHRoaXMuaGVhZCB9O1xuICAgICAgICAgICAgICB0aGlzLmxlbmd0aCA9PT0gMCAmJiAodGhpcy50YWlsID0gdDQpLCB0aGlzLmhlYWQgPSB0NCwgKyt0aGlzLmxlbmd0aDtcbiAgICAgICAgICAgIH0gfSwgeyBrZXk6IFwic2hpZnRcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgZTQgPSB0aGlzLmhlYWQuZGF0YTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggPT09IDEgPyB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsIDogdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHQsIC0tdGhpcy5sZW5ndGgsIGU0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IH0sIHsga2V5OiBcImNsZWFyXCIsIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbCwgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfSB9LCB7IGtleTogXCJqb2luXCIsIHZhbHVlOiBmdW5jdGlvbihlNCkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgIGZvciAodmFyIHQ0ID0gdGhpcy5oZWFkLCByNCA9IFwiXCIgKyB0NC5kYXRhOyB0NCA9IHQ0Lm5leHQ7IClcbiAgICAgICAgICAgICAgICByNCArPSBlNCArIHQ0LmRhdGE7XG4gICAgICAgICAgICAgIHJldHVybiByNDtcbiAgICAgICAgICAgIH0gfSwgeyBrZXk6IFwiY29uY2F0XCIsIHZhbHVlOiBmdW5jdGlvbihlNCkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHMuYWxsb2MoMCk7XG4gICAgICAgICAgICAgIGZvciAodmFyIHQ0LCByNCwgbjMsIGkyID0gcy5hbGxvY1Vuc2FmZShlNCA+Pj4gMCksIG8yID0gdGhpcy5oZWFkLCBhMiA9IDA7IG8yOyApXG4gICAgICAgICAgICAgICAgdDQgPSBvMi5kYXRhLCByNCA9IGkyLCBuMyA9IGEyLCBzLnByb3RvdHlwZS5jb3B5LmNhbGwodDQsIHI0LCBuMyksIGEyICs9IG8yLmRhdGEubGVuZ3RoLCBvMiA9IG8yLm5leHQ7XG4gICAgICAgICAgICAgIHJldHVybiBpMjtcbiAgICAgICAgICAgIH0gfSwgeyBrZXk6IFwiY29uc3VtZVwiLCB2YWx1ZTogZnVuY3Rpb24oZTQsIHQ0KSB7XG4gICAgICAgICAgICAgIHZhciByNDtcbiAgICAgICAgICAgICAgcmV0dXJuIGU0IDwgdGhpcy5oZWFkLmRhdGEubGVuZ3RoID8gKHI0ID0gdGhpcy5oZWFkLmRhdGEuc2xpY2UoMCwgZTQpLCB0aGlzLmhlYWQuZGF0YSA9IHRoaXMuaGVhZC5kYXRhLnNsaWNlKGU0KSkgOiByNCA9IGU0ID09PSB0aGlzLmhlYWQuZGF0YS5sZW5ndGggPyB0aGlzLnNoaWZ0KCkgOiB0NCA/IHRoaXMuX2dldFN0cmluZyhlNCkgOiB0aGlzLl9nZXRCdWZmZXIoZTQpLCByNDtcbiAgICAgICAgICAgIH0gfSwgeyBrZXk6IFwiZmlyc3RcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkLmRhdGE7XG4gICAgICAgICAgICB9IH0sIHsga2V5OiBcIl9nZXRTdHJpbmdcIiwgdmFsdWU6IGZ1bmN0aW9uKGU0KSB7XG4gICAgICAgICAgICAgIHZhciB0NCA9IHRoaXMuaGVhZCwgcjQgPSAxLCBuMyA9IHQ0LmRhdGE7XG4gICAgICAgICAgICAgIGZvciAoZTQgLT0gbjMubGVuZ3RoOyB0NCA9IHQ0Lm5leHQ7ICkge1xuICAgICAgICAgICAgICAgIHZhciBpMiA9IHQ0LmRhdGEsIG8yID0gZTQgPiBpMi5sZW5ndGggPyBpMi5sZW5ndGggOiBlNDtcbiAgICAgICAgICAgICAgICBpZiAobzIgPT09IGkyLmxlbmd0aCA/IG4zICs9IGkyIDogbjMgKz0gaTIuc2xpY2UoMCwgZTQpLCAoZTQgLT0gbzIpID09IDApIHtcbiAgICAgICAgICAgICAgICAgIG8yID09PSBpMi5sZW5ndGggPyAoKytyNCwgdDQubmV4dCA/IHRoaXMuaGVhZCA9IHQ0Lm5leHQgOiB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsKSA6ICh0aGlzLmhlYWQgPSB0NCwgdDQuZGF0YSA9IGkyLnNsaWNlKG8yKSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKytyNDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggLT0gcjQsIG4zO1xuICAgICAgICAgICAgfSB9LCB7IGtleTogXCJfZ2V0QnVmZmVyXCIsIHZhbHVlOiBmdW5jdGlvbihlNCkge1xuICAgICAgICAgICAgICB2YXIgdDQgPSBzLmFsbG9jVW5zYWZlKGU0KSwgcjQgPSB0aGlzLmhlYWQsIG4zID0gMTtcbiAgICAgICAgICAgICAgZm9yIChyNC5kYXRhLmNvcHkodDQpLCBlNCAtPSByNC5kYXRhLmxlbmd0aDsgcjQgPSByNC5uZXh0OyApIHtcbiAgICAgICAgICAgICAgICB2YXIgaTIgPSByNC5kYXRhLCBvMiA9IGU0ID4gaTIubGVuZ3RoID8gaTIubGVuZ3RoIDogZTQ7XG4gICAgICAgICAgICAgICAgaWYgKGkyLmNvcHkodDQsIHQ0Lmxlbmd0aCAtIGU0LCAwLCBvMiksIChlNCAtPSBvMikgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgbzIgPT09IGkyLmxlbmd0aCA/ICgrK24zLCByNC5uZXh0ID8gdGhpcy5oZWFkID0gcjQubmV4dCA6IHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGwpIDogKHRoaXMuaGVhZCA9IHI0LCByNC5kYXRhID0gaTIuc2xpY2UobzIpKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICArK24zO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCAtPSBuMywgdDQ7XG4gICAgICAgICAgICB9IH0sIHsga2V5OiB1LCB2YWx1ZTogZnVuY3Rpb24oZTQsIHQ0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBhKHRoaXMsIGZ1bmN0aW9uKGU1KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdDUgPSAxOyB0NSA8IGFyZ3VtZW50cy5sZW5ndGg7IHQ1KyspIHtcbiAgICAgICAgICAgICAgICAgIHZhciByNCA9IGFyZ3VtZW50c1t0NV0gIT0gbnVsbCA/IGFyZ3VtZW50c1t0NV0gOiB7fTtcbiAgICAgICAgICAgICAgICAgIHQ1ICUgMiA/IG4yKE9iamVjdChyNCksIHRydWUpLmZvckVhY2goZnVuY3Rpb24odDYpIHtcbiAgICAgICAgICAgICAgICAgICAgaShlNSwgdDYsIHI0W3Q2XSk7XG4gICAgICAgICAgICAgICAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZTUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHI0KSkgOiBuMihPYmplY3QocjQpKS5mb3JFYWNoKGZ1bmN0aW9uKHQ2KSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlNSwgdDYsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocjQsIHQ2KSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGU1O1xuICAgICAgICAgICAgICB9KHt9LCB0NCwgeyBkZXB0aDogMCwgY3VzdG9tSW5zcGVjdDogZmFsc2UgfSkpO1xuICAgICAgICAgICAgfSB9XSwgcjMgJiYgbyh0My5wcm90b3R5cGUsIHIzKSwgZTM7XG4gICAgICAgICAgfSgpO1xuICAgICAgICB9LCAxOTU6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgdmFyIG4yID0gcjIoMTU1KTtcbiAgICAgICAgICBmdW5jdGlvbiBpKGUzLCB0Mykge1xuICAgICAgICAgICAgcyhlMywgdDMpLCBvKGUzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gbyhlMykge1xuICAgICAgICAgICAgZTMuX3dyaXRhYmxlU3RhdGUgJiYgIWUzLl93cml0YWJsZVN0YXRlLmVtaXRDbG9zZSB8fCBlMy5fcmVhZGFibGVTdGF0ZSAmJiAhZTMuX3JlYWRhYmxlU3RhdGUuZW1pdENsb3NlIHx8IGUzLmVtaXQoXCJjbG9zZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gcyhlMywgdDMpIHtcbiAgICAgICAgICAgIGUzLmVtaXQoXCJlcnJvclwiLCB0Myk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGUyLmV4cG9ydHMgPSB7IGRlc3Ryb3k6IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgdmFyIHIzID0gdGhpcywgYSA9IHRoaXMuX3JlYWRhYmxlU3RhdGUgJiYgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQsIHUgPSB0aGlzLl93cml0YWJsZVN0YXRlICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICAgICAgICAgICAgcmV0dXJuIGEgfHwgdSA/ICh0MyA/IHQzKGUzKSA6IGUzICYmICh0aGlzLl93cml0YWJsZVN0YXRlID8gdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgfHwgKHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZSwgbjIubmV4dFRpY2socywgdGhpcywgZTMpKSA6IG4yLm5leHRUaWNrKHMsIHRoaXMsIGUzKSksIHRoaXMpIDogKHRoaXMuX3JlYWRhYmxlU3RhdGUgJiYgKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZSksIHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZSksIHRoaXMuX2Rlc3Ryb3koZTMgfHwgbnVsbCwgZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgIXQzICYmIGU0ID8gcjMuX3dyaXRhYmxlU3RhdGUgPyByMy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPyBuMi5uZXh0VGljayhvLCByMykgOiAocjMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZSwgbjIubmV4dFRpY2soaSwgcjMsIGU0KSkgOiBuMi5uZXh0VGljayhpLCByMywgZTQpIDogdDMgPyAobjIubmV4dFRpY2sobywgcjMpLCB0MyhlNCkpIDogbjIubmV4dFRpY2sobywgcjMpO1xuICAgICAgICAgICAgfSksIHRoaXMpO1xuICAgICAgICAgIH0sIHVuZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWFkYWJsZVN0YXRlICYmICh0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IGZhbHNlLCB0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmcgPSBmYWxzZSwgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZCA9IGZhbHNlLCB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQgPSBmYWxzZSksIHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gZmFsc2UsIHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQgPSBmYWxzZSwgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmcgPSBmYWxzZSwgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5hbENhbGxlZCA9IGZhbHNlLCB0aGlzLl93cml0YWJsZVN0YXRlLnByZWZpbmlzaGVkID0gZmFsc2UsIHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQgPSBmYWxzZSwgdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSBmYWxzZSk7XG4gICAgICAgICAgfSwgZXJyb3JPckRlc3Ryb3k6IGZ1bmN0aW9uKGUzLCB0Mykge1xuICAgICAgICAgICAgdmFyIHIzID0gZTMuX3JlYWRhYmxlU3RhdGUsIG4zID0gZTMuX3dyaXRhYmxlU3RhdGU7XG4gICAgICAgICAgICByMyAmJiByMy5hdXRvRGVzdHJveSB8fCBuMyAmJiBuMy5hdXRvRGVzdHJveSA/IGUzLmRlc3Ryb3kodDMpIDogZTMuZW1pdChcImVycm9yXCIsIHQzKTtcbiAgICAgICAgICB9IH07XG4gICAgICAgIH0sIDYxMDogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICB2YXIgbjIgPSByMigyODEpLnEuRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0U7XG4gICAgICAgICAgZnVuY3Rpb24gaSgpIHtcbiAgICAgICAgICB9XG4gICAgICAgICAgZTIuZXhwb3J0cyA9IGZ1bmN0aW9uIGUzKHQzLCByMywgbykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByMyA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgIHJldHVybiBlMyh0MywgbnVsbCwgcjMpO1xuICAgICAgICAgICAgcjMgfHwgKHIzID0ge30pLCBvID0gZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgdmFyIHQ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXQ0KSB7XG4gICAgICAgICAgICAgICAgICB0NCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciByNCA9IGFyZ3VtZW50cy5sZW5ndGgsIG4zID0gbmV3IEFycmF5KHI0KSwgaTIgPSAwOyBpMiA8IHI0OyBpMisrKVxuICAgICAgICAgICAgICAgICAgICBuM1tpMl0gPSBhcmd1bWVudHNbaTJdO1xuICAgICAgICAgICAgICAgICAgZTQuYXBwbHkodGhpcywgbjMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0obyB8fCBpKTtcbiAgICAgICAgICAgIHZhciBzID0gcjMucmVhZGFibGUgfHwgcjMucmVhZGFibGUgIT09IGZhbHNlICYmIHQzLnJlYWRhYmxlLCBhID0gcjMud3JpdGFibGUgfHwgcjMud3JpdGFibGUgIT09IGZhbHNlICYmIHQzLndyaXRhYmxlLCB1ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHQzLndyaXRhYmxlIHx8IGgoKTtcbiAgICAgICAgICAgIH0sIGYgPSB0My5fd3JpdGFibGVTdGF0ZSAmJiB0My5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCwgaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBhID0gZmFsc2UsIGYgPSB0cnVlLCBzIHx8IG8uY2FsbCh0Myk7XG4gICAgICAgICAgICB9LCBsID0gdDMuX3JlYWRhYmxlU3RhdGUgJiYgdDMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCwgYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzID0gZmFsc2UsIGwgPSB0cnVlLCBhIHx8IG8uY2FsbCh0Myk7XG4gICAgICAgICAgICB9LCBkID0gZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgby5jYWxsKHQzLCBlNCk7XG4gICAgICAgICAgICB9LCBwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBlNDtcbiAgICAgICAgICAgICAgcmV0dXJuIHMgJiYgIWwgPyAodDMuX3JlYWRhYmxlU3RhdGUgJiYgdDMuX3JlYWRhYmxlU3RhdGUuZW5kZWQgfHwgKGU0ID0gbmV3IG4yKCkpLCBvLmNhbGwodDMsIGU0KSkgOiBhICYmICFmID8gKHQzLl93cml0YWJsZVN0YXRlICYmIHQzLl93cml0YWJsZVN0YXRlLmVuZGVkIHx8IChlNCA9IG5ldyBuMigpKSwgby5jYWxsKHQzLCBlNCkpIDogdm9pZCAwO1xuICAgICAgICAgICAgfSwgZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0My5yZXEub24oXCJmaW5pc2hcIiwgaCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGU0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBlNC5zZXRIZWFkZXIgJiYgdHlwZW9mIGU0LmFib3J0ID09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgIH0odDMpID8gKHQzLm9uKFwiY29tcGxldGVcIiwgaCksIHQzLm9uKFwiYWJvcnRcIiwgcCksIHQzLnJlcSA/IGcoKSA6IHQzLm9uKFwicmVxdWVzdFwiLCBnKSkgOiBhICYmICF0My5fd3JpdGFibGVTdGF0ZSAmJiAodDMub24oXCJlbmRcIiwgdSksIHQzLm9uKFwiY2xvc2VcIiwgdSkpLCB0My5vbihcImVuZFwiLCBjKSwgdDMub24oXCJmaW5pc2hcIiwgaCksIHIzLmVycm9yICE9PSBmYWxzZSAmJiB0My5vbihcImVycm9yXCIsIGQpLCB0My5vbihcImNsb3NlXCIsIHApLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdDMucmVtb3ZlTGlzdGVuZXIoXCJjb21wbGV0ZVwiLCBoKSwgdDMucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydFwiLCBwKSwgdDMucmVtb3ZlTGlzdGVuZXIoXCJyZXF1ZXN0XCIsIGcpLCB0My5yZXEgJiYgdDMucmVxLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsIGgpLCB0My5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLCB1KSwgdDMucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLCB1KSwgdDMucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIiwgaCksIHQzLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsIGMpLCB0My5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIGQpLCB0My5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsIHApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LCAxNjc6IChlMikgPT4ge1xuICAgICAgICAgIGUyLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlYWRhYmxlLmZyb20gaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnJvd3NlclwiKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LCA5NDY6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgICAgdmFyIG4yLCBpID0gcjIoMjgxKS5xLCBvID0gaS5FUlJfTUlTU0lOR19BUkdTLCBzID0gaS5FUlJfU1RSRUFNX0RFU1RST1lFRDtcbiAgICAgICAgICBmdW5jdGlvbiBhKGUzKSB7XG4gICAgICAgICAgICBpZiAoZTMpXG4gICAgICAgICAgICAgIHRocm93IGUzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiB1KGUzLCB0MywgaTIsIG8yKSB7XG4gICAgICAgICAgICBvMiA9IGZ1bmN0aW9uKGU0KSB7XG4gICAgICAgICAgICAgIHZhciB0NCA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdDQgfHwgKHQ0ID0gdHJ1ZSwgZTQuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0obzIpO1xuICAgICAgICAgICAgdmFyIGEyID0gZmFsc2U7XG4gICAgICAgICAgICBlMy5vbihcImNsb3NlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBhMiA9IHRydWU7XG4gICAgICAgICAgICB9KSwgbjIgPT09IHZvaWQgMCAmJiAobjIgPSByMig2MTApKSwgbjIoZTMsIHsgcmVhZGFibGU6IHQzLCB3cml0YWJsZTogaTIgfSwgZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgaWYgKGU0KVxuICAgICAgICAgICAgICAgIHJldHVybiBvMihlNCk7XG4gICAgICAgICAgICAgIGEyID0gdHJ1ZSwgbzIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHUyID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odDQpIHtcbiAgICAgICAgICAgICAgaWYgKCFhMiAmJiAhdTIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHUyID0gdHJ1ZSwgZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlNC5zZXRIZWFkZXIgJiYgdHlwZW9mIGU0LmFib3J0ID09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgICAgICB9KGUzKSA/IGUzLmFib3J0KCkgOiB0eXBlb2YgZTMuZGVzdHJveSA9PSBcImZ1bmN0aW9uXCIgPyBlMy5kZXN0cm95KCkgOiB2b2lkIG8yKHQ0IHx8IG5ldyBzKFwicGlwZVwiKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBmKGUzKSB7XG4gICAgICAgICAgICBlMygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBoKGUzLCB0Mykge1xuICAgICAgICAgICAgcmV0dXJuIGUzLnBpcGUodDMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBsKGUzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMubGVuZ3RoID8gdHlwZW9mIGUzW2UzLmxlbmd0aCAtIDFdICE9IFwiZnVuY3Rpb25cIiA/IGEgOiBlMy5wb3AoKSA6IGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGUyLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGUzID0gYXJndW1lbnRzLmxlbmd0aCwgdDMgPSBuZXcgQXJyYXkoZTMpLCByMyA9IDA7IHIzIDwgZTM7IHIzKyspXG4gICAgICAgICAgICAgIHQzW3IzXSA9IGFyZ3VtZW50c1tyM107XG4gICAgICAgICAgICB2YXIgbjMsIGkyID0gbCh0Myk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0M1swXSkgJiYgKHQzID0gdDNbMF0pLCB0My5sZW5ndGggPCAyKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgbyhcInN0cmVhbXNcIik7XG4gICAgICAgICAgICB2YXIgczIgPSB0My5tYXAoZnVuY3Rpb24oZTQsIHI0KSB7XG4gICAgICAgICAgICAgIHZhciBvMiA9IHI0IDwgdDMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgcmV0dXJuIHUoZTQsIG8yLCByNCA+IDAsIGZ1bmN0aW9uKGU1KSB7XG4gICAgICAgICAgICAgICAgbjMgfHwgKG4zID0gZTUpLCBlNSAmJiBzMi5mb3JFYWNoKGYpLCBvMiB8fCAoczIuZm9yRWFjaChmKSwgaTIobjMpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0My5yZWR1Y2UoaCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgNDU3OiAoZTIsIHQyLCByMikgPT4ge1xuICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAgIHZhciBuMiA9IHIyKDI4MSkucS5FUlJfSU5WQUxJRF9PUFRfVkFMVUU7XG4gICAgICAgICAgZTIuZXhwb3J0cyA9IHsgZ2V0SGlnaFdhdGVyTWFyazogZnVuY3Rpb24oZTMsIHQzLCByMywgaSkge1xuICAgICAgICAgICAgdmFyIG8gPSBmdW5jdGlvbihlNCwgdDQsIHI0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBlNC5oaWdoV2F0ZXJNYXJrICE9IG51bGwgPyBlNC5oaWdoV2F0ZXJNYXJrIDogdDQgPyBlNFtyNF0gOiBudWxsO1xuICAgICAgICAgICAgfSh0MywgaSwgcjMpO1xuICAgICAgICAgICAgaWYgKG8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKG8pIHx8IE1hdGguZmxvb3IobykgIT09IG8gfHwgbyA8IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IG4yKGkgPyByMyA6IFwiaGlnaFdhdGVyTWFya1wiLCBvKTtcbiAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3Iobyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZTMub2JqZWN0TW9kZSA/IDE2IDogMTYzODQ7XG4gICAgICAgICAgfSB9O1xuICAgICAgICB9LCA1MDM6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgZTIuZXhwb3J0cyA9IHIyKDE4NykuRXZlbnRFbWl0dGVyO1xuICAgICAgICB9LCA1MDk6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgdmFyIG4yID0gcjIoNzY0KSwgaSA9IG4yLkJ1ZmZlcjtcbiAgICAgICAgICBmdW5jdGlvbiBvKGUzLCB0Mykge1xuICAgICAgICAgICAgZm9yICh2YXIgcjMgaW4gZTMpXG4gICAgICAgICAgICAgIHQzW3IzXSA9IGUzW3IzXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gcyhlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICByZXR1cm4gaShlMywgdDMsIHIzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaS5mcm9tICYmIGkuYWxsb2MgJiYgaS5hbGxvY1Vuc2FmZSAmJiBpLmFsbG9jVW5zYWZlU2xvdyA/IGUyLmV4cG9ydHMgPSBuMiA6IChvKG4yLCB0MiksIHQyLkJ1ZmZlciA9IHMpLCBzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLCBvKGksIHMpLCBzLmZyb20gPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGUzID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlclwiKTtcbiAgICAgICAgICAgIHJldHVybiBpKGUzLCB0MywgcjMpO1xuICAgICAgICAgIH0sIHMuYWxsb2MgPSBmdW5jdGlvbihlMywgdDMsIHIzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGUzICE9IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO1xuICAgICAgICAgICAgdmFyIG4zID0gaShlMyk7XG4gICAgICAgICAgICByZXR1cm4gdDMgIT09IHZvaWQgMCA/IHR5cGVvZiByMyA9PSBcInN0cmluZ1wiID8gbjMuZmlsbCh0MywgcjMpIDogbjMuZmlsbCh0MykgOiBuMy5maWxsKDApLCBuMztcbiAgICAgICAgICB9LCBzLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZTMgIT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7XG4gICAgICAgICAgICByZXR1cm4gaShlMyk7XG4gICAgICAgICAgfSwgcy5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbihlMykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlMyAhPSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtcbiAgICAgICAgICAgIHJldHVybiBuMi5TbG93QnVmZmVyKGUzKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LCA4MzA6IChlMiwgdDIsIHIyKSA9PiB7XG4gICAgICAgICAgZTIuZXhwb3J0cyA9IGk7XG4gICAgICAgICAgdmFyIG4yID0gcjIoMTg3KS5FdmVudEVtaXR0ZXI7XG4gICAgICAgICAgZnVuY3Rpb24gaSgpIHtcbiAgICAgICAgICAgIG4yLmNhbGwodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHIyKDcxNykoaSwgbjIpLCBpLlJlYWRhYmxlID0gcjIoNDgxKSwgaS5Xcml0YWJsZSA9IHIyKDIyOSksIGkuRHVwbGV4ID0gcjIoNzUzKSwgaS5UcmFuc2Zvcm0gPSByMig2MDUpLCBpLlBhc3NUaHJvdWdoID0gcjIoNzI1KSwgaS5maW5pc2hlZCA9IHIyKDYxMCksIGkucGlwZWxpbmUgPSByMig5NDYpLCBpLlN0cmVhbSA9IGksIGkucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIHZhciByMyA9IHRoaXM7XG4gICAgICAgICAgICBmdW5jdGlvbiBpMih0NCkge1xuICAgICAgICAgICAgICBlMy53cml0YWJsZSAmJiBlMy53cml0ZSh0NCkgPT09IGZhbHNlICYmIHIzLnBhdXNlICYmIHIzLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBvKCkge1xuICAgICAgICAgICAgICByMy5yZWFkYWJsZSAmJiByMy5yZXN1bWUgJiYgcjMucmVzdW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByMy5vbihcImRhdGFcIiwgaTIpLCBlMy5vbihcImRyYWluXCIsIG8pLCBlMy5faXNTdGRpbyB8fCB0MyAmJiB0My5lbmQgPT09IGZhbHNlIHx8IChyMy5vbihcImVuZFwiLCBhKSwgcjMub24oXCJjbG9zZVwiLCB1KSk7XG4gICAgICAgICAgICB2YXIgcyA9IGZhbHNlO1xuICAgICAgICAgICAgZnVuY3Rpb24gYSgpIHtcbiAgICAgICAgICAgICAgcyB8fCAocyA9IHRydWUsIGUzLmVuZCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHUoKSB7XG4gICAgICAgICAgICAgIHMgfHwgKHMgPSB0cnVlLCB0eXBlb2YgZTMuZGVzdHJveSA9PSBcImZ1bmN0aW9uXCIgJiYgZTMuZGVzdHJveSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGYoZTQpIHtcbiAgICAgICAgICAgICAgaWYgKGgoKSwgbjIubGlzdGVuZXJDb3VudCh0aGlzLCBcImVycm9yXCIpID09PSAwKVxuICAgICAgICAgICAgICAgIHRocm93IGU0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gaCgpIHtcbiAgICAgICAgICAgICAgcjMucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsIGkyKSwgZTMucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLCBvKSwgcjMucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIiwgYSksIHIzLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIiwgdSksIHIzLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgZiksIGUzLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgZiksIHIzLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsIGgpLCByMy5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsIGgpLCBlMy5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsIGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHIzLm9uKFwiZXJyb3JcIiwgZiksIGUzLm9uKFwiZXJyb3JcIiwgZiksIHIzLm9uKFwiZW5kXCIsIGgpLCByMy5vbihcImNsb3NlXCIsIGgpLCBlMy5vbihcImNsb3NlXCIsIGgpLCBlMy5lbWl0KFwicGlwZVwiLCByMyksIGUzO1xuICAgICAgICAgIH07XG4gICAgICAgIH0sIDU1MzogKGUyLCB0MiwgcjIpID0+IHtcbiAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICB2YXIgbjIgPSByMig1MDkpLkJ1ZmZlciwgaSA9IG4yLmlzRW5jb2RpbmcgfHwgZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoKGUzID0gXCJcIiArIGUzKSAmJiBlMy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJoZXhcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInV0ZjhcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInV0Zi04XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJhc2NpaVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJiYXNlNjRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInVjczJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInVjcy0yXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ1dGYxNmxlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ1dGYtMTZsZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwicmF3XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgZnVuY3Rpb24gbyhlMykge1xuICAgICAgICAgICAgdmFyIHQzO1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmVuY29kaW5nID0gZnVuY3Rpb24oZTQpIHtcbiAgICAgICAgICAgICAgdmFyIHQ0ID0gZnVuY3Rpb24oZTUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWU1KVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidXRmOFwiO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHQ1OyA7IClcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZTUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInV0ZjhcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInV0Zi04XCI6XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidXRmOFwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidWNzMlwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidWNzLTJcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInV0ZjE2bGVcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInV0Zi0xNmxlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidXRmMTZsZVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGF0aW4xXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiaW5hcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYXRpbjFcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJhc2U2NFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXNjaWlcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhleFwiOlxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlNTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodDUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgZTUgPSAoXCJcIiArIGU1KS50b0xvd2VyQ2FzZSgpLCB0NSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0oZTQpO1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHQ0ICE9IFwic3RyaW5nXCIgJiYgKG4yLmlzRW5jb2RpbmcgPT09IGkgfHwgIWkoZTQpKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIiArIGU0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHQ0IHx8IGU0O1xuICAgICAgICAgICAgfShlMyksIHRoaXMuZW5jb2RpbmcpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInV0ZjE2bGVcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSB1LCB0aGlzLmVuZCA9IGYsIHQzID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInV0ZjhcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxMYXN0ID0gYSwgdDMgPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiYmFzZTY0XCI6XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gaCwgdGhpcy5lbmQgPSBsLCB0MyA9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGUgPSBjLCB2b2lkICh0aGlzLmVuZCA9IGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0TmVlZCA9IDAsIHRoaXMubGFzdFRvdGFsID0gMCwgdGhpcy5sYXN0Q2hhciA9IG4yLmFsbG9jVW5zYWZlKHQzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gcyhlMykge1xuICAgICAgICAgICAgcmV0dXJuIGUzIDw9IDEyNyA/IDAgOiBlMyA+PiA1ID09IDYgPyAyIDogZTMgPj4gNCA9PSAxNCA/IDMgOiBlMyA+PiAzID09IDMwID8gNCA6IGUzID4+IDYgPT0gMiA/IC0xIDogLTI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGEoZTMpIHtcbiAgICAgICAgICAgIHZhciB0MyA9IHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZCwgcjMgPSBmdW5jdGlvbihlNCwgdDQsIHI0KSB7XG4gICAgICAgICAgICAgIGlmICgoMTkyICYgdDRbMF0pICE9IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gZTQubGFzdE5lZWQgPSAwLCBcIlxcdUZGRkRcIjtcbiAgICAgICAgICAgICAgaWYgKGU0Lmxhc3ROZWVkID4gMSAmJiB0NC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKCgxOTIgJiB0NFsxXSkgIT0gMTI4KVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGU0Lmxhc3ROZWVkID0gMSwgXCJcXHVGRkZEXCI7XG4gICAgICAgICAgICAgICAgaWYgKGU0Lmxhc3ROZWVkID4gMiAmJiB0NC5sZW5ndGggPiAyICYmICgxOTIgJiB0NFsyXSkgIT0gMTI4KVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGU0Lmxhc3ROZWVkID0gMiwgXCJcXHVGRkZEXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0odGhpcywgZTMpO1xuICAgICAgICAgICAgcmV0dXJuIHIzICE9PSB2b2lkIDAgPyByMyA6IHRoaXMubGFzdE5lZWQgPD0gZTMubGVuZ3RoID8gKGUzLmNvcHkodGhpcy5sYXN0Q2hhciwgdDMsIDAsIHRoaXMubGFzdE5lZWQpLCB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKSkgOiAoZTMuY29weSh0aGlzLmxhc3RDaGFyLCB0MywgMCwgZTMubGVuZ3RoKSwgdm9pZCAodGhpcy5sYXN0TmVlZCAtPSBlMy5sZW5ndGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gdShlMywgdDMpIHtcbiAgICAgICAgICAgIGlmICgoZTMubGVuZ3RoIC0gdDMpICUgMiA9PSAwKSB7XG4gICAgICAgICAgICAgIHZhciByMyA9IGUzLnRvU3RyaW5nKFwidXRmMTZsZVwiLCB0Myk7XG4gICAgICAgICAgICAgIGlmIChyMykge1xuICAgICAgICAgICAgICAgIHZhciBuMyA9IHIzLmNoYXJDb2RlQXQocjMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgaWYgKG4zID49IDU1Mjk2ICYmIG4zIDw9IDU2MzE5KVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFzdE5lZWQgPSAyLCB0aGlzLmxhc3RUb3RhbCA9IDQsIHRoaXMubGFzdENoYXJbMF0gPSBlM1tlMy5sZW5ndGggLSAyXSwgdGhpcy5sYXN0Q2hhclsxXSA9IGUzW2UzLmxlbmd0aCAtIDFdLCByMy5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHIzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFzdE5lZWQgPSAxLCB0aGlzLmxhc3RUb3RhbCA9IDIsIHRoaXMubGFzdENoYXJbMF0gPSBlM1tlMy5sZW5ndGggLSAxXSwgZTMudG9TdHJpbmcoXCJ1dGYxNmxlXCIsIHQzLCBlMy5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gZihlMykge1xuICAgICAgICAgICAgdmFyIHQzID0gZTMgJiYgZTMubGVuZ3RoID8gdGhpcy53cml0ZShlMykgOiBcIlwiO1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICAgICAgICAgICAgdmFyIHIzID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkO1xuICAgICAgICAgICAgICByZXR1cm4gdDMgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwidXRmMTZsZVwiLCAwLCByMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGgoZTMsIHQzKSB7XG4gICAgICAgICAgICB2YXIgcjMgPSAoZTMubGVuZ3RoIC0gdDMpICUgMztcbiAgICAgICAgICAgIHJldHVybiByMyA9PT0gMCA/IGUzLnRvU3RyaW5nKFwiYmFzZTY0XCIsIHQzKSA6ICh0aGlzLmxhc3ROZWVkID0gMyAtIHIzLCB0aGlzLmxhc3RUb3RhbCA9IDMsIHIzID09PSAxID8gdGhpcy5sYXN0Q2hhclswXSA9IGUzW2UzLmxlbmd0aCAtIDFdIDogKHRoaXMubGFzdENoYXJbMF0gPSBlM1tlMy5sZW5ndGggLSAyXSwgdGhpcy5sYXN0Q2hhclsxXSA9IGUzW2UzLmxlbmd0aCAtIDFdKSwgZTMudG9TdHJpbmcoXCJiYXNlNjRcIiwgdDMsIGUzLmxlbmd0aCAtIHIzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGwoZTMpIHtcbiAgICAgICAgICAgIHZhciB0MyA9IGUzICYmIGUzLmxlbmd0aCA/IHRoaXMud3JpdGUoZTMpIDogXCJcIjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhc3ROZWVkID8gdDMgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwiYmFzZTY0XCIsIDAsIDMgLSB0aGlzLmxhc3ROZWVkKSA6IHQzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBjKGUzKSB7XG4gICAgICAgICAgICByZXR1cm4gZTMudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZ1bmN0aW9uIGQoZTMpIHtcbiAgICAgICAgICAgIHJldHVybiBlMyAmJiBlMy5sZW5ndGggPyB0aGlzLndyaXRlKGUzKSA6IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHQyLnMgPSBvLCBvLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICBpZiAoZTMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIHZhciB0MywgcjM7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0TmVlZCkge1xuICAgICAgICAgICAgICBpZiAoKHQzID0gdGhpcy5maWxsTGFzdChlMykpID09PSB2b2lkIDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgIHIzID0gdGhpcy5sYXN0TmVlZCwgdGhpcy5sYXN0TmVlZCA9IDA7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgcjMgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHIzIDwgZTMubGVuZ3RoID8gdDMgPyB0MyArIHRoaXMudGV4dChlMywgcjMpIDogdGhpcy50ZXh0KGUzLCByMykgOiB0MyB8fCBcIlwiO1xuICAgICAgICAgIH0sIG8ucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGUzKSB7XG4gICAgICAgICAgICB2YXIgdDMgPSBlMyAmJiBlMy5sZW5ndGggPyB0aGlzLndyaXRlKGUzKSA6IFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYXN0TmVlZCA/IHQzICsgXCJcXHVGRkZEXCIgOiB0MztcbiAgICAgICAgICB9LCBvLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24oZTMsIHQzKSB7XG4gICAgICAgICAgICB2YXIgcjMgPSBmdW5jdGlvbihlNCwgdDQsIHI0KSB7XG4gICAgICAgICAgICAgIHZhciBuNCA9IHQ0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIGlmIChuNCA8IHI0KVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICB2YXIgaTIgPSBzKHQ0W240XSk7XG4gICAgICAgICAgICAgIHJldHVybiBpMiA+PSAwID8gKGkyID4gMCAmJiAoZTQubGFzdE5lZWQgPSBpMiAtIDEpLCBpMikgOiAtLW40IDwgcjQgfHwgaTIgPT09IC0yID8gMCA6IChpMiA9IHModDRbbjRdKSkgPj0gMCA/IChpMiA+IDAgJiYgKGU0Lmxhc3ROZWVkID0gaTIgLSAyKSwgaTIpIDogLS1uNCA8IHI0IHx8IGkyID09PSAtMiA/IDAgOiAoaTIgPSBzKHQ0W240XSkpID49IDAgPyAoaTIgPiAwICYmIChpMiA9PT0gMiA/IGkyID0gMCA6IGU0Lmxhc3ROZWVkID0gaTIgLSAzKSwgaTIpIDogMDtcbiAgICAgICAgICAgIH0odGhpcywgZTMsIHQzKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5sYXN0TmVlZClcbiAgICAgICAgICAgICAgcmV0dXJuIGUzLnRvU3RyaW5nKFwidXRmOFwiLCB0Myk7XG4gICAgICAgICAgICB0aGlzLmxhc3RUb3RhbCA9IHIzO1xuICAgICAgICAgICAgdmFyIG4zID0gZTMubGVuZ3RoIC0gKHIzIC0gdGhpcy5sYXN0TmVlZCk7XG4gICAgICAgICAgICByZXR1cm4gZTMuY29weSh0aGlzLmxhc3RDaGFyLCAwLCBuMyksIGUzLnRvU3RyaW5nKFwidXRmOFwiLCB0MywgbjMpO1xuICAgICAgICAgIH0sIG8ucHJvdG90eXBlLmZpbGxMYXN0ID0gZnVuY3Rpb24oZTMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3ROZWVkIDw9IGUzLmxlbmd0aClcbiAgICAgICAgICAgICAgcmV0dXJuIGUzLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCB0aGlzLmxhc3ROZWVkKSwgdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7XG4gICAgICAgICAgICBlMy5jb3B5KHRoaXMubGFzdENoYXIsIHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZCwgMCwgZTMubGVuZ3RoKSwgdGhpcy5sYXN0TmVlZCAtPSBlMy5sZW5ndGg7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgOTI3OiAoZTIsIHQyLCByMikgPT4ge1xuICAgICAgICAgIGZ1bmN0aW9uIG4yKGUzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoIXIyLmcubG9jYWxTdG9yYWdlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGU0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0MyA9IHIyLmcubG9jYWxTdG9yYWdlW2UzXTtcbiAgICAgICAgICAgIHJldHVybiB0MyAhPSBudWxsICYmIFN0cmluZyh0MykudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGUyLmV4cG9ydHMgPSBmdW5jdGlvbihlMywgdDMpIHtcbiAgICAgICAgICAgIGlmIChuMihcIm5vRGVwcmVjYXRpb25cIikpXG4gICAgICAgICAgICAgIHJldHVybiBlMztcbiAgICAgICAgICAgIHZhciByMyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXIzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG4yKFwidGhyb3dEZXByZWNhdGlvblwiKSlcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0Myk7XG4gICAgICAgICAgICAgICAgbjIoXCJ0cmFjZURlcHJlY2F0aW9uXCIpID8gY29uc29sZS50cmFjZSh0MykgOiBjb25zb2xlLndhcm4odDMpLCByMyA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGUzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0sIDM2MTogKCkgPT4ge1xuICAgICAgICB9LCA2MTY6ICgpID0+IHtcbiAgICAgICAgfSB9LCB0ID0ge307XG4gICAgICAgIGZ1bmN0aW9uIHIobjIpIHtcbiAgICAgICAgICB2YXIgaSA9IHRbbjJdO1xuICAgICAgICAgIGlmIChpICE9PSB2b2lkIDApXG4gICAgICAgICAgICByZXR1cm4gaS5leHBvcnRzO1xuICAgICAgICAgIHZhciBvID0gdFtuMl0gPSB7IGV4cG9ydHM6IHt9IH07XG4gICAgICAgICAgcmV0dXJuIGVbbjJdKG8sIG8uZXhwb3J0cywgciksIG8uZXhwb3J0cztcbiAgICAgICAgfVxuICAgICAgICByLmQgPSAoZTIsIHQyKSA9PiB7XG4gICAgICAgICAgZm9yICh2YXIgbjIgaW4gdDIpXG4gICAgICAgICAgICByLm8odDIsIG4yKSAmJiAhci5vKGUyLCBuMikgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUyLCBuMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IHQyW24yXSB9KTtcbiAgICAgICAgfSwgci5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICAgICAgICB9IGNhdGNoIChlMikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICAgICAgICB9XG4gICAgICAgIH0oKSwgci5vID0gKGUyLCB0MikgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUyLCB0MiksIHIuciA9IChlMikgPT4ge1xuICAgICAgICAgIHR5cGVvZiBTeW1ib2wgIT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUyLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlMiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBuID0ge307XG4gICAgICAgIHJldHVybiAoKCkgPT4ge1xuICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICAgIHIucihuKSwgci5kKG4sIHsgQ29tbWVudGVkOiAoKSA9PiBlMi5Db21tZW50ZWQsIERlY29kZXI6ICgpID0+IGUyLkRlY29kZXIsIERpYWdub3NlOiAoKSA9PiBlMi5EaWFnbm9zZSwgRW5jb2RlcjogKCkgPT4gZTIuRW5jb2RlciwgTWFwOiAoKSA9PiBlMi5NYXAsIFNpbXBsZTogKCkgPT4gZTIuU2ltcGxlLCBUYWdnZWQ6ICgpID0+IGUyLlRhZ2dlZCwgY29tbWVudDogKCkgPT4gZTIuVUksIGRlY29kZTogKCkgPT4gZTIuSngsIGRlY29kZUFsbDogKCkgPT4gZTIuZkksIGRlY29kZUFsbFN5bmM6ICgpID0+IGUyLmNjLCBkZWNvZGVGaXJzdDogKCkgPT4gZTIuaDgsIGRlY29kZUZpcnN0U3luYzogKCkgPT4gZTIuJHUsIGRpYWdub3NlOiAoKSA9PiBlMi5NLCBlbmNvZGU6ICgpID0+IGUyLmN2LCBlbmNvZGVBc3luYzogKCkgPT4gZTIuV1IsIGVuY29kZUNhbm9uaWNhbDogKCkgPT4gZTIuTjIsIGVuY29kZU9uZTogKCkgPT4gZTIuVEcsIGxldmVsZGI6ICgpID0+IGUyLnd3LCByZXNldDogKCkgPT4gZTIubWMgfSk7XG4gICAgICAgICAgdmFyIGUyID0gcigxNDEpO1xuICAgICAgICB9KSgpLCBuO1xuICAgICAgfSkoKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8vIG5vZGVfbW9kdWxlcy93ZWItYXBpL3NyYy9lcnIuanNcbnZhciBCYWRQbGF0Zm9ybSA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihmYWNpbGl0eSkge1xuICAgIHN1cGVyKGAke2ZhY2lsaXR5fSBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgcGxhdGZvcm1gKTtcbiAgICB0aGlzLm5hbWUgPSBcIkJhZFBsYXRmb3JtXCI7XG4gIH1cbn07XG52YXIgSW52YWxpZEFyZyA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihhcmcpIHtcbiAgICBzdXBlcihgaW52YWxpZCBhcmc6ICR7YXJnfWApO1xuICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEFyZ1wiO1xuICB9XG59O1xudmFyIFVuZXhwZWN0ZWRFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihgdW5leHBlY3RlZCBlcnJvcmApO1xuICAgIHRoaXMubmFtZSA9IFwiVW5leHBlY3RlZEVycm9yXCI7XG4gIH1cbn07XG52YXIgSW52YWxpZEtleSA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihvcCkge1xuICAgIHN1cGVyKGBpbnZhbGlkIGtleSBpbiAke29wfWApO1xuICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEtleVwiO1xuICB9XG59O1xudmFyIE9wZXJhdGlvbkJsb2NrZWQgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3Iob3ApIHtcbiAgICBzdXBlcihgb3BlcmF0aW9uIGJsb2NrZWQgaW4gJHtvcH1gKTtcbiAgICB0aGlzLm5hbWUgPSBcIk9wZXJhdGlvbkJsb2NrZWRcIjtcbiAgfVxufTtcbnZhciBXZWJBdXRobkVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG5hbWUpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG59O1xuXG4vLyBub2RlX21vZHVsZXMvd2ViLWFwaS9zcmMvdmFsaWRhdGUuanNcbmZ1bmN0aW9uIHZhbGlkYXRlRGF0YWJhc2UodHgpIHtcbiAgcmV0dXJuIHR4IGluc3RhbmNlb2YgSURCRGF0YWJhc2U7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVRyYW5zYWN0aW9uTW9kZShtb2RlKSB7XG4gIHJldHVybiBtb2RlID09PSBcInJlYWRvbmx5XCIgfHwgbW9kZSA9PT0gXCJyZWFkd3JpdGVcIjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlVHJhbnNhY3Rpb25TY29wZShzY29wZSkge1xuICByZXR1cm4gdHlwZW9mIHNjb3BlID09PSBcInN0cmluZ1wiIHx8IHNjb3BlIGluc3RhbmNlb2YgQXJyYXkgJiYgc2NvcGUucmVkdWNlKChwLCBjKSA9PiBwICYmIHR5cGVvZiBjID09PSBcInN0cmluZ1wiLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlVHJhbnNhY3Rpb24odHgpIHtcbiAgcmV0dXJuIHR4IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb247XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU9iamVjdFN0b3JlKHN0b3JlKSB7XG4gIHJldHVybiB0eXBlb2Ygc3RvcmUgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUNyeXB0b0tleShrZXkpIHtcbiAgcmV0dXJuIGtleSBpbnN0YW5jZW9mIENyeXB0b0tleTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzL3dlYi1hcGkvc3JjL2lkYi5qc1xuZnVuY3Rpb24gaWRiT3BlbkRiKG5hbWUsIHZlcnNpb24sIHJ1bk1pZ3JhdGlvbnMyKSB7XG4gIGlmICghd2luZG93LmluZGV4ZWREQilcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEJhZFBsYXRmb3JtKFwiaW5kZXhlZERCXCIpKTtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgSW52YWxpZEFyZyhcIm5hbWVcIikpO1xuICBpZiAodHlwZW9mIHZlcnNpb24gIT09IFwibnVtYmVyXCIpXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBJbnZhbGlkQXJnKFwidmVyc2lvblwiKSk7XG4gIGlmICh0eXBlb2YgcnVuTWlncmF0aW9uczIgIT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEludmFsaWRBcmcoXCJydW5NaWdyYXRpb25zXCIpKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcnEgPSB3aW5kb3cuaW5kZXhlZERCLm9wZW4obmFtZSwgdmVyc2lvbik7XG4gICAgICBycS5vbnVwZ3JhZGVuZWVkZWQgPSAoZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJ1bk1pZ3JhdGlvbnMyKGUudGFyZ2V0LnJlc3VsdCwgZS50YXJnZXQudHJhbnNhY3Rpb24sIGUubmV3VmVyc2lvbiwgZS5vbGRWZXJzaW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBycS5vbmJsb2NrZWQgPSAoZSkgPT4ge1xuICAgICAgICByZWplY3QobmV3IE9wZXJhdGlvbkJsb2NrZWQoXCJpZGJPcGVuRGJcIikpO1xuICAgICAgfTtcbiAgICAgIHJxLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICByZWplY3QoZS50YXJnZXQuZXJyb3IpO1xuICAgICAgfTtcbiAgICAgIHJxLm9uc3VjY2VzcyA9IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGRiID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBkYi5vbnZlcnNpb25jaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVzb2x2ZShkYik7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGlkYkNsb3NlRGIoZGIpIHtcbiAgaWYgKGRiIGluc3RhbmNlb2YgSURCRGF0YWJhc2UpXG4gICAgZGIuY2xvc2UoKTtcbn1cbmZ1bmN0aW9uIGlkYkRlbGV0ZURiKG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgSW52YWxpZEFyZyhuYW1lKSk7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcnEgPSB3aW5kb3cuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKG5hbWUpO1xuICAgIHJxLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgcmVqZWN0KG5ldyBVbmV4cGVjdGVkRXJyb3IoKSk7XG4gICAgfTtcbiAgICBycS5vbnN1Y2Nlc3MgPSAoZSkgPT4ge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH07XG4gICAgcnEub25ibG9ja2VkID0gKGUpID0+IHtcbiAgICAgIHJlamVjdChuZXcgT3BlcmF0aW9uQmxvY2tlZChcImlkYkRlbGV0ZURiXCIpKTtcbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIGlkYkJlZ2luVHJhbnNhY3Rpb24oZGIsIHNjb3BlLCBtb2RlKSB7XG4gIGlmICghdmFsaWRhdGVEYXRhYmFzZShkYikpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoXCJkYlwiKTtcbiAgaWYgKCF2YWxpZGF0ZVRyYW5zYWN0aW9uU2NvcGUoc2NvcGUpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwic2NvcGVcIik7XG4gIGlmICghdmFsaWRhdGVUcmFuc2FjdGlvbk1vZGUobW9kZSkpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoXCJtb2RlXCIpO1xuICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKHNjb3BlLCBtb2RlKTtcbiAgdHgucmVzdWx0ID0gbnVsbDtcbiAgdHgucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0eC5vbmNvbXBsZXRlID0gKGUpID0+IHtcbiAgICAgIHJlc29sdmUodHgucmVzdWx0KTtcbiAgICB9O1xuICAgIHR4Lm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgcmVqZWN0KHR4LmVycm9yID8gdHguZXJyb3IgOiBlLnRhcmdldC5lcnJvcik7XG4gICAgfTtcbiAgICB0eC5vbmFib3J0ID0gKGUpID0+IHtcbiAgICAgIHJlamVjdCh0eC5yZXN1bHQpO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gdHg7XG59XG5mdW5jdGlvbiBpZGJGaW5pc2hUcmFuc2FjdGlvbih0eCkge1xuICBpZiAoIXZhbGlkYXRlVHJhbnNhY3Rpb24odHgpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwidHhcIik7XG4gIGlmICh0eC5lcnJvcikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh0eC5lcnJvcik7XG4gIH1cbiAgcmV0dXJuIHR4LnByb21pc2U7XG59XG5mdW5jdGlvbiBpZGJHZXQodHgsIHN0b3JlLCBrZXkpIHtcbiAgaWYgKCF2YWxpZGF0ZVRyYW5zYWN0aW9uKHR4KSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInR4XCIpO1xuICBpZiAoIXZhbGlkYXRlT2JqZWN0U3RvcmUoc3RvcmUpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwic3RvcmVcIik7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3MgPSB0eC5vYmplY3RTdG9yZShzdG9yZSk7XG4gICAgY29uc3QgcnEgPSBvcy5nZXQoa2V5KTtcbiAgICBycS5vbnN1Y2Nlc3MgPSAoZSkgPT4ge1xuICAgICAgdHgucmVzdWx0ID0gcnEucmVzdWx0O1xuICAgIH07XG4gICAgcnEub25lcnJvciA9IChlKSA9PiB7XG4gICAgICB0eC5yZXN1bHQgPSBlLnRhcmdldC5lcnJvcjtcbiAgICAgIHR4LmFib3J0KCk7XG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdHgucmVzdWx0ID0gZXJyO1xuICAgIHR4LmFib3J0KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlkYkFkZCh0eCwgc3RvcmUsIHZhbHVlLCBrZXkpIHtcbiAgaWYgKCF2YWxpZGF0ZVRyYW5zYWN0aW9uKHR4KSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInR4XCIpO1xuICBpZiAoIXZhbGlkYXRlT2JqZWN0U3RvcmUoc3RvcmUpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwic3RvcmVcIik7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3MgPSB0eC5vYmplY3RTdG9yZShzdG9yZSk7XG4gICAgY29uc3QgcnEgPSBvcy5hZGQodmFsdWUsIGtleSk7XG4gICAgcnEub25zdWNjZXNzID0gKGUpID0+IHtcbiAgICAgIHR4LnJlc3VsdCA9IHJxLnJlc3VsdDtcbiAgICB9O1xuICAgIHJxLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgdHgucmVzdWx0ID0gZS50YXJnZXQuZXJyb3I7XG4gICAgICB0eC5hYm9ydCgpO1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHR4LnJlc3VsdCA9IGVycjtcbiAgICB0eC5hYm9ydCgpO1xuICB9XG59XG5mdW5jdGlvbiBpZGJEZWxldGUodHgsIHN0b3JlLCBrZXkpIHtcbiAgaWYgKCF2YWxpZGF0ZVRyYW5zYWN0aW9uKHR4KSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInR4XCIpO1xuICBpZiAoIXZhbGlkYXRlT2JqZWN0U3RvcmUoc3RvcmUpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwic3RvcmVcIik7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3MgPSB0eC5vYmplY3RTdG9yZShzdG9yZSk7XG4gICAgY29uc3QgcnEgPSBvcy5kZWxldGUoa2V5KTtcbiAgICBycS5vbnN1Y2Nlc3MgPSAoZSkgPT4ge1xuICAgICAgdHgucmVzdWx0ID0gcnEucmVzdWx0O1xuICAgIH07XG4gICAgcnEub25lcnJvciA9IChlKSA9PiB7XG4gICAgICB0eC5yZXN1bHQgPSBlLnRhcmdldC5lcnJvcjtcbiAgICAgIHR4LmFib3J0KCk7XG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdHgucmVzdWx0ID0gZXJyO1xuICAgIHR4LmFib3J0KCk7XG4gIH1cbn1cblxuLy8gbm9kZV9tb2R1bGVzL3dlYi1hcGkvc3JjL3N1YnRsZS5qc1xuZnVuY3Rpb24gcmFuZG9tQnl0ZXMoYnVmZmVyKSB7XG4gIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGJ1ZmZlcik7XG59XG5mdW5jdGlvbiBleHBvcnRLZXkoa2V5LCBmb3JtYXQpIHtcbiAgaWYgKCEoa2V5IGluc3RhbmNlb2YgQ3J5cHRvS2V5KSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhrZXkpO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHdpbmRvdy5jcnlwdG8uc3VidGxlLmV4cG9ydEtleShmb3JtYXQsIGtleSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgaWYgKGZvcm1hdCA9PT0gXCJqd2tcIilcbiAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzb2x2ZShuZXcgVWludDhBcnJheShkYXRhKSk7XG4gICAgfSwgKGVycikgPT4ge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZWNkc2FHZW5lcmF0ZUtleVBhaXIoY3VydmUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBuYW1lOiBcIkVDRFNBXCIsXG4gICAgICBuYW1lZEN1cnZlOiBjdXJ2ZVxuICAgIH07XG4gICAgd2luZG93LmNyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkocGFyYW1zLCBmYWxzZSwgW1wic2lnblwiLCBcInZlcmlmeVwiXSkudGhlbigoa2V5UGFpcikgPT4ge1xuICAgICAgcmVzb2x2ZShrZXlQYWlyKTtcbiAgICB9LCAoZXJyKSA9PiB7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBlY2RzYUltcG9ydEtleShmb3JtYXQsIGN1cnZlLCBiaXRzLCB1c2UpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBuYW1lOiBcIkVDRFNBXCIsXG4gICAgICBuYW1lZEN1cnZlOiBjdXJ2ZVxuICAgIH07XG4gICAgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KGZvcm1hdCwgYml0cywgcGFyYW1zLCB0cnVlLCBbdXNlXSkudGhlbigoa2V5KSA9PiB7XG4gICAgICByZXNvbHZlKGtleSk7XG4gICAgfSwgKGVycikgPT4ge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZWNkc2FTaWduKGtleSwgaGFzaCwgZGF0YSkge1xuICBpZiAoIXZhbGlkYXRlQ3J5cHRvS2V5KGtleSkpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoXCJrZXlcIik7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgbmFtZTogXCJFQ0RTQVwiLFxuICAgICAgaGFzaFxuICAgIH07XG4gICAgd2luZG93LmNyeXB0by5zdWJ0bGUuc2lnbihwYXJhbXMsIGtleSwgZGF0YSkudGhlbigoc2lnbmF0dXJlKSA9PiB7XG4gICAgICBzaWduYXR1cmUgPSBuZXcgVWludDhBcnJheShzaWduYXR1cmUpO1xuICAgICAgcmVzb2x2ZShzaWduYXR1cmUpO1xuICAgIH0sIChlcnIpID0+IHtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzL3dlYi1hcGkvc3JjL3dlYmF1dGhuLmpzXG52YXIgY2JvciA9IF9fdG9Nb2R1bGUocmVxdWlyZV9jYm9yKCkpO1xuYXN5bmMgZnVuY3Rpb24gd2ViYXV0aG5HZW5lcmF0ZUtleVBhaXIobmFtZSwgZGF0YSkge1xuICBjb25zdCB1c2VySWQgPSBuZXcgVWludDhBcnJheSgxNik7XG4gIHJhbmRvbUJ5dGVzKHVzZXJJZCk7XG4gIGxldCBjaGFsbGVuZ2UgPSBkYXRhICE9PSB2b2lkIDAgPyBkYXRhIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG4gIGxldCBhdHRlc3RhdGlvbk1ldGhvZCA9IGRhdGEgIT09IHZvaWQgMCA/IFwiZGlyZWN0XCIgOiBcIm5vbmVcIjtcbiAgY29uc3QgY3JlYXRlT3B0aW9ucyA9IHtcbiAgICBycDoge1xuICAgICAgbmFtZTogXCJCZXlvbmQgSWRlbnRpdHksIEluYy5cIixcbiAgICAgIGlkOiBsb2NhdGlvbi5ob3N0bmFtZVxuICAgIH0sXG4gICAgY2hhbGxlbmdlLFxuICAgIHVzZXI6IHtcbiAgICAgIGlkOiB1c2VySWQsXG4gICAgICBuYW1lLFxuICAgICAgZGlzcGxheU5hbWU6IG5hbWVcbiAgICB9LFxuICAgIHB1YktleUNyZWRQYXJhbXM6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJwdWJsaWMta2V5XCIsXG4gICAgICAgIGFsZzogLTdcbiAgICAgIH1cbiAgICBdLFxuICAgIGF0dGVzdGF0aW9uOiBhdHRlc3RhdGlvbk1ldGhvZCxcbiAgICBhdXRoZW50aWNhdG9yU2VsZWN0aW9uOiB7XG4gICAgICBhdXRoZW50aWNhdG9yQXR0YWNobWVudDogXCJwbGF0Zm9ybVwiLFxuICAgICAgdXNlclZlcmlmaWNhdGlvbjogXCJyZXF1aXJlZFwiXG4gICAgfVxuICB9O1xuICBsZXQgY3JlZDtcbiAgdHJ5IHtcbiAgICBjcmVkID0gYXdhaXQgbmF2aWdhdG9yLmNyZWRlbnRpYWxzLmNyZWF0ZSh7XG4gICAgICBwdWJsaWNLZXk6IGNyZWF0ZU9wdGlvbnNcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgbmV3IFdlYkF1dGhuRXJyb3IoZXJyLm1lc3NhZ2UsIGVyci5uYW1lKTtcbiAgfVxuICBpZiAoIWNyZWQpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoY3JlYXRlT3B0aW9ucyk7XG4gIGNvbnN0IHJlc3BvbnNlID0gY3JlZC5yZXNwb25zZTtcbiAgY29uc3QgYXR0ZXN0YXRpb25PYmplY3QgPSBhd2FpdCBjYm9yLmRlY29kZUZpcnN0KHJlc3BvbnNlLmF0dGVzdGF0aW9uT2JqZWN0KTtcbiAgY29uc3QgYXV0aGVudGljYXRvckRhdGEgPSBhdHRlc3RhdGlvbk9iamVjdC5hdXRoRGF0YTtcbiAgbGV0IHB1YmxpY0tleTIgPSBhd2FpdCByZWFkUHVibGljS2V5KHJlc3BvbnNlLCBhdXRoZW50aWNhdG9yRGF0YSk7XG4gIGxldCB0cmFuc3BvcnRzID0gcmVhZFRyYW5zcG9ydHMocmVzcG9uc2UpO1xuICBsZXQgc2lnbmF0dXJlID0gcmVhZFNpZ25hdHVyZShhdHRlc3RhdGlvbk9iamVjdCk7XG4gIHJldHVybiB7XG4gICAgcmF3SWQ6IGNyZWQucmF3SWQsXG4gICAgcHVibGljS2V5OiBwdWJsaWNLZXkyLFxuICAgIHRyYW5zcG9ydHMsXG4gICAgY2xpZW50RGF0YUpTT046IHJlc3BvbnNlLmNsaWVudERhdGFKU09OLFxuICAgIGF0dGVzdGF0aW9uT2JqZWN0OiByZXNwb25zZS5hdHRlc3RhdGlvbk9iamVjdCxcbiAgICBhdXRoZW50aWNhdG9yRGF0YSxcbiAgICBzaWduYXR1cmVcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlYWRQdWJsaWNLZXkocmVzcG9uc2UsIGF1dGhlbnRpY2F0b3JEYXRhKSB7XG4gIGlmICh0eXBlb2YgcmVzcG9uc2UuZ2V0UHVibGljS2V5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBsZXQgc3BraVB1YmxpY0tleSA9IHJlc3BvbnNlLmdldFB1YmxpY0tleSgpO1xuICAgIHJldHVybiBhd2FpdCBlY2RzYUltcG9ydEtleShcInNwa2lcIiwgXCJQLTI1NlwiLCBzcGtpUHVibGljS2V5LCBcInZlcmlmeVwiKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjcmVkZW50aWFsSWRMZW5ndGhWaWV3ID0gbmV3IERhdGFWaWV3KGF1dGhlbnRpY2F0b3JEYXRhLmJ1ZmZlci5zbGljZShhdXRoZW50aWNhdG9yRGF0YS5ieXRlT2Zmc2V0ICsgNTMsIGF1dGhlbnRpY2F0b3JEYXRhLmJ5dGVPZmZzZXQgKyA1NSkpO1xuICAgIGNvbnN0IGNyZWRlbnRpYWxJZExlbmd0aCA9IGNyZWRlbnRpYWxJZExlbmd0aFZpZXcuZ2V0VWludDE2KCk7XG4gICAgY29uc3QgY29zZVB1YmxpY0tleUNCT1IgPSBhdXRoZW50aWNhdG9yRGF0YS5zbGljZSg1NSArIGNyZWRlbnRpYWxJZExlbmd0aCk7XG4gICAgY29uc3QgY29zZVB1YmxpY0tleSA9IGF3YWl0IGNib3IuZGVjb2RlRmlyc3QoY29zZVB1YmxpY0tleUNCT1IpO1xuICAgIGxldCByYXdQdWJsaWNLZXkgPSBuZXcgVWludDhBcnJheSg2NSk7XG4gICAgcmF3UHVibGljS2V5WzBdID0gNDtcbiAgICByYXdQdWJsaWNLZXkuc2V0KGNvc2VQdWJsaWNLZXkuZ2V0KC0yKSwgMSk7XG4gICAgcmF3UHVibGljS2V5LnNldChjb3NlUHVibGljS2V5LmdldCgtMyksIDMzKTtcbiAgICByZXR1cm4gYXdhaXQgZWNkc2FJbXBvcnRLZXkoXCJyYXdcIiwgXCJQLTI1NlwiLCByYXdQdWJsaWNLZXksIFwidmVyaWZ5XCIpO1xuICB9XG59XG5mdW5jdGlvbiByZWFkVHJhbnNwb3J0cyhyZXNwb25zZSkge1xuICBsZXQgdHJhbnNwb3J0cyA9IFtdO1xuICBpZiAodHlwZW9mIHJlc3BvbnNlLmdldFRyYW5zcG9ydHMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRyYW5zcG9ydHMgPSByZXNwb25zZS5nZXRUcmFuc3BvcnRzKCk7XG4gIH1cbiAgcmV0dXJuIHRyYW5zcG9ydHM7XG59XG5mdW5jdGlvbiByZWFkU2lnbmF0dXJlKGF0dGVzdGF0aW9uKSB7XG4gIGlmIChhdHRlc3RhdGlvbi5mbXQgPT09IFwicGFja2VkXCIpIHtcbiAgICByZXR1cm4gYXR0ZXN0YXRpb24uYXR0U3RtdD8uc2lnO1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5hc3luYyBmdW5jdGlvbiB3ZWJhdXRoblNpZ24oa2V5LCBkYXRhKSB7XG4gIGNvbnN0IGdldE9wdGlvbnMgPSB7XG4gICAgY2hhbGxlbmdlOiBkYXRhLFxuICAgIGFsbG93Q3JlZGVudGlhbHM6IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IGtleS5yYXdJZCxcbiAgICAgICAgdHlwZTogXCJwdWJsaWMta2V5XCIsXG4gICAgICAgIHRyYW5zcG9ydHM6IGtleS50cmFuc3BvcnRzXG4gICAgICB9XG4gICAgXSxcbiAgICB1c2VyVmVyaWZpY2F0aW9uOiBcInJlcXVpcmVkXCIsXG4gICAgdGltZW91dDogNmU0XG4gIH07XG4gIGNvbnN0IGNyZWQgPSBhd2FpdCBuYXZpZ2F0b3IuY3JlZGVudGlhbHMuZ2V0KHsgcHVibGljS2V5OiBnZXRPcHRpb25zIH0pO1xuICBpZiAoIWNyZWQpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoZ2V0T3B0aW9ucyk7XG4gIGxldCByZXNwb25zZSA9IGNyZWQucmVzcG9uc2U7XG4gIHJldHVybiB7XG4gICAgYXV0aGVudGljYXRvckRhdGE6IHJlc3BvbnNlLmF1dGhlbnRpY2F0b3JEYXRhLFxuICAgIGNsaWVudERhdGFKU09OOiByZXNwb25zZS5jbGllbnREYXRhSlNPTixcbiAgICBzaWduYXR1cmU6IHJlc3BvbnNlLnNpZ25hdHVyZVxuICB9O1xufVxuXG4vLyBzcmMvdmFsaWRhdGUuanNcbmZ1bmN0aW9uIHZhbGlkYXRlS2V5SGFuZGxlKGhhbmRsZSkge1xuICByZXR1cm4gdHlwZW9mIGhhbmRsZSA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgcmV0dXJuIHByb3ZpZGVyID09PSBcInN1YnRsZVwiIHx8IHByb3ZpZGVyID09PSBcIndlYmF1dGhuXCI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUtleShrZXkpIHtcbiAgaWYgKGtleSAhPT0gdm9pZCAwICYmIHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoa2V5LnN1YnRsZSAhPT0gdm9pZCAwKVxuICAgICAgcmV0dXJuIFwic3VidGxlXCI7XG4gICAgZWxzZSBpZiAoa2V5LndlYmF1dGhuICE9PSB2b2lkIDApXG4gICAgICByZXR1cm4gXCJ3ZWJhdXRoblwiO1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5cbi8vIHNyYy9jcnlwdG8uanNcbnZhciBzdWJ0bGVQcm92aWRlciA9IFwic3VidGxlXCI7XG52YXIgd2ViQXV0aG5Qcm92aWRlciA9IFwid2ViYXV0aG5cIjtcbmFzeW5jIGZ1bmN0aW9uIGhhc1dlYkF1dGhuKCkge1xuICBjb25zdCBpc1NhZmFyaSA9IC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIHJldHVybiAhISghaXNTYWZhcmkgJiYgd2luZG93LlB1YmxpY0tleUNyZWRlbnRpYWwgJiYgYXdhaXQgd2luZG93LlB1YmxpY0tleUNyZWRlbnRpYWwuaXNVc2VyVmVyaWZ5aW5nUGxhdGZvcm1BdXRoZW50aWNhdG9yQXZhaWxhYmxlKCkpO1xufVxuZnVuY3Rpb24gaGFzU3VidGxlQ3J5cHRvKCkge1xuICByZXR1cm4gISF3aW5kb3cuY3J5cHRvLnN1YnRsZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHF1ZXJ5Q3J5cHRvQ2FwYWJpbGl0aWVzKHByb3ZpZGVyKSB7XG4gIGlmICghdmFsaWRhdGVQcm92aWRlcihwcm92aWRlcikpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoXCJwcm92aWRlclwiKTtcbiAgaWYgKHByb3ZpZGVyID09PSB3ZWJBdXRoblByb3ZpZGVyKSB7XG4gICAgaWYgKGF3YWl0IGhhc1dlYkF1dGhuKCkpXG4gICAgICByZXR1cm4gd2ViYXV0aG47XG4gIH1cbiAgaWYgKGhhc1N1YnRsZUNyeXB0bygpKVxuICAgIHJldHVybiBzdWJ0bGU7XG4gIHRocm93IG5ldyBCYWRQbGF0Zm9ybShcImNyeXB0b1wiKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlS2V5KGhhbmRsZSwgcHJvdmlkZXIsIGRhdGEpIHtcbiAgaWYgKCF2YWxpZGF0ZUtleUhhbmRsZShoYW5kbGUpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwiaGFuZGxlXCIpO1xuICBsZXQgYXBpID0gYXdhaXQgcXVlcnlDcnlwdG9DYXBhYmlsaXRpZXMocHJvdmlkZXIpO1xuICByZXR1cm4gYXdhaXQgYXBpLmdlbmVyYXRlS2V5KGhhbmRsZSwgZGF0YSk7XG59XG5hc3luYyBmdW5jdGlvbiBzaWduKGtleSwgZGF0YSkge1xuICBsZXQgYXBpID0ga2V5UHJvdmlkZXIoa2V5KTtcbiAgaWYgKGFwaSA9PT0gdm9pZCAwKVxuICAgIHRocm93IG5ldyBJbnZhbGlkS2V5KFwic2lnblwiKTtcbiAgcmV0dXJuIGF3YWl0IGFwaS5zaWduKGtleSwgZGF0YSk7XG59XG5hc3luYyBmdW5jdGlvbiBwdWJsaWNLZXkoa2V5KSB7XG4gIGxldCBhcGkgPSBrZXlQcm92aWRlcihrZXkpO1xuICBpZiAoYXBpID09PSB2b2lkIDApXG4gICAgdGhyb3cgbmV3IEludmFsaWRLZXkoXCJzaWduXCIpO1xuICByZXR1cm4gYXdhaXQgYXBpLnB1YmxpY0tleShrZXkpO1xufVxuZnVuY3Rpb24ga2V5U2FuaXR5Q2hlY2soa2V5LCBwcm92aWRlcikge1xuICByZXR1cm4gcHJvdmlkZXIgaW4ga2V5O1xufVxuZnVuY3Rpb24ga2V5UHJvdmlkZXIoa2V5KSB7XG4gIGxldCBwcm92aWRlciA9IHZhbGlkYXRlS2V5KGtleSk7XG4gIGlmIChwcm92aWRlciA9PT0gXCJzdWJ0bGVcIilcbiAgICByZXR1cm4gc3VidGxlO1xuICBlbHNlIGlmIChwcm92aWRlciA9PT0gXCJ3ZWJhdXRoblwiKVxuICAgIHJldHVybiB3ZWJhdXRobjtcbiAgZWxzZVxuICAgIHJldHVybiB2b2lkIDA7XG59XG52YXIgc3VidGxlID0gbmV3IGNsYXNzIFN1YnRsZSB7XG4gIGV4dHJhY3RLZXlzKGtleSkge1xuICAgIGlmIChrZXlTYW5pdHlDaGVjayhrZXksIHN1YnRsZVByb3ZpZGVyKSlcbiAgICAgIHJldHVybiBrZXkuc3VidGxlO1xuICAgIHRocm93IG5ldyBJbnZhbGlkS2V5KFwiXCIpO1xuICB9XG4gIGFzeW5jIGdlbmVyYXRlS2V5KGhhbmRsZSwgZGF0YSkge1xuICAgIGxldCBzaWduaW5nS2V5ID0gYXdhaXQgZWNkc2FHZW5lcmF0ZUtleVBhaXIoXCJQLTI1NlwiKTtcbiAgICBsZXQga2V5ID0ge1xuICAgICAgc3VidGxlOiB7XG4gICAgICAgIHNpZ25pbmdLZXksXG4gICAgICAgIGVuY3J5cHRpb25LZXk6IHZvaWQgMFxuICAgICAgfVxuICAgIH07XG4gICAgbGV0IHNpZ25hdHVyZSA9IGRhdGEgIT09IHZvaWQgMCA/IHNpZ24oa2V5LCBkYXRhKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gW2tleSwgc2lnbmF0dXJlXTtcbiAgfVxuICBhc3luYyBwdWJsaWNLZXkoa2V5KSB7XG4gICAgbGV0IGtleXMgPSB0aGlzLmV4dHJhY3RLZXlzKGtleSk7XG4gICAgcmV0dXJuIGF3YWl0IGV4cG9ydEtleShrZXlzLnNpZ25pbmdLZXkucHVibGljS2V5LCBcInJhd1wiKTtcbiAgfVxuICBhc3luYyBzaWduKGtleSwgZGF0YSkge1xuICAgIGxldCBrZXlzID0gdGhpcy5leHRyYWN0S2V5cyhrZXkpO1xuICAgIGxldCBzaWduYXR1cmUgPSBhd2FpdCBlY2RzYVNpZ24oa2V5cy5zaWduaW5nS2V5LnByaXZhdGVLZXksIFwiU0hBLTI1NlwiLCBkYXRhKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VidGxlOiB7XG4gICAgICAgIHNpZ25hdHVyZVxuICAgICAgfVxuICAgIH07XG4gIH1cbn0oKTtcbnZhciB3ZWJhdXRobiA9IG5ldyBjbGFzcyBXZWJBdXRobiB7XG4gIGV4dHJhY3RLZXlzKGtleSkge1xuICAgIGlmIChrZXlTYW5pdHlDaGVjayhrZXksIHdlYkF1dGhuUHJvdmlkZXIpKVxuICAgICAgcmV0dXJuIGtleS53ZWJhdXRobjtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEtleShcIlwiKTtcbiAgfVxuICBhc3luYyBnZW5lcmF0ZUtleShoYW5kbGUsIGRhdGEpIHtcbiAgICBjb25zdCBjcmVkID0gYXdhaXQgd2ViYXV0aG5HZW5lcmF0ZUtleVBhaXIoaGFuZGxlLCBkYXRhKTtcbiAgICBsZXQga2V5ID0ge1xuICAgICAgd2ViYXV0aG46IHtcbiAgICAgICAgc2lnbmluZ0tleToge1xuICAgICAgICAgIHJhd0lkOiBjcmVkLnJhd0lkLFxuICAgICAgICAgIHRyYW5zcG9ydHM6IGNyZWQudHJhbnNwb3J0cyxcbiAgICAgICAgICBwdWJsaWNLZXk6IGNyZWQucHVibGljS2V5XG4gICAgICAgIH0sXG4gICAgICAgIGVuY3J5cHRpb25LZXk6IHZvaWQgMFxuICAgICAgfVxuICAgIH07XG4gICAgbGV0IHNpZ25hdHVyZSA9IGRhdGEgIT09IHZvaWQgMCA/IHtcbiAgICAgIHdlYmF1dGhuOiB7XG4gICAgICAgIGNsaWVudERhdGFKU09OOiBjcmVkLmNsaWVudERhdGFKU09OLFxuICAgICAgICBhdHRlc3RhdGlvbk9iamVjdDogY3JlZC5hdHRlc3RhdGlvbk9iamVjdFxuICAgICAgfVxuICAgIH0gOiB2b2lkIDA7XG4gICAgcmV0dXJuIFtrZXksIHNpZ25hdHVyZV07XG4gIH1cbiAgYXN5bmMgcHVibGljS2V5KGtleSkge1xuICAgIGxldCBrZXlzID0gdGhpcy5leHRyYWN0S2V5cyhrZXkpO1xuICAgIHJldHVybiBhd2FpdCBleHBvcnRLZXkoa2V5cy5zaWduaW5nS2V5LnB1YmxpY0tleSwgXCJyYXdcIik7XG4gIH1cbiAgYXN5bmMgc2lnbihrZXksIGRhdGEpIHtcbiAgICBsZXQga2V5cyA9IHRoaXMuZXh0cmFjdEtleXMoa2V5KTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCB3ZWJhdXRoblNpZ24oa2V5cy5zaWduaW5nS2V5LCBkYXRhKTtcbiAgICByZXR1cm4ge1xuICAgICAgd2ViYXV0aG46IHtcbiAgICAgICAgYXV0aGVudGljYXRvckRhdGE6IHNpZ25hdHVyZS5hdXRoZW50aWNhdG9yRGF0YSxcbiAgICAgICAgY2xpZW50RGF0YUpTT046IHNpZ25hdHVyZS5jbGllbnREYXRhSlNPTixcbiAgICAgICAgc2lnbmF0dXJlOiBzaWduYXR1cmUuc2lnbmF0dXJlXG4gICAgICB9XG4gICAgfTtcbiAgfVxufSgpO1xuXG4vLyBzcmMvZXJyb3IuanNcbnZhciBLZXlOb3RGb3VuZCA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihoYW5kbGUpIHtcbiAgICBzdXBlcihgJHtoYW5kbGV9IG5vdCBmb3VuZGApO1xuICAgIHRoaXMubmFtZSA9IFwiS2V5Tm90Rm91bmRcIjtcbiAgfVxufTtcbnZhciBLZXlFeGlzdHMgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoaGFuZGxlKSB7XG4gICAgc3VwZXIoYCR7aGFuZGxlfSBleGlzdHNgKTtcbiAgICB0aGlzLm5hbWUgPSBcIktleUV4aXN0c1wiO1xuICB9XG59O1xuXG4vLyBzcmMvZGIuanNcbnZhciBkYktleVN0b3JlID0gXCJrZXlzXCI7XG52YXIga21jRGJOYW1lID0gXCJrZXltYWtlclwiO1xudmFyIGttY0NlcnRTdG9yZSA9IFwiY2VydGlmaWNhdGVzXCI7XG52YXIga21jS2V5U3RvcmUgPSBcImtleXNcIjtcbnZhciBrbWNQcm9maWxlU3RvcmUgPSBcImNyZWRlbnRpYWxzXCI7XG52YXIga21jUHJvZmlsZUluZGV4ID0gXCJpZFwiO1xudmFyIGttY0FwcFNldHRpbmdzID0gXCJhcHBTZXR0aW5nc1wiO1xudmFyIGttY0RiVmVyc2lvbnMgPSBbdjEsIHYyLCB2MywgdjQsIHY1LCB2Nl07XG52YXIga21jRGJWZXJzaW9uID0ga21jRGJWZXJzaW9ucy5sZW5ndGg7XG5mdW5jdGlvbiBydW5NaWdyYXRpb25zKGRiLCB0eCwgdmVyc2lvbiwgb2xkVmVyc2lvbikge1xuICBpZiAoIWRiKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwiZGJcIik7XG4gIGlmICghdmVyc2lvbilcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcInZlcnNpb25cIik7XG4gIGlmICh2ZXJzaW9uID4ga21jRGJWZXJzaW9ucy5sZW5ndGgpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoXCJ2ZXJzaW9uXCIpO1xuICBmb3IgKDsgb2xkVmVyc2lvbiA8IHZlcnNpb247IG9sZFZlcnNpb24rKykge1xuICAgIGttY0RiVmVyc2lvbnNbb2xkVmVyc2lvbl0oZGIsIHR4KTtcbiAgfVxufVxuZnVuY3Rpb24gdjEoZGIsIHR4KSB7XG4gIGRiLmNyZWF0ZU9iamVjdFN0b3JlKGttY1Byb2ZpbGVTdG9yZSwgeyBrZXlQYXRoOiBcImhhbmRsZVwiIH0pO1xuICBkYi5jcmVhdGVPYmplY3RTdG9yZShrbWNDZXJ0U3RvcmUpO1xuICBkYi5jcmVhdGVPYmplY3RTdG9yZShrbWNLZXlTdG9yZSk7XG59XG5mdW5jdGlvbiB2MihkYiwgdHgpIHtcbiAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoa21jQXBwU2V0dGluZ3MsIHsga2V5UGF0aDogXCJpbnN0YW5jZUlkXCIgfSk7XG59XG5mdW5jdGlvbiB2MyhkYiwgdHgpIHtcbiAgbGV0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoa21jUHJvZmlsZVN0b3JlKTtcbiAgbGV0IHJxID0gc3RvcmUub3BlbkN1cnNvcigpO1xuICBycS5vbnN1Y2Nlc3MgPSAoZXYpID0+IHtcbiAgICBsZXQgY3Vyc29yID0gZXYudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoY3Vyc29yKSB7XG4gICAgICBpZiAoIWN1cnNvci52YWx1ZS5zdGF0ZSkge1xuICAgICAgICBjdXJzb3IudmFsdWUuc3RhdGUgPSBcIkFjdGl2ZVwiO1xuICAgICAgICBjdXJzb3IudXBkYXRlKGN1cnNvci52YWx1ZSk7XG4gICAgICB9XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB2NChkYiwgdHgpIHtcbn1cbmZ1bmN0aW9uIHY1KGRiLCB0eCkge1xuICBsZXQgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShrbWNQcm9maWxlU3RvcmUpO1xuICBsZXQgcnEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG4gIHJxLm9uc3VjY2VzcyA9IChldikgPT4ge1xuICAgIGxldCBjdXJzb3IgPSBldi50YXJnZXQucmVzdWx0O1xuICAgIGlmIChjdXJzb3IpIHtcbiAgICAgIGlmICghY3Vyc29yLnZhbHVlLmlkKSB7XG4gICAgICAgIGN1cnNvci52YWx1ZS5pZCA9IGdlbmVyYXRlSGFuZGxlKDE2LCBcImNyXCIpO1xuICAgICAgICBjdXJzb3IudXBkYXRlKGN1cnNvci52YWx1ZSk7XG4gICAgICB9XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB2NihkYiwgdHgpIHtcbiAgbGV0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoa21jUHJvZmlsZVN0b3JlKTtcbiAgc3RvcmUuY3JlYXRlSW5kZXgoa21jUHJvZmlsZUluZGV4LCBcImlkXCIsIHsgdW5pcXVlOiB0cnVlIH0pO1xufVxuZnVuY3Rpb24gcmFuZG9tQnl0ZXMyKGxlbikge1xuICBsZXQgYnVmID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYnVmKTtcbiAgcmV0dXJuIGJ1Zjtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlSGFuZGxlKGxlbiwgcHJlZml4KSB7XG4gIHJldHVybiAocHJlZml4ID8/IFwiXCIpICsgWy4uLnJhbmRvbUJ5dGVzMihsZW4gLyAyKV0ubWFwKChiKSA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7XG59XG5hc3luYyBmdW5jdGlvbiBvcGVuRGIoKSB7XG4gIHJldHVybiBhd2FpdCBpZGJPcGVuRGIoa21jRGJOYW1lLCBrbWNEYlZlcnNpb25zLmxlbmd0aCwgcnVuTWlncmF0aW9ucyk7XG59XG5mdW5jdGlvbiBjbG9zZURiKGRiKSB7XG4gIGlmIChkYiAhPT0gdm9pZCAwKVxuICAgIGlkYkNsb3NlRGIoZGIpO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVzZXREYigpIHtcbiAgYXdhaXQgaWRiRGVsZXRlRGIoa21jRGJOYW1lKTtcbn1cblxuLy8gc3JjL2tleVN0b3JlLmpzXG5hc3luYyBmdW5jdGlvbiBsb2FkS2V5KGRiLCBoYW5kbGUpIHtcbiAgaWYgKCF2YWxpZGF0ZURhdGFiYXNlKGRiKSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcImRiXCIpO1xuICBpZiAoIXZhbGlkYXRlS2V5SGFuZGxlKGhhbmRsZSkpXG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmcoXCJoYW5kbGVcIik7XG4gIGNvbnN0IHR4ID0gaWRiQmVnaW5UcmFuc2FjdGlvbihkYiwgZGJLZXlTdG9yZSwgXCJyZWFkb25seVwiKTtcbiAgaWRiR2V0KHR4LCBkYktleVN0b3JlLCBoYW5kbGUpO1xuICBsZXQgb2JqID0gYXdhaXQgaWRiRmluaXNoVHJhbnNhY3Rpb24odHgpO1xuICBpZiAob2JqICE9PSB2b2lkIDApIHtcbiAgICBpZiAodmFsaWRhdGVLZXkgPT09IHZvaWQgMClcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkS2V5KFwibG9hZEtleVwiKTtcbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5hc3luYyBmdW5jdGlvbiBzYXZlS2V5KGRiLCBoYW5kbGUsIGtleSkge1xuICBpZiAoIXZhbGlkYXRlRGF0YWJhc2UoZGIpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwiZGJcIik7XG4gIGlmICghdmFsaWRhdGVLZXlIYW5kbGUoaGFuZGxlKSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcImhhbmRsZVwiKTtcbiAgaWYgKHZhbGlkYXRlS2V5KGtleSkgPT09IHZvaWQgMClcbiAgICB0aHJvdyBuZXcgSW52YWxpZEtleShcInNhdmVLZXlcIik7XG4gIGNvbnN0IHR4ID0gaWRiQmVnaW5UcmFuc2FjdGlvbihkYiwgZGJLZXlTdG9yZSwgXCJyZWFkd3JpdGVcIik7XG4gIGlkYkFkZCh0eCwgZGJLZXlTdG9yZSwga2V5LCBoYW5kbGUpO1xuICBhd2FpdCBpZGJGaW5pc2hUcmFuc2FjdGlvbih0eCk7XG59XG5hc3luYyBmdW5jdGlvbiBkZWxldGVLZXkoZGIsIGhhbmRsZSkge1xuICBpZiAoIXZhbGlkYXRlRGF0YWJhc2UoZGIpKVxuICAgIHRocm93IG5ldyBJbnZhbGlkQXJnKFwiZGJcIik7XG4gIGlmICghdmFsaWRhdGVLZXlIYW5kbGUoaGFuZGxlKSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZyhcImhhbmRsZVwiKTtcbiAgY29uc3QgdHggPSBpZGJCZWdpblRyYW5zYWN0aW9uKGRiLCBkYktleVN0b3JlLCBcInJlYWR3cml0ZVwiKTtcbiAgaWRiRGVsZXRlKHR4LCBkYktleVN0b3JlLCBoYW5kbGUpO1xuICBhd2FpdCBpZGJGaW5pc2hUcmFuc2FjdGlvbih0eCk7XG59XG5cbi8vIHNyYy9pbmRleC5qc1xuZnVuY3Rpb24gRmZpQ3JlYXRlS2V5UDI1NihoYW5kbGUsIHByb3ZpZGVyLCBkYXRhKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGRiO1xuICAgIHRyeSB7XG4gICAgICBkYiA9IGF3YWl0IG9wZW5EYigpO1xuICAgICAgbGV0IGtleSA9IGF3YWl0IGxvYWRLZXkoZGIsIGhhbmRsZSk7XG4gICAgICBpZiAoa2V5KVxuICAgICAgICB0aHJvdyBuZXcgS2V5RXhpc3RzKGhhbmRsZSk7XG4gICAgICBsZXQgc2lnbmF0dXJlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgW2tleSwgc2lnbmF0dXJlXSA9IGF3YWl0IGdlbmVyYXRlS2V5KGhhbmRsZSwgcHJvdmlkZXIsIGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChwcm92aWRlciA9PT0gXCJ3ZWJhdXRoblwiICYmIGVyciBpbnN0YW5jZW9mIFdlYkF1dGhuRXJyb3IgJiYgZXJyLm5hbWUgIT0gXCJOb3RBbGxvd2VkRXJyb3JcIikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgIFtrZXksIHNpZ25hdHVyZV0gPSBhd2FpdCBnZW5lcmF0ZUtleShoYW5kbGUsIFwic3VidGxlXCIsIGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXdhaXQgc2F2ZUtleShkYiwgaGFuZGxlLCBrZXkpO1xuICAgICAgcmVzb2x2ZShzaWduYXR1cmUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsb3NlRGIoZGIpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBGZmlRdWVyeUtleVAyNTYoaGFuZGxlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGRiO1xuICAgIHRyeSB7XG4gICAgICBkYiA9IGF3YWl0IG9wZW5EYigpO1xuICAgICAgY29uc3Qga2V5ID0gYXdhaXQgbG9hZEtleShkYiwgaGFuZGxlKTtcbiAgICAgIGlmIChrZXkgPT09IHZvaWQgMClcbiAgICAgICAgdGhyb3cgbmV3IEtleU5vdEZvdW5kKGhhbmRsZSk7XG4gICAgICBjb25zdCB0eXBlID0gdmFsaWRhdGVLZXkoa2V5KTtcbiAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRLZXkoXCJGZmlRdWVyeUtleVAyNTZcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKHR5cGUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsb3NlRGIoZGIpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBGZmlEZWxldGVLZXlQMjU2KGhhbmRsZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBkYjtcbiAgICB0cnkge1xuICAgICAgZGIgPSBhd2FpdCBvcGVuRGIoKTtcbiAgICAgIGNvbnN0IGtleSA9IGF3YWl0IGxvYWRLZXkoZGIsIGhhbmRsZSk7XG4gICAgICBpZiAoa2V5ID09PSB2b2lkIDApXG4gICAgICAgIHRocm93IG5ldyBLZXlOb3RGb3VuZChoYW5kbGUpO1xuICAgICAgYXdhaXQgZGVsZXRlS2V5KGRiLCBoYW5kbGUpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsb3NlRGIoZGIpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBGZmlWZXJpZnlFeGlzdGluZ0tleVAyNTYoaGFuZGxlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGRiO1xuICAgIHRyeSB7XG4gICAgICBkYiA9IGF3YWl0IG9wZW5EYigpO1xuICAgICAgY29uc3Qga2V5ID0gYXdhaXQgbG9hZEtleShkYiwgaGFuZGxlKTtcbiAgICAgIGlmIChrZXkgPT09IHZvaWQgMCkge1xuICAgICAgICByZXNvbHZlKHZvaWQgMCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsaWRhdGVLZXkoa2V5KSA9PT0gdm9pZCAwKVxuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEtleShoYW5kbGUpO1xuICAgICAgcmVzb2x2ZShoYW5kbGUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsb3NlRGIoZGIpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBGZmlTaWduV2l0aFAyNTYoaGFuZGxlLCBkYXRhKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGRiO1xuICAgIHRyeSB7XG4gICAgICBkYiA9IGF3YWl0IG9wZW5EYigpO1xuICAgICAgY29uc3Qga2V5ID0gYXdhaXQgbG9hZEtleShkYiwgaGFuZGxlKTtcbiAgICAgIGlmIChrZXkgPT09IHZvaWQgMClcbiAgICAgICAgdGhyb3cgbmV3IEtleU5vdEZvdW5kKGhhbmRsZSk7XG4gICAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBzaWduKGtleSwgZGF0YSk7XG4gICAgICByZXNvbHZlKHNpZ25hdHVyZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xvc2VEYihkYik7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIEZmaVB1YmxpY0JpdHNQMjU2KGhhbmRsZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBkYjtcbiAgICB0cnkge1xuICAgICAgZGIgPSBhd2FpdCBvcGVuRGIoKTtcbiAgICAgIGNvbnN0IGtleSA9IGF3YWl0IGxvYWRLZXkoZGIsIGhhbmRsZSk7XG4gICAgICBpZiAoa2V5ID09PSB2b2lkIDApXG4gICAgICAgIHRocm93IG5ldyBLZXlOb3RGb3VuZChoYW5kbGUpO1xuICAgICAgY29uc3QgYml0cyA9IGF3YWl0IHB1YmxpY0tleShrZXkpO1xuICAgICAgcmVzb2x2ZShiaXRzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjbG9zZURiKGRiKTtcbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IHtcbiAgRmZpQ3JlYXRlS2V5UDI1NixcbiAgRmZpRGVsZXRlS2V5UDI1NixcbiAgRmZpUHVibGljQml0c1AyNTYsXG4gIEZmaVF1ZXJ5S2V5UDI1NixcbiAgRmZpU2lnbldpdGhQMjU2LFxuICBGZmlWZXJpZnlFeGlzdGluZ0tleVAyNTYsXG4gIEtleUV4aXN0cyxcbiAgS2V5Tm90Rm91bmQsXG4gIGNsb3NlRGIsXG4gIGRlbGV0ZUtleSxcbiAgZ2VuZXJhdGVLZXksXG4gIGttY0RiVmVyc2lvbixcbiAgbG9hZEtleSxcbiAgb3BlbkRiLFxuICBwdWJsaWNLZXksXG4gIHJlc2V0RGIsXG4gIHNhdmVLZXksXG4gIHNpZ24sXG4gIHZhbGlkYXRlS2V5LFxuICB2YWxpZGF0ZUtleUhhbmRsZVxufTtcbi8qISBGb3IgbGljZW5zZSBpbmZvcm1hdGlvbiBwbGVhc2Ugc2VlIGNib3IuanMuTElDRU5TRS50eHQgKi9cbiIsInZhciB2cj1PYmplY3QuY3JlYXRlO3ZhciBPdD1PYmplY3QuZGVmaW5lUHJvcGVydHk7dmFyIGJyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7dmFyIHdyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO3ZhciBPcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YsU3I9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgbXI9ZD0+T3QoZCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2U9KGQsYyk9PigpPT4oY3x8ZCgoYz17ZXhwb3J0czp7fX0pLmV4cG9ydHMsYyksYy5leHBvcnRzKTt2YXIgSXI9KGQsYyxsKT0+e2lmKGMmJnR5cGVvZiBjPT1cIm9iamVjdFwifHx0eXBlb2YgYz09XCJmdW5jdGlvblwiKWZvcihsZXQgciBvZiB3cihjKSkhU3IuY2FsbChkLHIpJiZyIT09XCJkZWZhdWx0XCImJk90KGQscix7Z2V0OigpPT5jW3JdLGVudW1lcmFibGU6IShsPWJyKGMscikpfHxsLmVudW1lcmFibGV9KTtyZXR1cm4gZH0sU3Q9ZD0+SXIobXIoT3QoZCE9bnVsbD92cihPcihkKSk6e30sXCJkZWZhdWx0XCIsZCYmZC5fX2VzTW9kdWxlJiZcImRlZmF1bHRcImluIGQ/e2dldDooKT0+ZC5kZWZhdWx0LGVudW1lcmFibGU6ITB9Ont2YWx1ZTpkLGVudW1lcmFibGU6ITB9KSksZCk7dmFyIG9uPV9lKCh0dCxNdCk9PnsoZnVuY3Rpb24oZCxjKXt0eXBlb2YgdHQ9PVwib2JqZWN0XCImJnR5cGVvZiBNdD09XCJvYmplY3RcIj9NdC5leHBvcnRzPWMoKTp0eXBlb2YgZGVmaW5lPT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGMpOnR5cGVvZiB0dD09XCJvYmplY3RcIj90dC5jYm9yPWMoKTpkLmNib3I9YygpfSkodHQsZnVuY3Rpb24oKXtyZXR1cm4oKCk9Pnt2YXIgZD17NzQyOihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dC5ieXRlTGVuZ3RoPWZ1bmN0aW9uKEkpe3ZhciBQPXUoSSksZz1QWzBdLHc9UFsxXTtyZXR1cm4gMyooZyt3KS80LXd9LHQudG9CeXRlQXJyYXk9ZnVuY3Rpb24oSSl7dmFyIFAsZyx3PXUoSSksdj13WzBdLG09d1sxXSxTPW5ldyBmKGZ1bmN0aW9uKFIsJCxGKXtyZXR1cm4gMyooJCtGKS80LUZ9KDAsdixtKSksXz0wLEI9bT4wP3YtNDp2O2ZvcihnPTA7ZzxCO2crPTQpUD1vW0kuY2hhckNvZGVBdChnKV08PDE4fG9bSS5jaGFyQ29kZUF0KGcrMSldPDwxMnxvW0kuY2hhckNvZGVBdChnKzIpXTw8NnxvW0kuY2hhckNvZGVBdChnKzMpXSxTW18rK109UD4+MTYmMjU1LFNbXysrXT1QPj44JjI1NSxTW18rK109MjU1JlA7cmV0dXJuIG09PT0yJiYoUD1vW0kuY2hhckNvZGVBdChnKV08PDJ8b1tJLmNoYXJDb2RlQXQoZysxKV0+PjQsU1tfKytdPTI1NSZQKSxtPT09MSYmKFA9b1tJLmNoYXJDb2RlQXQoZyldPDwxMHxvW0kuY2hhckNvZGVBdChnKzEpXTw8NHxvW0kuY2hhckNvZGVBdChnKzIpXT4+MixTW18rK109UD4+OCYyNTUsU1tfKytdPTI1NSZQKSxTfSx0LmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24oSSl7Zm9yKHZhciBQLGc9SS5sZW5ndGgsdz1nJTMsdj1bXSxtPTE2MzgzLFM9MCxfPWctdztTPF87Uys9bSl2LnB1c2gocChJLFMsUyttPl8/XzpTK20pKTtyZXR1cm4gdz09PTE/KFA9SVtnLTFdLHYucHVzaChuW1A+PjJdK25bUDw8NCY2M10rXCI9PVwiKSk6dz09PTImJihQPShJW2ctMl08PDgpK0lbZy0xXSx2LnB1c2gobltQPj4xMF0rbltQPj40JjYzXStuW1A8PDImNjNdK1wiPVwiKSksdi5qb2luKFwiXCIpfTtmb3IodmFyIG49W10sbz1bXSxmPXR5cGVvZiBVaW50OEFycmF5IT1cInVuZGVmaW5lZFwiP1VpbnQ4QXJyYXk6QXJyYXkseT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixPPTAsYj15Lmxlbmd0aDtPPGI7KytPKW5bT109eVtPXSxvW3kuY2hhckNvZGVBdChPKV09TztmdW5jdGlvbiB1KEkpe3ZhciBQPUkubGVuZ3RoO2lmKFAlND4wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7dmFyIGc9SS5pbmRleE9mKFwiPVwiKTtyZXR1cm4gZz09PS0xJiYoZz1QKSxbZyxnPT09UD8wOjQtZyU0XX1mdW5jdGlvbiBwKEksUCxnKXtmb3IodmFyIHcsdixtPVtdLFM9UDtTPGc7Uys9Myl3PShJW1NdPDwxNiYxNjcxMTY4MCkrKElbUysxXTw8OCY2NTI4MCkrKDI1NSZJW1MrMl0pLG0ucHVzaChuWyh2PXcpPj4xOCY2M10rblt2Pj4xMiY2M10rblt2Pj42JjYzXStuWzYzJnZdKTtyZXR1cm4gbS5qb2luKFwiXCIpfW9bXCItXCIuY2hhckNvZGVBdCgwKV09NjIsb1tcIl9cIi5jaGFyQ29kZUF0KDApXT02M30sNzY0OihlLHQsbik9PntcInVzZSBzdHJpY3RcIjtsZXQgbz1uKDc0MiksZj1uKDY0NSkseT10eXBlb2YgU3ltYm9sPT1cImZ1bmN0aW9uXCImJnR5cGVvZiBTeW1ib2wuZm9yPT1cImZ1bmN0aW9uXCI/U3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpOm51bGw7dC5CdWZmZXI9dSx0LlNsb3dCdWZmZXI9ZnVuY3Rpb24oYSl7cmV0dXJuK2EhPWEmJihhPTApLHUuYWxsb2MoK2EpfSx0LklOU1BFQ1RfTUFYX0JZVEVTPTUwO2xldCBPPTIxNDc0ODM2NDc7ZnVuY3Rpb24gYihhKXtpZihhPk8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrYSsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyk7bGV0IHM9bmV3IFVpbnQ4QXJyYXkoYSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihzLHUucHJvdG90eXBlKSxzfWZ1bmN0aW9uIHUoYSxzLGgpe2lmKHR5cGVvZiBhPT1cIm51bWJlclwiKXtpZih0eXBlb2Ygcz09XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO3JldHVybiBQKGEpfXJldHVybiBwKGEscyxoKX1mdW5jdGlvbiBwKGEscyxoKXtpZih0eXBlb2YgYT09XCJzdHJpbmdcIilyZXR1cm4gZnVuY3Rpb24oeCxWKXtpZih0eXBlb2YgVj09XCJzdHJpbmdcIiYmViE9PVwiXCJ8fChWPVwidXRmOFwiKSwhdS5pc0VuY29kaW5nKFYpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitWKTtsZXQgaWU9MHxtKHgsViksc2U9YihpZSksbWU9c2Uud3JpdGUoeCxWKTtyZXR1cm4gbWUhPT1pZSYmKHNlPXNlLnNsaWNlKDAsbWUpKSxzZX0oYSxzKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoYSkpcmV0dXJuIGZ1bmN0aW9uKHgpe2lmKGZlKHgsVWludDhBcnJheSkpe2xldCBWPW5ldyBVaW50OEFycmF5KHgpO3JldHVybiB3KFYuYnVmZmVyLFYuYnl0ZU9mZnNldCxWLmJ5dGVMZW5ndGgpfXJldHVybiBnKHgpfShhKTtpZihhPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgYSk7aWYoZmUoYSxBcnJheUJ1ZmZlcil8fGEmJmZlKGEuYnVmZmVyLEFycmF5QnVmZmVyKXx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyIT1cInVuZGVmaW5lZFwiJiYoZmUoYSxTaGFyZWRBcnJheUJ1ZmZlcil8fGEmJmZlKGEuYnVmZmVyLFNoYXJlZEFycmF5QnVmZmVyKSkpcmV0dXJuIHcoYSxzLGgpO2lmKHR5cGVvZiBhPT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7bGV0IE09YS52YWx1ZU9mJiZhLnZhbHVlT2YoKTtpZihNIT1udWxsJiZNIT09YSlyZXR1cm4gdS5mcm9tKE0scyxoKTtsZXQgVD1mdW5jdGlvbih4KXtpZih1LmlzQnVmZmVyKHgpKXtsZXQgVj0wfHYoeC5sZW5ndGgpLGllPWIoVik7cmV0dXJuIGllLmxlbmd0aD09PTB8fHguY29weShpZSwwLDAsViksaWV9cmV0dXJuIHgubGVuZ3RoIT09dm9pZCAwP3R5cGVvZiB4Lmxlbmd0aCE9XCJudW1iZXJcInx8ZGUoeC5sZW5ndGgpP2IoMCk6Zyh4KTp4LnR5cGU9PT1cIkJ1ZmZlclwiJiZBcnJheS5pc0FycmF5KHguZGF0YSk/Zyh4LmRhdGEpOnZvaWQgMH0oYSk7aWYoVClyZXR1cm4gVDtpZih0eXBlb2YgU3ltYm9sIT1cInVuZGVmaW5lZFwiJiZTeW1ib2wudG9QcmltaXRpdmUhPW51bGwmJnR5cGVvZiBhW1N5bWJvbC50b1ByaW1pdGl2ZV09PVwiZnVuY3Rpb25cIilyZXR1cm4gdS5mcm9tKGFbU3ltYm9sLnRvUHJpbWl0aXZlXShcInN0cmluZ1wiKSxzLGgpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgYSl9ZnVuY3Rpb24gSShhKXtpZih0eXBlb2YgYSE9XCJudW1iZXJcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJyk7aWYoYTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInK2ErJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpfWZ1bmN0aW9uIFAoYSl7cmV0dXJuIEkoYSksYihhPDA/MDowfHYoYSkpfWZ1bmN0aW9uIGcoYSl7bGV0IHM9YS5sZW5ndGg8MD8wOjB8dihhLmxlbmd0aCksaD1iKHMpO2ZvcihsZXQgTT0wO008cztNKz0xKWhbTV09MjU1JmFbTV07cmV0dXJuIGh9ZnVuY3Rpb24gdyhhLHMsaCl7aWYoczwwfHxhLmJ5dGVMZW5ndGg8cyl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtpZihhLmJ5dGVMZW5ndGg8cysoaHx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7bGV0IE07cmV0dXJuIE09cz09PXZvaWQgMCYmaD09PXZvaWQgMD9uZXcgVWludDhBcnJheShhKTpoPT09dm9pZCAwP25ldyBVaW50OEFycmF5KGEscyk6bmV3IFVpbnQ4QXJyYXkoYSxzLGgpLE9iamVjdC5zZXRQcm90b3R5cGVPZihNLHUucHJvdG90eXBlKSxNfWZ1bmN0aW9uIHYoYSl7aWYoYT49Tyl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHhcIitPLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gMHxhfWZ1bmN0aW9uIG0oYSxzKXtpZih1LmlzQnVmZmVyKGEpKXJldHVybiBhLmxlbmd0aDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoYSl8fGZlKGEsQXJyYXlCdWZmZXIpKXJldHVybiBhLmJ5dGVMZW5ndGg7aWYodHlwZW9mIGEhPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgYSk7bGV0IGg9YS5sZW5ndGgsTT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXT09PSEwO2lmKCFNJiZoPT09MClyZXR1cm4gMDtsZXQgVD0hMTtmb3IoOzspc3dpdGNoKHMpe2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGg7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIHZlKGEpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gMipoO2Nhc2VcImhleFwiOnJldHVybiBoPj4+MTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gT2UoYSkubGVuZ3RoO2RlZmF1bHQ6aWYoVClyZXR1cm4gTT8tMTp2ZShhKS5sZW5ndGg7cz0oXCJcIitzKS50b0xvd2VyQ2FzZSgpLFQ9ITB9fWZ1bmN0aW9uIFMoYSxzLGgpe2xldCBNPSExO2lmKChzPT09dm9pZCAwfHxzPDApJiYocz0wKSxzPnRoaXMubGVuZ3RofHwoKGg9PT12b2lkIDB8fGg+dGhpcy5sZW5ndGgpJiYoaD10aGlzLmxlbmd0aCksaDw9MCl8fChoPj4+PTApPD0ocz4+Pj0wKSlyZXR1cm5cIlwiO2ZvcihhfHwoYT1cInV0ZjhcIik7Oylzd2l0Y2goYSl7Y2FzZVwiaGV4XCI6cmV0dXJuIG9lKHRoaXMscyxoKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gSih0aGlzLHMsaCk7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gUSh0aGlzLHMsaCk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIHEodGhpcyxzLGgpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBIKHRoaXMscyxoKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gayh0aGlzLHMsaCk7ZGVmYXVsdDppZihNKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIithKTthPShhK1wiXCIpLnRvTG93ZXJDYXNlKCksTT0hMH19ZnVuY3Rpb24gXyhhLHMsaCl7bGV0IE09YVtzXTthW3NdPWFbaF0sYVtoXT1NfWZ1bmN0aW9uIEIoYSxzLGgsTSxUKXtpZihhLmxlbmd0aD09PTApcmV0dXJuLTE7aWYodHlwZW9mIGg9PVwic3RyaW5nXCI/KE09aCxoPTApOmg+MjE0NzQ4MzY0Nz9oPTIxNDc0ODM2NDc6aDwtMjE0NzQ4MzY0OCYmKGg9LTIxNDc0ODM2NDgpLGRlKGg9K2gpJiYoaD1UPzA6YS5sZW5ndGgtMSksaDwwJiYoaD1hLmxlbmd0aCtoKSxoPj1hLmxlbmd0aCl7aWYoVClyZXR1cm4tMTtoPWEubGVuZ3RoLTF9ZWxzZSBpZihoPDApe2lmKCFUKXJldHVybi0xO2g9MH1pZih0eXBlb2Ygcz09XCJzdHJpbmdcIiYmKHM9dS5mcm9tKHMsTSkpLHUuaXNCdWZmZXIocykpcmV0dXJuIHMubGVuZ3RoPT09MD8tMTpSKGEscyxoLE0sVCk7aWYodHlwZW9mIHM9PVwibnVtYmVyXCIpcmV0dXJuIHMmPTI1NSx0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj09XCJmdW5jdGlvblwiP1Q/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGEscyxoKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGEscyxoKTpSKGEsW3NdLGgsTSxUKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyXCIpfWZ1bmN0aW9uIFIoYSxzLGgsTSxUKXtsZXQgeCxWPTEsaWU9YS5sZW5ndGgsc2U9cy5sZW5ndGg7aWYoTSE9PXZvaWQgMCYmKChNPVN0cmluZyhNKS50b0xvd2VyQ2FzZSgpKT09PVwidWNzMlwifHxNPT09XCJ1Y3MtMlwifHxNPT09XCJ1dGYxNmxlXCJ8fE09PT1cInV0Zi0xNmxlXCIpKXtpZihhLmxlbmd0aDwyfHxzLmxlbmd0aDwyKXJldHVybi0xO1Y9MixpZS89MixzZS89MixoLz0yfWZ1bmN0aW9uIG1lKGJlLEVlKXtyZXR1cm4gVj09PTE/YmVbRWVdOmJlLnJlYWRVSW50MTZCRShFZSpWKX1pZihUKXtsZXQgYmU9LTE7Zm9yKHg9aDt4PGllO3grKylpZihtZShhLHgpPT09bWUocyxiZT09PS0xPzA6eC1iZSkpe2lmKGJlPT09LTEmJihiZT14KSx4LWJlKzE9PT1zZSlyZXR1cm4gYmUqVn1lbHNlIGJlIT09LTEmJih4LT14LWJlKSxiZT0tMX1lbHNlIGZvcihoK3NlPmllJiYoaD1pZS1zZSkseD1oO3g+PTA7eC0tKXtsZXQgYmU9ITA7Zm9yKGxldCBFZT0wO0VlPHNlO0VlKyspaWYobWUoYSx4K0VlKSE9PW1lKHMsRWUpKXtiZT0hMTticmVha31pZihiZSlyZXR1cm4geH1yZXR1cm4tMX1mdW5jdGlvbiAkKGEscyxoLE0pe2g9TnVtYmVyKGgpfHwwO2xldCBUPWEubGVuZ3RoLWg7TT8oTT1OdW1iZXIoTSkpPlQmJihNPVQpOk09VDtsZXQgeD1zLmxlbmd0aCxWO2ZvcihNPngvMiYmKE09eC8yKSxWPTA7VjxNOysrVil7bGV0IGllPXBhcnNlSW50KHMuc3Vic3RyKDIqViwyKSwxNik7aWYoZGUoaWUpKXJldHVybiBWO2FbaCtWXT1pZX1yZXR1cm4gVn1mdW5jdGlvbiBGKGEscyxoLE0pe3JldHVybiBlZSh2ZShzLGEubGVuZ3RoLWgpLGEsaCxNKX1mdW5jdGlvbiBDKGEscyxoLE0pe3JldHVybiBlZShmdW5jdGlvbihUKXtsZXQgeD1bXTtmb3IobGV0IFY9MDtWPFQubGVuZ3RoOysrVil4LnB1c2goMjU1JlQuY2hhckNvZGVBdChWKSk7cmV0dXJuIHh9KHMpLGEsaCxNKX1mdW5jdGlvbiBZKGEscyxoLE0pe3JldHVybiBlZShPZShzKSxhLGgsTSl9ZnVuY3Rpb24gTihhLHMsaCxNKXtyZXR1cm4gZWUoZnVuY3Rpb24oVCx4KXtsZXQgVixpZSxzZSxtZT1bXTtmb3IobGV0IGJlPTA7YmU8VC5sZW5ndGgmJiEoKHgtPTIpPDApOysrYmUpVj1ULmNoYXJDb2RlQXQoYmUpLGllPVY+Pjgsc2U9ViUyNTYsbWUucHVzaChzZSksbWUucHVzaChpZSk7cmV0dXJuIG1lfShzLGEubGVuZ3RoLWgpLGEsaCxNKX1mdW5jdGlvbiBIKGEscyxoKXtyZXR1cm4gcz09PTAmJmg9PT1hLmxlbmd0aD9vLmZyb21CeXRlQXJyYXkoYSk6by5mcm9tQnl0ZUFycmF5KGEuc2xpY2UocyxoKSl9ZnVuY3Rpb24gSihhLHMsaCl7aD1NYXRoLm1pbihhLmxlbmd0aCxoKTtsZXQgTT1bXSxUPXM7Zm9yKDtUPGg7KXtsZXQgeD1hW1RdLFY9bnVsbCxpZT14PjIzOT80Ong+MjIzPzM6eD4xOTE/MjoxO2lmKFQraWU8PWgpe2xldCBzZSxtZSxiZSxFZTtzd2l0Y2goaWUpe2Nhc2UgMTp4PDEyOCYmKFY9eCk7YnJlYWs7Y2FzZSAyOnNlPWFbVCsxXSwoMTkyJnNlKT09MTI4JiYoRWU9KDMxJngpPDw2fDYzJnNlLEVlPjEyNyYmKFY9RWUpKTticmVhaztjYXNlIDM6c2U9YVtUKzFdLG1lPWFbVCsyXSwoMTkyJnNlKT09MTI4JiYoMTkyJm1lKT09MTI4JiYoRWU9KDE1JngpPDwxMnwoNjMmc2UpPDw2fDYzJm1lLEVlPjIwNDcmJihFZTw1NTI5Nnx8RWU+NTczNDMpJiYoVj1FZSkpO2JyZWFrO2Nhc2UgNDpzZT1hW1QrMV0sbWU9YVtUKzJdLGJlPWFbVCszXSwoMTkyJnNlKT09MTI4JiYoMTkyJm1lKT09MTI4JiYoMTkyJmJlKT09MTI4JiYoRWU9KDE1JngpPDwxOHwoNjMmc2UpPDwxMnwoNjMmbWUpPDw2fDYzJmJlLEVlPjY1NTM1JiZFZTwxMTE0MTEyJiYoVj1FZSkpfX1WPT09bnVsbD8oVj02NTUzMyxpZT0xKTpWPjY1NTM1JiYoVi09NjU1MzYsTS5wdXNoKFY+Pj4xMCYxMDIzfDU1Mjk2KSxWPTU2MzIwfDEwMjMmViksTS5wdXNoKFYpLFQrPWllfXJldHVybiBmdW5jdGlvbih4KXtsZXQgVj14Lmxlbmd0aDtpZihWPD1jZSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcseCk7bGV0IGllPVwiXCIsc2U9MDtmb3IoO3NlPFY7KWllKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx4LnNsaWNlKHNlLHNlKz1jZSkpO3JldHVybiBpZX0oTSl9dC5rTWF4TGVuZ3RoPU8sdS5UWVBFRF9BUlJBWV9TVVBQT1JUPWZ1bmN0aW9uKCl7dHJ5e2xldCBhPW5ldyBVaW50OEFycmF5KDEpLHM9e2ZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19O3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YocyxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKGEscyksYS5mb28oKT09PTQyfWNhdGNoe3JldHVybiExfX0oKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlR8fHR5cGVvZiBjb25zb2xlPT1cInVuZGVmaW5lZFwifHx0eXBlb2YgY29uc29sZS5lcnJvciE9XCJmdW5jdGlvblwifHxjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5IGBidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuXCIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSxcInBhcmVudFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHUuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSxcIm9mZnNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHUuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KSx1LnBvb2xTaXplPTgxOTIsdS5mcm9tPWZ1bmN0aW9uKGEscyxoKXtyZXR1cm4gcChhLHMsaCl9LE9iamVjdC5zZXRQcm90b3R5cGVPZih1LnByb3RvdHlwZSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHUsVWludDhBcnJheSksdS5hbGxvYz1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIGZ1bmN0aW9uKE0sVCx4KXtyZXR1cm4gSShNKSxNPD0wP2IoTSk6VCE9PXZvaWQgMD90eXBlb2YgeD09XCJzdHJpbmdcIj9iKE0pLmZpbGwoVCx4KTpiKE0pLmZpbGwoVCk6YihNKX0oYSxzLGgpfSx1LmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGEpe3JldHVybiBQKGEpfSx1LmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihhKXtyZXR1cm4gUChhKX0sdS5pc0J1ZmZlcj1mdW5jdGlvbihhKXtyZXR1cm4gYSE9bnVsbCYmYS5faXNCdWZmZXI9PT0hMCYmYSE9PXUucHJvdG90eXBlfSx1LmNvbXBhcmU9ZnVuY3Rpb24oYSxzKXtpZihmZShhLFVpbnQ4QXJyYXkpJiYoYT11LmZyb20oYSxhLm9mZnNldCxhLmJ5dGVMZW5ndGgpKSxmZShzLFVpbnQ4QXJyYXkpJiYocz11LmZyb20ocyxzLm9mZnNldCxzLmJ5dGVMZW5ndGgpKSwhdS5pc0J1ZmZlcihhKXx8IXUuaXNCdWZmZXIocykpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiYnVmMVwiLCBcImJ1ZjJcIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheScpO2lmKGE9PT1zKXJldHVybiAwO2xldCBoPWEubGVuZ3RoLE09cy5sZW5ndGg7Zm9yKGxldCBUPTAseD1NYXRoLm1pbihoLE0pO1Q8eDsrK1QpaWYoYVtUXSE9PXNbVF0pe2g9YVtUXSxNPXNbVF07YnJlYWt9cmV0dXJuIGg8TT8tMTpNPGg/MTowfSx1LmlzRW5jb2Rpbmc9ZnVuY3Rpb24oYSl7c3dpdGNoKFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSx1LmNvbmNhdD1mdW5jdGlvbihhLHMpe2lmKCFBcnJheS5pc0FycmF5KGEpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKGEubGVuZ3RoPT09MClyZXR1cm4gdS5hbGxvYygwKTtsZXQgaDtpZihzPT09dm9pZCAwKWZvcihzPTAsaD0wO2g8YS5sZW5ndGg7KytoKXMrPWFbaF0ubGVuZ3RoO2xldCBNPXUuYWxsb2NVbnNhZmUocyksVD0wO2ZvcihoPTA7aDxhLmxlbmd0aDsrK2gpe2xldCB4PWFbaF07aWYoZmUoeCxVaW50OEFycmF5KSlUK3gubGVuZ3RoPk0ubGVuZ3RoPyh1LmlzQnVmZmVyKHgpfHwoeD11LmZyb20oeCkpLHguY29weShNLFQpKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChNLHgsVCk7ZWxzZXtpZighdS5pc0J1ZmZlcih4KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTt4LmNvcHkoTSxUKX1UKz14Lmxlbmd0aH1yZXR1cm4gTX0sdS5ieXRlTGVuZ3RoPW0sdS5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLHUucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe2xldCBhPXRoaXMubGVuZ3RoO2lmKGElMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2ZvcihsZXQgcz0wO3M8YTtzKz0yKV8odGhpcyxzLHMrMSk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe2xldCBhPXRoaXMubGVuZ3RoO2lmKGElNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2ZvcihsZXQgcz0wO3M8YTtzKz00KV8odGhpcyxzLHMrMyksXyh0aGlzLHMrMSxzKzIpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXtsZXQgYT10aGlzLmxlbmd0aDtpZihhJTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IobGV0IHM9MDtzPGE7cys9OClfKHRoaXMscyxzKzcpLF8odGhpcyxzKzEscys2KSxfKHRoaXMscysyLHMrNSksXyh0aGlzLHMrMyxzKzQpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2xldCBhPXRoaXMubGVuZ3RoO3JldHVybiBhPT09MD9cIlwiOmFyZ3VtZW50cy5sZW5ndGg9PT0wP0oodGhpcywwLGEpOlMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZz11LnByb3RvdHlwZS50b1N0cmluZyx1LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oYSl7aWYoIXUuaXNCdWZmZXIoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT1hfHx1LmNvbXBhcmUodGhpcyxhKT09PTB9LHUucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXtsZXQgYT1cIlwiLHM9dC5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gYT10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCxzKS5yZXBsYWNlKC8oLnsyfSkvZyxcIiQxIFwiKS50cmltKCksdGhpcy5sZW5ndGg+cyYmKGErPVwiIC4uLiBcIiksXCI8QnVmZmVyIFwiK2ErXCI+XCJ9LHkmJih1LnByb3RvdHlwZVt5XT11LnByb3RvdHlwZS5pbnNwZWN0KSx1LnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGEscyxoLE0sVCl7aWYoZmUoYSxVaW50OEFycmF5KSYmKGE9dS5mcm9tKGEsYS5vZmZzZXQsYS5ieXRlTGVuZ3RoKSksIXUuaXNCdWZmZXIoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBhKTtpZihzPT09dm9pZCAwJiYocz0wKSxoPT09dm9pZCAwJiYoaD1hP2EubGVuZ3RoOjApLE09PT12b2lkIDAmJihNPTApLFQ9PT12b2lkIDAmJihUPXRoaXMubGVuZ3RoKSxzPDB8fGg+YS5sZW5ndGh8fE08MHx8VD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKTtpZihNPj1UJiZzPj1oKXJldHVybiAwO2lmKE0+PVQpcmV0dXJuLTE7aWYocz49aClyZXR1cm4gMTtpZih0aGlzPT09YSlyZXR1cm4gMDtsZXQgeD0oVD4+Pj0wKS0oTT4+Pj0wKSxWPShoPj4+PTApLShzPj4+PTApLGllPU1hdGgubWluKHgsViksc2U9dGhpcy5zbGljZShNLFQpLG1lPWEuc2xpY2UocyxoKTtmb3IobGV0IGJlPTA7YmU8aWU7KytiZSlpZihzZVtiZV0hPT1tZVtiZV0pe3g9c2VbYmVdLFY9bWVbYmVdO2JyZWFrfXJldHVybiB4PFY/LTE6Vjx4PzE6MH0sdS5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24oYSxzLGgpe3JldHVybiB0aGlzLmluZGV4T2YoYSxzLGgpIT09LTF9LHUucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oYSxzLGgpe3JldHVybiBCKHRoaXMsYSxzLGgsITApfSx1LnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIEIodGhpcyxhLHMsaCwhMSl9LHUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGEscyxoLE0pe2lmKHM9PT12b2lkIDApTT1cInV0ZjhcIixoPXRoaXMubGVuZ3RoLHM9MDtlbHNlIGlmKGg9PT12b2lkIDAmJnR5cGVvZiBzPT1cInN0cmluZ1wiKU09cyxoPXRoaXMubGVuZ3RoLHM9MDtlbHNle2lmKCFpc0Zpbml0ZShzKSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTtzPj4+PTAsaXNGaW5pdGUoaCk/KGg+Pj49MCxNPT09dm9pZCAwJiYoTT1cInV0ZjhcIikpOihNPWgsaD12b2lkIDApfWxldCBUPXRoaXMubGVuZ3RoLXM7aWYoKGg9PT12b2lkIDB8fGg+VCkmJihoPVQpLGEubGVuZ3RoPjAmJihoPDB8fHM8MCl8fHM+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKTtNfHwoTT1cInV0ZjhcIik7bGV0IHg9ITE7Zm9yKDs7KXN3aXRjaChNKXtjYXNlXCJoZXhcIjpyZXR1cm4gJCh0aGlzLGEscyxoKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gRih0aGlzLGEscyxoKTtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBDKHRoaXMsYSxzLGgpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBZKHRoaXMsYSxzLGgpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBOKHRoaXMsYSxzLGgpO2RlZmF1bHQ6aWYoeCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrTSk7TT0oXCJcIitNKS50b0xvd2VyQ2FzZSgpLHg9ITB9fSx1LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07bGV0IGNlPTQwOTY7ZnVuY3Rpb24gUShhLHMsaCl7bGV0IE09XCJcIjtoPU1hdGgubWluKGEubGVuZ3RoLGgpO2ZvcihsZXQgVD1zO1Q8aDsrK1QpTSs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmYVtUXSk7cmV0dXJuIE19ZnVuY3Rpb24gcShhLHMsaCl7bGV0IE09XCJcIjtoPU1hdGgubWluKGEubGVuZ3RoLGgpO2ZvcihsZXQgVD1zO1Q8aDsrK1QpTSs9U3RyaW5nLmZyb21DaGFyQ29kZShhW1RdKTtyZXR1cm4gTX1mdW5jdGlvbiBvZShhLHMsaCl7bGV0IE09YS5sZW5ndGg7KCFzfHxzPDApJiYocz0wKSwoIWh8fGg8MHx8aD5NKSYmKGg9TSk7bGV0IFQ9XCJcIjtmb3IobGV0IHg9czt4PGg7Kyt4KVQrPUFlW2FbeF1dO3JldHVybiBUfWZ1bmN0aW9uIGsoYSxzLGgpe2xldCBNPWEuc2xpY2UocyxoKSxUPVwiXCI7Zm9yKGxldCB4PTA7eDxNLmxlbmd0aC0xO3grPTIpVCs9U3RyaW5nLmZyb21DaGFyQ29kZShNW3hdKzI1NipNW3grMV0pO3JldHVybiBUfWZ1bmN0aW9uIEEoYSxzLGgpe2lmKGElMSE9MHx8YTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwib2Zmc2V0IGlzIG5vdCB1aW50XCIpO2lmKGErcz5oKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKX1mdW5jdGlvbiBqKGEscyxoLE0sVCx4KXtpZighdS5pc0J1ZmZlcihhKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZihzPlR8fHM8eCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihoK00+YS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gTChhLHMsaCxNLFQpe0QocyxNLFQsYSxoLDcpO2xldCB4PU51bWJlcihzJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7YVtoKytdPXgseD4+PTgsYVtoKytdPXgseD4+PTgsYVtoKytdPXgseD4+PTgsYVtoKytdPXg7bGV0IFY9TnVtYmVyKHM+PkJpZ0ludCgzMikmQmlnSW50KDQyOTQ5NjcyOTUpKTtyZXR1cm4gYVtoKytdPVYsVj4+PTgsYVtoKytdPVYsVj4+PTgsYVtoKytdPVYsVj4+PTgsYVtoKytdPVYsaH1mdW5jdGlvbiBLKGEscyxoLE0sVCl7RChzLE0sVCxhLGgsNyk7bGV0IHg9TnVtYmVyKHMmQmlnSW50KDQyOTQ5NjcyOTUpKTthW2grN109eCx4Pj49OCxhW2grNl09eCx4Pj49OCxhW2grNV09eCx4Pj49OCxhW2grNF09eDtsZXQgVj1OdW1iZXIocz4+QmlnSW50KDMyKSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JldHVybiBhW2grM109VixWPj49OCxhW2grMl09VixWPj49OCxhW2grMV09VixWPj49OCxhW2hdPVYsaCs4fWZ1bmN0aW9uIEcoYSxzLGgsTSxULHgpe2lmKGgrTT5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihoPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24geihhLHMsaCxNLFQpe3JldHVybiBzPStzLGg+Pj49MCxUfHxHKGEsMCxoLDQpLGYud3JpdGUoYSxzLGgsTSwyMyw0KSxoKzR9ZnVuY3Rpb24gcmUoYSxzLGgsTSxUKXtyZXR1cm4gcz0rcyxoPj4+PTAsVHx8RyhhLDAsaCw4KSxmLndyaXRlKGEscyxoLE0sNTIsOCksaCs4fXUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGEscyl7bGV0IGg9dGhpcy5sZW5ndGg7KGE9fn5hKTwwPyhhKz1oKTwwJiYoYT0wKTphPmgmJihhPWgpLChzPXM9PT12b2lkIDA/aDp+fnMpPDA/KHMrPWgpPDAmJihzPTApOnM+aCYmKHM9aCksczxhJiYocz1hKTtsZXQgTT10aGlzLnN1YmFycmF5KGEscyk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihNLHUucHJvdG90eXBlKSxNfSx1LnByb3RvdHlwZS5yZWFkVWludExFPXUucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24oYSxzLGgpe2E+Pj49MCxzPj4+PTAsaHx8QShhLHMsdGhpcy5sZW5ndGgpO2xldCBNPXRoaXNbYV0sVD0xLHg9MDtmb3IoOysreDxzJiYoVCo9MjU2KTspTSs9dGhpc1thK3hdKlQ7cmV0dXJuIE19LHUucHJvdG90eXBlLnJlYWRVaW50QkU9dS5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbihhLHMsaCl7YT4+Pj0wLHM+Pj49MCxofHxBKGEscyx0aGlzLmxlbmd0aCk7bGV0IE09dGhpc1thKy0tc10sVD0xO2Zvcig7cz4wJiYoVCo9MjU2KTspTSs9dGhpc1thKy0tc10qVDtyZXR1cm4gTX0sdS5wcm90b3R5cGUucmVhZFVpbnQ4PXUucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbihhLHMpe3JldHVybiBhPj4+PTAsc3x8QShhLDEsdGhpcy5sZW5ndGgpLHRoaXNbYV19LHUucHJvdG90eXBlLnJlYWRVaW50MTZMRT11LnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24oYSxzKXtyZXR1cm4gYT4+Pj0wLHN8fEEoYSwyLHRoaXMubGVuZ3RoKSx0aGlzW2FdfHRoaXNbYSsxXTw8OH0sdS5wcm90b3R5cGUucmVhZFVpbnQxNkJFPXUucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihhLHMpe3JldHVybiBhPj4+PTAsc3x8QShhLDIsdGhpcy5sZW5ndGgpLHRoaXNbYV08PDh8dGhpc1thKzFdfSx1LnByb3RvdHlwZS5yZWFkVWludDMyTEU9dS5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGEscyl7cmV0dXJuIGE+Pj49MCxzfHxBKGEsNCx0aGlzLmxlbmd0aCksKHRoaXNbYV18dGhpc1thKzFdPDw4fHRoaXNbYSsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbYSszXX0sdS5wcm90b3R5cGUucmVhZFVpbnQzMkJFPXUucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihhLHMpe3JldHVybiBhPj4+PTAsc3x8QShhLDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbYV0rKHRoaXNbYSsxXTw8MTZ8dGhpc1thKzJdPDw4fHRoaXNbYSszXSl9LHUucHJvdG90eXBlLnJlYWRCaWdVSW50NjRMRT1uZShmdW5jdGlvbihhKXtFKGE+Pj49MCxcIm9mZnNldFwiKTtsZXQgcz10aGlzW2FdLGg9dGhpc1thKzddO3MhPT12b2lkIDAmJmghPT12b2lkIDB8fFcoYSx0aGlzLmxlbmd0aC04KTtsZXQgTT1zKzI1Nip0aGlzWysrYV0rNjU1MzYqdGhpc1srK2FdK3RoaXNbKythXSoyKioyNCxUPXRoaXNbKythXSsyNTYqdGhpc1srK2FdKzY1NTM2KnRoaXNbKythXStoKjIqKjI0O3JldHVybiBCaWdJbnQoTSkrKEJpZ0ludChUKTw8QmlnSW50KDMyKSl9KSx1LnByb3RvdHlwZS5yZWFkQmlnVUludDY0QkU9bmUoZnVuY3Rpb24oYSl7RShhPj4+PTAsXCJvZmZzZXRcIik7bGV0IHM9dGhpc1thXSxoPXRoaXNbYSs3XTtzIT09dm9pZCAwJiZoIT09dm9pZCAwfHxXKGEsdGhpcy5sZW5ndGgtOCk7bGV0IE09cyoyKioyNCs2NTUzNip0aGlzWysrYV0rMjU2KnRoaXNbKythXSt0aGlzWysrYV0sVD10aGlzWysrYV0qMioqMjQrNjU1MzYqdGhpc1srK2FdKzI1Nip0aGlzWysrYV0raDtyZXR1cm4oQmlnSW50KE0pPDxCaWdJbnQoMzIpKStCaWdJbnQoVCl9KSx1LnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24oYSxzLGgpe2E+Pj49MCxzPj4+PTAsaHx8QShhLHMsdGhpcy5sZW5ndGgpO2xldCBNPXRoaXNbYV0sVD0xLHg9MDtmb3IoOysreDxzJiYoVCo9MjU2KTspTSs9dGhpc1thK3hdKlQ7cmV0dXJuIFQqPTEyOCxNPj1UJiYoTS09TWF0aC5wb3coMiw4KnMpKSxNfSx1LnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24oYSxzLGgpe2E+Pj49MCxzPj4+PTAsaHx8QShhLHMsdGhpcy5sZW5ndGgpO2xldCBNPXMsVD0xLHg9dGhpc1thKy0tTV07Zm9yKDtNPjAmJihUKj0yNTYpOyl4Kz10aGlzW2ErLS1NXSpUO3JldHVybiBUKj0xMjgseD49VCYmKHgtPU1hdGgucG93KDIsOCpzKSkseH0sdS5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24oYSxzKXtyZXR1cm4gYT4+Pj0wLHN8fEEoYSwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1thXT8tMSooMjU1LXRoaXNbYV0rMSk6dGhpc1thXX0sdS5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24oYSxzKXthPj4+PTAsc3x8QShhLDIsdGhpcy5sZW5ndGgpO2xldCBoPXRoaXNbYV18dGhpc1thKzFdPDw4O3JldHVybiAzMjc2OCZoPzQyOTQ5MDE3NjB8aDpofSx1LnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihhLHMpe2E+Pj49MCxzfHxBKGEsMix0aGlzLmxlbmd0aCk7bGV0IGg9dGhpc1thKzFdfHRoaXNbYV08PDg7cmV0dXJuIDMyNzY4Jmg/NDI5NDkwMTc2MHxoOmh9LHUucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKGEscyl7cmV0dXJuIGE+Pj49MCxzfHxBKGEsNCx0aGlzLmxlbmd0aCksdGhpc1thXXx0aGlzW2ErMV08PDh8dGhpc1thKzJdPDwxNnx0aGlzW2ErM108PDI0fSx1LnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihhLHMpe3JldHVybiBhPj4+PTAsc3x8QShhLDQsdGhpcy5sZW5ndGgpLHRoaXNbYV08PDI0fHRoaXNbYSsxXTw8MTZ8dGhpc1thKzJdPDw4fHRoaXNbYSszXX0sdS5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEU9bmUoZnVuY3Rpb24oYSl7RShhPj4+PTAsXCJvZmZzZXRcIik7bGV0IHM9dGhpc1thXSxoPXRoaXNbYSs3XTtzIT09dm9pZCAwJiZoIT09dm9pZCAwfHxXKGEsdGhpcy5sZW5ndGgtOCk7bGV0IE09dGhpc1thKzRdKzI1Nip0aGlzW2ErNV0rNjU1MzYqdGhpc1thKzZdKyhoPDwyNCk7cmV0dXJuKEJpZ0ludChNKTw8QmlnSW50KDMyKSkrQmlnSW50KHMrMjU2KnRoaXNbKythXSs2NTUzNip0aGlzWysrYV0rdGhpc1srK2FdKjIqKjI0KX0pLHUucHJvdG90eXBlLnJlYWRCaWdJbnQ2NEJFPW5lKGZ1bmN0aW9uKGEpe0UoYT4+Pj0wLFwib2Zmc2V0XCIpO2xldCBzPXRoaXNbYV0saD10aGlzW2ErN107cyE9PXZvaWQgMCYmaCE9PXZvaWQgMHx8VyhhLHRoaXMubGVuZ3RoLTgpO2xldCBNPShzPDwyNCkrNjU1MzYqdGhpc1srK2FdKzI1Nip0aGlzWysrYV0rdGhpc1srK2FdO3JldHVybihCaWdJbnQoTSk8PEJpZ0ludCgzMikpK0JpZ0ludCh0aGlzWysrYV0qMioqMjQrNjU1MzYqdGhpc1srK2FdKzI1Nip0aGlzWysrYV0raCl9KSx1LnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihhLHMpe3JldHVybiBhPj4+PTAsc3x8QShhLDQsdGhpcy5sZW5ndGgpLGYucmVhZCh0aGlzLGEsITAsMjMsNCl9LHUucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGEscyl7cmV0dXJuIGE+Pj49MCxzfHxBKGEsNCx0aGlzLmxlbmd0aCksZi5yZWFkKHRoaXMsYSwhMSwyMyw0KX0sdS5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKGEscyl7cmV0dXJuIGE+Pj49MCxzfHxBKGEsOCx0aGlzLmxlbmd0aCksZi5yZWFkKHRoaXMsYSwhMCw1Miw4KX0sdS5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGEscyl7cmV0dXJuIGE+Pj49MCxzfHxBKGEsOCx0aGlzLmxlbmd0aCksZi5yZWFkKHRoaXMsYSwhMSw1Miw4KX0sdS5wcm90b3R5cGUud3JpdGVVaW50TEU9dS5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24oYSxzLGgsTSl7YT0rYSxzPj4+PTAsaD4+Pj0wLE18fGoodGhpcyxhLHMsaCxNYXRoLnBvdygyLDgqaCktMSwwKTtsZXQgVD0xLHg9MDtmb3IodGhpc1tzXT0yNTUmYTsrK3g8aCYmKFQqPTI1Nik7KXRoaXNbcyt4XT1hL1QmMjU1O3JldHVybiBzK2h9LHUucHJvdG90eXBlLndyaXRlVWludEJFPXUucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKGEscyxoLE0pe2E9K2Escz4+Pj0wLGg+Pj49MCxNfHxqKHRoaXMsYSxzLGgsTWF0aC5wb3coMiw4KmgpLTEsMCk7bGV0IFQ9aC0xLHg9MTtmb3IodGhpc1tzK1RdPTI1NSZhOy0tVD49MCYmKHgqPTI1Nik7KXRoaXNbcytUXT1hL3gmMjU1O3JldHVybiBzK2h9LHUucHJvdG90eXBlLndyaXRlVWludDg9dS5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIGE9K2Escz4+Pj0wLGh8fGoodGhpcyxhLHMsMSwyNTUsMCksdGhpc1tzXT0yNTUmYSxzKzF9LHUucHJvdG90eXBlLndyaXRlVWludDE2TEU9dS5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIGE9K2Escz4+Pj0wLGh8fGoodGhpcyxhLHMsMiw2NTUzNSwwKSx0aGlzW3NdPTI1NSZhLHRoaXNbcysxXT1hPj4+OCxzKzJ9LHUucHJvdG90eXBlLndyaXRlVWludDE2QkU9dS5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIGE9K2Escz4+Pj0wLGh8fGoodGhpcyxhLHMsMiw2NTUzNSwwKSx0aGlzW3NdPWE+Pj44LHRoaXNbcysxXT0yNTUmYSxzKzJ9LHUucHJvdG90eXBlLndyaXRlVWludDMyTEU9dS5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIGE9K2Escz4+Pj0wLGh8fGoodGhpcyxhLHMsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbcyszXT1hPj4+MjQsdGhpc1tzKzJdPWE+Pj4xNix0aGlzW3MrMV09YT4+PjgsdGhpc1tzXT0yNTUmYSxzKzR9LHUucHJvdG90eXBlLndyaXRlVWludDMyQkU9dS5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIGE9K2Escz4+Pj0wLGh8fGoodGhpcyxhLHMsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbc109YT4+PjI0LHRoaXNbcysxXT1hPj4+MTYsdGhpc1tzKzJdPWE+Pj44LHRoaXNbcyszXT0yNTUmYSxzKzR9LHUucHJvdG90eXBlLndyaXRlQmlnVUludDY0TEU9bmUoZnVuY3Rpb24oYSxzPTApe3JldHVybiBMKHRoaXMsYSxzLEJpZ0ludCgwKSxCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZcIikpfSksdS5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRCRT1uZShmdW5jdGlvbihhLHM9MCl7cmV0dXJuIEsodGhpcyxhLHMsQmlnSW50KDApLEJpZ0ludChcIjB4ZmZmZmZmZmZmZmZmZmZmZlwiKSl9KSx1LnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKGEscyxoLE0pe2lmKGE9K2Escz4+Pj0wLCFNKXtsZXQgaWU9TWF0aC5wb3coMiw4KmgtMSk7aih0aGlzLGEscyxoLGllLTEsLWllKX1sZXQgVD0wLHg9MSxWPTA7Zm9yKHRoaXNbc109MjU1JmE7KytUPGgmJih4Kj0yNTYpOylhPDAmJlY9PT0wJiZ0aGlzW3MrVC0xXSE9PTAmJihWPTEpLHRoaXNbcytUXT0oYS94Pj4wKS1WJjI1NTtyZXR1cm4gcytofSx1LnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKGEscyxoLE0pe2lmKGE9K2Escz4+Pj0wLCFNKXtsZXQgaWU9TWF0aC5wb3coMiw4KmgtMSk7aih0aGlzLGEscyxoLGllLTEsLWllKX1sZXQgVD1oLTEseD0xLFY9MDtmb3IodGhpc1tzK1RdPTI1NSZhOy0tVD49MCYmKHgqPTI1Nik7KWE8MCYmVj09PTAmJnRoaXNbcytUKzFdIT09MCYmKFY9MSksdGhpc1tzK1RdPShhL3g+PjApLVYmMjU1O3JldHVybiBzK2h9LHUucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIGE9K2Escz4+Pj0wLGh8fGoodGhpcyxhLHMsMSwxMjcsLTEyOCksYTwwJiYoYT0yNTUrYSsxKSx0aGlzW3NdPTI1NSZhLHMrMX0sdS5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKGEscyxoKXtyZXR1cm4gYT0rYSxzPj4+PTAsaHx8aih0aGlzLGEscywyLDMyNzY3LC0zMjc2OCksdGhpc1tzXT0yNTUmYSx0aGlzW3MrMV09YT4+PjgscysyfSx1LnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oYSxzLGgpe3JldHVybiBhPSthLHM+Pj49MCxofHxqKHRoaXMsYSxzLDIsMzI3NjcsLTMyNzY4KSx0aGlzW3NdPWE+Pj44LHRoaXNbcysxXT0yNTUmYSxzKzJ9LHUucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIGE9K2Escz4+Pj0wLGh8fGoodGhpcyxhLHMsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0aGlzW3NdPTI1NSZhLHRoaXNbcysxXT1hPj4+OCx0aGlzW3MrMl09YT4+PjE2LHRoaXNbcyszXT1hPj4+MjQscys0fSx1LnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24oYSxzLGgpe3JldHVybiBhPSthLHM+Pj49MCxofHxqKHRoaXMsYSxzLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksYTwwJiYoYT00Mjk0OTY3Mjk1K2ErMSksdGhpc1tzXT1hPj4+MjQsdGhpc1tzKzFdPWE+Pj4xNix0aGlzW3MrMl09YT4+PjgsdGhpc1tzKzNdPTI1NSZhLHMrNH0sdS5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFPW5lKGZ1bmN0aW9uKGEscz0wKXtyZXR1cm4gTCh0aGlzLGEscywtQmlnSW50KFwiMHg4MDAwMDAwMDAwMDAwMDAwXCIpLEJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZlwiKSl9KSx1LnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkU9bmUoZnVuY3Rpb24oYSxzPTApe3JldHVybiBLKHRoaXMsYSxzLC1CaWdJbnQoXCIweDgwMDAwMDAwMDAwMDAwMDBcIiksQmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmXCIpKX0pLHUucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIHoodGhpcyxhLHMsITAsaCl9LHUucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIHoodGhpcyxhLHMsITEsaCl9LHUucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oYSxzLGgpe3JldHVybiByZSh0aGlzLGEscywhMCxoKX0sdS5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbihhLHMsaCl7cmV0dXJuIHJlKHRoaXMsYSxzLCExLGgpfSx1LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGEscyxoLE0pe2lmKCF1LmlzQnVmZmVyKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXJcIik7aWYoaHx8KGg9MCksTXx8TT09PTB8fChNPXRoaXMubGVuZ3RoKSxzPj1hLmxlbmd0aCYmKHM9YS5sZW5ndGgpLHN8fChzPTApLE0+MCYmTTxoJiYoTT1oKSxNPT09aHx8YS5sZW5ndGg9PT0wfHx0aGlzLmxlbmd0aD09PTApcmV0dXJuIDA7aWYoczwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihoPDB8fGg+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKE08MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO00+dGhpcy5sZW5ndGgmJihNPXRoaXMubGVuZ3RoKSxhLmxlbmd0aC1zPE0taCYmKE09YS5sZW5ndGgtcytoKTtsZXQgVD1NLWg7cmV0dXJuIHRoaXM9PT1hJiZ0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj09XCJmdW5jdGlvblwiP3RoaXMuY29weVdpdGhpbihzLGgsTSk6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoYSx0aGlzLnN1YmFycmF5KGgsTSkscyksVH0sdS5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihhLHMsaCxNKXtpZih0eXBlb2YgYT09XCJzdHJpbmdcIil7aWYodHlwZW9mIHM9PVwic3RyaW5nXCI/KE09cyxzPTAsaD10aGlzLmxlbmd0aCk6dHlwZW9mIGg9PVwic3RyaW5nXCImJihNPWgsaD10aGlzLmxlbmd0aCksTSE9PXZvaWQgMCYmdHlwZW9mIE0hPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYodHlwZW9mIE09PVwic3RyaW5nXCImJiF1LmlzRW5jb2RpbmcoTSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK00pO2lmKGEubGVuZ3RoPT09MSl7bGV0IHg9YS5jaGFyQ29kZUF0KDApOyhNPT09XCJ1dGY4XCImJng8MTI4fHxNPT09XCJsYXRpbjFcIikmJihhPXgpfX1lbHNlIHR5cGVvZiBhPT1cIm51bWJlclwiP2EmPTI1NTp0eXBlb2YgYT09XCJib29sZWFuXCImJihhPU51bWJlcihhKSk7aWYoczwwfHx0aGlzLmxlbmd0aDxzfHx0aGlzLmxlbmd0aDxoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiT3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKGg8PXMpcmV0dXJuIHRoaXM7bGV0IFQ7aWYocz4+Pj0wLGg9aD09PXZvaWQgMD90aGlzLmxlbmd0aDpoPj4+MCxhfHwoYT0wKSx0eXBlb2YgYT09XCJudW1iZXJcIilmb3IoVD1zO1Q8aDsrK1QpdGhpc1tUXT1hO2Vsc2V7bGV0IHg9dS5pc0J1ZmZlcihhKT9hOnUuZnJvbShhLE0pLFY9eC5sZW5ndGg7aWYoVj09PTApdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJythKydcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKTtmb3IoVD0wO1Q8aC1zOysrVCl0aGlzW1Qrc109eFtUJVZdfXJldHVybiB0aGlzfTtsZXQgdGU9e307ZnVuY3Rpb24gdWUoYSxzLGgpe3RlW2FdPWNsYXNzIGV4dGVuZHMgaHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtZXNzYWdlXCIse3ZhbHVlOnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMubmFtZT1gJHt0aGlzLm5hbWV9IFske2F9XWAsdGhpcy5zdGFjayxkZWxldGUgdGhpcy5uYW1lfWdldCBjb2RlKCl7cmV0dXJuIGF9c2V0IGNvZGUoTSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb2RlXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOk0sd3JpdGFibGU6ITB9KX10b1N0cmluZygpe3JldHVybmAke3RoaXMubmFtZX0gWyR7YX1dOiAke3RoaXMubWVzc2FnZX1gfX19ZnVuY3Rpb24gbGUoYSl7bGV0IHM9XCJcIixoPWEubGVuZ3RoLE09YVswXT09PVwiLVwiPzE6MDtmb3IoO2g+PU0rNDtoLT0zKXM9YF8ke2Euc2xpY2UoaC0zLGgpfSR7c31gO3JldHVybmAke2Euc2xpY2UoMCxoKX0ke3N9YH1mdW5jdGlvbiBEKGEscyxoLE0sVCx4KXtpZihhPmh8fGE8cyl7bGV0IFY9dHlwZW9mIHM9PVwiYmlnaW50XCI/XCJuXCI6XCJcIixpZTt0aHJvdyBpZT14PjM/cz09PTB8fHM9PT1CaWdJbnQoMCk/YD49IDAke1Z9IGFuZCA8IDIke1Z9ICoqICR7OCooeCsxKX0ke1Z9YDpgPj0gLSgyJHtWfSAqKiAkezgqKHgrMSktMX0ke1Z9KSBhbmQgPCAyICoqICR7OCooeCsxKS0xfSR7Vn1gOmA+PSAke3N9JHtWfSBhbmQgPD0gJHtofSR7Vn1gLG5ldyB0ZS5FUlJfT1VUX09GX1JBTkdFKFwidmFsdWVcIixpZSxhKX0oZnVuY3Rpb24oVixpZSxzZSl7RShpZSxcIm9mZnNldFwiKSxWW2llXSE9PXZvaWQgMCYmVltpZStzZV0hPT12b2lkIDB8fFcoaWUsVi5sZW5ndGgtKHNlKzEpKX0pKE0sVCx4KX1mdW5jdGlvbiBFKGEscyl7aWYodHlwZW9mIGEhPVwibnVtYmVyXCIpdGhyb3cgbmV3IHRlLkVSUl9JTlZBTElEX0FSR19UWVBFKHMsXCJudW1iZXJcIixhKX1mdW5jdGlvbiBXKGEscyxoKXt0aHJvdyBNYXRoLmZsb29yKGEpIT09YT8oRShhLGgpLG5ldyB0ZS5FUlJfT1VUX09GX1JBTkdFKGh8fFwib2Zmc2V0XCIsXCJhbiBpbnRlZ2VyXCIsYSkpOnM8MD9uZXcgdGUuRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTOm5ldyB0ZS5FUlJfT1VUX09GX1JBTkdFKGh8fFwib2Zmc2V0XCIsYD49ICR7aD8xOjB9IGFuZCA8PSAke3N9YCxhKX11ZShcIkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EU1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2Ake2F9IGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kc2A6XCJBdHRlbXB0IHRvIGFjY2VzcyBtZW1vcnkgb3V0c2lkZSBidWZmZXIgYm91bmRzXCJ9LFJhbmdlRXJyb3IpLHVlKFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIixmdW5jdGlvbihhLHMpe3JldHVybmBUaGUgXCIke2F9XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBzfWB9LFR5cGVFcnJvciksdWUoXCJFUlJfT1VUX09GX1JBTkdFXCIsZnVuY3Rpb24oYSxzLGgpe2xldCBNPWBUaGUgdmFsdWUgb2YgXCIke2F9XCIgaXMgb3V0IG9mIHJhbmdlLmAsVD1oO3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKGgpJiZNYXRoLmFicyhoKT4yKiozMj9UPWxlKFN0cmluZyhoKSk6dHlwZW9mIGg9PVwiYmlnaW50XCImJihUPVN0cmluZyhoKSwoaD5CaWdJbnQoMikqKkJpZ0ludCgzMil8fGg8LShCaWdJbnQoMikqKkJpZ0ludCgzMikpKSYmKFQ9bGUoVCkpLFQrPVwiblwiKSxNKz1gIEl0IG11c3QgYmUgJHtzfS4gUmVjZWl2ZWQgJHtUfWAsTX0sUmFuZ2VFcnJvcik7bGV0IFg9L1teKy8wLTlBLVphLXotX10vZztmdW5jdGlvbiB2ZShhLHMpe2xldCBoO3M9c3x8MS8wO2xldCBNPWEubGVuZ3RoLFQ9bnVsbCx4PVtdO2ZvcihsZXQgVj0wO1Y8TTsrK1Ype2lmKGg9YS5jaGFyQ29kZUF0KFYpLGg+NTUyOTUmJmg8NTczNDQpe2lmKCFUKXtpZihoPjU2MzE5KXsocy09Myk+LTEmJngucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoVisxPT09TSl7KHMtPTMpPi0xJiZ4LnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfVQ9aDtjb250aW51ZX1pZihoPDU2MzIwKXsocy09Myk+LTEmJngucHVzaCgyMzksMTkxLDE4OSksVD1oO2NvbnRpbnVlfWg9NjU1MzYrKFQtNTUyOTY8PDEwfGgtNTYzMjApfWVsc2UgVCYmKHMtPTMpPi0xJiZ4LnB1c2goMjM5LDE5MSwxODkpO2lmKFQ9bnVsbCxoPDEyOCl7aWYoKHMtPTEpPDApYnJlYWs7eC5wdXNoKGgpfWVsc2UgaWYoaDwyMDQ4KXtpZigocy09Mik8MClicmVhazt4LnB1c2goaD4+NnwxOTIsNjMmaHwxMjgpfWVsc2UgaWYoaDw2NTUzNil7aWYoKHMtPTMpPDApYnJlYWs7eC5wdXNoKGg+PjEyfDIyNCxoPj42JjYzfDEyOCw2MyZofDEyOCl9ZWxzZXtpZighKGg8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO2lmKChzLT00KTwwKWJyZWFrO3gucHVzaChoPj4xOHwyNDAsaD4+MTImNjN8MTI4LGg+PjYmNjN8MTI4LDYzJmh8MTI4KX19cmV0dXJuIHh9ZnVuY3Rpb24gT2UoYSl7cmV0dXJuIG8udG9CeXRlQXJyYXkoZnVuY3Rpb24ocyl7aWYoKHM9KHM9cy5zcGxpdChcIj1cIilbMF0pLnRyaW0oKS5yZXBsYWNlKFgsXCJcIikpLmxlbmd0aDwyKXJldHVyblwiXCI7Zm9yKDtzLmxlbmd0aCU0IT0wOylzKz1cIj1cIjtyZXR1cm4gc30oYSkpfWZ1bmN0aW9uIGVlKGEscyxoLE0pe2xldCBUO2ZvcihUPTA7VDxNJiYhKFQraD49cy5sZW5ndGh8fFQ+PWEubGVuZ3RoKTsrK1Qpc1tUK2hdPWFbVF07cmV0dXJuIFR9ZnVuY3Rpb24gZmUoYSxzKXtyZXR1cm4gYSBpbnN0YW5jZW9mIHN8fGEhPW51bGwmJmEuY29uc3RydWN0b3IhPW51bGwmJmEuY29uc3RydWN0b3IubmFtZSE9bnVsbCYmYS5jb25zdHJ1Y3Rvci5uYW1lPT09cy5uYW1lfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhIT1hfWxldCBBZT1mdW5jdGlvbigpe2xldCBhPVwiMDEyMzQ1Njc4OWFiY2RlZlwiLHM9bmV3IEFycmF5KDI1Nik7Zm9yKGxldCBoPTA7aDwxNjsrK2gpe2xldCBNPTE2Kmg7Zm9yKGxldCBUPTA7VDwxNjsrK1Qpc1tNK1RdPWFbaF0rYVtUXX1yZXR1cm4gc30oKTtmdW5jdGlvbiBuZShhKXtyZXR1cm4gdHlwZW9mIEJpZ0ludD09XCJ1bmRlZmluZWRcIj9oZTphfWZ1bmN0aW9uIGhlKCl7dGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IG5vdCBzdXBwb3J0ZWRcIil9fSwxNDE6KGUsdCxuKT0+e1widXNlIHN0cmljdFwiO3QuQ29tbWVudGVkPW4oMjApLHQuRGlhZ25vc2U9big2OTQpLHQuRGVjb2Rlcj1uKDc3NCksdC5FbmNvZGVyPW4oNjY2KSx0LlNpbXBsZT1uKDMyKSx0LlRhZ2dlZD1uKDc4NSksdC5NYXA9big3MCksdC5VST10LkNvbW1lbnRlZC5jb21tZW50LHQuZkk9dC5EZWNvZGVyLmRlY29kZUFsbCx0Lmg4PXQuRGVjb2Rlci5kZWNvZGVGaXJzdCx0LmNjPXQuRGVjb2Rlci5kZWNvZGVBbGxTeW5jLHQuJHU9dC5EZWNvZGVyLmRlY29kZUZpcnN0U3luYyx0Lk09dC5EaWFnbm9zZS5kaWFnbm9zZSx0LmN2PXQuRW5jb2Rlci5lbmNvZGUsdC5OMj10LkVuY29kZXIuZW5jb2RlQ2Fub25pY2FsLHQuVEc9dC5FbmNvZGVyLmVuY29kZU9uZSx0LldSPXQuRW5jb2Rlci5lbmNvZGVBc3luYyx0Lkp4PXQuRGVjb2Rlci5kZWNvZGVGaXJzdFN5bmMsdC53dz17ZGVjb2RlOnQuRGVjb2Rlci5kZWNvZGVGaXJzdFN5bmMsZW5jb2RlOnQuRW5jb2Rlci5lbmNvZGUsYnVmZmVyOiEwLG5hbWU6XCJjYm9yXCJ9LHQubWM9ZnVuY3Rpb24oKXt0LkVuY29kZXIucmVzZXQoKSx0LlRhZ2dlZC5yZXNldCgpfX0sMjA6KGUsdCxuKT0+e1widXNlIHN0cmljdFwiO2xldCBvPW4oODMwKSxmPW4oODczKSx5PW4oNzc0KSxPPW4oMjAyKSx7TVQ6YixOVU1CWVRFUzp1LFNZTVM6cH09big2Nikse0J1ZmZlcjpJfT1uKDc2NCk7ZnVuY3Rpb24gUCh3KXtyZXR1cm4gdz4xP1wic1wiOlwiXCJ9Y2xhc3MgZyBleHRlbmRzIG8uVHJhbnNmb3Jte2NvbnN0cnVjdG9yKHY9e30pe2xldHtkZXB0aDptPTEsbWF4X2RlcHRoOlM9MTAsbm9fc3VtbWFyeTpfPSExLHRhZ3M6Qj17fSxwcmVmZXJXZWI6UixlbmNvZGluZzokLC4uLkZ9PXY7c3VwZXIoey4uLkYscmVhZGFibGVPYmplY3RNb2RlOiExLHdyaXRhYmxlT2JqZWN0TW9kZTohMX0pLHRoaXMuZGVwdGg9bSx0aGlzLm1heF9kZXB0aD1TLHRoaXMuYWxsPW5ldyBPLEJbMjRdfHwoQlsyNF09dGhpcy5fdGFnXzI0LmJpbmQodGhpcykpLHRoaXMucGFyc2VyPW5ldyB5KHt0YWdzOkIsbWF4X2RlcHRoOlMscHJlZmVyV2ViOlIsZW5jb2Rpbmc6JH0pLHRoaXMucGFyc2VyLm9uKFwidmFsdWVcIix0aGlzLl9vbl92YWx1ZS5iaW5kKHRoaXMpKSx0aGlzLnBhcnNlci5vbihcInN0YXJ0XCIsdGhpcy5fb25fc3RhcnQuYmluZCh0aGlzKSksdGhpcy5wYXJzZXIub24oXCJzdGFydC1zdHJpbmdcIix0aGlzLl9vbl9zdGFydF9zdHJpbmcuYmluZCh0aGlzKSksdGhpcy5wYXJzZXIub24oXCJzdG9wXCIsdGhpcy5fb25fc3RvcC5iaW5kKHRoaXMpKSx0aGlzLnBhcnNlci5vbihcIm1vcmUtYnl0ZXNcIix0aGlzLl9vbl9tb3JlLmJpbmQodGhpcykpLHRoaXMucGFyc2VyLm9uKFwiZXJyb3JcIix0aGlzLl9vbl9lcnJvci5iaW5kKHRoaXMpKSxffHx0aGlzLnBhcnNlci5vbihcImRhdGFcIix0aGlzLl9vbl9kYXRhLmJpbmQodGhpcykpLHRoaXMucGFyc2VyLmJzLm9uKFwicmVhZFwiLHRoaXMuX29uX3JlYWQuYmluZCh0aGlzKSl9X3RhZ18yNCh2KXtsZXQgbT1uZXcgZyh7ZGVwdGg6dGhpcy5kZXB0aCsxLG5vX3N1bW1hcnk6ITB9KTttLm9uKFwiZGF0YVwiLFM9PnRoaXMucHVzaChTKSksbS5vbihcImVycm9yXCIsUz0+dGhpcy5lbWl0KFwiZXJyb3JcIixTKSksbS5lbmQodil9X3RyYW5zZm9ybSh2LG0sUyl7dGhpcy5wYXJzZXIud3JpdGUodixtLFMpfV9mbHVzaCh2KXtyZXR1cm4gdGhpcy5wYXJzZXIuX2ZsdXNoKHYpfXN0YXRpYyBjb21tZW50KHYsbT17fSxTPW51bGwpe2lmKHY9PW51bGwpdGhyb3cgbmV3IEVycm9yKFwiaW5wdXQgcmVxdWlyZWRcIik7KHtvcHRpb25zOm0sY2I6U309ZnVuY3Rpb24oQyxZKXtzd2l0Y2godHlwZW9mIEMpe2Nhc2VcImZ1bmN0aW9uXCI6cmV0dXJue29wdGlvbnM6e30sY2I6Q307Y2FzZVwic3RyaW5nXCI6cmV0dXJue29wdGlvbnM6e2VuY29kaW5nOkN9LGNiOll9O2Nhc2VcIm51bWJlclwiOnJldHVybntvcHRpb25zOnttYXhfZGVwdGg6Q30sY2I6WX07Y2FzZVwib2JqZWN0XCI6cmV0dXJue29wdGlvbnM6Q3x8e30sY2I6WX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBvcHRpb24gdHlwZVwiKX19KG0sUykpO2xldCBfPW5ldyBPLHtlbmNvZGluZzpCPVwiaGV4XCIsLi4uUn09bSwkPW5ldyBnKFIpLEY9bnVsbDtyZXR1cm4gdHlwZW9mIFM9PVwiZnVuY3Rpb25cIj8oJC5vbihcImVuZFwiLCgpPT57UyhudWxsLF8udG9TdHJpbmcoXCJ1dGY4XCIpKX0pLCQub24oXCJlcnJvclwiLFMpKTpGPW5ldyBQcm9taXNlKChDLFkpPT57JC5vbihcImVuZFwiLCgpPT57QyhfLnRvU3RyaW5nKFwidXRmOFwiKSl9KSwkLm9uKFwiZXJyb3JcIixZKX0pLCQucGlwZShfKSxmLmd1ZXNzRW5jb2RpbmcodixCKS5waXBlKCQpLEZ9X29uX2Vycm9yKHYpe3RoaXMucHVzaChcIkVSUk9SOiBcIiksdGhpcy5wdXNoKHYudG9TdHJpbmcoKSksdGhpcy5wdXNoKGBcbmApfV9vbl9yZWFkKHYpe3RoaXMuYWxsLndyaXRlKHYpO2xldCBtPXYudG9TdHJpbmcoXCJoZXhcIik7dGhpcy5wdXNoKG5ldyBBcnJheSh0aGlzLmRlcHRoKzEpLmpvaW4oXCIgIFwiKSksdGhpcy5wdXNoKG0pO2xldCBTPTIqKHRoaXMubWF4X2RlcHRoLXRoaXMuZGVwdGgpLW0ubGVuZ3RoO1M8MSYmKFM9MSksdGhpcy5wdXNoKG5ldyBBcnJheShTKzEpLmpvaW4oXCIgXCIpKSx0aGlzLnB1c2goXCItLSBcIil9X29uX21vcmUodixtLFMsXyl7bGV0IEI9XCJcIjtzd2l0Y2godGhpcy5kZXB0aCsrLHYpe2Nhc2UgYi5QT1NfSU5UOkI9XCJQb3NpdGl2ZSBudW1iZXIsXCI7YnJlYWs7Y2FzZSBiLk5FR19JTlQ6Qj1cIk5lZ2F0aXZlIG51bWJlcixcIjticmVhaztjYXNlIGIuQVJSQVk6Qj1cIkFycmF5LCBsZW5ndGhcIjticmVhaztjYXNlIGIuTUFQOkI9XCJNYXAsIGNvdW50XCI7YnJlYWs7Y2FzZSBiLkJZVEVfU1RSSU5HOkI9XCJCeXRlcywgbGVuZ3RoXCI7YnJlYWs7Y2FzZSBiLlVURjhfU1RSSU5HOkI9XCJTdHJpbmcsIGxlbmd0aFwiO2JyZWFrO2Nhc2UgYi5TSU1QTEVfRkxPQVQ6Qj1tPT09MT9cIlNpbXBsZSB2YWx1ZSxcIjpcIkZsb2F0LFwifXRoaXMucHVzaChgJHtCfSBuZXh0ICR7bX0gYnl0ZSR7UChtKX1cbmApfV9vbl9zdGFydF9zdHJpbmcodixtLFMsXyl7bGV0IEI9XCJcIjtzd2l0Y2godGhpcy5kZXB0aCsrLHYpe2Nhc2UgYi5CWVRFX1NUUklORzpCPWBCeXRlcywgbGVuZ3RoOiAke219YDticmVhaztjYXNlIGIuVVRGOF9TVFJJTkc6Qj1gU3RyaW5nLCBsZW5ndGg6ICR7bS50b1N0cmluZygpfWB9dGhpcy5wdXNoKGAke0J9XG5gKX1fb25fc3RhcnQodixtLFMsXyl7c3dpdGNoKHRoaXMuZGVwdGgrKyxTKXtjYXNlIGIuQVJSQVk6dGhpcy5wdXNoKGBbJHtffV0sIGApO2JyZWFrO2Nhc2UgYi5NQVA6XyUyP3RoaXMucHVzaChge1ZhbDoke01hdGguZmxvb3IoXy8yKX19LCBgKTp0aGlzLnB1c2goYHtLZXk6JHtNYXRoLmZsb29yKF8vMil9fSwgYCl9c3dpdGNoKHYpe2Nhc2UgYi5UQUc6dGhpcy5wdXNoKGBUYWcgIyR7bX1gKSxtPT09MjQmJnRoaXMucHVzaChcIiBFbmNvZGVkIENCT1IgZGF0YSBpdGVtXCIpO2JyZWFrO2Nhc2UgYi5BUlJBWTptPT09cC5TVFJFQU0/dGhpcy5wdXNoKFwiQXJyYXkgKHN0cmVhbWluZylcIik6dGhpcy5wdXNoKGBBcnJheSwgJHttfSBpdGVtJHtQKG0pfWApO2JyZWFrO2Nhc2UgYi5NQVA6bT09PXAuU1RSRUFNP3RoaXMucHVzaChcIk1hcCAoc3RyZWFtaW5nKVwiKTp0aGlzLnB1c2goYE1hcCwgJHttfSBwYWlyJHtQKG0pfWApO2JyZWFrO2Nhc2UgYi5CWVRFX1NUUklORzp0aGlzLnB1c2goXCJCeXRlcyAoc3RyZWFtaW5nKVwiKTticmVhaztjYXNlIGIuVVRGOF9TVFJJTkc6dGhpcy5wdXNoKFwiU3RyaW5nIChzdHJlYW1pbmcpXCIpfXRoaXMucHVzaChgXG5gKX1fb25fc3RvcCh2KXt0aGlzLmRlcHRoLS19X29uX3ZhbHVlKHYsbSxTLF8pe2lmKHYhPT1wLkJSRUFLKXN3aXRjaChtKXtjYXNlIGIuQVJSQVk6dGhpcy5wdXNoKGBbJHtTfV0sIGApO2JyZWFrO2Nhc2UgYi5NQVA6UyUyP3RoaXMucHVzaChge1ZhbDoke01hdGguZmxvb3IoUy8yKX19LCBgKTp0aGlzLnB1c2goYHtLZXk6JHtNYXRoLmZsb29yKFMvMil9fSwgYCl9bGV0IEI9Zi5jYm9yVmFsdWVUb1N0cmluZyh2LC0xLzApO3N3aXRjaCh0eXBlb2Ygdj09XCJzdHJpbmdcInx8SS5pc0J1ZmZlcih2KT8odi5sZW5ndGg+MCYmKHRoaXMucHVzaChCKSx0aGlzLnB1c2goYFxuYCkpLHRoaXMuZGVwdGgtLSk6KHRoaXMucHVzaChCKSx0aGlzLnB1c2goYFxuYCkpLF8pe2Nhc2UgdS5PTkU6Y2FzZSB1LlRXTzpjYXNlIHUuRk9VUjpjYXNlIHUuRUlHSFQ6dGhpcy5kZXB0aC0tfX1fb25fZGF0YSgpe3RoaXMucHVzaChcIjB4XCIpLHRoaXMucHVzaCh0aGlzLmFsbC5yZWFkKCkudG9TdHJpbmcoXCJoZXhcIikpLHRoaXMucHVzaChgXG5gKX19ZS5leHBvcnRzPWd9LDY2OihlLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dC5NVD17UE9TX0lOVDowLE5FR19JTlQ6MSxCWVRFX1NUUklORzoyLFVURjhfU1RSSU5HOjMsQVJSQVk6NCxNQVA6NSxUQUc6NixTSU1QTEVfRkxPQVQ6N30sdC5UQUc9e0RBVEVfU1RSSU5HOjAsREFURV9FUE9DSDoxLFBPU19CSUdJTlQ6MixORUdfQklHSU5UOjMsREVDSU1BTF9GUkFDOjQsQklHRkxPQVQ6NSxCQVNFNjRVUkxfRVhQRUNURUQ6MjEsQkFTRTY0X0VYUEVDVEVEOjIyLEJBU0UxNl9FWFBFQ1RFRDoyMyxDQk9SOjI0LFVSSTozMixCQVNFNjRVUkw6MzMsQkFTRTY0OjM0LFJFR0VYUDozNSxNSU1FOjM2LFNFVDoyNTh9LHQuTlVNQllURVM9e1pFUk86MCxPTkU6MjQsVFdPOjI1LEZPVVI6MjYsRUlHSFQ6MjcsSU5ERUZJTklURTozMX0sdC5TSU1QTEU9e0ZBTFNFOjIwLFRSVUU6MjEsTlVMTDoyMixVTkRFRklORUQ6MjN9LHQuU1lNUz17TlVMTDpTeW1ib2wuZm9yKFwiZ2l0aHViLmNvbS9oaWxkamovbm9kZS1jYm9yL251bGxcIiksVU5ERUZJTkVEOlN5bWJvbC5mb3IoXCJnaXRodWIuY29tL2hpbGRqai9ub2RlLWNib3IvdW5kZWZcIiksUEFSRU5UOlN5bWJvbC5mb3IoXCJnaXRodWIuY29tL2hpbGRqai9ub2RlLWNib3IvcGFyZW50XCIpLEJSRUFLOlN5bWJvbC5mb3IoXCJnaXRodWIuY29tL2hpbGRqai9ub2RlLWNib3IvYnJlYWtcIiksU1RSRUFNOlN5bWJvbC5mb3IoXCJnaXRodWIuY29tL2hpbGRqai9ub2RlLWNib3Ivc3RyZWFtXCIpfSx0LlNISUZUMzI9NDI5NDk2NzI5Nix0LkJJPXtNSU5VU19PTkU6QmlnSW50KC0xKSxORUdfTUFYOkJpZ0ludCgtMSktQmlnSW50KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSxNQVhJTlQzMjpCaWdJbnQoXCIweGZmZmZmZmZmXCIpLE1BWElOVDY0OkJpZ0ludChcIjB4ZmZmZmZmZmZmZmZmZmZmZlwiKSxTSElGVDMyOkJpZ0ludCh0LlNISUZUMzIpfX0sNzc0OihlLHQsbik9PntcInVzZSBzdHJpY3RcIjtsZXQgbz1uKDcxKSxmPW4oNzg1KSx5PW4oMzIpLE89big4NzMpLGI9bigyMDIpLHU9KG4oODMwKSxuKDY2KSkse01UOnAsTlVNQllURVM6SSxTWU1TOlAsQkk6Z309dSx7QnVmZmVyOnd9PW4oNzY0KSx2PVN5bWJvbChcImNvdW50XCIpLG09U3ltYm9sKFwibWFqb3IgdHlwZVwiKSxTPVN5bWJvbChcImVycm9yXCIpLF89U3ltYm9sKFwibm90IGZvdW5kXCIpO2Z1bmN0aW9uIEIoWSxOLEgpe2xldCBKPVtdO3JldHVybiBKW3ZdPUgsSltQLlBBUkVOVF09WSxKW21dPU4sSn1mdW5jdGlvbiBSKFksTil7bGV0IEg9bmV3IGI7cmV0dXJuIEhbdl09LTEsSFtQLlBBUkVOVF09WSxIW21dPU4sSH1jbGFzcyAkIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoTixIKXtzdXBlcihgVW5leHBlY3RlZCBkYXRhOiAweCR7Ti50b1N0cmluZygxNil9YCksdGhpcy5uYW1lPVwiVW5leHBlY3RlZERhdGFFcnJvclwiLHRoaXMuYnl0ZT1OLHRoaXMudmFsdWU9SH19ZnVuY3Rpb24gRihZLE4pe3N3aXRjaCh0eXBlb2YgWSl7Y2FzZVwiZnVuY3Rpb25cIjpyZXR1cm57b3B0aW9uczp7fSxjYjpZfTtjYXNlXCJzdHJpbmdcIjpyZXR1cm57b3B0aW9uczp7ZW5jb2Rpbmc6WX0sY2I6Tn07Y2FzZVwib2JqZWN0XCI6cmV0dXJue29wdGlvbnM6WXx8e30sY2I6Tn07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBvcHRpb24gdHlwZVwiKX19Y2xhc3MgQyBleHRlbmRzIG97Y29uc3RydWN0b3IoTj17fSl7bGV0e3RhZ3M6SD17fSxtYXhfZGVwdGg6Sj0tMSxwcmVmZXJXZWI6Y2U9ITEscmVxdWlyZWQ6UT0hMSxlbmNvZGluZzpxPVwiaGV4XCIsZXh0ZW5kZWRSZXN1bHRzOm9lPSExLHByZXZlbnREdXBsaWNhdGVLZXlzOms9ITEsLi4uQX09TjtzdXBlcih7ZGVmYXVsdEVuY29kaW5nOnEsLi4uQX0pLHRoaXMucnVubmluZz0hMCx0aGlzLm1heF9kZXB0aD1KLHRoaXMudGFncz1ILHRoaXMucHJlZmVyV2ViPWNlLHRoaXMuZXh0ZW5kZWRSZXN1bHRzPW9lLHRoaXMucmVxdWlyZWQ9USx0aGlzLnByZXZlbnREdXBsaWNhdGVLZXlzPWssb2UmJih0aGlzLmJzLm9uKFwicmVhZFwiLHRoaXMuX29uUmVhZC5iaW5kKHRoaXMpKSx0aGlzLnZhbHVlQnl0ZXM9bmV3IGIpfXN0YXRpYyBudWxsY2hlY2soTil7c3dpdGNoKE4pe2Nhc2UgUC5OVUxMOnJldHVybiBudWxsO2Nhc2UgUC5VTkRFRklORUQ6cmV0dXJuO2Nhc2UgXzp0aHJvdyBuZXcgRXJyb3IoXCJWYWx1ZSBub3QgZm91bmRcIik7ZGVmYXVsdDpyZXR1cm4gTn19c3RhdGljIGRlY29kZUZpcnN0U3luYyhOLEg9e30pe2lmKE49PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcImlucHV0IHJlcXVpcmVkXCIpOyh7b3B0aW9uczpIfT1GKEgpKTtsZXR7ZW5jb2Rpbmc6Sj1cImhleFwiLC4uLmNlfT1ILFE9bmV3IEMoY2UpLHE9Ty5ndWVzc0VuY29kaW5nKE4sSiksb2U9US5fcGFyc2UoKSxrPW9lLm5leHQoKTtmb3IoOyFrLmRvbmU7KXtsZXQgaj1xLnJlYWQoay52YWx1ZSk7aWYoaj09bnVsbHx8ai5sZW5ndGghPT1rLnZhbHVlKXRocm93IG5ldyBFcnJvcihcIkluc3VmZmljaWVudCBkYXRhXCIpO1EuZXh0ZW5kZWRSZXN1bHRzJiZRLnZhbHVlQnl0ZXMud3JpdGUoaiksaz1vZS5uZXh0KGopfWxldCBBPW51bGw7aWYoUS5leHRlbmRlZFJlc3VsdHMpQT1rLnZhbHVlLEEudW51c2VkPXEucmVhZCgpO2Vsc2UgaWYoQT1DLm51bGxjaGVjayhrLnZhbHVlKSxxLmxlbmd0aD4wKXtsZXQgaj1xLnJlYWQoMSk7dGhyb3cgcS51bnNoaWZ0KGopLG5ldyAkKGpbMF0sQSl9cmV0dXJuIEF9c3RhdGljIGRlY29kZUFsbFN5bmMoTixIPXt9KXtpZihOPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnB1dCByZXF1aXJlZFwiKTsoe29wdGlvbnM6SH09RihIKSk7bGV0e2VuY29kaW5nOko9XCJoZXhcIiwuLi5jZX09SCxRPW5ldyBDKGNlKSxxPU8uZ3Vlc3NFbmNvZGluZyhOLEopLG9lPVtdO2Zvcig7cS5sZW5ndGg+MDspe2xldCBrPVEuX3BhcnNlKCksQT1rLm5leHQoKTtmb3IoOyFBLmRvbmU7KXtsZXQgaj1xLnJlYWQoQS52YWx1ZSk7aWYoaj09bnVsbHx8ai5sZW5ndGghPT1BLnZhbHVlKXRocm93IG5ldyBFcnJvcihcIkluc3VmZmljaWVudCBkYXRhXCIpO1EuZXh0ZW5kZWRSZXN1bHRzJiZRLnZhbHVlQnl0ZXMud3JpdGUoaiksQT1rLm5leHQoail9b2UucHVzaChDLm51bGxjaGVjayhBLnZhbHVlKSl9cmV0dXJuIG9lfXN0YXRpYyBkZWNvZGVGaXJzdChOLEg9e30sSj1udWxsKXtpZihOPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnB1dCByZXF1aXJlZFwiKTsoe29wdGlvbnM6SCxjYjpKfT1GKEgsSikpO2xldHtlbmNvZGluZzpjZT1cImhleFwiLHJlcXVpcmVkOlE9ITEsLi4ucX09SCxvZT1uZXcgQyhxKSxrPV8sQT1PLmd1ZXNzRW5jb2RpbmcoTixjZSksaj1uZXcgUHJvbWlzZSgoTCxLKT0+e29lLm9uKFwiZGF0YVwiLEc9PntrPUMubnVsbGNoZWNrKEcpLG9lLmNsb3NlKCl9KSxvZS5vbmNlKFwiZXJyb3JcIixHPT5vZS5leHRlbmRlZFJlc3VsdHMmJkcgaW5zdGFuY2VvZiAkPyhrLnVudXNlZD1vZS5icy5zbGljZSgpLEwoaykpOihrIT09XyYmKEcudmFsdWU9ayksaz1TLG9lLmNsb3NlKCksSyhHKSkpLG9lLm9uY2UoXCJlbmRcIiwoKT0+e3N3aXRjaChrKXtjYXNlIF86cmV0dXJuIFE/SyhuZXcgRXJyb3IoXCJObyBDQk9SIGZvdW5kXCIpKTpMKGspO2Nhc2UgUzpyZXR1cm47ZGVmYXVsdDpyZXR1cm4gTChrKX19KX0pO3JldHVybiB0eXBlb2YgSj09XCJmdW5jdGlvblwiJiZqLnRoZW4oTD0+SihudWxsLEwpLEopLEEucGlwZShvZSksan1zdGF0aWMgZGVjb2RlQWxsKE4sSD17fSxKPW51bGwpe2lmKE49PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcImlucHV0IHJlcXVpcmVkXCIpOyh7b3B0aW9uczpILGNiOkp9PUYoSCxKKSk7bGV0e2VuY29kaW5nOmNlPVwiaGV4XCIsLi4uUX09SCxxPW5ldyBDKFEpLG9lPVtdO3Eub24oXCJkYXRhXCIsQT0+b2UucHVzaChDLm51bGxjaGVjayhBKSkpO2xldCBrPW5ldyBQcm9taXNlKChBLGopPT57cS5vbihcImVycm9yXCIsaikscS5vbihcImVuZFwiLCgpPT5BKG9lKSl9KTtyZXR1cm4gdHlwZW9mIEo9PVwiZnVuY3Rpb25cIiYmay50aGVuKEE9Pkoodm9pZCAwLEEpLEE9PkooQSx2b2lkIDApKSxPLmd1ZXNzRW5jb2RpbmcoTixjZSkucGlwZShxKSxrfWNsb3NlKCl7dGhpcy5ydW5uaW5nPSExLHRoaXMuX19mcmVzaD0hMH1fb25SZWFkKE4pe3RoaXMudmFsdWVCeXRlcy53cml0ZShOKX0qX3BhcnNlKCl7bGV0IE49bnVsbCxIPTAsSj1udWxsO2Zvcig7Oyl7aWYodGhpcy5tYXhfZGVwdGg+PTAmJkg+dGhpcy5tYXhfZGVwdGgpdGhyb3cgbmV3IEVycm9yKGBNYXhpbXVtIGRlcHRoICR7dGhpcy5tYXhfZGVwdGh9IGV4Y2VlZGVkYCk7bGV0W2NlXT15aWVsZCAxO2lmKCF0aGlzLnJ1bm5pbmcpdGhyb3cgdGhpcy5icy51bnNoaWZ0KHcuZnJvbShbY2VdKSksbmV3ICQoY2UpO2xldCBRPWNlPj41LHE9MzEmY2Usb2U9Tj09bnVsbD92b2lkIDA6TlttXSxrPU49PW51bGw/dm9pZCAwOk4ubGVuZ3RoO3N3aXRjaChxKXtjYXNlIEkuT05FOnRoaXMuZW1pdChcIm1vcmUtYnl0ZXNcIixRLDEsb2UsayksW0pdPXlpZWxkIDE7YnJlYWs7Y2FzZSBJLlRXTzpjYXNlIEkuRk9VUjpjYXNlIEkuRUlHSFQ6e2xldCBqPTE8PHEtMjQ7dGhpcy5lbWl0KFwibW9yZS1ieXRlc1wiLFEsaixvZSxrKTtsZXQgTD15aWVsZCBqO0o9UT09PXAuU0lNUExFX0ZMT0FUP0w6Ty5wYXJzZUNCT1JpbnQocSxMKTticmVha31jYXNlIDI4OmNhc2UgMjk6Y2FzZSAzMDp0aHJvdyB0aGlzLnJ1bm5pbmc9ITEsbmV3IEVycm9yKGBBZGRpdGlvbmFsIGluZm8gbm90IGltcGxlbWVudGVkOiAke3F9YCk7Y2FzZSBJLklOREVGSU5JVEU6c3dpdGNoKFEpe2Nhc2UgcC5QT1NfSU5UOmNhc2UgcC5ORUdfSU5UOmNhc2UgcC5UQUc6dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGluZGVmaW5pdGUgZW5jb2RpbmcgZm9yIE1UICR7UX1gKX1KPS0xO2JyZWFrO2RlZmF1bHQ6Sj1xfXN3aXRjaChRKXtjYXNlIHAuUE9TX0lOVDpicmVhaztjYXNlIHAuTkVHX0lOVDpKPUo9PT1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUj9nLk5FR19NQVg6dHlwZW9mIEo9PVwiYmlnaW50XCI/Zy5NSU5VU19PTkUtSjotMS1KO2JyZWFrO2Nhc2UgcC5CWVRFX1NUUklORzpjYXNlIHAuVVRGOF9TVFJJTkc6c3dpdGNoKEope2Nhc2UgMDp0aGlzLmVtaXQoXCJzdGFydC1zdHJpbmdcIixRLEosb2UsayksSj1RPT09cC5VVEY4X1NUUklORz9cIlwiOnRoaXMucHJlZmVyV2ViP25ldyBVaW50OEFycmF5KDApOncuYWxsb2NVbnNhZmUoMCk7YnJlYWs7Y2FzZS0xOnRoaXMuZW1pdChcInN0YXJ0XCIsUSxQLlNUUkVBTSxvZSxrKSxOPVIoTixRKSxIKys7Y29udGludWU7ZGVmYXVsdDp0aGlzLmVtaXQoXCJzdGFydC1zdHJpbmdcIixRLEosb2UsayksSj15aWVsZCBKLFE9PT1wLlVURjhfU1RSSU5HP0o9Ty51dGY4KEopOnRoaXMucHJlZmVyV2ViJiYoSj1uZXcgVWludDhBcnJheShKLmJ1ZmZlcixKLmJ5dGVPZmZzZXQsSi5sZW5ndGgpKX1icmVhaztjYXNlIHAuQVJSQVk6Y2FzZSBwLk1BUDpzd2l0Y2goSil7Y2FzZSAwOko9UT09PXAuTUFQP3t9OltdO2JyZWFrO2Nhc2UtMTp0aGlzLmVtaXQoXCJzdGFydFwiLFEsUC5TVFJFQU0sb2UsayksTj1CKE4sUSwtMSksSCsrO2NvbnRpbnVlO2RlZmF1bHQ6dGhpcy5lbWl0KFwic3RhcnRcIixRLEosb2UsayksTj1CKE4sUSxKKihRLTMpKSxIKys7Y29udGludWV9YnJlYWs7Y2FzZSBwLlRBRzp0aGlzLmVtaXQoXCJzdGFydFwiLFEsSixvZSxrKSxOPUIoTixRLDEpLE4ucHVzaChKKSxIKys7Y29udGludWU7Y2FzZSBwLlNJTVBMRV9GTE9BVDppZih0eXBlb2YgSj09XCJudW1iZXJcIil7aWYocT09PUkuT05FJiZKPDMyKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0d28tYnl0ZSBlbmNvZGluZyBvZiBzaW1wbGUgdmFsdWUgJHtKfWApO2xldCBqPU4hPW51bGw7Sj15LmRlY29kZShKLGosaiYmTlt2XTwwKX1lbHNlIEo9Ty5wYXJzZUNCT1JmbG9hdChKKX10aGlzLmVtaXQoXCJ2YWx1ZVwiLEosb2UsayxxKTtsZXQgQT0hMTtmb3IoO04hPW51bGw7KXtpZihKPT09UC5CUkVBSylOW3ZdPTE7ZWxzZSBpZihBcnJheS5pc0FycmF5KE4pKU4ucHVzaChKKTtlbHNle2xldCBMPU5bbV07aWYoTCE9bnVsbCYmTCE9PVEpdGhyb3cgdGhpcy5ydW5uaW5nPSExLG5ldyBFcnJvcihcIkludmFsaWQgbWFqb3IgdHlwZSBpbiBpbmRlZmluaXRlIGVuY29kaW5nXCIpO04ud3JpdGUoSil9aWYoLS1OW3ZdIT0wKXtBPSEwO2JyZWFrfWlmKC0tSCxkZWxldGUgTlt2XSxBcnJheS5pc0FycmF5KE4pKXN3aXRjaChOW21dKXtjYXNlIHAuQVJSQVk6Sj1OO2JyZWFrO2Nhc2UgcC5NQVA6e2xldCBMPSEwO2lmKE4ubGVuZ3RoJTIhPTApdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1hcCBsZW5ndGg6ICR7Ti5sZW5ndGh9YCk7Zm9yKGxldCBLPTAsRz1OLmxlbmd0aDtLPEc7Sys9MilpZih0eXBlb2YgTltLXSE9XCJzdHJpbmdcInx8TltLXT09PVwiX19wcm90b19fXCIpe0w9ITE7YnJlYWt9aWYoTCl7Sj17fTtmb3IobGV0IEs9MCxHPU4ubGVuZ3RoO0s8RztLKz0yKXtpZih0aGlzLnByZXZlbnREdXBsaWNhdGVLZXlzJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoSixOW0tdKSl0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGUga2V5cyBpbiBhIG1hcFwiKTtKW05bS11dPU5bSysxXX19ZWxzZXtKPW5ldyBNYXA7Zm9yKGxldCBLPTAsRz1OLmxlbmd0aDtLPEc7Sys9Mil7aWYodGhpcy5wcmV2ZW50RHVwbGljYXRlS2V5cyYmSi5oYXMoTltLXSkpdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIGtleXMgaW4gYSBtYXBcIik7Si5zZXQoTltLXSxOW0srMV0pfX1icmVha31jYXNlIHAuVEFHOko9bmV3IGYoTlswXSxOWzFdKS5jb252ZXJ0KHRoaXMudGFncyl9ZWxzZSBpZihOIGluc3RhbmNlb2YgYilzd2l0Y2goTlttXSl7Y2FzZSBwLkJZVEVfU1RSSU5HOko9Ti5zbGljZSgpLHRoaXMucHJlZmVyV2ViJiYoSj1uZXcgVWludDhBcnJheShKLmJ1ZmZlcixKLmJ5dGVPZmZzZXQsSi5sZW5ndGgpKTticmVhaztjYXNlIHAuVVRGOF9TVFJJTkc6Sj1OLnRvU3RyaW5nKFwidXRmLThcIil9dGhpcy5lbWl0KFwic3RvcFwiLE5bbV0pO2xldCBqPU47Tj1OW1AuUEFSRU5UXSxkZWxldGUgaltQLlBBUkVOVF0sZGVsZXRlIGpbbV19aWYoIUEpe2lmKHRoaXMuZXh0ZW5kZWRSZXN1bHRzKXtsZXQgaj10aGlzLnZhbHVlQnl0ZXMuc2xpY2UoKSxMPXt2YWx1ZTpDLm51bGxjaGVjayhKKSxieXRlczpqLGxlbmd0aDpqLmxlbmd0aH07cmV0dXJuIHRoaXMudmFsdWVCeXRlcz1uZXcgYixMfXJldHVybiBKfX19fUMuTk9UX0ZPVU5EPV8sZS5leHBvcnRzPUN9LDY5NDooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7bGV0IG89big4MzApLGY9big3NzQpLHk9big4NzMpLE89bigyMDIpLHtNVDpiLFNZTVM6dX09big2Nik7Y2xhc3MgcCBleHRlbmRzIG8uVHJhbnNmb3Jte2NvbnN0cnVjdG9yKFA9e30pe2xldHtzZXBhcmF0b3I6Zz1gXG5gLHN0cmVhbV9lcnJvcnM6dz0hMSx0YWdzOnYsbWF4X2RlcHRoOm0scHJlZmVyV2ViOlMsZW5jb2Rpbmc6XywuLi5CfT1QO3N1cGVyKHsuLi5CLHJlYWRhYmxlT2JqZWN0TW9kZTohMSx3cml0YWJsZU9iamVjdE1vZGU6ITF9KSx0aGlzLmZsb2F0X2J5dGVzPS0xLHRoaXMuc2VwYXJhdG9yPWcsdGhpcy5zdHJlYW1fZXJyb3JzPXcsdGhpcy5wYXJzZXI9bmV3IGYoe3RhZ3M6dixtYXhfZGVwdGg6bSxwcmVmZXJXZWI6UyxlbmNvZGluZzpffSksdGhpcy5wYXJzZXIub24oXCJtb3JlLWJ5dGVzXCIsdGhpcy5fb25fbW9yZS5iaW5kKHRoaXMpKSx0aGlzLnBhcnNlci5vbihcInZhbHVlXCIsdGhpcy5fb25fdmFsdWUuYmluZCh0aGlzKSksdGhpcy5wYXJzZXIub24oXCJzdGFydFwiLHRoaXMuX29uX3N0YXJ0LmJpbmQodGhpcykpLHRoaXMucGFyc2VyLm9uKFwic3RvcFwiLHRoaXMuX29uX3N0b3AuYmluZCh0aGlzKSksdGhpcy5wYXJzZXIub24oXCJkYXRhXCIsdGhpcy5fb25fZGF0YS5iaW5kKHRoaXMpKSx0aGlzLnBhcnNlci5vbihcImVycm9yXCIsdGhpcy5fb25fZXJyb3IuYmluZCh0aGlzKSl9X3RyYW5zZm9ybShQLGcsdyl7cmV0dXJuIHRoaXMucGFyc2VyLndyaXRlKFAsZyx3KX1fZmx1c2goUCl7cmV0dXJuIHRoaXMucGFyc2VyLl9mbHVzaChnPT50aGlzLnN0cmVhbV9lcnJvcnM/KGcmJnRoaXMuX29uX2Vycm9yKGcpLFAoKSk6UChnKSl9c3RhdGljIGRpYWdub3NlKFAsZz17fSx3PW51bGwpe2lmKFA9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcImlucHV0IHJlcXVpcmVkXCIpOyh7b3B0aW9uczpnLGNiOnd9PWZ1bmN0aW9uKFIsJCl7c3dpdGNoKHR5cGVvZiBSKXtjYXNlXCJmdW5jdGlvblwiOnJldHVybntvcHRpb25zOnt9LGNiOlJ9O2Nhc2VcInN0cmluZ1wiOnJldHVybntvcHRpb25zOntlbmNvZGluZzpSfSxjYjokfTtjYXNlXCJvYmplY3RcIjpyZXR1cm57b3B0aW9uczpSfHx7fSxjYjokfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIG9wdGlvbiB0eXBlXCIpfX0oZyx3KSk7bGV0e2VuY29kaW5nOnY9XCJoZXhcIiwuLi5tfT1nLFM9bmV3IE8sXz1uZXcgcChtKSxCPW51bGw7cmV0dXJuIHR5cGVvZiB3PT1cImZ1bmN0aW9uXCI/KF8ub24oXCJlbmRcIiwoKT0+dyhudWxsLFMudG9TdHJpbmcoXCJ1dGY4XCIpKSksXy5vbihcImVycm9yXCIsdykpOkI9bmV3IFByb21pc2UoKFIsJCk9PntfLm9uKFwiZW5kXCIsKCk9PlIoUy50b1N0cmluZyhcInV0ZjhcIikpKSxfLm9uKFwiZXJyb3JcIiwkKX0pLF8ucGlwZShTKSx5Lmd1ZXNzRW5jb2RpbmcoUCx2KS5waXBlKF8pLEJ9X29uX2Vycm9yKFApe3RoaXMuc3RyZWFtX2Vycm9ycz90aGlzLnB1c2goUC50b1N0cmluZygpKTp0aGlzLmVtaXQoXCJlcnJvclwiLFApfV9vbl9tb3JlKFAsZyx3LHYpe1A9PT1iLlNJTVBMRV9GTE9BVCYmKHRoaXMuZmxvYXRfYnl0ZXM9ezI6MSw0OjIsODozfVtnXSl9X2ZvcmUoUCxnKXtzd2l0Y2goUCl7Y2FzZSBiLkJZVEVfU1RSSU5HOmNhc2UgYi5VVEY4X1NUUklORzpjYXNlIGIuQVJSQVk6Zz4wJiZ0aGlzLnB1c2goXCIsIFwiKTticmVhaztjYXNlIGIuTUFQOmc+MCYmKGclMj90aGlzLnB1c2goXCI6IFwiKTp0aGlzLnB1c2goXCIsIFwiKSl9fV9vbl92YWx1ZShQLGcsdyl7aWYoUD09PXUuQlJFQUspcmV0dXJuO3RoaXMuX2ZvcmUoZyx3KTtsZXQgdj10aGlzLmZsb2F0X2J5dGVzO3RoaXMuZmxvYXRfYnl0ZXM9LTEsdGhpcy5wdXNoKHkuY2JvclZhbHVlVG9TdHJpbmcoUCx2KSl9X29uX3N0YXJ0KFAsZyx3LHYpe3N3aXRjaCh0aGlzLl9mb3JlKHcsdiksUCl7Y2FzZSBiLlRBRzp0aGlzLnB1c2goYCR7Z30oYCk7YnJlYWs7Y2FzZSBiLkFSUkFZOnRoaXMucHVzaChcIltcIik7YnJlYWs7Y2FzZSBiLk1BUDp0aGlzLnB1c2goXCJ7XCIpO2JyZWFrO2Nhc2UgYi5CWVRFX1NUUklORzpjYXNlIGIuVVRGOF9TVFJJTkc6dGhpcy5wdXNoKFwiKFwiKX1nPT09dS5TVFJFQU0mJnRoaXMucHVzaChcIl8gXCIpfV9vbl9zdG9wKFApe3N3aXRjaChQKXtjYXNlIGIuVEFHOnRoaXMucHVzaChcIilcIik7YnJlYWs7Y2FzZSBiLkFSUkFZOnRoaXMucHVzaChcIl1cIik7YnJlYWs7Y2FzZSBiLk1BUDp0aGlzLnB1c2goXCJ9XCIpO2JyZWFrO2Nhc2UgYi5CWVRFX1NUUklORzpjYXNlIGIuVVRGOF9TVFJJTkc6dGhpcy5wdXNoKFwiKVwiKX19X29uX2RhdGEoKXt0aGlzLnB1c2godGhpcy5zZXBhcmF0b3IpfX1lLmV4cG9ydHM9cH0sNjY2OihlLHQsbik9PntcInVzZSBzdHJpY3RcIjtsZXQgbz1uKDgzMCksZj1uKDIwMikseT1uKDg3MyksTz1uKDY2KSx7TVQ6YixOVU1CWVRFUzp1LFNISUZUMzI6cCxTSU1QTEU6SSxTWU1TOlAsVEFHOmcsQkk6d309Tyx7QnVmZmVyOnZ9PW4oNzY0KSxtPWIuU0lNUExFX0ZMT0FUPDw1fHUuVFdPLFM9Yi5TSU1QTEVfRkxPQVQ8PDV8dS5GT1VSLF89Yi5TSU1QTEVfRkxPQVQ8PDV8dS5FSUdIVCxCPWIuU0lNUExFX0ZMT0FUPDw1fEkuVFJVRSxSPWIuU0lNUExFX0ZMT0FUPDw1fEkuRkFMU0UsJD1iLlNJTVBMRV9GTE9BVDw8NXxJLlVOREVGSU5FRCxGPWIuU0lNUExFX0ZMT0FUPDw1fEkuTlVMTCxDPXYuZnJvbShbMjU1XSksWT12LmZyb20oXCJmOTdlMDBcIixcImhleFwiKSxOPXYuZnJvbShcImY5ZmMwMFwiLFwiaGV4XCIpLEg9di5mcm9tKFwiZjk3YzAwXCIsXCJoZXhcIiksSj12LmZyb20oXCJmOTgwMDBcIixcImhleFwiKSxjZT17fSxRPXt9O2NsYXNzIHEgZXh0ZW5kcyBvLlRyYW5zZm9ybXtjb25zdHJ1Y3RvcihrPXt9KXtsZXR7Y2Fub25pY2FsOkE9ITEsZW5jb2RlVW5kZWZpbmVkOmosZGlzYWxsb3dVbmRlZmluZWRLZXlzOkw9ITEsZGF0ZVR5cGU6Sz1cIm51bWJlclwiLGNvbGxhcHNlQmlnSW50ZWdlcnM6Rz0hMSxkZXRlY3RMb29wczp6PSExLG9taXRVbmRlZmluZWRQcm9wZXJ0aWVzOnJlPSExLGdlblR5cGVzOnRlPVtdLC4uLnVlfT1rO2lmKHN1cGVyKHsuLi51ZSxyZWFkYWJsZU9iamVjdE1vZGU6ITEsd3JpdGFibGVPYmplY3RNb2RlOiEwfSksdGhpcy5jYW5vbmljYWw9QSx0aGlzLmVuY29kZVVuZGVmaW5lZD1qLHRoaXMuZGlzYWxsb3dVbmRlZmluZWRLZXlzPUwsdGhpcy5kYXRlVHlwZT1mdW5jdGlvbihsZSl7aWYoIWxlKXJldHVyblwibnVtYmVyXCI7c3dpdGNoKGxlLnRvTG93ZXJDYXNlKCkpe2Nhc2VcIm51bWJlclwiOnJldHVyblwibnVtYmVyXCI7Y2FzZVwiZmxvYXRcIjpyZXR1cm5cImZsb2F0XCI7Y2FzZVwiaW50XCI6Y2FzZVwiaW50ZWdlclwiOnJldHVyblwiaW50XCI7Y2FzZVwic3RyaW5nXCI6cmV0dXJuXCJzdHJpbmdcIn10aHJvdyBuZXcgVHlwZUVycm9yKGBkYXRlVHlwZSBpbnZhbGlkLCBnb3QgXCIke2xlfVwiYCl9KEspLHRoaXMuY29sbGFwc2VCaWdJbnRlZ2Vycz0hIXRoaXMuY2Fub25pY2FsfHxHLHRoaXMuZGV0ZWN0TG9vcHM9dm9pZCAwLHR5cGVvZiB6PT1cImJvb2xlYW5cIil6JiYodGhpcy5kZXRlY3RMb29wcz1uZXcgV2Vha1NldCk7ZWxzZXtpZighKHogaW5zdGFuY2VvZiBXZWFrU2V0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGV0ZWN0TG9vcHMgbXVzdCBiZSBib29sZWFuIG9yIFdlYWtTZXRcIik7dGhpcy5kZXRlY3RMb29wcz16fWlmKHRoaXMub21pdFVuZGVmaW5lZFByb3BlcnRpZXM9cmUsdGhpcy5zZW1hbnRpY1R5cGVzPXsuLi5xLlNFTUFOVElDX1RZUEVTfSxBcnJheS5pc0FycmF5KHRlKSlmb3IobGV0IGxlPTAsRD10ZS5sZW5ndGg7bGU8RDtsZSs9Mil0aGlzLmFkZFNlbWFudGljVHlwZSh0ZVtsZV0sdGVbbGUrMV0pO2Vsc2UgZm9yKGxldFtsZSxEXW9mIE9iamVjdC5lbnRyaWVzKHRlKSl0aGlzLmFkZFNlbWFudGljVHlwZShsZSxEKX1fdHJhbnNmb3JtKGssQSxqKXtyZXR1cm4gaih0aGlzLnB1c2hBbnkoayk9PT0hMT9uZXcgRXJyb3IoXCJQdXNoIEVycm9yXCIpOnZvaWQgMCl9X2ZsdXNoKGspe3JldHVybiBrKCl9X3B1c2hVSW50OChrKXtsZXQgQT12LmFsbG9jVW5zYWZlKDEpO3JldHVybiBBLndyaXRlVUludDgoaywwKSx0aGlzLnB1c2goQSl9X3B1c2hVSW50MTZCRShrKXtsZXQgQT12LmFsbG9jVW5zYWZlKDIpO3JldHVybiBBLndyaXRlVUludDE2QkUoaywwKSx0aGlzLnB1c2goQSl9X3B1c2hVSW50MzJCRShrKXtsZXQgQT12LmFsbG9jVW5zYWZlKDQpO3JldHVybiBBLndyaXRlVUludDMyQkUoaywwKSx0aGlzLnB1c2goQSl9X3B1c2hGbG9hdEJFKGspe2xldCBBPXYuYWxsb2NVbnNhZmUoNCk7cmV0dXJuIEEud3JpdGVGbG9hdEJFKGssMCksdGhpcy5wdXNoKEEpfV9wdXNoRG91YmxlQkUoayl7bGV0IEE9di5hbGxvY1Vuc2FmZSg4KTtyZXR1cm4gQS53cml0ZURvdWJsZUJFKGssMCksdGhpcy5wdXNoKEEpfV9wdXNoTmFOKCl7cmV0dXJuIHRoaXMucHVzaChZKX1fcHVzaEluZmluaXR5KGspe2xldCBBPWs8MD9OOkg7cmV0dXJuIHRoaXMucHVzaChBKX1fcHVzaEZsb2F0KGspe2lmKHRoaXMuY2Fub25pY2FsKXtsZXQgQT12LmFsbG9jVW5zYWZlKDIpO2lmKHkud3JpdGVIYWxmKEEsaykpcmV0dXJuIHRoaXMuX3B1c2hVSW50OChtKSYmdGhpcy5wdXNoKEEpfXJldHVybiBNYXRoLmZyb3VuZChrKT09PWs/dGhpcy5fcHVzaFVJbnQ4KFMpJiZ0aGlzLl9wdXNoRmxvYXRCRShrKTp0aGlzLl9wdXNoVUludDgoXykmJnRoaXMuX3B1c2hEb3VibGVCRShrKX1fcHVzaEludChrLEEsail7bGV0IEw9QTw8NTtpZihrPDI0KXJldHVybiB0aGlzLl9wdXNoVUludDgoTHxrKTtpZihrPD0yNTUpcmV0dXJuIHRoaXMuX3B1c2hVSW50OChMfHUuT05FKSYmdGhpcy5fcHVzaFVJbnQ4KGspO2lmKGs8PTY1NTM1KXJldHVybiB0aGlzLl9wdXNoVUludDgoTHx1LlRXTykmJnRoaXMuX3B1c2hVSW50MTZCRShrKTtpZihrPD00Mjk0OTY3Mjk1KXJldHVybiB0aGlzLl9wdXNoVUludDgoTHx1LkZPVVIpJiZ0aGlzLl9wdXNoVUludDMyQkUoayk7bGV0IEs9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7cmV0dXJuIEE9PT1iLk5FR19JTlQmJkstLSxrPD1LP3RoaXMuX3B1c2hVSW50OChMfHUuRUlHSFQpJiZ0aGlzLl9wdXNoVUludDMyQkUoTWF0aC5mbG9vcihrL3ApKSYmdGhpcy5fcHVzaFVJbnQzMkJFKGslcCk6QT09PWIuTkVHX0lOVD90aGlzLl9wdXNoRmxvYXQoaik6dGhpcy5fcHVzaEZsb2F0KGspfV9wdXNoSW50TnVtKGspe3JldHVybiBPYmplY3QuaXMoaywtMCk/dGhpcy5wdXNoKEopOms8MD90aGlzLl9wdXNoSW50KC1rLTEsYi5ORUdfSU5ULGspOnRoaXMuX3B1c2hJbnQoayxiLlBPU19JTlQpfV9wdXNoTnVtYmVyKGspe3JldHVybiBpc05hTihrKT90aGlzLl9wdXNoTmFOKCk6aXNGaW5pdGUoayk/TWF0aC5yb3VuZChrKT09PWs/dGhpcy5fcHVzaEludE51bShrKTp0aGlzLl9wdXNoRmxvYXQoayk6dGhpcy5fcHVzaEluZmluaXR5KGspfV9wdXNoU3RyaW5nKGspe2xldCBBPXYuYnl0ZUxlbmd0aChrLFwidXRmOFwiKTtyZXR1cm4gdGhpcy5fcHVzaEludChBLGIuVVRGOF9TVFJJTkcpJiZ0aGlzLnB1c2goayxcInV0ZjhcIil9X3B1c2hCb29sZWFuKGspe3JldHVybiB0aGlzLl9wdXNoVUludDgoaz9COlIpfV9wdXNoVW5kZWZpbmVkKGspe3N3aXRjaCh0eXBlb2YgdGhpcy5lbmNvZGVVbmRlZmluZWQpe2Nhc2VcInVuZGVmaW5lZFwiOnJldHVybiB0aGlzLl9wdXNoVUludDgoJCk7Y2FzZVwiZnVuY3Rpb25cIjpyZXR1cm4gdGhpcy5wdXNoQW55KHRoaXMuZW5jb2RlVW5kZWZpbmVkKGspKTtjYXNlXCJvYmplY3RcIjp7bGV0IEE9eS5idWZmZXJpc2hUb0J1ZmZlcih0aGlzLmVuY29kZVVuZGVmaW5lZCk7aWYoQSlyZXR1cm4gdGhpcy5wdXNoKEEpfX1yZXR1cm4gdGhpcy5wdXNoQW55KHRoaXMuZW5jb2RlVW5kZWZpbmVkKX1fcHVzaE51bGwoayl7cmV0dXJuIHRoaXMuX3B1c2hVSW50OChGKX1fcHVzaFRhZyhrKXtyZXR1cm4gdGhpcy5fcHVzaEludChrLGIuVEFHKX1fcHVzaEpTQmlnaW50KGspe2xldCBBPWIuUE9TX0lOVCxqPWcuUE9TX0JJR0lOVDtpZihrPDAmJihrPS1rK3cuTUlOVVNfT05FLEE9Yi5ORUdfSU5ULGo9Zy5ORUdfQklHSU5UKSx0aGlzLmNvbGxhcHNlQmlnSW50ZWdlcnMmJms8PXcuTUFYSU5UNjQpcmV0dXJuIGs8PTQyOTQ5NjcyOTU/dGhpcy5fcHVzaEludChOdW1iZXIoayksQSk6dGhpcy5fcHVzaFVJbnQ4KEE8PDV8dS5FSUdIVCkmJnRoaXMuX3B1c2hVSW50MzJCRShOdW1iZXIoay93LlNISUZUMzIpKSYmdGhpcy5fcHVzaFVJbnQzMkJFKE51bWJlcihrJXcuU0hJRlQzMikpO2xldCBMPWsudG9TdHJpbmcoMTYpO0wubGVuZ3RoJTImJihMPWAwJHtMfWApO2xldCBLPXYuZnJvbShMLFwiaGV4XCIpO3JldHVybiB0aGlzLl9wdXNoVGFnKGopJiZxLl9wdXNoQnVmZmVyKHRoaXMsSyl9X3B1c2hPYmplY3QoayxBKXtpZighaylyZXR1cm4gdGhpcy5fcHVzaE51bGwoayk7aWYoIShBPXtpbmRlZmluaXRlOiExLHNraXBUeXBlczohMSwuLi5BfSkuaW5kZWZpbml0ZSYmdGhpcy5kZXRlY3RMb29wcyl7aWYodGhpcy5kZXRlY3RMb29wcy5oYXMoaykpdGhyb3cgbmV3IEVycm9yKGBMb29wIGRldGVjdGVkIHdoaWxlIENCT1IgZW5jb2RpbmcuXG5DYWxsIHJlbW92ZUxvb3BEZXRlY3RvcnMgYmVmb3JlIHJlc3VtaW5nLmApO3RoaXMuZGV0ZWN0TG9vcHMuYWRkKGspfWlmKCFBLnNraXBUeXBlcyl7bGV0IEc9ay5lbmNvZGVDQk9SO2lmKHR5cGVvZiBHPT1cImZ1bmN0aW9uXCIpcmV0dXJuIEcuY2FsbChrLHRoaXMpO2xldCB6PXRoaXMuc2VtYW50aWNUeXBlc1trLmNvbnN0cnVjdG9yLm5hbWVdO2lmKHopcmV0dXJuIHouY2FsbChrLHRoaXMsayl9bGV0IGo9T2JqZWN0LmtleXMoaykuZmlsdGVyKEc9PntsZXQgej10eXBlb2Yga1tHXTtyZXR1cm4geiE9PVwiZnVuY3Rpb25cIiYmKCF0aGlzLm9taXRVbmRlZmluZWRQcm9wZXJ0aWVzfHx6IT09XCJ1bmRlZmluZWRcIil9KSxMPXt9O2lmKHRoaXMuY2Fub25pY2FsJiZqLnNvcnQoKEcseik9PntsZXQgcmU9TFtHXXx8KExbR109cS5lbmNvZGUoRykpLHRlPUxbel18fChMW3pdPXEuZW5jb2RlKHopKTtyZXR1cm4gcmUuY29tcGFyZSh0ZSl9KSxBLmluZGVmaW5pdGUpe2lmKCF0aGlzLl9wdXNoVUludDgoYi5NQVA8PDV8dS5JTkRFRklOSVRFKSlyZXR1cm4hMX1lbHNlIGlmKCF0aGlzLl9wdXNoSW50KGoubGVuZ3RoLGIuTUFQKSlyZXR1cm4hMTtsZXQgSz1udWxsO2ZvcihsZXQgRz0wLHo9ai5sZW5ndGg7Rzx6O0crKyl7bGV0IHJlPWpbR107aWYodGhpcy5jYW5vbmljYWwmJihLPUxbcmVdKSl7aWYoIXRoaXMucHVzaChLKSlyZXR1cm4hMX1lbHNlIGlmKCF0aGlzLl9wdXNoU3RyaW5nKHJlKSlyZXR1cm4hMTtpZighdGhpcy5wdXNoQW55KGtbcmVdKSlyZXR1cm4hMX1pZihBLmluZGVmaW5pdGUpe2lmKCF0aGlzLnB1c2goQykpcmV0dXJuITF9ZWxzZSB0aGlzLmRldGVjdExvb3BzJiZ0aGlzLmRldGVjdExvb3BzLmRlbGV0ZShrKTtyZXR1cm4hMH1fZW5jb2RlQWxsKGspe2xldCBBPW5ldyBmKHtoaWdoV2F0ZXJNYXJrOnRoaXMucmVhZGFibGVIaWdoV2F0ZXJNYXJrfSk7dGhpcy5waXBlKEEpO2ZvcihsZXQgaiBvZiBrKXRoaXMucHVzaEFueShqKTtyZXR1cm4gdGhpcy5lbmQoKSxBLnJlYWQoKX1hZGRTZW1hbnRpY1R5cGUoayxBKXtsZXQgaj10eXBlb2Ygaz09XCJzdHJpbmdcIj9rOmsubmFtZSxMPXRoaXMuc2VtYW50aWNUeXBlc1tqXTtpZihBKXtpZih0eXBlb2YgQSE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJmdW4gbXVzdCBiZSBvZiB0eXBlIGZ1bmN0aW9uXCIpO3RoaXMuc2VtYW50aWNUeXBlc1tqXT1BfWVsc2UgTCYmZGVsZXRlIHRoaXMuc2VtYW50aWNUeXBlc1tqXTtyZXR1cm4gTH1wdXNoQW55KGspe3N3aXRjaCh0eXBlb2Ygayl7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHRoaXMuX3B1c2hOdW1iZXIoayk7Y2FzZVwiYmlnaW50XCI6cmV0dXJuIHRoaXMuX3B1c2hKU0JpZ2ludChrKTtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdGhpcy5fcHVzaFN0cmluZyhrKTtjYXNlXCJib29sZWFuXCI6cmV0dXJuIHRoaXMuX3B1c2hCb29sZWFuKGspO2Nhc2VcInVuZGVmaW5lZFwiOnJldHVybiB0aGlzLl9wdXNoVW5kZWZpbmVkKGspO2Nhc2VcIm9iamVjdFwiOnJldHVybiB0aGlzLl9wdXNoT2JqZWN0KGspO2Nhc2VcInN5bWJvbFwiOnN3aXRjaChrKXtjYXNlIFAuTlVMTDpyZXR1cm4gdGhpcy5fcHVzaE51bGwobnVsbCk7Y2FzZSBQLlVOREVGSU5FRDpyZXR1cm4gdGhpcy5fcHVzaFVuZGVmaW5lZCh2b2lkIDApO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihgVW5rbm93biBzeW1ib2w6ICR7ay50b1N0cmluZygpfWApfWRlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihgVW5rbm93biB0eXBlOiAke3R5cGVvZiBrfSwgJHt0eXBlb2Ygay50b1N0cmluZz09XCJmdW5jdGlvblwiP2sudG9TdHJpbmcoKTpcIlwifWApfX1zdGF0aWMgcHVzaEFycmF5KGssQSxqKXtqPXtpbmRlZmluaXRlOiExLC4uLmp9O2xldCBMPUEubGVuZ3RoO2lmKGouaW5kZWZpbml0ZSl7aWYoIWsuX3B1c2hVSW50OChiLkFSUkFZPDw1fHUuSU5ERUZJTklURSkpcmV0dXJuITF9ZWxzZSBpZighay5fcHVzaEludChMLGIuQVJSQVkpKXJldHVybiExO2ZvcihsZXQgSz0wO0s8TDtLKyspaWYoIWsucHVzaEFueShBW0tdKSlyZXR1cm4hMTtyZXR1cm4hKGouaW5kZWZpbml0ZSYmIWsucHVzaChDKSl9cmVtb3ZlTG9vcERldGVjdG9ycygpe3JldHVybiEhdGhpcy5kZXRlY3RMb29wcyYmKHRoaXMuZGV0ZWN0TG9vcHM9bmV3IFdlYWtTZXQsITApfXN0YXRpYyBfcHVzaERhdGUoayxBKXtzd2l0Y2goay5kYXRlVHlwZSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIGsuX3B1c2hUYWcoZy5EQVRFX1NUUklORykmJmsuX3B1c2hTdHJpbmcoQS50b0lTT1N0cmluZygpKTtjYXNlXCJpbnRcIjpyZXR1cm4gay5fcHVzaFRhZyhnLkRBVEVfRVBPQ0gpJiZrLl9wdXNoSW50TnVtKE1hdGgucm91bmQoQS5nZXRUaW1lKCkvMWUzKSk7Y2FzZVwiZmxvYXRcIjpyZXR1cm4gay5fcHVzaFRhZyhnLkRBVEVfRVBPQ0gpJiZrLl9wdXNoRmxvYXQoQS5nZXRUaW1lKCkvMWUzKTtkZWZhdWx0OnJldHVybiBrLl9wdXNoVGFnKGcuREFURV9FUE9DSCkmJmsucHVzaEFueShBLmdldFRpbWUoKS8xZTMpfX1zdGF0aWMgX3B1c2hCdWZmZXIoayxBKXtyZXR1cm4gay5fcHVzaEludChBLmxlbmd0aCxiLkJZVEVfU1RSSU5HKSYmay5wdXNoKEEpfXN0YXRpYyBfcHVzaE5vRmlsdGVyKGssQSl7cmV0dXJuIHEuX3B1c2hCdWZmZXIoayxBLnNsaWNlKCkpfXN0YXRpYyBfcHVzaFJlZ2V4cChrLEEpe3JldHVybiBrLl9wdXNoVGFnKGcuUkVHRVhQKSYmay5wdXNoQW55KEEuc291cmNlKX1zdGF0aWMgX3B1c2hTZXQoayxBKXtpZighay5fcHVzaFRhZyhnLlNFVCl8fCFrLl9wdXNoSW50KEEuc2l6ZSxiLkFSUkFZKSlyZXR1cm4hMTtmb3IobGV0IGogb2YgQSlpZighay5wdXNoQW55KGopKXJldHVybiExO3JldHVybiEwfXN0YXRpYyBfcHVzaFVSTChrLEEpe3JldHVybiBrLl9wdXNoVGFnKGcuVVJJKSYmay5wdXNoQW55KEEudG9TdHJpbmcoKSl9c3RhdGljIF9wdXNoQm94ZWQoayxBKXtyZXR1cm4gay5wdXNoQW55KEEudmFsdWVPZigpKX1zdGF0aWMgX3B1c2hNYXAoayxBLGope2o9e2luZGVmaW5pdGU6ITEsLi4uan07bGV0IEw9Wy4uLkEuZW50cmllcygpXTtpZihrLm9taXRVbmRlZmluZWRQcm9wZXJ0aWVzJiYoTD1MLmZpbHRlcigoW0ssR10pPT5HIT09dm9pZCAwKSksai5pbmRlZmluaXRlKXtpZighay5fcHVzaFVJbnQ4KGIuTUFQPDw1fHUuSU5ERUZJTklURSkpcmV0dXJuITF9ZWxzZSBpZighay5fcHVzaEludChMLmxlbmd0aCxiLk1BUCkpcmV0dXJuITE7aWYoay5jYW5vbmljYWwpe2xldCBLPW5ldyBxKHtnZW5UeXBlczprLnNlbWFudGljVHlwZXMsY2Fub25pY2FsOmsuY2Fub25pY2FsLGRldGVjdExvb3BzOkJvb2xlYW4oay5kZXRlY3RMb29wcyksZGF0ZVR5cGU6ay5kYXRlVHlwZSxkaXNhbGxvd1VuZGVmaW5lZEtleXM6ay5kaXNhbGxvd1VuZGVmaW5lZEtleXMsY29sbGFwc2VCaWdJbnRlZ2VyczprLmNvbGxhcHNlQmlnSW50ZWdlcnN9KSxHPW5ldyBmKHtoaWdoV2F0ZXJNYXJrOmsucmVhZGFibGVIaWdoV2F0ZXJNYXJrfSk7Sy5waXBlKEcpLEwuc29ydCgoW3pdLFtyZV0pPT57Sy5wdXNoQW55KHopO2xldCB0ZT1HLnJlYWQoKTtLLnB1c2hBbnkocmUpO2xldCB1ZT1HLnJlYWQoKTtyZXR1cm4gdGUuY29tcGFyZSh1ZSl9KTtmb3IobGV0W3oscmVdb2YgTCl7aWYoay5kaXNhbGxvd1VuZGVmaW5lZEtleXMmJno9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBNYXAga2V5OiB1bmRlZmluZWRcIik7aWYoIWsucHVzaEFueSh6KXx8IWsucHVzaEFueShyZSkpcmV0dXJuITF9fWVsc2UgZm9yKGxldFtLLEddb2YgTCl7aWYoay5kaXNhbGxvd1VuZGVmaW5lZEtleXMmJks9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBNYXAga2V5OiB1bmRlZmluZWRcIik7aWYoIWsucHVzaEFueShLKXx8IWsucHVzaEFueShHKSlyZXR1cm4hMX1yZXR1cm4hKGouaW5kZWZpbml0ZSYmIWsucHVzaChDKSl9c3RhdGljIF9wdXNoVHlwZWRBcnJheShrLEEpe2xldCBqPTY0LEw9QS5CWVRFU19QRVJfRUxFTUVOVCx7bmFtZTpLfT1BLmNvbnN0cnVjdG9yO3JldHVybiBLLnN0YXJ0c1dpdGgoXCJGbG9hdFwiKT8oanw9MTYsTC89Mik6Sy5pbmNsdWRlcyhcIlVcIil8fChqfD04KSwoSy5pbmNsdWRlcyhcIkNsYW1wZWRcIil8fEwhPT0xJiYheS5pc0JpZ0VuZGlhbigpKSYmKGp8PTQpLGp8PXsxOjAsMjoxLDQ6Miw4OjN9W0xdLCEhay5fcHVzaFRhZyhqKSYmcS5fcHVzaEJ1ZmZlcihrLHYuZnJvbShBLmJ1ZmZlcixBLmJ5dGVPZmZzZXQsQS5ieXRlTGVuZ3RoKSl9c3RhdGljIF9wdXNoQXJyYXlCdWZmZXIoayxBKXtyZXR1cm4gcS5fcHVzaEJ1ZmZlcihrLHYuZnJvbShBKSl9c3RhdGljIGVuY29kZUluZGVmaW5pdGUoayxBLGo9e30pe2lmKEE9PW51bGwpe2lmKHRoaXM9PW51bGwpdGhyb3cgbmV3IEVycm9yKFwiTm8gb2JqZWN0IHRvIGVuY29kZVwiKTtBPXRoaXN9bGV0e2NodW5rU2l6ZTpMPTQwOTZ9PWosSz0hMCxHPXR5cGVvZiBBLHo9bnVsbDtpZihHPT09XCJzdHJpbmdcIil7Sz1LJiZrLl9wdXNoVUludDgoYi5VVEY4X1NUUklORzw8NXx1LklOREVGSU5JVEUpO2xldCByZT0wO2Zvcig7cmU8QS5sZW5ndGg7KXtsZXQgdGU9cmUrTDtLPUsmJmsuX3B1c2hTdHJpbmcoQS5zbGljZShyZSx0ZSkpLHJlPXRlfUs9SyYmay5wdXNoKEMpfWVsc2UgaWYoej15LmJ1ZmZlcmlzaFRvQnVmZmVyKEEpKXtLPUsmJmsuX3B1c2hVSW50OChiLkJZVEVfU1RSSU5HPDw1fHUuSU5ERUZJTklURSk7bGV0IHJlPTA7Zm9yKDtyZTx6Lmxlbmd0aDspe2xldCB0ZT1yZStMO0s9SyYmcS5fcHVzaEJ1ZmZlcihrLHouc2xpY2UocmUsdGUpKSxyZT10ZX1LPUsmJmsucHVzaChDKX1lbHNlIGlmKEFycmF5LmlzQXJyYXkoQSkpSz1LJiZxLnB1c2hBcnJheShrLEEse2luZGVmaW5pdGU6ITB9KTtlbHNlIGlmKEEgaW5zdGFuY2VvZiBNYXApSz1LJiZxLl9wdXNoTWFwKGssQSx7aW5kZWZpbml0ZTohMH0pO2Vsc2V7aWYoRyE9PVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbmRlZmluaXRlIGVuY29kaW5nXCIpO0s9SyYmay5fcHVzaE9iamVjdChBLHtpbmRlZmluaXRlOiEwLHNraXBUeXBlczohMH0pfXJldHVybiBLfXN0YXRpYyBlbmNvZGUoLi4uayl7cmV0dXJuIG5ldyBxKCkuX2VuY29kZUFsbChrKX1zdGF0aWMgZW5jb2RlQ2Fub25pY2FsKC4uLmspe3JldHVybiBuZXcgcSh7Y2Fub25pY2FsOiEwfSkuX2VuY29kZUFsbChrKX1zdGF0aWMgZW5jb2RlT25lKGssQSl7cmV0dXJuIG5ldyBxKEEpLl9lbmNvZGVBbGwoW2tdKX1zdGF0aWMgZW5jb2RlQXN5bmMoayxBKXtyZXR1cm4gbmV3IFByb21pc2UoKGosTCk9PntsZXQgSz1bXSxHPW5ldyBxKEEpO0cub24oXCJkYXRhXCIsej0+Sy5wdXNoKHopKSxHLm9uKFwiZXJyb3JcIixMKSxHLm9uKFwiZmluaXNoXCIsKCk9Pmoodi5jb25jYXQoSykpKSxHLnB1c2hBbnkoayksRy5lbmQoKX0pfXN0YXRpYyBnZXQgU0VNQU5USUNfVFlQRVMoKXtyZXR1cm4gUX1zdGF0aWMgc2V0IFNFTUFOVElDX1RZUEVTKGspe1E9a31zdGF0aWMgcmVzZXQoKXtxLlNFTUFOVElDX1RZUEVTPXsuLi5jZX19fU9iamVjdC5hc3NpZ24oY2Use0FycmF5OnEucHVzaEFycmF5LERhdGU6cS5fcHVzaERhdGUsQnVmZmVyOnEuX3B1c2hCdWZmZXIsW3YubmFtZV06cS5fcHVzaEJ1ZmZlcixNYXA6cS5fcHVzaE1hcCxOb0ZpbHRlcjpxLl9wdXNoTm9GaWx0ZXIsW2YubmFtZV06cS5fcHVzaE5vRmlsdGVyLFJlZ0V4cDpxLl9wdXNoUmVnZXhwLFNldDpxLl9wdXNoU2V0LEFycmF5QnVmZmVyOnEuX3B1c2hBcnJheUJ1ZmZlcixVaW50OENsYW1wZWRBcnJheTpxLl9wdXNoVHlwZWRBcnJheSxVaW50OEFycmF5OnEuX3B1c2hUeXBlZEFycmF5LFVpbnQxNkFycmF5OnEuX3B1c2hUeXBlZEFycmF5LFVpbnQzMkFycmF5OnEuX3B1c2hUeXBlZEFycmF5LEludDhBcnJheTpxLl9wdXNoVHlwZWRBcnJheSxJbnQxNkFycmF5OnEuX3B1c2hUeXBlZEFycmF5LEludDMyQXJyYXk6cS5fcHVzaFR5cGVkQXJyYXksRmxvYXQzMkFycmF5OnEuX3B1c2hUeXBlZEFycmF5LEZsb2F0NjRBcnJheTpxLl9wdXNoVHlwZWRBcnJheSxVUkw6cS5fcHVzaFVSTCxCb29sZWFuOnEuX3B1c2hCb3hlZCxOdW1iZXI6cS5fcHVzaEJveGVkLFN0cmluZzpxLl9wdXNoQm94ZWR9KSx0eXBlb2YgQmlnVWludDY0QXJyYXkhPVwidW5kZWZpbmVkXCImJihjZVtCaWdVaW50NjRBcnJheS5uYW1lXT1xLl9wdXNoVHlwZWRBcnJheSksdHlwZW9mIEJpZ0ludDY0QXJyYXkhPVwidW5kZWZpbmVkXCImJihjZVtCaWdJbnQ2NEFycmF5Lm5hbWVdPXEuX3B1c2hUeXBlZEFycmF5KSxxLnJlc2V0KCksZS5leHBvcnRzPXF9LDcwOihlLHQsbik9PntcInVzZSBzdHJpY3RcIjtsZXR7QnVmZmVyOm99PW4oNzY0KSxmPW4oNjY2KSx5PW4oNzc0KSx7TVQ6T309big2Nik7Y2xhc3MgYiBleHRlbmRzIE1hcHtjb25zdHJ1Y3RvcihwKXtzdXBlcihwKX1zdGF0aWMgX2VuY29kZShwKXtyZXR1cm4gZi5lbmNvZGVDYW5vbmljYWwocCkudG9TdHJpbmcoXCJiYXNlNjRcIil9c3RhdGljIF9kZWNvZGUocCl7cmV0dXJuIHkuZGVjb2RlRmlyc3RTeW5jKHAsXCJiYXNlNjRcIil9Z2V0KHApe3JldHVybiBzdXBlci5nZXQoYi5fZW5jb2RlKHApKX1zZXQocCxJKXtyZXR1cm4gc3VwZXIuc2V0KGIuX2VuY29kZShwKSxJKX1kZWxldGUocCl7cmV0dXJuIHN1cGVyLmRlbGV0ZShiLl9lbmNvZGUocCkpfWhhcyhwKXtyZXR1cm4gc3VwZXIuaGFzKGIuX2VuY29kZShwKSl9KmtleXMoKXtmb3IobGV0IHAgb2Ygc3VwZXIua2V5cygpKXlpZWxkIGIuX2RlY29kZShwKX0qZW50cmllcygpe2ZvcihsZXQgcCBvZiBzdXBlci5lbnRyaWVzKCkpeWllbGRbYi5fZGVjb2RlKHBbMF0pLHBbMV1dfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfWZvckVhY2gocCxJKXtpZih0eXBlb2YgcCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJNdXN0IGJlIGZ1bmN0aW9uXCIpO2ZvcihsZXQgUCBvZiBzdXBlci5lbnRyaWVzKCkpcC5jYWxsKHRoaXMsUFsxXSxiLl9kZWNvZGUoUFswXSksdGhpcyl9ZW5jb2RlQ0JPUihwKXtpZighcC5fcHVzaEludCh0aGlzLnNpemUsTy5NQVApKXJldHVybiExO2lmKHAuY2Fub25pY2FsKXtsZXQgST1BcnJheS5mcm9tKHN1cGVyLmVudHJpZXMoKSkubWFwKFA9PltvLmZyb20oUFswXSxcImJhc2U2NFwiKSxQWzFdXSk7SS5zb3J0KChQLGcpPT5QWzBdLmNvbXBhcmUoZ1swXSkpO2ZvcihsZXQgUCBvZiBJKWlmKCFwLnB1c2goUFswXSl8fCFwLnB1c2hBbnkoUFsxXSkpcmV0dXJuITF9ZWxzZSBmb3IobGV0IEkgb2Ygc3VwZXIuZW50cmllcygpKWlmKCFwLnB1c2goby5mcm9tKElbMF0sXCJiYXNlNjRcIikpfHwhcC5wdXNoQW55KElbMV0pKXJldHVybiExO3JldHVybiEwfX1lLmV4cG9ydHM9Yn0sMzI6KGUsdCxuKT0+e1widXNlIHN0cmljdFwiO2xldHtNVDpvLFNJTVBMRTpmLFNZTVM6eX09big2Nik7Y2xhc3MgT3tjb25zdHJ1Y3Rvcih1KXtpZih0eXBlb2YgdSE9XCJudW1iZXJcIil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFNpbXBsZSB0eXBlOiBcIit0eXBlb2YgdSk7aWYodTwwfHx1PjI1NXx8KDB8dSkhPT11KXRocm93IG5ldyBFcnJvcihgdmFsdWUgbXVzdCBiZSBhIHNtYWxsIHBvc2l0aXZlIGludGVnZXI6ICR7dX1gKTt0aGlzLnZhbHVlPXV9dG9TdHJpbmcoKXtyZXR1cm5gc2ltcGxlKCR7dGhpcy52YWx1ZX0pYH1bU3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpXSh1LHApe3JldHVybmBzaW1wbGUoJHt0aGlzLnZhbHVlfSlgfWVuY29kZUNCT1IodSl7cmV0dXJuIHUuX3B1c2hJbnQodGhpcy52YWx1ZSxvLlNJTVBMRV9GTE9BVCl9c3RhdGljIGlzU2ltcGxlKHUpe3JldHVybiB1IGluc3RhbmNlb2YgT31zdGF0aWMgZGVjb2RlKHUscD0hMCxJPSExKXtzd2l0Y2godSl7Y2FzZSBmLkZBTFNFOnJldHVybiExO2Nhc2UgZi5UUlVFOnJldHVybiEwO2Nhc2UgZi5OVUxMOnJldHVybiBwP251bGw6eS5OVUxMO2Nhc2UgZi5VTkRFRklORUQ6cmV0dXJuIHA/dm9pZCAwOnkuVU5ERUZJTkVEO2Nhc2UtMTppZighcHx8IUkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBCUkVBS1wiKTtyZXR1cm4geS5CUkVBSztkZWZhdWx0OnJldHVybiBuZXcgTyh1KX19fWUuZXhwb3J0cz1PfSw3ODU6KGUsdCxuKT0+e1widXNlIHN0cmljdFwiO2xldCBvPW4oNjYpLGY9big4NzMpLHk9U3ltYm9sKFwiSU5URVJOQUxfSlNPTlwiKTtmdW5jdGlvbiBPKG0sUyl7aWYoZi5pc0J1ZmZlcmlzaChtKSltLnRvSlNPTj1TO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShtKSlmb3IobGV0IF8gb2YgbSlPKF8sUyk7ZWxzZSBpZihtJiZ0eXBlb2YgbT09XCJvYmplY3RcIiYmKCEobSBpbnN0YW5jZW9mIHYpfHxtLnRhZzwyMXx8bS50YWc+MjMpKWZvcihsZXQgXyBvZiBPYmplY3QudmFsdWVzKG0pKU8oXyxTKX1mdW5jdGlvbiBiKCl7cmV0dXJuIGYuYmFzZTY0KHRoaXMpfWZ1bmN0aW9uIHUoKXtyZXR1cm4gZi5iYXNlNjR1cmwodGhpcyl9ZnVuY3Rpb24gcCgpe3JldHVybiB0aGlzLnRvU3RyaW5nKFwiaGV4XCIpfWxldCBJPXswOm09Pm5ldyBEYXRlKG0pLDE6bT0+bmV3IERhdGUoMWUzKm0pLDI6bT0+Zi5idWZmZXJUb0JpZ0ludChtKSwzOm09Pm8uQkkuTUlOVVNfT05FLWYuYnVmZmVyVG9CaWdJbnQobSksMjE6KG0sUyk9PihmLmlzQnVmZmVyaXNoKG0pP1NbeV09dTpPKG0sdSksUyksMjI6KG0sUyk9PihmLmlzQnVmZmVyaXNoKG0pP1NbeV09YjpPKG0sYiksUyksMjM6KG0sUyk9PihmLmlzQnVmZmVyaXNoKG0pP1NbeV09cDpPKG0scCksUyksMzI6bT0+bmV3IFVSTChtKSwzMzoobSxTKT0+e2lmKCFtLm1hdGNoKC9eW2EtekEtWjAtOV8tXSskLykpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjR1cmwgY2hhcmFjdGVyc1wiKTtsZXQgXz1tLmxlbmd0aCU0O2lmKF89PT0xKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0dXJsIGxlbmd0aFwiKTtpZihfPT09Mil7aWYoXCJBUWd3XCIuaW5kZXhPZihtW20ubGVuZ3RoLTFdKT09PS0xKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0IHBhZGRpbmdcIil9ZWxzZSBpZihfPT09MyYmXCJBRUlNUVVZY2drb3N3MDQ4XCIuaW5kZXhPZihtW20ubGVuZ3RoLTFdKT09PS0xKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0IHBhZGRpbmdcIik7cmV0dXJuIFN9LDM0OihtLFMpPT57bGV0IF89bS5tYXRjaCgvXlthLXpBLVowLTkrL10rKD88cGFkZGluZz49ezAsMn0pJC8pO2lmKCFfKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0IGNoYXJhY3RlcnNcIik7aWYobS5sZW5ndGglNCE9MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhc2U2NCBsZW5ndGhcIik7aWYoXy5ncm91cHMucGFkZGluZz09PVwiPVwiKXtpZihcIkFRZ3dcIi5pbmRleE9mKG1bbS5sZW5ndGgtMl0pPT09LTEpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgcGFkZGluZ1wiKX1lbHNlIGlmKF8uZ3JvdXBzLnBhZGRpbmc9PT1cIj09XCImJlwiQUVJTVFVWWNna29zdzA0OFwiLmluZGV4T2YobVttLmxlbmd0aC0zXSk9PT0tMSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhc2U2NCBwYWRkaW5nXCIpO3JldHVybiBTfSwzNTptPT5uZXcgUmVnRXhwKG0pLDI1ODptPT5uZXcgU2V0KG0pfSxQPXs2NDpVaW50OEFycmF5LDY1OlVpbnQxNkFycmF5LDY2OlVpbnQzMkFycmF5LDY4OlVpbnQ4Q2xhbXBlZEFycmF5LDY5OlVpbnQxNkFycmF5LDcwOlVpbnQzMkFycmF5LDcyOkludDhBcnJheSw3MzpJbnQxNkFycmF5LDc0OkludDMyQXJyYXksNzc6SW50MTZBcnJheSw3ODpJbnQzMkFycmF5LDgxOkZsb2F0MzJBcnJheSw4MjpGbG9hdDY0QXJyYXksODU6RmxvYXQzMkFycmF5LDg2OkZsb2F0NjRBcnJheX07ZnVuY3Rpb24gZyhtLFMpe2lmKCFmLmlzQnVmZmVyaXNoKG0pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbm90IGEgYnVmZmVyXCIpO2xldHt0YWc6X309UyxCPVBbX107aWYoIUIpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGVkIGFycmF5IHRhZzogJHtffWApO2xldCBSPTIqKigoKDE2Jl8pPj40KSsoMyZfKSk7cmV0dXJuISg0Jl8pIT09Zi5pc0JpZ0VuZGlhbigpJiZSPjEmJmZ1bmN0aW9uKCQsRixDLFkpe2xldCBOPW5ldyBEYXRhVmlldygkKSxbSCxKXT17MjpbTi5nZXRVaW50MTYsTi5zZXRVaW50MTZdLDQ6W04uZ2V0VWludDMyLE4uc2V0VWludDMyXSw4OltOLmdldEJpZ1VpbnQ2NCxOLnNldEJpZ1VpbnQ2NF19W0ZdLGNlPUMrWTtmb3IobGV0IFE9QztRPGNlO1ErPUYpSi5jYWxsKE4sUSxILmNhbGwoTixRLCEwKSl9KG0uYnVmZmVyLFIsbS5ieXRlT2Zmc2V0LG0uYnl0ZUxlbmd0aCksbmV3IEIobS5idWZmZXIuc2xpY2UobS5ieXRlT2Zmc2V0LG0uYnl0ZU9mZnNldCttLmJ5dGVMZW5ndGgpKX10eXBlb2YgQmlnVWludDY0QXJyYXkhPVwidW5kZWZpbmVkXCImJihQWzY3XT1CaWdVaW50NjRBcnJheSxQWzcxXT1CaWdVaW50NjRBcnJheSksdHlwZW9mIEJpZ0ludDY0QXJyYXkhPVwidW5kZWZpbmVkXCImJihQWzc1XT1CaWdJbnQ2NEFycmF5LFBbNzldPUJpZ0ludDY0QXJyYXkpO2ZvcihsZXQgbSBvZiBPYmplY3Qua2V5cyhQKSlJW21dPWc7bGV0IHc9e307Y2xhc3Mgdntjb25zdHJ1Y3RvcihTLF8sQil7aWYodGhpcy50YWc9Uyx0aGlzLnZhbHVlPV8sdGhpcy5lcnI9Qix0eXBlb2YgdGhpcy50YWchPVwibnVtYmVyXCIpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRhZyB0eXBlICgke3R5cGVvZiB0aGlzLnRhZ30pYCk7aWYodGhpcy50YWc8MHx8KDB8dGhpcy50YWcpIT09dGhpcy50YWcpdGhyb3cgbmV3IEVycm9yKGBUYWcgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXI6ICR7dGhpcy50YWd9YCl9dG9KU09OKCl7aWYodGhpc1t5XSlyZXR1cm4gdGhpc1t5XS5jYWxsKHRoaXMudmFsdWUpO2xldCBTPXt0YWc6dGhpcy50YWcsdmFsdWU6dGhpcy52YWx1ZX07cmV0dXJuIHRoaXMuZXJyJiYoUy5lcnI9dGhpcy5lcnIpLFN9dG9TdHJpbmcoKXtyZXR1cm5gJHt0aGlzLnRhZ30oJHtKU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlKX0pYH1lbmNvZGVDQk9SKFMpe3JldHVybiBTLl9wdXNoVGFnKHRoaXMudGFnKSxTLnB1c2hBbnkodGhpcy52YWx1ZSl9Y29udmVydChTKXtsZXQgXz1TPT1udWxsP3ZvaWQgMDpTW3RoaXMudGFnXTtpZih0eXBlb2YgXyE9XCJmdW5jdGlvblwiJiYoXz12LlRBR1NbdGhpcy50YWddLHR5cGVvZiBfIT1cImZ1bmN0aW9uXCIpKXJldHVybiB0aGlzO3RyeXtyZXR1cm4gXy5jYWxsKHRoaXMsdGhpcy52YWx1ZSx0aGlzKX1jYXRjaChCKXtyZXR1cm4gQiYmQi5tZXNzYWdlJiZCLm1lc3NhZ2UubGVuZ3RoPjA/dGhpcy5lcnI9Qi5tZXNzYWdlOnRoaXMuZXJyPUIsdGhpc319c3RhdGljIGdldCBUQUdTKCl7cmV0dXJuIHd9c3RhdGljIHNldCBUQUdTKFMpe3c9U31zdGF0aWMgcmVzZXQoKXt2LlRBR1M9ey4uLkl9fX12LklOVEVSTkFMX0pTT049eSx2LnJlc2V0KCksZS5leHBvcnRzPXZ9LDg3MzooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7bGV0e0J1ZmZlcjpvfT1uKDc2NCksZj1uKDIwMikseT1uKDgzMCksTz1uKDY2KSx7TlVNQllURVM6YixTSElGVDMyOnUsQkk6cCxTWU1TOkl9PU8sUD1uZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIse2ZhdGFsOiEwLGlnbm9yZUJPTTohMH0pO3QudXRmOD13PT5QLmRlY29kZSh3KSx0LnV0ZjguY2hlY2tzVVRGOD0hMCx0LmlzQnVmZmVyaXNoPWZ1bmN0aW9uKHcpe3JldHVybiB3JiZ0eXBlb2Ygdz09XCJvYmplY3RcIiYmKG8uaXNCdWZmZXIodyl8fHcgaW5zdGFuY2VvZiBVaW50OEFycmF5fHx3IGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fHcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dyBpbnN0YW5jZW9mIERhdGFWaWV3KX0sdC5idWZmZXJpc2hUb0J1ZmZlcj1mdW5jdGlvbih3KXtyZXR1cm4gby5pc0J1ZmZlcih3KT93OkFycmF5QnVmZmVyLmlzVmlldyh3KT9vLmZyb20ody5idWZmZXIsdy5ieXRlT2Zmc2V0LHcuYnl0ZUxlbmd0aCk6dyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP28uZnJvbSh3KTpudWxsfSx0LnBhcnNlQ0JPUmludD1mdW5jdGlvbih3LHYpe3N3aXRjaCh3KXtjYXNlIGIuT05FOnJldHVybiB2LnJlYWRVSW50OCgwKTtjYXNlIGIuVFdPOnJldHVybiB2LnJlYWRVSW50MTZCRSgwKTtjYXNlIGIuRk9VUjpyZXR1cm4gdi5yZWFkVUludDMyQkUoMCk7Y2FzZSBiLkVJR0hUOntsZXQgbT12LnJlYWRVSW50MzJCRSgwKSxTPXYucmVhZFVJbnQzMkJFKDQpO3JldHVybiBtPjIwOTcxNTE/QmlnSW50KG0pKnAuU0hJRlQzMitCaWdJbnQoUyk6bSp1K1N9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYWRkaXRpb25hbCBpbmZvIGZvciBpbnQ6ICR7d31gKX19LHQud3JpdGVIYWxmPWZ1bmN0aW9uKHcsdil7bGV0IG09by5hbGxvY1Vuc2FmZSg0KTttLndyaXRlRmxvYXRCRSh2LDApO2xldCBTPW0ucmVhZFVJbnQzMkJFKDApO2lmKCg4MTkxJlMpIT0wKXJldHVybiExO2xldCBfPVM+PjE2JjMyNzY4LEI9Uz4+MjMmMjU1LFI9ODM4ODYwNyZTO2lmKEI+PTExMyYmQjw9MTQyKV8rPShCLTExMjw8MTApKyhSPj4xMyk7ZWxzZXtpZighKEI+PTEwMyYmQjwxMTMpfHxSJigxPDwxMjYtQiktMSlyZXR1cm4hMTtfKz1SKzgzODg2MDg+PjEyNi1CfXJldHVybiB3LndyaXRlVUludDE2QkUoXyksITB9LHQucGFyc2VIYWxmPWZ1bmN0aW9uKHcpe2xldCB2PTEyOCZ3WzBdPy0xOjEsbT0oMTI0JndbMF0pPj4yLFM9KDMmd1swXSk8PDh8d1sxXTtyZXR1cm4gbT9tPT09MzE/diooUz9OYU46MS8wKTp2KjIqKihtLTI1KSooMTAyNCtTKTo1OTYwNDY0NDc3NTM5MDYzZS0yMyp2KlN9LHQucGFyc2VDQk9SZmxvYXQ9ZnVuY3Rpb24odyl7c3dpdGNoKHcubGVuZ3RoKXtjYXNlIDI6cmV0dXJuIHQucGFyc2VIYWxmKHcpO2Nhc2UgNDpyZXR1cm4gdy5yZWFkRmxvYXRCRSgwKTtjYXNlIDg6cmV0dXJuIHcucmVhZERvdWJsZUJFKDApO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZsb2F0IHNpemU6ICR7dy5sZW5ndGh9YCl9fSx0LmhleD1mdW5jdGlvbih3KXtyZXR1cm4gby5mcm9tKHcucmVwbGFjZSgvXjB4LyxcIlwiKSxcImhleFwiKX0sdC5iaW49ZnVuY3Rpb24odyl7bGV0IHY9MCxtPSh3PXcucmVwbGFjZSgvXFxzL2csXCJcIikpLmxlbmd0aCU4fHw4LFM9W107Zm9yKDttPD13Lmxlbmd0aDspUy5wdXNoKHBhcnNlSW50KHcuc2xpY2UodixtKSwyKSksdj1tLG0rPTg7cmV0dXJuIG8uZnJvbShTKX0sdC5hcnJheUVxdWFsPWZ1bmN0aW9uKHcsdil7cmV0dXJuIHc9PW51bGwmJnY9PW51bGx8fHchPW51bGwmJnYhPW51bGwmJncubGVuZ3RoPT09di5sZW5ndGgmJncuZXZlcnkoKG0sUyk9Pm09PT12W1NdKX0sdC5idWZmZXJUb0JpZ0ludD1mdW5jdGlvbih3KXtyZXR1cm4gQmlnSW50KGAweCR7dy50b1N0cmluZyhcImhleFwiKX1gKX0sdC5jYm9yVmFsdWVUb1N0cmluZz1mdW5jdGlvbih3LHY9LTEpe3N3aXRjaCh0eXBlb2Ygdyl7Y2FzZVwic3ltYm9sXCI6e3N3aXRjaCh3KXtjYXNlIEkuTlVMTDpyZXR1cm5cIm51bGxcIjtjYXNlIEkuVU5ERUZJTkVEOnJldHVyblwidW5kZWZpbmVkXCI7Y2FzZSBJLkJSRUFLOnJldHVyblwiQlJFQUtcIn1pZih3LmRlc2NyaXB0aW9uKXJldHVybiB3LmRlc2NyaXB0aW9uO2xldCBtPXcudG9TdHJpbmcoKS5tYXRjaCgvXlN5bWJvbFxcKCg/PG5hbWU+LiopXFwpLyk7cmV0dXJuIG0mJm0uZ3JvdXBzLm5hbWU/bS5ncm91cHMubmFtZTpcIlN5bWJvbFwifWNhc2VcInN0cmluZ1wiOnJldHVybiBKU09OLnN0cmluZ2lmeSh3KTtjYXNlXCJiaWdpbnRcIjpyZXR1cm4gdy50b1N0cmluZygpO2Nhc2VcIm51bWJlclwiOntsZXQgbT1PYmplY3QuaXModywtMCk/XCItMFwiOlN0cmluZyh3KTtyZXR1cm4gdj4wP2Ake219XyR7dn1gOm19Y2FzZVwib2JqZWN0XCI6e2xldCBtPXQuYnVmZmVyaXNoVG9CdWZmZXIodyk7aWYobSl7bGV0IFM9bS50b1N0cmluZyhcImhleFwiKTtyZXR1cm4gdj09PS0xLzA/UzpgaCcke1N9J2B9cmV0dXJuIHR5cGVvZiB3W1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKV09PVwiZnVuY3Rpb25cIj93W1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKV0oKTpBcnJheS5pc0FycmF5KHcpP1wiW11cIjpcInt9XCJ9fXJldHVybiBTdHJpbmcodyl9LHQuZ3Vlc3NFbmNvZGluZz1mdW5jdGlvbih3LHYpe2lmKHR5cGVvZiB3PT1cInN0cmluZ1wiKXJldHVybiBuZXcgZih3LHY/P1wiaGV4XCIpO2xldCBtPXQuYnVmZmVyaXNoVG9CdWZmZXIodyk7aWYobSlyZXR1cm4gbmV3IGYobSk7aWYoKFM9dylpbnN0YW5jZW9mIHkuUmVhZGFibGV8fFtcInJlYWRcIixcIm9uXCIsXCJwaXBlXCJdLmV2ZXJ5KF89PnR5cGVvZiBTW19dPT1cImZ1bmN0aW9uXCIpKXJldHVybiB3O3ZhciBTO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gaW5wdXQgdHlwZVwiKX07bGV0IGc9e1wiPVwiOlwiXCIsXCIrXCI6XCItXCIsXCIvXCI6XCJfXCJ9O3QuYmFzZTY0dXJsPWZ1bmN0aW9uKHcpe3JldHVybiB0LmJ1ZmZlcmlzaFRvQnVmZmVyKHcpLnRvU3RyaW5nKFwiYmFzZTY0XCIpLnJlcGxhY2UoL1s9Ky9dL2csdj0+Z1t2XSl9LHQuYmFzZTY0PWZ1bmN0aW9uKHcpe3JldHVybiB0LmJ1ZmZlcmlzaFRvQnVmZmVyKHcpLnRvU3RyaW5nKFwiYmFzZTY0XCIpfSx0LmlzQmlnRW5kaWFuPWZ1bmN0aW9uKCl7bGV0IHc9bmV3IFVpbnQ4QXJyYXkoNCk7cmV0dXJuISgobmV3IFVpbnQzMkFycmF5KHcuYnVmZmVyKVswXT0xKSZ3WzBdKX19LDIwMjooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7bGV0IG89big4MzApLHtCdWZmZXI6Zn09big3NjQpLHk9bmV3IFRleHREZWNvZGVyKFwidXRmOFwiLHtmYXRhbDohMCxpZ25vcmVCT006ITB9KTtjbGFzcyBPIGV4dGVuZHMgby5UcmFuc2Zvcm17Y29uc3RydWN0b3IodSxwLEk9e30pe2xldCBQPW51bGwsZz1udWxsO3N3aXRjaCh0eXBlb2YgdSl7Y2FzZVwib2JqZWN0XCI6Zi5pc0J1ZmZlcih1KT9QPXU6dSYmKEk9dSk7YnJlYWs7Y2FzZVwic3RyaW5nXCI6UD11O2JyZWFrO2Nhc2VcInVuZGVmaW5lZFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgaW5wdXRcIil9c3dpdGNoKHR5cGVvZiBwKXtjYXNlXCJvYmplY3RcIjpwJiYoST1wKTticmVhaztjYXNlXCJzdHJpbmdcIjpnPXA7YnJlYWs7Y2FzZVwidW5kZWZpbmVkXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBpbnB1dEVuY29kaW5nXCIpfWlmKCFJfHx0eXBlb2YgSSE9XCJvYmplY3RcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBvcHRpb25zXCIpO1A9PW51bGwmJihQPUkuaW5wdXQpLGc9PW51bGwmJihnPUkuaW5wdXRFbmNvZGluZyksZGVsZXRlIEkuaW5wdXQsZGVsZXRlIEkuaW5wdXRFbmNvZGluZztsZXQgdz1JLndhdGNoUGlwZT09bnVsbHx8SS53YXRjaFBpcGU7ZGVsZXRlIEkud2F0Y2hQaXBlO2xldCB2PUJvb2xlYW4oSS5yZWFkRXJyb3IpO2RlbGV0ZSBJLnJlYWRFcnJvcixzdXBlcihJKSx0aGlzLnJlYWRFcnJvcj12LHcmJnRoaXMub24oXCJwaXBlXCIsbT0+e2xldCBTPW0uX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZTtpZih0aGlzLmxlbmd0aD4wJiZTIT09dGhpcy5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlKXRocm93IG5ldyBFcnJvcihcIkRvIG5vdCBzd2l0Y2ggb2JqZWN0TW9kZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzdHJlYW1cIik7dGhpcy5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlPVMsdGhpcy5fd3JpdGFibGVTdGF0ZS5vYmplY3RNb2RlPVN9KSxQIT1udWxsJiZ0aGlzLmVuZChQLGcpfXN0YXRpYyBpc05vRmlsdGVyKHUpe3JldHVybiB1IGluc3RhbmNlb2YgdGhpc31zdGF0aWMgY29tcGFyZSh1LHApe2lmKCEodSBpbnN0YW5jZW9mIHRoaXMpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgbXVzdCBiZSBOb0ZpbHRlcnNcIik7cmV0dXJuIHU9PT1wPzA6dS5jb21wYXJlKHApfXN0YXRpYyBjb25jYXQodSxwKXtpZighQXJyYXkuaXNBcnJheSh1KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibGlzdCBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIE5vRmlsdGVyc1wiKTtpZih1Lmxlbmd0aD09PTB8fHA9PT0wKXJldHVybiBmLmFsbG9jKDApO3A9PW51bGwmJihwPXUucmVkdWNlKCh3LHYpPT57aWYoISh2IGluc3RhbmNlb2YgTykpdGhyb3cgbmV3IFR5cGVFcnJvcihcImxpc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBOb0ZpbHRlcnNcIik7cmV0dXJuIHcrdi5sZW5ndGh9LDApKTtsZXQgST0hMCxQPSEwLGc9dS5tYXAodz0+e2lmKCEodyBpbnN0YW5jZW9mIE8pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJsaXN0IGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgTm9GaWx0ZXJzXCIpO2xldCB2PXcuc2xpY2UoKTtyZXR1cm4gZi5pc0J1ZmZlcih2KT9QPSExOkk9ITEsdn0pO2lmKEkpcmV0dXJuIGYuY29uY2F0KGcscCk7aWYoUClyZXR1cm5bXS5jb25jYXQoLi4uZykuc2xpY2UoMCxwKTt0aHJvdyBuZXcgRXJyb3IoXCJDb25jYXRlbmF0aW5nIG1peGVkIG9iamVjdCBhbmQgYnl0ZSBzdHJlYW1zIG5vdCBzdXBwb3J0ZWRcIil9X3RyYW5zZm9ybSh1LHAsSSl7dGhpcy5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlfHxmLmlzQnVmZmVyKHUpfHwodT1mLmZyb20odSxwKSksdGhpcy5wdXNoKHUpLEkoKX1fYnVmQXJyYXkoKXtsZXQgdT10aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlcjtpZighQXJyYXkuaXNBcnJheSh1KSl7bGV0IHA9dS5oZWFkO2Zvcih1PVtdO3AhPW51bGw7KXUucHVzaChwLmRhdGEpLHA9cC5uZXh0fXJldHVybiB1fXJlYWQodSl7bGV0IHA9c3VwZXIucmVhZCh1KTtpZihwIT1udWxsKXtpZih0aGlzLmVtaXQoXCJyZWFkXCIscCksdGhpcy5yZWFkRXJyb3ImJnAubGVuZ3RoPHUpdGhyb3cgbmV3IEVycm9yKGBSZWFkICR7cC5sZW5ndGh9LCB3YW50ZWQgJHt1fWApfWVsc2UgaWYodGhpcy5yZWFkRXJyb3IpdGhyb3cgbmV3IEVycm9yKGBObyBkYXRhIGF2YWlsYWJsZSwgd2FudGVkICR7dX1gKTtyZXR1cm4gcH1yZWFkRnVsbCh1KXtsZXQgcD1udWxsLEk9bnVsbCxQPW51bGw7cmV0dXJuIG5ldyBQcm9taXNlKChnLHcpPT57dGhpcy5sZW5ndGg+PXU/Zyh0aGlzLnJlYWQodSkpOnRoaXMud3JpdGFibGVGaW5pc2hlZD93KG5ldyBFcnJvcihgU3RyZWFtIGZpbmlzaGVkIGJlZm9yZSAke3V9IGJ5dGVzIHdlcmUgYXZhaWxhYmxlYCkpOihwPXY9Pnt0aGlzLmxlbmd0aD49dSYmZyh0aGlzLnJlYWQodSkpfSxJPSgpPT57dyhuZXcgRXJyb3IoYFN0cmVhbSBmaW5pc2hlZCBiZWZvcmUgJHt1fSBieXRlcyB3ZXJlIGF2YWlsYWJsZWApKX0sUD13LHRoaXMub24oXCJyZWFkYWJsZVwiLHApLHRoaXMub24oXCJlcnJvclwiLFApLHRoaXMub24oXCJmaW5pc2hcIixJKSl9KS5maW5hbGx5KCgpPT57cCYmKHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJyZWFkYWJsZVwiLHApLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLFApLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixJKSl9KX1wcm9taXNlKHUpe2xldCBwPSExO3JldHVybiBuZXcgUHJvbWlzZSgoSSxQKT0+e3RoaXMub24oXCJmaW5pc2hcIiwoKT0+e2xldCBnPXRoaXMucmVhZCgpO3U9PW51bGx8fHB8fChwPSEwLHUobnVsbCxnKSksSShnKX0pLHRoaXMub24oXCJlcnJvclwiLGc9Pnt1PT1udWxsfHxwfHwocD0hMCx1KGcpKSxQKGcpfSl9KX1jb21wYXJlKHUpe2lmKCEodSBpbnN0YW5jZW9mIE8pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgbXVzdCBiZSBOb0ZpbHRlcnNcIik7aWYodGhpcz09PXUpcmV0dXJuIDA7bGV0IHA9dGhpcy5zbGljZSgpLEk9dS5zbGljZSgpO2lmKGYuaXNCdWZmZXIocCkmJmYuaXNCdWZmZXIoSSkpcmV0dXJuIHAuY29tcGFyZShJKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tcGFyZSBzdHJlYW1zIGluIG9iamVjdCBtb2RlXCIpfWVxdWFscyh1KXtyZXR1cm4gdGhpcy5jb21wYXJlKHUpPT09MH1zbGljZSh1LHApe2lmKHRoaXMuX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZSlyZXR1cm4gdGhpcy5fYnVmQXJyYXkoKS5zbGljZSh1LHApO2xldCBJPXRoaXMuX2J1ZkFycmF5KCk7c3dpdGNoKEkubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGYuYWxsb2MoMCk7Y2FzZSAxOnJldHVybiBJWzBdLnNsaWNlKHUscCk7ZGVmYXVsdDpyZXR1cm4gZi5jb25jYXQoSSkuc2xpY2UodSxwKX19Z2V0KHUpe3JldHVybiB0aGlzLnNsaWNlKClbdV19dG9KU09OKCl7bGV0IHU9dGhpcy5zbGljZSgpO3JldHVybiBmLmlzQnVmZmVyKHUpP3UudG9KU09OKCk6dX10b1N0cmluZyh1LHAsSSl7bGV0IFA9dGhpcy5zbGljZShwLEkpO3JldHVybiBmLmlzQnVmZmVyKFApP3UmJnUhPT1cInV0ZjhcIj9QLnRvU3RyaW5nKHUpOnkuZGVjb2RlKFApOkpTT04uc3RyaW5naWZ5KFApfVtTeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIildKHUscCl7bGV0IEk9dGhpcy5fYnVmQXJyYXkoKS5tYXAoUD0+Zi5pc0J1ZmZlcihQKT9wLnN0eWxpemUoUC50b1N0cmluZyhcImhleFwiKSxcInN0cmluZ1wiKTpKU09OLnN0cmluZ2lmeShQKSkuam9pbihcIiwgXCIpO3JldHVybmAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gWyR7SX1dYH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RofXdyaXRlQmlnSW50KHUpe2xldCBwPXUudG9TdHJpbmcoMTYpO2lmKHU8MCl7bGV0IEk9QmlnSW50KE1hdGguZmxvb3IocC5sZW5ndGgvMikpO3A9KHU9KEJpZ0ludCgxKTw8SSpCaWdJbnQoOCkpK3UpLnRvU3RyaW5nKDE2KX1yZXR1cm4gcC5sZW5ndGglMiYmKHA9YDAke3B9YCksdGhpcy5wdXNoKGYuZnJvbShwLFwiaGV4XCIpKX1yZWFkVUJpZ0ludCh1KXtsZXQgcD10aGlzLnJlYWQodSk7cmV0dXJuIGYuaXNCdWZmZXIocCk/QmlnSW50KGAweCR7cC50b1N0cmluZyhcImhleFwiKX1gKTpudWxsfXJlYWRCaWdJbnQodSl7bGV0IHA9dGhpcy5yZWFkKHUpO2lmKCFmLmlzQnVmZmVyKHApKXJldHVybiBudWxsO2xldCBJPUJpZ0ludChgMHgke3AudG9TdHJpbmcoXCJoZXhcIil9YCk7cmV0dXJuIDEyOCZwWzBdJiYoSS09QmlnSW50KDEpPDxCaWdJbnQocC5sZW5ndGgpKkJpZ0ludCg4KSksSX13cml0ZVVJbnQ4KHUpe2xldCBwPWYuZnJvbShbdV0pO3JldHVybiB0aGlzLnB1c2gocCl9d3JpdGVVSW50MTZMRSh1KXtsZXQgcD1mLmFsbG9jKDIpO3JldHVybiBwLndyaXRlVUludDE2TEUodSksdGhpcy5wdXNoKHApfXdyaXRlVUludDE2QkUodSl7bGV0IHA9Zi5hbGxvYygyKTtyZXR1cm4gcC53cml0ZVVJbnQxNkJFKHUpLHRoaXMucHVzaChwKX13cml0ZVVJbnQzMkxFKHUpe2xldCBwPWYuYWxsb2MoNCk7cmV0dXJuIHAud3JpdGVVSW50MzJMRSh1KSx0aGlzLnB1c2gocCl9d3JpdGVVSW50MzJCRSh1KXtsZXQgcD1mLmFsbG9jKDQpO3JldHVybiBwLndyaXRlVUludDMyQkUodSksdGhpcy5wdXNoKHApfXdyaXRlSW50OCh1KXtsZXQgcD1mLmZyb20oW3VdKTtyZXR1cm4gdGhpcy5wdXNoKHApfXdyaXRlSW50MTZMRSh1KXtsZXQgcD1mLmFsbG9jKDIpO3JldHVybiBwLndyaXRlVUludDE2TEUodSksdGhpcy5wdXNoKHApfXdyaXRlSW50MTZCRSh1KXtsZXQgcD1mLmFsbG9jKDIpO3JldHVybiBwLndyaXRlVUludDE2QkUodSksdGhpcy5wdXNoKHApfXdyaXRlSW50MzJMRSh1KXtsZXQgcD1mLmFsbG9jKDQpO3JldHVybiBwLndyaXRlVUludDMyTEUodSksdGhpcy5wdXNoKHApfXdyaXRlSW50MzJCRSh1KXtsZXQgcD1mLmFsbG9jKDQpO3JldHVybiBwLndyaXRlVUludDMyQkUodSksdGhpcy5wdXNoKHApfXdyaXRlRmxvYXRMRSh1KXtsZXQgcD1mLmFsbG9jKDQpO3JldHVybiBwLndyaXRlRmxvYXRMRSh1KSx0aGlzLnB1c2gocCl9d3JpdGVGbG9hdEJFKHUpe2xldCBwPWYuYWxsb2MoNCk7cmV0dXJuIHAud3JpdGVGbG9hdEJFKHUpLHRoaXMucHVzaChwKX13cml0ZURvdWJsZUxFKHUpe2xldCBwPWYuYWxsb2MoOCk7cmV0dXJuIHAud3JpdGVEb3VibGVMRSh1KSx0aGlzLnB1c2gocCl9d3JpdGVEb3VibGVCRSh1KXtsZXQgcD1mLmFsbG9jKDgpO3JldHVybiBwLndyaXRlRG91YmxlQkUodSksdGhpcy5wdXNoKHApfXdyaXRlQmlnSW50NjRMRSh1KXtsZXQgcD1mLmFsbG9jKDgpO3JldHVybiBwLndyaXRlQmlnSW50NjRMRSh1KSx0aGlzLnB1c2gocCl9d3JpdGVCaWdJbnQ2NEJFKHUpe2xldCBwPWYuYWxsb2MoOCk7cmV0dXJuIHAud3JpdGVCaWdJbnQ2NEJFKHUpLHRoaXMucHVzaChwKX13cml0ZUJpZ1VJbnQ2NExFKHUpe2xldCBwPWYuYWxsb2MoOCk7cmV0dXJuIHAud3JpdGVCaWdVSW50NjRMRSh1KSx0aGlzLnB1c2gocCl9d3JpdGVCaWdVSW50NjRCRSh1KXtsZXQgcD1mLmFsbG9jKDgpO3JldHVybiBwLndyaXRlQmlnVUludDY0QkUodSksdGhpcy5wdXNoKHApfXJlYWRVSW50OCgpe2xldCB1PXRoaXMucmVhZCgxKTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWRVSW50OCgpOm51bGx9cmVhZFVJbnQxNkxFKCl7bGV0IHU9dGhpcy5yZWFkKDIpO3JldHVybiBmLmlzQnVmZmVyKHUpP3UucmVhZFVJbnQxNkxFKCk6bnVsbH1yZWFkVUludDE2QkUoKXtsZXQgdT10aGlzLnJlYWQoMik7cmV0dXJuIGYuaXNCdWZmZXIodSk/dS5yZWFkVUludDE2QkUoKTpudWxsfXJlYWRVSW50MzJMRSgpe2xldCB1PXRoaXMucmVhZCg0KTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWRVSW50MzJMRSgpOm51bGx9cmVhZFVJbnQzMkJFKCl7bGV0IHU9dGhpcy5yZWFkKDQpO3JldHVybiBmLmlzQnVmZmVyKHUpP3UucmVhZFVJbnQzMkJFKCk6bnVsbH1yZWFkSW50OCgpe2xldCB1PXRoaXMucmVhZCgxKTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWRJbnQ4KCk6bnVsbH1yZWFkSW50MTZMRSgpe2xldCB1PXRoaXMucmVhZCgyKTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWRJbnQxNkxFKCk6bnVsbH1yZWFkSW50MTZCRSgpe2xldCB1PXRoaXMucmVhZCgyKTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWRJbnQxNkJFKCk6bnVsbH1yZWFkSW50MzJMRSgpe2xldCB1PXRoaXMucmVhZCg0KTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWRJbnQzMkxFKCk6bnVsbH1yZWFkSW50MzJCRSgpe2xldCB1PXRoaXMucmVhZCg0KTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWRJbnQzMkJFKCk6bnVsbH1yZWFkRmxvYXRMRSgpe2xldCB1PXRoaXMucmVhZCg0KTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWRGbG9hdExFKCk6bnVsbH1yZWFkRmxvYXRCRSgpe2xldCB1PXRoaXMucmVhZCg0KTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWRGbG9hdEJFKCk6bnVsbH1yZWFkRG91YmxlTEUoKXtsZXQgdT10aGlzLnJlYWQoOCk7cmV0dXJuIGYuaXNCdWZmZXIodSk/dS5yZWFkRG91YmxlTEUoKTpudWxsfXJlYWREb3VibGVCRSgpe2xldCB1PXRoaXMucmVhZCg4KTtyZXR1cm4gZi5pc0J1ZmZlcih1KT91LnJlYWREb3VibGVCRSgpOm51bGx9cmVhZEJpZ0ludDY0TEUoKXtsZXQgdT10aGlzLnJlYWQoOCk7cmV0dXJuIGYuaXNCdWZmZXIodSk/dS5yZWFkQmlnSW50NjRMRSgpOm51bGx9cmVhZEJpZ0ludDY0QkUoKXtsZXQgdT10aGlzLnJlYWQoOCk7cmV0dXJuIGYuaXNCdWZmZXIodSk/dS5yZWFkQmlnSW50NjRCRSgpOm51bGx9cmVhZEJpZ1VJbnQ2NExFKCl7bGV0IHU9dGhpcy5yZWFkKDgpO3JldHVybiBmLmlzQnVmZmVyKHUpP3UucmVhZEJpZ1VJbnQ2NExFKCk6bnVsbH1yZWFkQmlnVUludDY0QkUoKXtsZXQgdT10aGlzLnJlYWQoOCk7cmV0dXJuIGYuaXNCdWZmZXIodSk/dS5yZWFkQmlnVUludDY0QkUoKTpudWxsfX1lLmV4cG9ydHM9T30sNzE6KGUsdCxuKT0+e1widXNlIHN0cmljdFwiO2xldCBvPW4oODMwKSxmPW4oMjAyKTtjbGFzcyB5IGV4dGVuZHMgby5UcmFuc2Zvcm17Y29uc3RydWN0b3IoYil7c3VwZXIoYiksdGhpcy5fd3JpdGFibGVTdGF0ZS5vYmplY3RNb2RlPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZT0hMCx0aGlzLmJzPW5ldyBmLHRoaXMuX19yZXN0YXJ0KCl9X3RyYW5zZm9ybShiLHUscCl7Zm9yKHRoaXMuYnMud3JpdGUoYik7dGhpcy5icy5sZW5ndGg+PXRoaXMuX19uZWVkZWQ7KXtsZXQgST1udWxsLFA9dGhpcy5fX25lZWRlZD09PW51bGw/dm9pZCAwOnRoaXMuYnMucmVhZCh0aGlzLl9fbmVlZGVkKTt0cnl7ST10aGlzLl9fcGFyc2VyLm5leHQoUCl9Y2F0Y2goZyl7cmV0dXJuIHAoZyl9dGhpcy5fX25lZWRlZCYmKHRoaXMuX19mcmVzaD0hMSksSS5kb25lPyh0aGlzLnB1c2goSS52YWx1ZSksdGhpcy5fX3Jlc3RhcnQoKSk6dGhpcy5fX25lZWRlZD1JLnZhbHVlfHwxLzB9cmV0dXJuIHAoKX0qX3BhcnNlKCl7dGhyb3cgbmV3IEVycm9yKFwiTXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzc1wiKX1fX3Jlc3RhcnQoKXt0aGlzLl9fbmVlZGVkPW51bGwsdGhpcy5fX3BhcnNlcj10aGlzLl9wYXJzZSgpLHRoaXMuX19mcmVzaD0hMH1fZmx1c2goYil7Yih0aGlzLl9fZnJlc2g/bnVsbDpuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIGVuZCBvZiBpbnB1dFwiKSl9fWUuZXhwb3J0cz15fSwxODc6ZT0+e1widXNlIHN0cmljdFwiO3ZhciB0LG49dHlwZW9mIFJlZmxlY3Q9PVwib2JqZWN0XCI/UmVmbGVjdDpudWxsLG89biYmdHlwZW9mIG4uYXBwbHk9PVwiZnVuY3Rpb25cIj9uLmFwcGx5OmZ1bmN0aW9uKFMsXyxCKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoUyxfLEIpfTt0PW4mJnR5cGVvZiBuLm93bktleXM9PVwiZnVuY3Rpb25cIj9uLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihTKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoUykuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoUykpfTpmdW5jdGlvbihTKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoUyl9O3ZhciBmPU51bWJlci5pc05hTnx8ZnVuY3Rpb24oUyl7cmV0dXJuIFMhPVN9O2Z1bmN0aW9uIHkoKXt5LmluaXQuY2FsbCh0aGlzKX1lLmV4cG9ydHM9eSxlLmV4cG9ydHMub25jZT1mdW5jdGlvbihTLF8pe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihCLFIpe2Z1bmN0aW9uICQoQyl7Uy5yZW1vdmVMaXN0ZW5lcihfLEYpLFIoQyl9ZnVuY3Rpb24gRigpe3R5cGVvZiBTLnJlbW92ZUxpc3RlbmVyPT1cImZ1bmN0aW9uXCImJlMucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCQpLEIoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKX1tKFMsXyxGLHtvbmNlOiEwfSksXyE9PVwiZXJyb3JcIiYmZnVuY3Rpb24oQyxZLE4pe3R5cGVvZiBDLm9uPT1cImZ1bmN0aW9uXCImJm0oQyxcImVycm9yXCIsWSx7b25jZTohMH0pfShTLCQpfSl9LHkuRXZlbnRFbWl0dGVyPXkseS5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAseS5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAseS5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDA7dmFyIE89MTA7ZnVuY3Rpb24gYihTKXtpZih0eXBlb2YgUyE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIFMpfWZ1bmN0aW9uIHUoUyl7cmV0dXJuIFMuX21heExpc3RlbmVycz09PXZvaWQgMD95LmRlZmF1bHRNYXhMaXN0ZW5lcnM6Uy5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIHAoUyxfLEIsUil7dmFyICQsRixDLFk7aWYoYihCKSwoRj1TLl9ldmVudHMpPT09dm9pZCAwPyhGPVMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLFMuX2V2ZW50c0NvdW50PTApOihGLm5ld0xpc3RlbmVyIT09dm9pZCAwJiYoUy5lbWl0KFwibmV3TGlzdGVuZXJcIixfLEIubGlzdGVuZXI/Qi5saXN0ZW5lcjpCKSxGPVMuX2V2ZW50cyksQz1GW19dKSxDPT09dm9pZCAwKUM9RltfXT1CLCsrUy5fZXZlbnRzQ291bnQ7ZWxzZSBpZih0eXBlb2YgQz09XCJmdW5jdGlvblwiP0M9RltfXT1SP1tCLENdOltDLEJdOlI/Qy51bnNoaWZ0KEIpOkMucHVzaChCKSwoJD11KFMpKT4wJiZDLmxlbmd0aD4kJiYhQy53YXJuZWQpe0Mud2FybmVkPSEwO3ZhciBOPW5ldyBFcnJvcihcIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gXCIrQy5sZW5ndGgrXCIgXCIrU3RyaW5nKF8pK1wiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7Ti5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIsTi5lbWl0dGVyPVMsTi50eXBlPV8sTi5jb3VudD1DLmxlbmd0aCxZPU4sY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oWSl9cmV0dXJuIFN9ZnVuY3Rpb24gSSgpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsYXJndW1lbnRzLmxlbmd0aD09PTA/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9ZnVuY3Rpb24gUChTLF8sQil7dmFyIFI9e2ZpcmVkOiExLHdyYXBGbjp2b2lkIDAsdGFyZ2V0OlMsdHlwZTpfLGxpc3RlbmVyOkJ9LCQ9SS5iaW5kKFIpO3JldHVybiAkLmxpc3RlbmVyPUIsUi53cmFwRm49JCwkfWZ1bmN0aW9uIGcoUyxfLEIpe3ZhciBSPVMuX2V2ZW50cztpZihSPT09dm9pZCAwKXJldHVybltdO3ZhciAkPVJbX107cmV0dXJuICQ9PT12b2lkIDA/W106dHlwZW9mICQ9PVwiZnVuY3Rpb25cIj9CP1skLmxpc3RlbmVyfHwkXTpbJF06Qj9mdW5jdGlvbihGKXtmb3IodmFyIEM9bmV3IEFycmF5KEYubGVuZ3RoKSxZPTA7WTxDLmxlbmd0aDsrK1kpQ1tZXT1GW1ldLmxpc3RlbmVyfHxGW1ldO3JldHVybiBDfSgkKTp2KCQsJC5sZW5ndGgpfWZ1bmN0aW9uIHcoUyl7dmFyIF89dGhpcy5fZXZlbnRzO2lmKF8hPT12b2lkIDApe3ZhciBCPV9bU107aWYodHlwZW9mIEI9PVwiZnVuY3Rpb25cIilyZXR1cm4gMTtpZihCIT09dm9pZCAwKXJldHVybiBCLmxlbmd0aH1yZXR1cm4gMH1mdW5jdGlvbiB2KFMsXyl7Zm9yKHZhciBCPW5ldyBBcnJheShfKSxSPTA7UjxfOysrUilCW1JdPVNbUl07cmV0dXJuIEJ9ZnVuY3Rpb24gbShTLF8sQixSKXtpZih0eXBlb2YgUy5vbj09XCJmdW5jdGlvblwiKVIub25jZT9TLm9uY2UoXyxCKTpTLm9uKF8sQik7ZWxzZXtpZih0eXBlb2YgUy5hZGRFdmVudExpc3RlbmVyIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgUyk7Uy5hZGRFdmVudExpc3RlbmVyKF8sZnVuY3Rpb24gJChGKXtSLm9uY2UmJlMucmVtb3ZlRXZlbnRMaXN0ZW5lcihfLCQpLEIoRil9KX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHksXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE99LHNldDpmdW5jdGlvbihTKXtpZih0eXBlb2YgUyE9XCJudW1iZXJcInx8UzwwfHxmKFMpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytTK1wiLlwiKTtPPVN9fSkseS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5fZXZlbnRzIT09dm9pZCAwJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH0seS5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKFMpe2lmKHR5cGVvZiBTIT1cIm51bWJlclwifHxTPDB8fGYoUykpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK1MrXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9Uyx0aGlzfSx5LnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdSh0aGlzKX0seS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihTKXtmb3IodmFyIF89W10sQj0xO0I8YXJndW1lbnRzLmxlbmd0aDtCKyspXy5wdXNoKGFyZ3VtZW50c1tCXSk7dmFyIFI9Uz09PVwiZXJyb3JcIiwkPXRoaXMuX2V2ZW50cztpZigkIT09dm9pZCAwKVI9UiYmJC5lcnJvcj09PXZvaWQgMDtlbHNlIGlmKCFSKXJldHVybiExO2lmKFIpe3ZhciBGO2lmKF8ubGVuZ3RoPjAmJihGPV9bMF0pLEYgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBGO3ZhciBDPW5ldyBFcnJvcihcIlVuaGFuZGxlZCBlcnJvci5cIisoRj9cIiAoXCIrRi5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBDLmNvbnRleHQ9RixDfXZhciBZPSRbU107aWYoWT09PXZvaWQgMClyZXR1cm4hMTtpZih0eXBlb2YgWT09XCJmdW5jdGlvblwiKW8oWSx0aGlzLF8pO2Vsc2V7dmFyIE49WS5sZW5ndGgsSD12KFksTik7Zm9yKEI9MDtCPE47KytCKW8oSFtCXSx0aGlzLF8pfXJldHVybiEwfSx5LnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihTLF8pe3JldHVybiBwKHRoaXMsUyxfLCExKX0seS5wcm90b3R5cGUub249eS5wcm90b3R5cGUuYWRkTGlzdGVuZXIseS5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKFMsXyl7cmV0dXJuIHAodGhpcyxTLF8sITApfSx5LnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKFMsXyl7cmV0dXJuIGIoXyksdGhpcy5vbihTLFAodGhpcyxTLF8pKSx0aGlzfSx5LnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKFMsXyl7cmV0dXJuIGIoXyksdGhpcy5wcmVwZW5kTGlzdGVuZXIoUyxQKHRoaXMsUyxfKSksdGhpc30seS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oUyxfKXt2YXIgQixSLCQsRixDO2lmKGIoXyksKFI9dGhpcy5fZXZlbnRzKT09PXZvaWQgMClyZXR1cm4gdGhpcztpZigoQj1SW1NdKT09PXZvaWQgMClyZXR1cm4gdGhpcztpZihCPT09X3x8Qi5saXN0ZW5lcj09PV8pLS10aGlzLl9ldmVudHNDb3VudD09MD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTooZGVsZXRlIFJbU10sUi5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixTLEIubGlzdGVuZXJ8fF8pKTtlbHNlIGlmKHR5cGVvZiBCIT1cImZ1bmN0aW9uXCIpe2ZvcigkPS0xLEY9Qi5sZW5ndGgtMTtGPj0wO0YtLSlpZihCW0ZdPT09X3x8QltGXS5saXN0ZW5lcj09PV8pe0M9QltGXS5saXN0ZW5lciwkPUY7YnJlYWt9aWYoJDwwKXJldHVybiB0aGlzOyQ9PT0wP0Iuc2hpZnQoKTpmdW5jdGlvbihZLE4pe2Zvcig7TisxPFkubGVuZ3RoO04rKylZW05dPVlbTisxXTtZLnBvcCgpfShCLCQpLEIubGVuZ3RoPT09MSYmKFJbU109QlswXSksUi5yZW1vdmVMaXN0ZW5lciE9PXZvaWQgMCYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixTLEN8fF8pfXJldHVybiB0aGlzfSx5LnByb3RvdHlwZS5vZmY9eS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIseS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKFMpe3ZhciBfLEIsUjtpZigoQj10aGlzLl9ldmVudHMpPT09dm9pZCAwKXJldHVybiB0aGlzO2lmKEIucmVtb3ZlTGlzdGVuZXI9PT12b2lkIDApcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PT0wPyh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTpCW1NdIT09dm9pZCAwJiYoLS10aGlzLl9ldmVudHNDb3VudD09MD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgQltTXSksdGhpcztpZihhcmd1bWVudHMubGVuZ3RoPT09MCl7dmFyICQsRj1PYmplY3Qua2V5cyhCKTtmb3IoUj0wO1I8Ri5sZW5ndGg7KytSKSgkPUZbUl0pIT09XCJyZW1vdmVMaXN0ZW5lclwiJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycygkKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wLHRoaXN9aWYodHlwZW9mKF89QltTXSk9PVwiZnVuY3Rpb25cIil0aGlzLnJlbW92ZUxpc3RlbmVyKFMsXyk7ZWxzZSBpZihfIT09dm9pZCAwKWZvcihSPV8ubGVuZ3RoLTE7Uj49MDtSLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcihTLF9bUl0pO3JldHVybiB0aGlzfSx5LnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oUyl7cmV0dXJuIGcodGhpcyxTLCEwKX0seS5wcm90b3R5cGUucmF3TGlzdGVuZXJzPWZ1bmN0aW9uKFMpe3JldHVybiBnKHRoaXMsUywhMSl9LHkubGlzdGVuZXJDb3VudD1mdW5jdGlvbihTLF8pe3JldHVybiB0eXBlb2YgUy5saXN0ZW5lckNvdW50PT1cImZ1bmN0aW9uXCI/Uy5saXN0ZW5lckNvdW50KF8pOncuY2FsbChTLF8pfSx5LnByb3RvdHlwZS5saXN0ZW5lckNvdW50PXcseS5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP3QodGhpcy5fZXZlbnRzKTpbXX19LDY0NTooZSx0KT0+e3QucmVhZD1mdW5jdGlvbihuLG8sZix5LE8pe3ZhciBiLHUscD04Kk8teS0xLEk9KDE8PHApLTEsUD1JPj4xLGc9LTcsdz1mP08tMTowLHY9Zj8tMToxLG09bltvK3ddO2Zvcih3Kz12LGI9bSYoMTw8LWcpLTEsbT4+PS1nLGcrPXA7Zz4wO2I9MjU2KmIrbltvK3ddLHcrPXYsZy09OCk7Zm9yKHU9YiYoMTw8LWcpLTEsYj4+PS1nLGcrPXk7Zz4wO3U9MjU2KnUrbltvK3ddLHcrPXYsZy09OCk7aWYoYj09PTApYj0xLVA7ZWxzZXtpZihiPT09SSlyZXR1cm4gdT9OYU46MS8wKihtPy0xOjEpO3UrPU1hdGgucG93KDIseSksYi09UH1yZXR1cm4obT8tMToxKSp1Kk1hdGgucG93KDIsYi15KX0sdC53cml0ZT1mdW5jdGlvbihuLG8sZix5LE8sYil7dmFyIHUscCxJLFA9OCpiLU8tMSxnPSgxPDxQKS0xLHc9Zz4+MSx2PU89PT0yMz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsbT15PzA6Yi0xLFM9eT8xOi0xLF89bzwwfHxvPT09MCYmMS9vPDA/MTowO2ZvcihvPU1hdGguYWJzKG8pLGlzTmFOKG8pfHxvPT09MS8wPyhwPWlzTmFOKG8pPzE6MCx1PWcpOih1PU1hdGguZmxvb3IoTWF0aC5sb2cobykvTWF0aC5MTjIpLG8qKEk9TWF0aC5wb3coMiwtdSkpPDEmJih1LS0sSSo9MiksKG8rPXUrdz49MT92L0k6dipNYXRoLnBvdygyLDEtdykpKkk+PTImJih1KyssSS89MiksdSt3Pj1nPyhwPTAsdT1nKTp1K3c+PTE/KHA9KG8qSS0xKSpNYXRoLnBvdygyLE8pLHUrPXcpOihwPW8qTWF0aC5wb3coMix3LTEpKk1hdGgucG93KDIsTyksdT0wKSk7Tz49ODtuW2YrbV09MjU1JnAsbSs9UyxwLz0yNTYsTy09OCk7Zm9yKHU9dTw8T3xwLFArPU87UD4wO25bZittXT0yNTUmdSxtKz1TLHUvPTI1NixQLT04KTtuW2YrbS1TXXw9MTI4Kl99fSw3MTc6ZT0+e3R5cGVvZiBPYmplY3QuY3JlYXRlPT1cImZ1bmN0aW9uXCI/ZS5leHBvcnRzPWZ1bmN0aW9uKHQsbil7biYmKHQuc3VwZXJfPW4sdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpfTplLmV4cG9ydHM9ZnVuY3Rpb24odCxuKXtpZihuKXt0LnN1cGVyXz1uO3ZhciBvPWZ1bmN0aW9uKCl7fTtvLnByb3RvdHlwZT1uLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbyx0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10fX19LDE1NTplPT57dmFyIHQsbixvPWUuZXhwb3J0cz17fTtmdW5jdGlvbiBmKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiB5KCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIE8obSl7aWYodD09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQobSwwKTtpZigodD09PWZ8fCF0KSYmc2V0VGltZW91dClyZXR1cm4gdD1zZXRUaW1lb3V0LHNldFRpbWVvdXQobSwwKTt0cnl7cmV0dXJuIHQobSwwKX1jYXRjaHt0cnl7cmV0dXJuIHQuY2FsbChudWxsLG0sMCl9Y2F0Y2h7cmV0dXJuIHQuY2FsbCh0aGlzLG0sMCl9fX0oZnVuY3Rpb24oKXt0cnl7dD10eXBlb2Ygc2V0VGltZW91dD09XCJmdW5jdGlvblwiP3NldFRpbWVvdXQ6Zn1jYXRjaHt0PWZ9dHJ5e249dHlwZW9mIGNsZWFyVGltZW91dD09XCJmdW5jdGlvblwiP2NsZWFyVGltZW91dDp5fWNhdGNoe249eX19KSgpO3ZhciBiLHU9W10scD0hMSxJPS0xO2Z1bmN0aW9uIFAoKXtwJiZiJiYocD0hMSxiLmxlbmd0aD91PWIuY29uY2F0KHUpOkk9LTEsdS5sZW5ndGgmJmcoKSl9ZnVuY3Rpb24gZygpe2lmKCFwKXt2YXIgbT1PKFApO3A9ITA7Zm9yKHZhciBTPXUubGVuZ3RoO1M7KXtmb3IoYj11LHU9W107KytJPFM7KWImJmJbSV0ucnVuKCk7ST0tMSxTPXUubGVuZ3RofWI9bnVsbCxwPSExLGZ1bmN0aW9uKF8pe2lmKG49PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChfKTtpZigobj09PXl8fCFuKSYmY2xlYXJUaW1lb3V0KXJldHVybiBuPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoXyk7dHJ5e24oXyl9Y2F0Y2h7dHJ5e3JldHVybiBuLmNhbGwobnVsbCxfKX1jYXRjaHtyZXR1cm4gbi5jYWxsKHRoaXMsXyl9fX0obSl9fWZ1bmN0aW9uIHcobSxTKXt0aGlzLmZ1bj1tLHRoaXMuYXJyYXk9U31mdW5jdGlvbiB2KCl7fW8ubmV4dFRpY2s9ZnVuY3Rpb24obSl7dmFyIFM9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgXz0xO188YXJndW1lbnRzLmxlbmd0aDtfKyspU1tfLTFdPWFyZ3VtZW50c1tfXTt1LnB1c2gobmV3IHcobSxTKSksdS5sZW5ndGghPT0xfHxwfHxPKGcpfSx3LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxvLnRpdGxlPVwiYnJvd3NlclwiLG8uYnJvd3Nlcj0hMCxvLmVudj17fSxvLmFyZ3Y9W10sby52ZXJzaW9uPVwiXCIsby52ZXJzaW9ucz17fSxvLm9uPXYsby5hZGRMaXN0ZW5lcj12LG8ub25jZT12LG8ub2ZmPXYsby5yZW1vdmVMaXN0ZW5lcj12LG8ucmVtb3ZlQWxsTGlzdGVuZXJzPXYsby5lbWl0PXYsby5wcmVwZW5kTGlzdGVuZXI9dixvLnByZXBlbmRPbmNlTGlzdGVuZXI9dixvLmxpc3RlbmVycz1mdW5jdGlvbihtKXtyZXR1cm5bXX0sby5iaW5kaW5nPWZ1bmN0aW9uKG0pe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxvLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxvLmNoZGlyPWZ1bmN0aW9uKG0pe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sby51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sMjgxOmU9PntcInVzZSBzdHJpY3RcIjt2YXIgdD17fTtmdW5jdGlvbiBuKGYseSxPKXtPfHwoTz1FcnJvcik7dmFyIGI9ZnVuY3Rpb24odSl7dmFyIHAsSTtmdW5jdGlvbiBQKGcsdyx2KXtyZXR1cm4gdS5jYWxsKHRoaXMsZnVuY3Rpb24obSxTLF8pe3JldHVybiB0eXBlb2YgeT09XCJzdHJpbmdcIj95OnkobSxTLF8pfShnLHcsdikpfHx0aGlzfXJldHVybiBJPXUsKHA9UCkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoSS5wcm90b3R5cGUpLHAucHJvdG90eXBlLmNvbnN0cnVjdG9yPXAscC5fX3Byb3RvX189SSxQfShPKTtiLnByb3RvdHlwZS5uYW1lPU8ubmFtZSxiLnByb3RvdHlwZS5jb2RlPWYsdFtmXT1ifWZ1bmN0aW9uIG8oZix5KXtpZihBcnJheS5pc0FycmF5KGYpKXt2YXIgTz1mLmxlbmd0aDtyZXR1cm4gZj1mLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gU3RyaW5nKGIpfSksTz4yP1wib25lIG9mIFwiLmNvbmNhdCh5LFwiIFwiKS5jb25jYXQoZi5zbGljZSgwLE8tMSkuam9pbihcIiwgXCIpLFwiLCBvciBcIikrZltPLTFdOk89PT0yP1wib25lIG9mIFwiLmNvbmNhdCh5LFwiIFwiKS5jb25jYXQoZlswXSxcIiBvciBcIikuY29uY2F0KGZbMV0pOlwib2YgXCIuY29uY2F0KHksXCIgXCIpLmNvbmNhdChmWzBdKX1yZXR1cm5cIm9mIFwiLmNvbmNhdCh5LFwiIFwiKS5jb25jYXQoU3RyaW5nKGYpKX1uKFwiRVJSX0lOVkFMSURfT1BUX1ZBTFVFXCIsZnVuY3Rpb24oZix5KXtyZXR1cm4nVGhlIHZhbHVlIFwiJyt5KydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCInK2YrJ1wiJ30sVHlwZUVycm9yKSxuKFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIixmdW5jdGlvbihmLHksTyl7dmFyIGIsdSxwLEksUDtpZih0eXBlb2YgeT09XCJzdHJpbmdcIiYmKHU9XCJub3QgXCIseS5zdWJzdHIoMCx1Lmxlbmd0aCk9PT11KT8oYj1cIm11c3Qgbm90IGJlXCIseT15LnJlcGxhY2UoL15ub3QgLyxcIlwiKSk6Yj1cIm11c3QgYmVcIixmdW5jdGlvbih3LHYsbSl7cmV0dXJuKG09PT12b2lkIDB8fG0+dy5sZW5ndGgpJiYobT13Lmxlbmd0aCksdy5zdWJzdHJpbmcobS12Lmxlbmd0aCxtKT09PXZ9KGYsXCIgYXJndW1lbnRcIikpcD1cIlRoZSBcIi5jb25jYXQoZixcIiBcIikuY29uY2F0KGIsXCIgXCIpLmNvbmNhdChvKHksXCJ0eXBlXCIpKTtlbHNle3ZhciBnPSh0eXBlb2YgUCE9XCJudW1iZXJcIiYmKFA9MCksUCtcIi5cIi5sZW5ndGg+KEk9ZikubGVuZ3RofHxJLmluZGV4T2YoXCIuXCIsUCk9PT0tMT9cImFyZ3VtZW50XCI6XCJwcm9wZXJ0eVwiKTtwPSdUaGUgXCInLmNvbmNhdChmLCdcIiAnKS5jb25jYXQoZyxcIiBcIikuY29uY2F0KGIsXCIgXCIpLmNvbmNhdChvKHksXCJ0eXBlXCIpKX1yZXR1cm4gcCtcIi4gUmVjZWl2ZWQgdHlwZSBcIi5jb25jYXQodHlwZW9mIE8pfSxUeXBlRXJyb3IpLG4oXCJFUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GXCIsXCJzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRlwiKSxuKFwiRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URURcIixmdW5jdGlvbihmKXtyZXR1cm5cIlRoZSBcIitmK1wiIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWRcIn0pLG4oXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiLFwiUHJlbWF0dXJlIGNsb3NlXCIpLG4oXCJFUlJfU1RSRUFNX0RFU1RST1lFRFwiLGZ1bmN0aW9uKGYpe3JldHVyblwiQ2Fubm90IGNhbGwgXCIrZitcIiBhZnRlciBhIHN0cmVhbSB3YXMgZGVzdHJveWVkXCJ9KSxuKFwiRVJSX01VTFRJUExFX0NBTExCQUNLXCIsXCJDYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXNcIiksbihcIkVSUl9TVFJFQU1fQ0FOTk9UX1BJUEVcIixcIkNhbm5vdCBwaXBlLCBub3QgcmVhZGFibGVcIiksbihcIkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EXCIsXCJ3cml0ZSBhZnRlciBlbmRcIiksbihcIkVSUl9TVFJFQU1fTlVMTF9WQUxVRVNcIixcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIsVHlwZUVycm9yKSxuKFwiRVJSX1VOS05PV05fRU5DT0RJTkdcIixmdW5jdGlvbihmKXtyZXR1cm5cIlVua25vd24gZW5jb2Rpbmc6IFwiK2Z9LFR5cGVFcnJvciksbihcIkVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlRcIixcInN0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50XCIpLGUuZXhwb3J0cy5xPXR9LDc1MzooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG89bigxNTUpLGY9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHcpe3ZhciB2PVtdO2Zvcih2YXIgbSBpbiB3KXYucHVzaChtKTtyZXR1cm4gdn07ZS5leHBvcnRzPUk7dmFyIHk9big0ODEpLE89bigyMjkpO24oNzE3KShJLHkpO2Zvcih2YXIgYj1mKE8ucHJvdG90eXBlKSx1PTA7dTxiLmxlbmd0aDt1Kyspe3ZhciBwPWJbdV07SS5wcm90b3R5cGVbcF18fChJLnByb3RvdHlwZVtwXT1PLnByb3RvdHlwZVtwXSl9ZnVuY3Rpb24gSSh3KXtpZighKHRoaXMgaW5zdGFuY2VvZiBJKSlyZXR1cm4gbmV3IEkodyk7eS5jYWxsKHRoaXMsdyksTy5jYWxsKHRoaXMsdyksdGhpcy5hbGxvd0hhbGZPcGVuPSEwLHcmJih3LnJlYWRhYmxlPT09ITEmJih0aGlzLnJlYWRhYmxlPSExKSx3LndyaXRhYmxlPT09ITEmJih0aGlzLndyaXRhYmxlPSExKSx3LmFsbG93SGFsZk9wZW49PT0hMSYmKHRoaXMuYWxsb3dIYWxmT3Blbj0hMSx0aGlzLm9uY2UoXCJlbmRcIixQKSkpfWZ1bmN0aW9uIFAoKXt0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkfHxvLm5leHRUaWNrKGcsdGhpcyl9ZnVuY3Rpb24gZyh3KXt3LmVuZCgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLnByb3RvdHlwZSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEkucHJvdG90eXBlLFwid3JpdGFibGVCdWZmZXJcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSS5wcm90b3R5cGUsXCJ3cml0YWJsZUxlbmd0aFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZSE9PXZvaWQgMCYmdGhpcy5fd3JpdGFibGVTdGF0ZSE9PXZvaWQgMCYmdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24odyl7dGhpcy5fcmVhZGFibGVTdGF0ZSE9PXZvaWQgMCYmdGhpcy5fd3JpdGFibGVTdGF0ZSE9PXZvaWQgMCYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPXcsdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9dyl9fSl9LDcyNTooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWY7dmFyIG89big2MDUpO2Z1bmN0aW9uIGYoeSl7aWYoISh0aGlzIGluc3RhbmNlb2YgZikpcmV0dXJuIG5ldyBmKHkpO28uY2FsbCh0aGlzLHkpfW4oNzE3KShmLG8pLGYucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oeSxPLGIpe2IobnVsbCx5KX19LDQ4MTooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG8sZj1uKDE1NSk7ZS5leHBvcnRzPUgsSC5SZWFkYWJsZVN0YXRlPU4sbigxODcpLkV2ZW50RW1pdHRlcjt2YXIgeSxPPWZ1bmN0aW9uKEQsRSl7cmV0dXJuIEQubGlzdGVuZXJzKEUpLmxlbmd0aH0sYj1uKDUwMyksdT1uKDc2NCkuQnVmZmVyLHA9bi5nLlVpbnQ4QXJyYXl8fGZ1bmN0aW9uKCl7fSxJPW4oNjE2KTt5PUkmJkkuZGVidWdsb2c/SS5kZWJ1Z2xvZyhcInN0cmVhbVwiKTpmdW5jdGlvbigpe307dmFyIFAsZyx3LHY9bigzMjcpLG09bigxOTUpLFM9big0NTcpLmdldEhpZ2hXYXRlck1hcmssXz1uKDI4MSkucSxCPV8uRVJSX0lOVkFMSURfQVJHX1RZUEUsUj1fLkVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YsJD1fLkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVELEY9Xy5FUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UO24oNzE3KShILGIpO3ZhciBDPW0uZXJyb3JPckRlc3Ryb3ksWT1bXCJlcnJvclwiLFwiY2xvc2VcIixcImRlc3Ryb3lcIixcInBhdXNlXCIsXCJyZXN1bWVcIl07ZnVuY3Rpb24gTihELEUsVyl7bz1vfHxuKDc1MyksRD1EfHx7fSx0eXBlb2YgVyE9XCJib29sZWFuXCImJihXPUUgaW5zdGFuY2VvZiBvKSx0aGlzLm9iamVjdE1vZGU9ISFELm9iamVjdE1vZGUsVyYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEhRC5yZWFkYWJsZU9iamVjdE1vZGUpLHRoaXMuaGlnaFdhdGVyTWFyaz1TKHRoaXMsRCxcInJlYWRhYmxlSGlnaFdhdGVyTWFya1wiLFcpLHRoaXMuYnVmZmVyPW5ldyB2LHRoaXMubGVuZ3RoPTAsdGhpcy5waXBlcz1udWxsLHRoaXMucGlwZXNDb3VudD0wLHRoaXMuZmxvd2luZz1udWxsLHRoaXMuZW5kZWQ9ITEsdGhpcy5lbmRFbWl0dGVkPSExLHRoaXMucmVhZGluZz0hMSx0aGlzLnN5bmM9ITAsdGhpcy5uZWVkUmVhZGFibGU9ITEsdGhpcy5lbWl0dGVkUmVhZGFibGU9ITEsdGhpcy5yZWFkYWJsZUxpc3RlbmluZz0hMSx0aGlzLnJlc3VtZVNjaGVkdWxlZD0hMSx0aGlzLnBhdXNlZD0hMCx0aGlzLmVtaXRDbG9zZT1ELmVtaXRDbG9zZSE9PSExLHRoaXMuYXV0b0Rlc3Ryb3k9ISFELmF1dG9EZXN0cm95LHRoaXMuZGVzdHJveWVkPSExLHRoaXMuZGVmYXVsdEVuY29kaW5nPUQuZGVmYXVsdEVuY29kaW5nfHxcInV0ZjhcIix0aGlzLmF3YWl0RHJhaW49MCx0aGlzLnJlYWRpbmdNb3JlPSExLHRoaXMuZGVjb2Rlcj1udWxsLHRoaXMuZW5jb2Rpbmc9bnVsbCxELmVuY29kaW5nJiYoUHx8KFA9big1NTMpLnMpLHRoaXMuZGVjb2Rlcj1uZXcgUChELmVuY29kaW5nKSx0aGlzLmVuY29kaW5nPUQuZW5jb2RpbmcpfWZ1bmN0aW9uIEgoRCl7aWYobz1vfHxuKDc1MyksISh0aGlzIGluc3RhbmNlb2YgSCkpcmV0dXJuIG5ldyBIKEQpO3ZhciBFPXRoaXMgaW5zdGFuY2VvZiBvO3RoaXMuX3JlYWRhYmxlU3RhdGU9bmV3IE4oRCx0aGlzLEUpLHRoaXMucmVhZGFibGU9ITAsRCYmKHR5cGVvZiBELnJlYWQ9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX3JlYWQ9RC5yZWFkKSx0eXBlb2YgRC5kZXN0cm95PT1cImZ1bmN0aW9uXCImJih0aGlzLl9kZXN0cm95PUQuZGVzdHJveSkpLGIuY2FsbCh0aGlzKX1mdW5jdGlvbiBKKEQsRSxXLFgsdmUpe3koXCJyZWFkYWJsZUFkZENodW5rXCIsRSk7dmFyIE9lLGVlPUQuX3JlYWRhYmxlU3RhdGU7aWYoRT09PW51bGwpZWUucmVhZGluZz0hMSxmdW5jdGlvbihmZSxkZSl7aWYoeShcIm9uRW9mQ2h1bmtcIiksIWRlLmVuZGVkKXtpZihkZS5kZWNvZGVyKXt2YXIgQWU9ZGUuZGVjb2Rlci5lbmQoKTtBZSYmQWUubGVuZ3RoJiYoZGUuYnVmZmVyLnB1c2goQWUpLGRlLmxlbmd0aCs9ZGUub2JqZWN0TW9kZT8xOkFlLmxlbmd0aCl9ZGUuZW5kZWQ9ITAsZGUuc3luYz9vZShmZSk6KGRlLm5lZWRSZWFkYWJsZT0hMSxkZS5lbWl0dGVkUmVhZGFibGV8fChkZS5lbWl0dGVkUmVhZGFibGU9ITAsayhmZSkpKX19KEQsZWUpO2Vsc2UgaWYodmV8fChPZT1mdW5jdGlvbihmZSxkZSl7dmFyIEFlLG5lO3JldHVybiBuZT1kZSx1LmlzQnVmZmVyKG5lKXx8bmUgaW5zdGFuY2VvZiBwfHx0eXBlb2YgZGU9PVwic3RyaW5nXCJ8fGRlPT09dm9pZCAwfHxmZS5vYmplY3RNb2RlfHwoQWU9bmV3IEIoXCJjaHVua1wiLFtcInN0cmluZ1wiLFwiQnVmZmVyXCIsXCJVaW50OEFycmF5XCJdLGRlKSksQWV9KGVlLEUpKSxPZSlDKEQsT2UpO2Vsc2UgaWYoZWUub2JqZWN0TW9kZXx8RSYmRS5sZW5ndGg+MClpZih0eXBlb2YgRT09XCJzdHJpbmdcInx8ZWUub2JqZWN0TW9kZXx8T2JqZWN0LmdldFByb3RvdHlwZU9mKEUpPT09dS5wcm90b3R5cGV8fChFPWZ1bmN0aW9uKGZlKXtyZXR1cm4gdS5mcm9tKGZlKX0oRSkpLFgpZWUuZW5kRW1pdHRlZD9DKEQsbmV3IEYpOmNlKEQsZWUsRSwhMCk7ZWxzZSBpZihlZS5lbmRlZClDKEQsbmV3IFIpO2Vsc2V7aWYoZWUuZGVzdHJveWVkKXJldHVybiExO2VlLnJlYWRpbmc9ITEsZWUuZGVjb2RlciYmIVc/KEU9ZWUuZGVjb2Rlci53cml0ZShFKSxlZS5vYmplY3RNb2RlfHxFLmxlbmd0aCE9PTA/Y2UoRCxlZSxFLCExKTpBKEQsZWUpKTpjZShELGVlLEUsITEpfWVsc2UgWHx8KGVlLnJlYWRpbmc9ITEsQShELGVlKSk7cmV0dXJuIWVlLmVuZGVkJiYoZWUubGVuZ3RoPGVlLmhpZ2hXYXRlck1hcmt8fGVlLmxlbmd0aD09PTApfWZ1bmN0aW9uIGNlKEQsRSxXLFgpe0UuZmxvd2luZyYmRS5sZW5ndGg9PT0wJiYhRS5zeW5jPyhFLmF3YWl0RHJhaW49MCxELmVtaXQoXCJkYXRhXCIsVykpOihFLmxlbmd0aCs9RS5vYmplY3RNb2RlPzE6Vy5sZW5ndGgsWD9FLmJ1ZmZlci51bnNoaWZ0KFcpOkUuYnVmZmVyLnB1c2goVyksRS5uZWVkUmVhZGFibGUmJm9lKEQpKSxBKEQsRSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KEgucHJvdG90eXBlLFwiZGVzdHJveWVkXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUhPT12b2lkIDAmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24oRCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPUQpfX0pLEgucHJvdG90eXBlLmRlc3Ryb3k9bS5kZXN0cm95LEgucHJvdG90eXBlLl91bmRlc3Ryb3k9bS51bmRlc3Ryb3ksSC5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oRCxFKXtFKEQpfSxILnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKEQsRSl7dmFyIFcsWD10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiBYLm9iamVjdE1vZGU/Vz0hMDp0eXBlb2YgRD09XCJzdHJpbmdcIiYmKChFPUV8fFguZGVmYXVsdEVuY29kaW5nKSE9PVguZW5jb2RpbmcmJihEPXUuZnJvbShELEUpLEU9XCJcIiksVz0hMCksSih0aGlzLEQsRSwhMSxXKX0sSC5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbihEKXtyZXR1cm4gSih0aGlzLEQsbnVsbCwhMCwhMSl9LEgucHJvdG90eXBlLmlzUGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz09PSExfSxILnByb3RvdHlwZS5zZXRFbmNvZGluZz1mdW5jdGlvbihEKXtQfHwoUD1uKDU1Mykucyk7dmFyIEU9bmV3IFAoRCk7dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyPUUsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZz10aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIuZW5jb2Rpbmc7Zm9yKHZhciBXPXRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLmhlYWQsWD1cIlwiO1chPT1udWxsOylYKz1FLndyaXRlKFcuZGF0YSksVz1XLm5leHQ7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLmNsZWFyKCksWCE9PVwiXCImJnRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLnB1c2goWCksdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGg9WC5sZW5ndGgsdGhpc307dmFyIFE9MTA3Mzc0MTgyNDtmdW5jdGlvbiBxKEQsRSl7cmV0dXJuIEQ8PTB8fEUubGVuZ3RoPT09MCYmRS5lbmRlZD8wOkUub2JqZWN0TW9kZT8xOkQhPUQ/RS5mbG93aW5nJiZFLmxlbmd0aD9FLmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoOkUubGVuZ3RoOihEPkUuaGlnaFdhdGVyTWFyayYmKEUuaGlnaFdhdGVyTWFyaz1mdW5jdGlvbihXKXtyZXR1cm4gVz49UT9XPVE6KFctLSxXfD1XPj4+MSxXfD1XPj4+MixXfD1XPj4+NCxXfD1XPj4+OCxXfD1XPj4+MTYsVysrKSxXfShEKSksRDw9RS5sZW5ndGg/RDpFLmVuZGVkP0UubGVuZ3RoOihFLm5lZWRSZWFkYWJsZT0hMCwwKSl9ZnVuY3Rpb24gb2UoRCl7dmFyIEU9RC5fcmVhZGFibGVTdGF0ZTt5KFwiZW1pdFJlYWRhYmxlXCIsRS5uZWVkUmVhZGFibGUsRS5lbWl0dGVkUmVhZGFibGUpLEUubmVlZFJlYWRhYmxlPSExLEUuZW1pdHRlZFJlYWRhYmxlfHwoeShcImVtaXRSZWFkYWJsZVwiLEUuZmxvd2luZyksRS5lbWl0dGVkUmVhZGFibGU9ITAsZi5uZXh0VGljayhrLEQpKX1mdW5jdGlvbiBrKEQpe3ZhciBFPUQuX3JlYWRhYmxlU3RhdGU7eShcImVtaXRSZWFkYWJsZV9cIixFLmRlc3Ryb3llZCxFLmxlbmd0aCxFLmVuZGVkKSxFLmRlc3Ryb3llZHx8IUUubGVuZ3RoJiYhRS5lbmRlZHx8KEQuZW1pdChcInJlYWRhYmxlXCIpLEUuZW1pdHRlZFJlYWRhYmxlPSExKSxFLm5lZWRSZWFkYWJsZT0hRS5mbG93aW5nJiYhRS5lbmRlZCYmRS5sZW5ndGg8PUUuaGlnaFdhdGVyTWFyayx6KEQpfWZ1bmN0aW9uIEEoRCxFKXtFLnJlYWRpbmdNb3JlfHwoRS5yZWFkaW5nTW9yZT0hMCxmLm5leHRUaWNrKGosRCxFKSl9ZnVuY3Rpb24gaihELEUpe2Zvcig7IUUucmVhZGluZyYmIUUuZW5kZWQmJihFLmxlbmd0aDxFLmhpZ2hXYXRlck1hcmt8fEUuZmxvd2luZyYmRS5sZW5ndGg9PT0wKTspe3ZhciBXPUUubGVuZ3RoO2lmKHkoXCJtYXliZVJlYWRNb3JlIHJlYWQgMFwiKSxELnJlYWQoMCksVz09PUUubGVuZ3RoKWJyZWFrfUUucmVhZGluZ01vcmU9ITF9ZnVuY3Rpb24gTChEKXt2YXIgRT1ELl9yZWFkYWJsZVN0YXRlO0UucmVhZGFibGVMaXN0ZW5pbmc9RC5saXN0ZW5lckNvdW50KFwicmVhZGFibGVcIik+MCxFLnJlc3VtZVNjaGVkdWxlZCYmIUUucGF1c2VkP0UuZmxvd2luZz0hMDpELmxpc3RlbmVyQ291bnQoXCJkYXRhXCIpPjAmJkQucmVzdW1lKCl9ZnVuY3Rpb24gSyhEKXt5KFwicmVhZGFibGUgbmV4dHRpY2sgcmVhZCAwXCIpLEQucmVhZCgwKX1mdW5jdGlvbiBHKEQsRSl7eShcInJlc3VtZVwiLEUucmVhZGluZyksRS5yZWFkaW5nfHxELnJlYWQoMCksRS5yZXN1bWVTY2hlZHVsZWQ9ITEsRC5lbWl0KFwicmVzdW1lXCIpLHooRCksRS5mbG93aW5nJiYhRS5yZWFkaW5nJiZELnJlYWQoMCl9ZnVuY3Rpb24geihEKXt2YXIgRT1ELl9yZWFkYWJsZVN0YXRlO2Zvcih5KFwiZmxvd1wiLEUuZmxvd2luZyk7RS5mbG93aW5nJiZELnJlYWQoKSE9PW51bGw7KTt9ZnVuY3Rpb24gcmUoRCxFKXtyZXR1cm4gRS5sZW5ndGg9PT0wP251bGw6KEUub2JqZWN0TW9kZT9XPUUuYnVmZmVyLnNoaWZ0KCk6IUR8fEQ+PUUubGVuZ3RoPyhXPUUuZGVjb2Rlcj9FLmJ1ZmZlci5qb2luKFwiXCIpOkUuYnVmZmVyLmxlbmd0aD09PTE/RS5idWZmZXIuZmlyc3QoKTpFLmJ1ZmZlci5jb25jYXQoRS5sZW5ndGgpLEUuYnVmZmVyLmNsZWFyKCkpOlc9RS5idWZmZXIuY29uc3VtZShELEUuZGVjb2RlciksVyk7dmFyIFd9ZnVuY3Rpb24gdGUoRCl7dmFyIEU9RC5fcmVhZGFibGVTdGF0ZTt5KFwiZW5kUmVhZGFibGVcIixFLmVuZEVtaXR0ZWQpLEUuZW5kRW1pdHRlZHx8KEUuZW5kZWQ9ITAsZi5uZXh0VGljayh1ZSxFLEQpKX1mdW5jdGlvbiB1ZShELEUpe2lmKHkoXCJlbmRSZWFkYWJsZU5UXCIsRC5lbmRFbWl0dGVkLEQubGVuZ3RoKSwhRC5lbmRFbWl0dGVkJiZELmxlbmd0aD09PTAmJihELmVuZEVtaXR0ZWQ9ITAsRS5yZWFkYWJsZT0hMSxFLmVtaXQoXCJlbmRcIiksRC5hdXRvRGVzdHJveSkpe3ZhciBXPUUuX3dyaXRhYmxlU3RhdGU7KCFXfHxXLmF1dG9EZXN0cm95JiZXLmZpbmlzaGVkKSYmRS5kZXN0cm95KCl9fWZ1bmN0aW9uIGxlKEQsRSl7Zm9yKHZhciBXPTAsWD1ELmxlbmd0aDtXPFg7VysrKWlmKERbV109PT1FKXJldHVybiBXO3JldHVybi0xfUgucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oRCl7eShcInJlYWRcIixEKSxEPXBhcnNlSW50KEQsMTApO3ZhciBFPXRoaXMuX3JlYWRhYmxlU3RhdGUsVz1EO2lmKEQhPT0wJiYoRS5lbWl0dGVkUmVhZGFibGU9ITEpLEQ9PT0wJiZFLm5lZWRSZWFkYWJsZSYmKChFLmhpZ2hXYXRlck1hcmshPT0wP0UubGVuZ3RoPj1FLmhpZ2hXYXRlck1hcms6RS5sZW5ndGg+MCl8fEUuZW5kZWQpKXJldHVybiB5KFwicmVhZDogZW1pdFJlYWRhYmxlXCIsRS5sZW5ndGgsRS5lbmRlZCksRS5sZW5ndGg9PT0wJiZFLmVuZGVkP3RlKHRoaXMpOm9lKHRoaXMpLG51bGw7aWYoKEQ9cShELEUpKT09PTAmJkUuZW5kZWQpcmV0dXJuIEUubGVuZ3RoPT09MCYmdGUodGhpcyksbnVsbDt2YXIgWCx2ZT1FLm5lZWRSZWFkYWJsZTtyZXR1cm4geShcIm5lZWQgcmVhZGFibGVcIix2ZSksKEUubGVuZ3RoPT09MHx8RS5sZW5ndGgtRDxFLmhpZ2hXYXRlck1hcmspJiZ5KFwibGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmtcIix2ZT0hMCksRS5lbmRlZHx8RS5yZWFkaW5nP3koXCJyZWFkaW5nIG9yIGVuZGVkXCIsdmU9ITEpOnZlJiYoeShcImRvIHJlYWRcIiksRS5yZWFkaW5nPSEwLEUuc3luYz0hMCxFLmxlbmd0aD09PTAmJihFLm5lZWRSZWFkYWJsZT0hMCksdGhpcy5fcmVhZChFLmhpZ2hXYXRlck1hcmspLEUuc3luYz0hMSxFLnJlYWRpbmd8fChEPXEoVyxFKSkpLChYPUQ+MD9yZShELEUpOm51bGwpPT09bnVsbD8oRS5uZWVkUmVhZGFibGU9RS5sZW5ndGg8PUUuaGlnaFdhdGVyTWFyayxEPTApOihFLmxlbmd0aC09RCxFLmF3YWl0RHJhaW49MCksRS5sZW5ndGg9PT0wJiYoRS5lbmRlZHx8KEUubmVlZFJlYWRhYmxlPSEwKSxXIT09RCYmRS5lbmRlZCYmdGUodGhpcykpLFghPT1udWxsJiZ0aGlzLmVtaXQoXCJkYXRhXCIsWCksWH0sSC5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oRCl7Qyh0aGlzLG5ldyAkKFwiX3JlYWQoKVwiKSl9LEgucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oRCxFKXt2YXIgVz10aGlzLFg9dGhpcy5fcmVhZGFibGVTdGF0ZTtzd2l0Y2goWC5waXBlc0NvdW50KXtjYXNlIDA6WC5waXBlcz1EO2JyZWFrO2Nhc2UgMTpYLnBpcGVzPVtYLnBpcGVzLERdO2JyZWFrO2RlZmF1bHQ6WC5waXBlcy5wdXNoKEQpfVgucGlwZXNDb3VudCs9MSx5KFwicGlwZSBjb3VudD0lZCBvcHRzPSVqXCIsWC5waXBlc0NvdW50LEUpO3ZhciB2ZT1FJiZFLmVuZD09PSExfHxEPT09Zi5zdGRvdXR8fEQ9PT1mLnN0ZGVycj9hOk9lO2Z1bmN0aW9uIE9lKCl7eShcIm9uZW5kXCIpLEQuZW5kKCl9WC5lbmRFbWl0dGVkP2YubmV4dFRpY2sodmUpOlcub25jZShcImVuZFwiLHZlKSxELm9uKFwidW5waXBlXCIsZnVuY3Rpb24gcyhoLE0pe3koXCJvbnVucGlwZVwiKSxoPT09VyYmTSYmTS5oYXNVbnBpcGVkPT09ITEmJihNLmhhc1VucGlwZWQ9ITAseShcImNsZWFudXBcIiksRC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsbmUpLEQucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixoZSksRC5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsZWUpLEQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLEFlKSxELnJlbW92ZUxpc3RlbmVyKFwidW5waXBlXCIscyksVy5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLE9lKSxXLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsYSksVy5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixkZSksZmU9ITAsIVguYXdhaXREcmFpbnx8RC5fd3JpdGFibGVTdGF0ZSYmIUQuX3dyaXRhYmxlU3RhdGUubmVlZERyYWlufHxlZSgpKX0pO3ZhciBlZT1mdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaD1zLl9yZWFkYWJsZVN0YXRlO3koXCJwaXBlT25EcmFpblwiLGguYXdhaXREcmFpbiksaC5hd2FpdERyYWluJiZoLmF3YWl0RHJhaW4tLSxoLmF3YWl0RHJhaW49PT0wJiZPKHMsXCJkYXRhXCIpJiYoaC5mbG93aW5nPSEwLHoocykpfX0oVyk7RC5vbihcImRyYWluXCIsZWUpO3ZhciBmZT0hMTtmdW5jdGlvbiBkZShzKXt5KFwib25kYXRhXCIpO3ZhciBoPUQud3JpdGUocyk7eShcImRlc3Qud3JpdGVcIixoKSxoPT09ITEmJigoWC5waXBlc0NvdW50PT09MSYmWC5waXBlcz09PUR8fFgucGlwZXNDb3VudD4xJiZsZShYLnBpcGVzLEQpIT09LTEpJiYhZmUmJih5KFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsWC5hd2FpdERyYWluKSxYLmF3YWl0RHJhaW4rKyksVy5wYXVzZSgpKX1mdW5jdGlvbiBBZShzKXt5KFwib25lcnJvclwiLHMpLGEoKSxELnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixBZSksTyhELFwiZXJyb3JcIik9PT0wJiZDKEQscyl9ZnVuY3Rpb24gbmUoKXtELnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsaGUpLGEoKX1mdW5jdGlvbiBoZSgpe3koXCJvbmZpbmlzaFwiKSxELnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixuZSksYSgpfWZ1bmN0aW9uIGEoKXt5KFwidW5waXBlXCIpLFcudW5waXBlKEQpfXJldHVybiBXLm9uKFwiZGF0YVwiLGRlKSxmdW5jdGlvbihzLGgsTSl7aWYodHlwZW9mIHMucHJlcGVuZExpc3RlbmVyPT1cImZ1bmN0aW9uXCIpcmV0dXJuIHMucHJlcGVuZExpc3RlbmVyKGgsTSk7cy5fZXZlbnRzJiZzLl9ldmVudHMuZXJyb3I/QXJyYXkuaXNBcnJheShzLl9ldmVudHMuZXJyb3IpP3MuX2V2ZW50cy5lcnJvci51bnNoaWZ0KE0pOnMuX2V2ZW50cy5lcnJvcj1bTSxzLl9ldmVudHMuZXJyb3JdOnMub24oaCxNKX0oRCxcImVycm9yXCIsQWUpLEQub25jZShcImNsb3NlXCIsbmUpLEQub25jZShcImZpbmlzaFwiLGhlKSxELmVtaXQoXCJwaXBlXCIsVyksWC5mbG93aW5nfHwoeShcInBpcGUgcmVzdW1lXCIpLFcucmVzdW1lKCkpLER9LEgucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbihEKXt2YXIgRT10aGlzLl9yZWFkYWJsZVN0YXRlLFc9e2hhc1VucGlwZWQ6ITF9O2lmKEUucGlwZXNDb3VudD09PTApcmV0dXJuIHRoaXM7aWYoRS5waXBlc0NvdW50PT09MSlyZXR1cm4gRCYmRCE9PUUucGlwZXN8fChEfHwoRD1FLnBpcGVzKSxFLnBpcGVzPW51bGwsRS5waXBlc0NvdW50PTAsRS5mbG93aW5nPSExLEQmJkQuZW1pdChcInVucGlwZVwiLHRoaXMsVykpLHRoaXM7aWYoIUQpe3ZhciBYPUUucGlwZXMsdmU9RS5waXBlc0NvdW50O0UucGlwZXM9bnVsbCxFLnBpcGVzQ291bnQ9MCxFLmZsb3dpbmc9ITE7Zm9yKHZhciBPZT0wO09lPHZlO09lKyspWFtPZV0uZW1pdChcInVucGlwZVwiLHRoaXMse2hhc1VucGlwZWQ6ITF9KTtyZXR1cm4gdGhpc312YXIgZWU9bGUoRS5waXBlcyxEKTtyZXR1cm4gZWU9PT0tMXx8KEUucGlwZXMuc3BsaWNlKGVlLDEpLEUucGlwZXNDb3VudC09MSxFLnBpcGVzQ291bnQ9PT0xJiYoRS5waXBlcz1FLnBpcGVzWzBdKSxELmVtaXQoXCJ1bnBpcGVcIix0aGlzLFcpKSx0aGlzfSxILnByb3RvdHlwZS5vbj1mdW5jdGlvbihELEUpe3ZhciBXPWIucHJvdG90eXBlLm9uLmNhbGwodGhpcyxELEUpLFg9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gRD09PVwiZGF0YVwiPyhYLnJlYWRhYmxlTGlzdGVuaW5nPXRoaXMubGlzdGVuZXJDb3VudChcInJlYWRhYmxlXCIpPjAsWC5mbG93aW5nIT09ITEmJnRoaXMucmVzdW1lKCkpOkQ9PT1cInJlYWRhYmxlXCImJihYLmVuZEVtaXR0ZWR8fFgucmVhZGFibGVMaXN0ZW5pbmd8fChYLnJlYWRhYmxlTGlzdGVuaW5nPVgubmVlZFJlYWRhYmxlPSEwLFguZmxvd2luZz0hMSxYLmVtaXR0ZWRSZWFkYWJsZT0hMSx5KFwib24gcmVhZGFibGVcIixYLmxlbmd0aCxYLnJlYWRpbmcpLFgubGVuZ3RoP29lKHRoaXMpOlgucmVhZGluZ3x8Zi5uZXh0VGljayhLLHRoaXMpKSksV30sSC5wcm90b3R5cGUuYWRkTGlzdGVuZXI9SC5wcm90b3R5cGUub24sSC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oRCxFKXt2YXIgVz1iLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsRCxFKTtyZXR1cm4gRD09PVwicmVhZGFibGVcIiYmZi5uZXh0VGljayhMLHRoaXMpLFd9LEgucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihEKXt2YXIgRT1iLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBEIT09XCJyZWFkYWJsZVwiJiZEIT09dm9pZCAwfHxmLm5leHRUaWNrKEwsdGhpcyksRX0sSC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dmFyIEQ9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gRC5mbG93aW5nfHwoeShcInJlc3VtZVwiKSxELmZsb3dpbmc9IUQucmVhZGFibGVMaXN0ZW5pbmcsZnVuY3Rpb24oRSxXKXtXLnJlc3VtZVNjaGVkdWxlZHx8KFcucmVzdW1lU2NoZWR1bGVkPSEwLGYubmV4dFRpY2soRyxFLFcpKX0odGhpcyxEKSksRC5wYXVzZWQ9ITEsdGhpc30sSC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4geShcImNhbGwgcGF1c2UgZmxvd2luZz0lalwiLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nIT09ITEmJih5KFwicGF1c2VcIiksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPSExLHRoaXMuZW1pdChcInBhdXNlXCIpKSx0aGlzLl9yZWFkYWJsZVN0YXRlLnBhdXNlZD0hMCx0aGlzfSxILnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKEQpe3ZhciBFPXRoaXMsVz10aGlzLl9yZWFkYWJsZVN0YXRlLFg9ITE7Zm9yKHZhciB2ZSBpbiBELm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtpZih5KFwid3JhcHBlZCBlbmRcIiksVy5kZWNvZGVyJiYhVy5lbmRlZCl7dmFyIGVlPVcuZGVjb2Rlci5lbmQoKTtlZSYmZWUubGVuZ3RoJiZFLnB1c2goZWUpfUUucHVzaChudWxsKX0pLEQub24oXCJkYXRhXCIsZnVuY3Rpb24oZWUpe3koXCJ3cmFwcGVkIGRhdGFcIiksVy5kZWNvZGVyJiYoZWU9Vy5kZWNvZGVyLndyaXRlKGVlKSksVy5vYmplY3RNb2RlJiZlZT09bnVsbHx8KFcub2JqZWN0TW9kZXx8ZWUmJmVlLmxlbmd0aCkmJihFLnB1c2goZWUpfHwoWD0hMCxELnBhdXNlKCkpKX0pLEQpdGhpc1t2ZV09PT12b2lkIDAmJnR5cGVvZiBEW3ZlXT09XCJmdW5jdGlvblwiJiYodGhpc1t2ZV09ZnVuY3Rpb24oZWUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBEW2VlXS5hcHBseShELGFyZ3VtZW50cyl9fSh2ZSkpO2Zvcih2YXIgT2U9MDtPZTxZLmxlbmd0aDtPZSsrKUQub24oWVtPZV0sdGhpcy5lbWl0LmJpbmQodGhpcyxZW09lXSkpO3JldHVybiB0aGlzLl9yZWFkPWZ1bmN0aW9uKGVlKXt5KFwid3JhcHBlZCBfcmVhZFwiLGVlKSxYJiYoWD0hMSxELnJlc3VtZSgpKX0sdGhpc30sdHlwZW9mIFN5bWJvbD09XCJmdW5jdGlvblwiJiYoSC5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGc9PT12b2lkIDAmJihnPW4oODUwKSksZyh0aGlzKX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShILnByb3RvdHlwZSxcInJlYWRhYmxlSGlnaFdhdGVyTWFya1wiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEgucHJvdG90eXBlLFwicmVhZGFibGVCdWZmZXJcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEgucHJvdG90eXBlLFwicmVhZGFibGVGbG93aW5nXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZ30sc2V0OmZ1bmN0aW9uKEQpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9RCl9fSksSC5fZnJvbUxpc3Q9cmUsT2JqZWN0LmRlZmluZVByb3BlcnR5KEgucHJvdG90eXBlLFwicmVhZGFibGVMZW5ndGhcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGh9fSksdHlwZW9mIFN5bWJvbD09XCJmdW5jdGlvblwiJiYoSC5mcm9tPWZ1bmN0aW9uKEQsRSl7cmV0dXJuIHc9PT12b2lkIDAmJih3PW4oMTY3KSksdyhILEQsRSl9KX0sNjA1OihlLHQsbik9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9STt2YXIgbz1uKDI4MSkucSxmPW8uRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQseT1vLkVSUl9NVUxUSVBMRV9DQUxMQkFDSyxPPW8uRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORyxiPW8uRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wLHU9big3NTMpO2Z1bmN0aW9uIHAodyx2KXt2YXIgbT10aGlzLl90cmFuc2Zvcm1TdGF0ZTttLnRyYW5zZm9ybWluZz0hMTt2YXIgUz1tLndyaXRlY2I7aWYoUz09PW51bGwpcmV0dXJuIHRoaXMuZW1pdChcImVycm9yXCIsbmV3IHkpO20ud3JpdGVjaHVuaz1udWxsLG0ud3JpdGVjYj1udWxsLHYhPW51bGwmJnRoaXMucHVzaCh2KSxTKHcpO3ZhciBfPXRoaXMuX3JlYWRhYmxlU3RhdGU7Xy5yZWFkaW5nPSExLChfLm5lZWRSZWFkYWJsZXx8Xy5sZW5ndGg8Xy5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZChfLmhpZ2hXYXRlck1hcmspfWZ1bmN0aW9uIEkodyl7aWYoISh0aGlzIGluc3RhbmNlb2YgSSkpcmV0dXJuIG5ldyBJKHcpO3UuY2FsbCh0aGlzLHcpLHRoaXMuX3RyYW5zZm9ybVN0YXRlPXthZnRlclRyYW5zZm9ybTpwLmJpbmQodGhpcyksbmVlZFRyYW5zZm9ybTohMSx0cmFuc2Zvcm1pbmc6ITEsd3JpdGVjYjpudWxsLHdyaXRlY2h1bms6bnVsbCx3cml0ZWVuY29kaW5nOm51bGx9LHRoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYz0hMSx3JiYodHlwZW9mIHcudHJhbnNmb3JtPT1cImZ1bmN0aW9uXCImJih0aGlzLl90cmFuc2Zvcm09dy50cmFuc2Zvcm0pLHR5cGVvZiB3LmZsdXNoPT1cImZ1bmN0aW9uXCImJih0aGlzLl9mbHVzaD13LmZsdXNoKSksdGhpcy5vbihcInByZWZpbmlzaFwiLFApfWZ1bmN0aW9uIFAoKXt2YXIgdz10aGlzO3R5cGVvZiB0aGlzLl9mbHVzaCE9XCJmdW5jdGlvblwifHx0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD9nKHRoaXMsbnVsbCxudWxsKTp0aGlzLl9mbHVzaChmdW5jdGlvbih2LG0pe2codyx2LG0pfSl9ZnVuY3Rpb24gZyh3LHYsbSl7aWYodilyZXR1cm4gdy5lbWl0KFwiZXJyb3JcIix2KTtpZihtIT1udWxsJiZ3LnB1c2gobSksdy5fd3JpdGFibGVTdGF0ZS5sZW5ndGgpdGhyb3cgbmV3IGI7aWYody5fdHJhbnNmb3JtU3RhdGUudHJhbnNmb3JtaW5nKXRocm93IG5ldyBPO3JldHVybiB3LnB1c2gobnVsbCl9big3MTcpKEksdSksSS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih3LHYpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1TdGF0ZS5uZWVkVHJhbnNmb3JtPSExLHUucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHcsdil9LEkucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24odyx2LG0pe20obmV3IGYoXCJfdHJhbnNmb3JtKClcIikpfSxJLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24odyx2LG0pe3ZhciBTPXRoaXMuX3RyYW5zZm9ybVN0YXRlO2lmKFMud3JpdGVjYj1tLFMud3JpdGVjaHVuaz13LFMud3JpdGVlbmNvZGluZz12LCFTLnRyYW5zZm9ybWluZyl7dmFyIF89dGhpcy5fcmVhZGFibGVTdGF0ZTsoUy5uZWVkVHJhbnNmb3JtfHxfLm5lZWRSZWFkYWJsZXx8Xy5sZW5ndGg8Xy5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZChfLmhpZ2hXYXRlck1hcmspfX0sSS5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24odyl7dmFyIHY9dGhpcy5fdHJhbnNmb3JtU3RhdGU7di53cml0ZWNodW5rPT09bnVsbHx8di50cmFuc2Zvcm1pbmc/di5uZWVkVHJhbnNmb3JtPSEwOih2LnRyYW5zZm9ybWluZz0hMCx0aGlzLl90cmFuc2Zvcm0odi53cml0ZWNodW5rLHYud3JpdGVlbmNvZGluZyx2LmFmdGVyVHJhbnNmb3JtKSl9LEkucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKHcsdil7dS5wcm90b3R5cGUuX2Rlc3Ryb3kuY2FsbCh0aGlzLHcsZnVuY3Rpb24obSl7dihtKX0pfX0sMjI5OihlLHQsbik9PntcInVzZSBzdHJpY3RcIjt2YXIgbyxmPW4oMTU1KTtmdW5jdGlvbiB5KEEpe3ZhciBqPXRoaXM7dGhpcy5uZXh0PW51bGwsdGhpcy5lbnRyeT1udWxsLHRoaXMuZmluaXNoPWZ1bmN0aW9uKCl7KGZ1bmN0aW9uKEwsSyxHKXt2YXIgej1MLmVudHJ5O2ZvcihMLmVudHJ5PW51bGw7ejspe3ZhciByZT16LmNhbGxiYWNrO0sucGVuZGluZ2NiLS0scmUodm9pZCAwKSx6PXoubmV4dH1LLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PUx9KShqLEEpfX1lLmV4cG9ydHM9SCxILldyaXRhYmxlU3RhdGU9Tjt2YXIgTyxiPXtkZXByZWNhdGU6big5MjcpfSx1PW4oNTAzKSxwPW4oNzY0KS5CdWZmZXIsST1uLmcuVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9LFA9bigxOTUpLGc9big0NTcpLmdldEhpZ2hXYXRlck1hcmssdz1uKDI4MSkucSx2PXcuRVJSX0lOVkFMSURfQVJHX1RZUEUsbT13LkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVELFM9dy5FUlJfTVVMVElQTEVfQ0FMTEJBQ0ssXz13LkVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUsQj13LkVSUl9TVFJFQU1fREVTVFJPWUVELFI9dy5FUlJfU1RSRUFNX05VTExfVkFMVUVTLCQ9dy5FUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCxGPXcuRVJSX1VOS05PV05fRU5DT0RJTkcsQz1QLmVycm9yT3JEZXN0cm95O2Z1bmN0aW9uIFkoKXt9ZnVuY3Rpb24gTihBLGosTCl7bz1vfHxuKDc1MyksQT1BfHx7fSx0eXBlb2YgTCE9XCJib29sZWFuXCImJihMPWogaW5zdGFuY2VvZiBvKSx0aGlzLm9iamVjdE1vZGU9ISFBLm9iamVjdE1vZGUsTCYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEhQS53cml0YWJsZU9iamVjdE1vZGUpLHRoaXMuaGlnaFdhdGVyTWFyaz1nKHRoaXMsQSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLEwpLHRoaXMuZmluYWxDYWxsZWQ9ITEsdGhpcy5uZWVkRHJhaW49ITEsdGhpcy5lbmRpbmc9ITEsdGhpcy5lbmRlZD0hMSx0aGlzLmZpbmlzaGVkPSExLHRoaXMuZGVzdHJveWVkPSExO3ZhciBLPUEuZGVjb2RlU3RyaW5ncz09PSExO3RoaXMuZGVjb2RlU3RyaW5ncz0hSyx0aGlzLmRlZmF1bHRFbmNvZGluZz1BLmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihHKXsoZnVuY3Rpb24oeixyZSl7dmFyIHRlPXouX3dyaXRhYmxlU3RhdGUsdWU9dGUuc3luYyxsZT10ZS53cml0ZWNiO2lmKHR5cGVvZiBsZSE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBTO2lmKGZ1bmN0aW9uKEUpe0Uud3JpdGluZz0hMSxFLndyaXRlY2I9bnVsbCxFLmxlbmd0aC09RS53cml0ZWxlbixFLndyaXRlbGVuPTB9KHRlKSxyZSkoZnVuY3Rpb24oRSxXLFgsdmUsT2Upey0tVy5wZW5kaW5nY2IsWD8oZi5uZXh0VGljayhPZSx2ZSksZi5uZXh0VGljayhrLEUsVyksRS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsQyhFLHZlKSk6KE9lKHZlKSxFLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxDKEUsdmUpLGsoRSxXKSl9KSh6LHRlLHVlLHJlLGxlKTtlbHNle3ZhciBEPXEodGUpfHx6LmRlc3Ryb3llZDtEfHx0ZS5jb3JrZWR8fHRlLmJ1ZmZlclByb2Nlc3Npbmd8fCF0ZS5idWZmZXJlZFJlcXVlc3R8fFEoeix0ZSksdWU/Zi5uZXh0VGljayhjZSx6LHRlLEQsbGUpOmNlKHosdGUsRCxsZSl9fSkoaixHKX0sdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5wZW5kaW5nY2I9MCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuZW1pdENsb3NlPUEuZW1pdENsb3NlIT09ITEsdGhpcy5hdXRvRGVzdHJveT0hIUEuYXV0b0Rlc3Ryb3ksdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudD0wLHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyB5KHRoaXMpfWZ1bmN0aW9uIEgoQSl7dmFyIGo9dGhpcyBpbnN0YW5jZW9mKG89b3x8big3NTMpKTtpZighaiYmIU8uY2FsbChILHRoaXMpKXJldHVybiBuZXcgSChBKTt0aGlzLl93cml0YWJsZVN0YXRlPW5ldyBOKEEsdGhpcyxqKSx0aGlzLndyaXRhYmxlPSEwLEEmJih0eXBlb2YgQS53cml0ZT09XCJmdW5jdGlvblwiJiYodGhpcy5fd3JpdGU9QS53cml0ZSksdHlwZW9mIEEud3JpdGV2PT1cImZ1bmN0aW9uXCImJih0aGlzLl93cml0ZXY9QS53cml0ZXYpLHR5cGVvZiBBLmRlc3Ryb3k9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX2Rlc3Ryb3k9QS5kZXN0cm95KSx0eXBlb2YgQS5maW5hbD09XCJmdW5jdGlvblwiJiYodGhpcy5fZmluYWw9QS5maW5hbCkpLHUuY2FsbCh0aGlzKX1mdW5jdGlvbiBKKEEsaixMLEssRyx6LHJlKXtqLndyaXRlbGVuPUssai53cml0ZWNiPXJlLGoud3JpdGluZz0hMCxqLnN5bmM9ITAsai5kZXN0cm95ZWQ/ai5vbndyaXRlKG5ldyBCKFwid3JpdGVcIikpOkw/QS5fd3JpdGV2KEcsai5vbndyaXRlKTpBLl93cml0ZShHLHosai5vbndyaXRlKSxqLnN5bmM9ITF9ZnVuY3Rpb24gY2UoQSxqLEwsSyl7THx8ZnVuY3Rpb24oRyx6KXt6Lmxlbmd0aD09PTAmJnoubmVlZERyYWluJiYoei5uZWVkRHJhaW49ITEsRy5lbWl0KFwiZHJhaW5cIikpfShBLGopLGoucGVuZGluZ2NiLS0sSygpLGsoQSxqKX1mdW5jdGlvbiBRKEEsail7ai5idWZmZXJQcm9jZXNzaW5nPSEwO3ZhciBMPWouYnVmZmVyZWRSZXF1ZXN0O2lmKEEuX3dyaXRldiYmTCYmTC5uZXh0KXt2YXIgSz1qLmJ1ZmZlcmVkUmVxdWVzdENvdW50LEc9bmV3IEFycmF5KEspLHo9ai5jb3JrZWRSZXF1ZXN0c0ZyZWU7ei5lbnRyeT1MO2Zvcih2YXIgcmU9MCx0ZT0hMDtMOylHW3JlXT1MLEwuaXNCdWZ8fCh0ZT0hMSksTD1MLm5leHQscmUrPTE7Ry5hbGxCdWZmZXJzPXRlLEooQSxqLCEwLGoubGVuZ3RoLEcsXCJcIix6LmZpbmlzaCksai5wZW5kaW5nY2IrKyxqLmxhc3RCdWZmZXJlZFJlcXVlc3Q9bnVsbCx6Lm5leHQ/KGouY29ya2VkUmVxdWVzdHNGcmVlPXoubmV4dCx6Lm5leHQ9bnVsbCk6ai5jb3JrZWRSZXF1ZXN0c0ZyZWU9bmV3IHkoaiksai5idWZmZXJlZFJlcXVlc3RDb3VudD0wfWVsc2V7Zm9yKDtMOyl7dmFyIHVlPUwuY2h1bmssbGU9TC5lbmNvZGluZyxEPUwuY2FsbGJhY2s7aWYoSihBLGosITEsai5vYmplY3RNb2RlPzE6dWUubGVuZ3RoLHVlLGxlLEQpLEw9TC5uZXh0LGouYnVmZmVyZWRSZXF1ZXN0Q291bnQtLSxqLndyaXRpbmcpYnJlYWt9TD09PW51bGwmJihqLmxhc3RCdWZmZXJlZFJlcXVlc3Q9bnVsbCl9ai5idWZmZXJlZFJlcXVlc3Q9TCxqLmJ1ZmZlclByb2Nlc3Npbmc9ITF9ZnVuY3Rpb24gcShBKXtyZXR1cm4gQS5lbmRpbmcmJkEubGVuZ3RoPT09MCYmQS5idWZmZXJlZFJlcXVlc3Q9PT1udWxsJiYhQS5maW5pc2hlZCYmIUEud3JpdGluZ31mdW5jdGlvbiBvZShBLGope0EuX2ZpbmFsKGZ1bmN0aW9uKEwpe2oucGVuZGluZ2NiLS0sTCYmQyhBLEwpLGoucHJlZmluaXNoZWQ9ITAsQS5lbWl0KFwicHJlZmluaXNoXCIpLGsoQSxqKX0pfWZ1bmN0aW9uIGsoQSxqKXt2YXIgTD1xKGopO2lmKEwmJihmdW5jdGlvbihHLHope3oucHJlZmluaXNoZWR8fHouZmluYWxDYWxsZWR8fCh0eXBlb2YgRy5fZmluYWwhPVwiZnVuY3Rpb25cInx8ei5kZXN0cm95ZWQ/KHoucHJlZmluaXNoZWQ9ITAsRy5lbWl0KFwicHJlZmluaXNoXCIpKTooei5wZW5kaW5nY2IrKyx6LmZpbmFsQ2FsbGVkPSEwLGYubmV4dFRpY2sob2UsRyx6KSkpfShBLGopLGoucGVuZGluZ2NiPT09MCYmKGouZmluaXNoZWQ9ITAsQS5lbWl0KFwiZmluaXNoXCIpLGouYXV0b0Rlc3Ryb3kpKSl7dmFyIEs9QS5fcmVhZGFibGVTdGF0ZTsoIUt8fEsuYXV0b0Rlc3Ryb3kmJksuZW5kRW1pdHRlZCkmJkEuZGVzdHJveSgpfXJldHVybiBMfW4oNzE3KShILHUpLE4ucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgQT10aGlzLmJ1ZmZlcmVkUmVxdWVzdCxqPVtdO0E7KWoucHVzaChBKSxBPUEubmV4dDtyZXR1cm4gan0sZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KE4ucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDpiLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJ1ZmZlcigpfSxcIl93cml0YWJsZVN0YXRlLmJ1ZmZlciBpcyBkZXByZWNhdGVkLiBVc2UgX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyIGluc3RlYWQuXCIsXCJERVAwMDAzXCIpfSl9Y2F0Y2h7fX0oKSx0eXBlb2YgU3ltYm9sPT1cImZ1bmN0aW9uXCImJlN5bWJvbC5oYXNJbnN0YW5jZSYmdHlwZW9mIEZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdPT1cImZ1bmN0aW9uXCI/KE89RnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEgsU3ltYm9sLmhhc0luc3RhbmNlLHt2YWx1ZTpmdW5jdGlvbihBKXtyZXR1cm4hIU8uY2FsbCh0aGlzLEEpfHx0aGlzPT09SCYmQSYmQS5fd3JpdGFibGVTdGF0ZSBpbnN0YW5jZW9mIE59fSkpOk89ZnVuY3Rpb24oQSl7cmV0dXJuIEEgaW5zdGFuY2VvZiB0aGlzfSxILnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKCl7Qyh0aGlzLG5ldyBfKX0sSC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oQSxqLEwpe3ZhciBLLEc9dGhpcy5fd3JpdGFibGVTdGF0ZSx6PSExLHJlPSFHLm9iamVjdE1vZGUmJihLPUEscC5pc0J1ZmZlcihLKXx8SyBpbnN0YW5jZW9mIEkpO3JldHVybiByZSYmIXAuaXNCdWZmZXIoQSkmJihBPWZ1bmN0aW9uKHRlKXtyZXR1cm4gcC5mcm9tKHRlKX0oQSkpLHR5cGVvZiBqPT1cImZ1bmN0aW9uXCImJihMPWosaj1udWxsKSxyZT9qPVwiYnVmZmVyXCI6anx8KGo9Ry5kZWZhdWx0RW5jb2RpbmcpLHR5cGVvZiBMIT1cImZ1bmN0aW9uXCImJihMPVkpLEcuZW5kaW5nP2Z1bmN0aW9uKHRlLHVlKXt2YXIgbGU9bmV3ICQ7Qyh0ZSxsZSksZi5uZXh0VGljayh1ZSxsZSl9KHRoaXMsTCk6KHJlfHxmdW5jdGlvbih0ZSx1ZSxsZSxEKXt2YXIgRTtyZXR1cm4gbGU9PT1udWxsP0U9bmV3IFI6dHlwZW9mIGxlPT1cInN0cmluZ1wifHx1ZS5vYmplY3RNb2RlfHwoRT1uZXcgdihcImNodW5rXCIsW1wic3RyaW5nXCIsXCJCdWZmZXJcIl0sbGUpKSwhRXx8KEModGUsRSksZi5uZXh0VGljayhELEUpLCExKX0odGhpcyxHLEEsTCkpJiYoRy5wZW5kaW5nY2IrKyx6PWZ1bmN0aW9uKHRlLHVlLGxlLEQsRSxXKXtpZighbGUpe3ZhciBYPWZ1bmN0aW9uKGZlLGRlLEFlKXtyZXR1cm4gZmUub2JqZWN0TW9kZXx8ZmUuZGVjb2RlU3RyaW5ncz09PSExfHx0eXBlb2YgZGUhPVwic3RyaW5nXCJ8fChkZT1wLmZyb20oZGUsQWUpKSxkZX0odWUsRCxFKTtEIT09WCYmKGxlPSEwLEU9XCJidWZmZXJcIixEPVgpfXZhciB2ZT11ZS5vYmplY3RNb2RlPzE6RC5sZW5ndGg7dWUubGVuZ3RoKz12ZTt2YXIgT2U9dWUubGVuZ3RoPHVlLmhpZ2hXYXRlck1hcms7aWYoT2V8fCh1ZS5uZWVkRHJhaW49ITApLHVlLndyaXRpbmd8fHVlLmNvcmtlZCl7dmFyIGVlPXVlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7dWUubGFzdEJ1ZmZlcmVkUmVxdWVzdD17Y2h1bms6RCxlbmNvZGluZzpFLGlzQnVmOmxlLGNhbGxiYWNrOlcsbmV4dDpudWxsfSxlZT9lZS5uZXh0PXVlLmxhc3RCdWZmZXJlZFJlcXVlc3Q6dWUuYnVmZmVyZWRSZXF1ZXN0PXVlLmxhc3RCdWZmZXJlZFJlcXVlc3QsdWUuYnVmZmVyZWRSZXF1ZXN0Q291bnQrPTF9ZWxzZSBKKHRlLHVlLCExLHZlLEQsRSxXKTtyZXR1cm4gT2V9KHRoaXMsRyxyZSxBLGosTCkpLHp9LEgucHJvdG90eXBlLmNvcms9ZnVuY3Rpb24oKXt0aGlzLl93cml0YWJsZVN0YXRlLmNvcmtlZCsrfSxILnByb3RvdHlwZS51bmNvcms9ZnVuY3Rpb24oKXt2YXIgQT10aGlzLl93cml0YWJsZVN0YXRlO0EuY29ya2VkJiYoQS5jb3JrZWQtLSxBLndyaXRpbmd8fEEuY29ya2VkfHxBLmJ1ZmZlclByb2Nlc3Npbmd8fCFBLmJ1ZmZlcmVkUmVxdWVzdHx8USh0aGlzLEEpKX0sSC5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nPWZ1bmN0aW9uKEEpe2lmKHR5cGVvZiBBPT1cInN0cmluZ1wiJiYoQT1BLnRvTG93ZXJDYXNlKCkpLCEoW1wiaGV4XCIsXCJ1dGY4XCIsXCJ1dGYtOFwiLFwiYXNjaWlcIixcImJpbmFyeVwiLFwiYmFzZTY0XCIsXCJ1Y3MyXCIsXCJ1Y3MtMlwiLFwidXRmMTZsZVwiLFwidXRmLTE2bGVcIixcInJhd1wiXS5pbmRleE9mKChBK1wiXCIpLnRvTG93ZXJDYXNlKCkpPi0xKSl0aHJvdyBuZXcgRihBKTtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2Rpbmc9QSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSC5wcm90b3R5cGUsXCJ3cml0YWJsZUJ1ZmZlclwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShILnByb3RvdHlwZSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksSC5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKEEsaixMKXtMKG5ldyBtKFwiX3dyaXRlKClcIikpfSxILnByb3RvdHlwZS5fd3JpdGV2PW51bGwsSC5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKEEsaixMKXt2YXIgSz10aGlzLl93cml0YWJsZVN0YXRlO3JldHVybiB0eXBlb2YgQT09XCJmdW5jdGlvblwiPyhMPUEsQT1udWxsLGo9bnVsbCk6dHlwZW9mIGo9PVwiZnVuY3Rpb25cIiYmKEw9aixqPW51bGwpLEEhPW51bGwmJnRoaXMud3JpdGUoQSxqKSxLLmNvcmtlZCYmKEsuY29ya2VkPTEsdGhpcy51bmNvcmsoKSksSy5lbmRpbmd8fGZ1bmN0aW9uKEcseixyZSl7ei5lbmRpbmc9ITAsayhHLHopLHJlJiYoei5maW5pc2hlZD9mLm5leHRUaWNrKHJlKTpHLm9uY2UoXCJmaW5pc2hcIixyZSkpLHouZW5kZWQ9ITAsRy53cml0YWJsZT0hMX0odGhpcyxLLEwpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShILnByb3RvdHlwZSxcIndyaXRhYmxlTGVuZ3RoXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShILnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlIT09dm9pZCAwJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0OmZ1bmN0aW9uKEEpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD1BKX19KSxILnByb3RvdHlwZS5kZXN0cm95PVAuZGVzdHJveSxILnByb3RvdHlwZS5fdW5kZXN0cm95PVAudW5kZXN0cm95LEgucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKEEsail7aihBKX19LDg1MDooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG8sZj1uKDE1NSk7ZnVuY3Rpb24geShSLCQsRil7cmV0dXJuICQgaW4gUj9PYmplY3QuZGVmaW5lUHJvcGVydHkoUiwkLHt2YWx1ZTpGLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6UlskXT1GLFJ9dmFyIE89big2MTApLGI9U3ltYm9sKFwibGFzdFJlc29sdmVcIiksdT1TeW1ib2woXCJsYXN0UmVqZWN0XCIpLHA9U3ltYm9sKFwiZXJyb3JcIiksST1TeW1ib2woXCJlbmRlZFwiKSxQPVN5bWJvbChcImxhc3RQcm9taXNlXCIpLGc9U3ltYm9sKFwiaGFuZGxlUHJvbWlzZVwiKSx3PVN5bWJvbChcInN0cmVhbVwiKTtmdW5jdGlvbiB2KFIsJCl7cmV0dXJue3ZhbHVlOlIsZG9uZTokfX1mdW5jdGlvbiBtKFIpe3ZhciAkPVJbYl07aWYoJCE9PW51bGwpe3ZhciBGPVJbd10ucmVhZCgpO0YhPT1udWxsJiYoUltQXT1udWxsLFJbYl09bnVsbCxSW3VdPW51bGwsJCh2KEYsITEpKSl9fWZ1bmN0aW9uIFMoUil7Zi5uZXh0VGljayhtLFIpfXZhciBfPU9iamVjdC5nZXRQcm90b3R5cGVPZihmdW5jdGlvbigpe30pLEI9T2JqZWN0LnNldFByb3RvdHlwZU9mKCh5KG89e2dldCBzdHJlYW0oKXtyZXR1cm4gdGhpc1t3XX0sbmV4dDpmdW5jdGlvbigpe3ZhciBSPXRoaXMsJD10aGlzW3BdO2lmKCQhPT1udWxsKXJldHVybiBQcm9taXNlLnJlamVjdCgkKTtpZih0aGlzW0ldKXJldHVybiBQcm9taXNlLnJlc29sdmUodih2b2lkIDAsITApKTtpZih0aGlzW3ddLmRlc3Ryb3llZClyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oTixIKXtmLm5leHRUaWNrKGZ1bmN0aW9uKCl7UltwXT9IKFJbcF0pOk4odih2b2lkIDAsITApKX0pfSk7dmFyIEYsQz10aGlzW1BdO2lmKEMpRj1uZXcgUHJvbWlzZShmdW5jdGlvbihOLEgpe3JldHVybiBmdW5jdGlvbihKLGNlKXtOLnRoZW4oZnVuY3Rpb24oKXtIW0ldP0oodih2b2lkIDAsITApKTpIW2ddKEosY2UpfSxjZSl9fShDLHRoaXMpKTtlbHNle3ZhciBZPXRoaXNbd10ucmVhZCgpO2lmKFkhPT1udWxsKXJldHVybiBQcm9taXNlLnJlc29sdmUodihZLCExKSk7Rj1uZXcgUHJvbWlzZSh0aGlzW2ddKX1yZXR1cm4gdGhpc1tQXT1GLEZ9fSxTeW1ib2wuYXN5bmNJdGVyYXRvcixmdW5jdGlvbigpe3JldHVybiB0aGlzfSkseShvLFwicmV0dXJuXCIsZnVuY3Rpb24oKXt2YXIgUj10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbigkLEYpe1Jbd10uZGVzdHJveShudWxsLGZ1bmN0aW9uKEMpe0M/RihDKTokKHYodm9pZCAwLCEwKSl9KX0pfSksbyksXyk7ZS5leHBvcnRzPWZ1bmN0aW9uKFIpe3ZhciAkLEY9T2JqZWN0LmNyZWF0ZShCLCh5KCQ9e30sdyx7dmFsdWU6Uix3cml0YWJsZTohMH0pLHkoJCxiLHt2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSkseSgkLHUse3ZhbHVlOm51bGwsd3JpdGFibGU6ITB9KSx5KCQscCx7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0pLHkoJCxJLHt2YWx1ZTpSLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQsd3JpdGFibGU6ITB9KSx5KCQsZyx7dmFsdWU6ZnVuY3Rpb24oQyxZKXt2YXIgTj1GW3ddLnJlYWQoKTtOPyhGW1BdPW51bGwsRltiXT1udWxsLEZbdV09bnVsbCxDKHYoTiwhMSkpKTooRltiXT1DLEZbdV09WSl9LHdyaXRhYmxlOiEwfSksJCkpO3JldHVybiBGW1BdPW51bGwsTyhSLGZ1bmN0aW9uKEMpe2lmKEMmJkMuY29kZSE9PVwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIil7dmFyIFk9Rlt1XTtyZXR1cm4gWSE9PW51bGwmJihGW1BdPW51bGwsRltiXT1udWxsLEZbdV09bnVsbCxZKEMpKSx2b2lkKEZbcF09Qyl9dmFyIE49RltiXTtOIT09bnVsbCYmKEZbUF09bnVsbCxGW2JdPW51bGwsRlt1XT1udWxsLE4odih2b2lkIDAsITApKSksRltJXT0hMH0pLFIub24oXCJyZWFkYWJsZVwiLFMuYmluZChudWxsLEYpKSxGfX0sMzI3OihlLHQsbik9PntcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKHAsSSl7dmFyIFA9T2JqZWN0LmtleXMocCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwKTtJJiYoZz1nLmZpbHRlcihmdW5jdGlvbih3KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLHcpLmVudW1lcmFibGV9KSksUC5wdXNoLmFwcGx5KFAsZyl9cmV0dXJuIFB9ZnVuY3Rpb24gZihwLEksUCl7cmV0dXJuIEkgaW4gcD9PYmplY3QuZGVmaW5lUHJvcGVydHkocCxJLHt2YWx1ZTpQLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6cFtJXT1QLHB9ZnVuY3Rpb24geShwLEkpe2Zvcih2YXIgUD0wO1A8SS5sZW5ndGg7UCsrKXt2YXIgZz1JW1BdO2cuZW51bWVyYWJsZT1nLmVudW1lcmFibGV8fCExLGcuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGcmJihnLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocCxnLmtleSxnKX19dmFyIE89big3NjQpLkJ1ZmZlcixiPW4oMzYxKS5pbnNwZWN0LHU9YiYmYi5jdXN0b218fFwiaW5zcGVjdFwiO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHAoKXsoZnVuY3Rpb24oZyx3KXtpZighKGcgaW5zdGFuY2VvZiB3KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSkodGhpcyxwKSx0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfXZhciBJLFA7cmV0dXJuIEk9cCxQPVt7a2V5OlwicHVzaFwiLHZhbHVlOmZ1bmN0aW9uKGcpe3ZhciB3PXtkYXRhOmcsbmV4dDpudWxsfTt0aGlzLmxlbmd0aD4wP3RoaXMudGFpbC5uZXh0PXc6dGhpcy5oZWFkPXcsdGhpcy50YWlsPXcsKyt0aGlzLmxlbmd0aH19LHtrZXk6XCJ1bnNoaWZ0XCIsdmFsdWU6ZnVuY3Rpb24oZyl7dmFyIHc9e2RhdGE6ZyxuZXh0OnRoaXMuaGVhZH07dGhpcy5sZW5ndGg9PT0wJiYodGhpcy50YWlsPXcpLHRoaXMuaGVhZD13LCsrdGhpcy5sZW5ndGh9fSx7a2V5Olwic2hpZnRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoIT09MCl7dmFyIGc9dGhpcy5oZWFkLmRhdGE7cmV0dXJuIHRoaXMubGVuZ3RoPT09MT90aGlzLmhlYWQ9dGhpcy50YWlsPW51bGw6dGhpcy5oZWFkPXRoaXMuaGVhZC5uZXh0LC0tdGhpcy5sZW5ndGgsZ319fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfX0se2tleTpcImpvaW5cIix2YWx1ZTpmdW5jdGlvbihnKXtpZih0aGlzLmxlbmd0aD09PTApcmV0dXJuXCJcIjtmb3IodmFyIHc9dGhpcy5oZWFkLHY9XCJcIit3LmRhdGE7dz13Lm5leHQ7KXYrPWcrdy5kYXRhO3JldHVybiB2fX0se2tleTpcImNvbmNhdFwiLHZhbHVlOmZ1bmN0aW9uKGcpe2lmKHRoaXMubGVuZ3RoPT09MClyZXR1cm4gTy5hbGxvYygwKTtmb3IodmFyIHcsdixtLFM9Ty5hbGxvY1Vuc2FmZShnPj4+MCksXz10aGlzLmhlYWQsQj0wO187KXc9Xy5kYXRhLHY9UyxtPUIsTy5wcm90b3R5cGUuY29weS5jYWxsKHcsdixtKSxCKz1fLmRhdGEubGVuZ3RoLF89Xy5uZXh0O3JldHVybiBTfX0se2tleTpcImNvbnN1bWVcIix2YWx1ZTpmdW5jdGlvbihnLHcpe3ZhciB2O3JldHVybiBnPHRoaXMuaGVhZC5kYXRhLmxlbmd0aD8odj10aGlzLmhlYWQuZGF0YS5zbGljZSgwLGcpLHRoaXMuaGVhZC5kYXRhPXRoaXMuaGVhZC5kYXRhLnNsaWNlKGcpKTp2PWc9PT10aGlzLmhlYWQuZGF0YS5sZW5ndGg/dGhpcy5zaGlmdCgpOnc/dGhpcy5fZ2V0U3RyaW5nKGcpOnRoaXMuX2dldEJ1ZmZlcihnKSx2fX0se2tleTpcImZpcnN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkLmRhdGF9fSx7a2V5OlwiX2dldFN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGcpe3ZhciB3PXRoaXMuaGVhZCx2PTEsbT13LmRhdGE7Zm9yKGctPW0ubGVuZ3RoO3c9dy5uZXh0Oyl7dmFyIFM9dy5kYXRhLF89Zz5TLmxlbmd0aD9TLmxlbmd0aDpnO2lmKF89PT1TLmxlbmd0aD9tKz1TOm0rPVMuc2xpY2UoMCxnKSwoZy09Xyk9PTApe189PT1TLmxlbmd0aD8oKyt2LHcubmV4dD90aGlzLmhlYWQ9dy5uZXh0OnRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCk6KHRoaXMuaGVhZD13LHcuZGF0YT1TLnNsaWNlKF8pKTticmVha30rK3Z9cmV0dXJuIHRoaXMubGVuZ3RoLT12LG19fSx7a2V5OlwiX2dldEJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKGcpe3ZhciB3PU8uYWxsb2NVbnNhZmUoZyksdj10aGlzLmhlYWQsbT0xO2Zvcih2LmRhdGEuY29weSh3KSxnLT12LmRhdGEubGVuZ3RoO3Y9di5uZXh0Oyl7dmFyIFM9di5kYXRhLF89Zz5TLmxlbmd0aD9TLmxlbmd0aDpnO2lmKFMuY29weSh3LHcubGVuZ3RoLWcsMCxfKSwoZy09Xyk9PTApe189PT1TLmxlbmd0aD8oKyttLHYubmV4dD90aGlzLmhlYWQ9di5uZXh0OnRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCk6KHRoaXMuaGVhZD12LHYuZGF0YT1TLnNsaWNlKF8pKTticmVha30rK219cmV0dXJuIHRoaXMubGVuZ3RoLT1tLHd9fSx7a2V5OnUsdmFsdWU6ZnVuY3Rpb24oZyx3KXtyZXR1cm4gYih0aGlzLGZ1bmN0aW9uKHYpe2Zvcih2YXIgbT0xO208YXJndW1lbnRzLmxlbmd0aDttKyspe3ZhciBTPWFyZ3VtZW50c1ttXSE9bnVsbD9hcmd1bWVudHNbbV06e307bSUyP28oT2JqZWN0KFMpLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKF8pe2YodixfLFNbX10pfSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhTKSk6byhPYmplY3QoUykpLmZvckVhY2goZnVuY3Rpb24oXyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHYsXyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFMsXykpfSl9cmV0dXJuIHZ9KHt9LHcse2RlcHRoOjAsY3VzdG9tSW5zcGVjdDohMX0pKX19XSxQJiZ5KEkucHJvdG90eXBlLFApLHB9KCl9LDE5NTooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG89bigxNTUpO2Z1bmN0aW9uIGYoYix1KXtPKGIsdSkseShiKX1mdW5jdGlvbiB5KGIpe2IuX3dyaXRhYmxlU3RhdGUmJiFiLl93cml0YWJsZVN0YXRlLmVtaXRDbG9zZXx8Yi5fcmVhZGFibGVTdGF0ZSYmIWIuX3JlYWRhYmxlU3RhdGUuZW1pdENsb3NlfHxiLmVtaXQoXCJjbG9zZVwiKX1mdW5jdGlvbiBPKGIsdSl7Yi5lbWl0KFwiZXJyb3JcIix1KX1lLmV4cG9ydHM9e2Rlc3Ryb3k6ZnVuY3Rpb24oYix1KXt2YXIgcD10aGlzLEk9dGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQsUD10aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZDtyZXR1cm4gSXx8UD8odT91KGIpOmImJih0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkfHwodGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsby5uZXh0VGljayhPLHRoaXMsYikpOm8ubmV4dFRpY2soTyx0aGlzLGIpKSx0aGlzKToodGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPSEwKSx0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITApLHRoaXMuX2Rlc3Ryb3koYnx8bnVsbCxmdW5jdGlvbihnKXshdSYmZz9wLl93cml0YWJsZVN0YXRlP3AuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkP28ubmV4dFRpY2soeSxwKToocC5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsby5uZXh0VGljayhmLHAsZykpOm8ubmV4dFRpY2soZixwLGcpOnU/KG8ubmV4dFRpY2soeSxwKSx1KGcpKTpvLm5leHRUaWNrKHkscCl9KSx0aGlzKX0sdW5kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGluZz0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMSksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5hbENhbGxlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLnByZWZpbmlzaGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITEpfSxlcnJvck9yRGVzdHJveTpmdW5jdGlvbihiLHUpe3ZhciBwPWIuX3JlYWRhYmxlU3RhdGUsST1iLl93cml0YWJsZVN0YXRlO3AmJnAuYXV0b0Rlc3Ryb3l8fEkmJkkuYXV0b0Rlc3Ryb3k/Yi5kZXN0cm95KHUpOmIuZW1pdChcImVycm9yXCIsdSl9fX0sNjEwOihlLHQsbik9PntcInVzZSBzdHJpY3RcIjt2YXIgbz1uKDI4MSkucS5FUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRTtmdW5jdGlvbiBmKCl7fWUuZXhwb3J0cz1mdW5jdGlvbiB5KE8sYix1KXtpZih0eXBlb2YgYj09XCJmdW5jdGlvblwiKXJldHVybiB5KE8sbnVsbCxiKTtifHwoYj17fSksdT1mdW5jdGlvbihSKXt2YXIgJD0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighJCl7JD0hMDtmb3IodmFyIEY9YXJndW1lbnRzLmxlbmd0aCxDPW5ldyBBcnJheShGKSxZPTA7WTxGO1krKylDW1ldPWFyZ3VtZW50c1tZXTtSLmFwcGx5KHRoaXMsQyl9fX0odXx8Zik7dmFyIHA9Yi5yZWFkYWJsZXx8Yi5yZWFkYWJsZSE9PSExJiZPLnJlYWRhYmxlLEk9Yi53cml0YWJsZXx8Yi53cml0YWJsZSE9PSExJiZPLndyaXRhYmxlLFA9ZnVuY3Rpb24oKXtPLndyaXRhYmxlfHx3KCl9LGc9Ty5fd3JpdGFibGVTdGF0ZSYmTy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCx3PWZ1bmN0aW9uKCl7ST0hMSxnPSEwLHB8fHUuY2FsbChPKX0sdj1PLl9yZWFkYWJsZVN0YXRlJiZPLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQsbT1mdW5jdGlvbigpe3A9ITEsdj0hMCxJfHx1LmNhbGwoTyl9LFM9ZnVuY3Rpb24oUil7dS5jYWxsKE8sUil9LF89ZnVuY3Rpb24oKXt2YXIgUjtyZXR1cm4gcCYmIXY/KE8uX3JlYWRhYmxlU3RhdGUmJk8uX3JlYWRhYmxlU3RhdGUuZW5kZWR8fChSPW5ldyBvKSx1LmNhbGwoTyxSKSk6SSYmIWc/KE8uX3dyaXRhYmxlU3RhdGUmJk8uX3dyaXRhYmxlU3RhdGUuZW5kZWR8fChSPW5ldyBvKSx1LmNhbGwoTyxSKSk6dm9pZCAwfSxCPWZ1bmN0aW9uKCl7Ty5yZXEub24oXCJmaW5pc2hcIix3KX07cmV0dXJuIGZ1bmN0aW9uKFIpe3JldHVybiBSLnNldEhlYWRlciYmdHlwZW9mIFIuYWJvcnQ9PVwiZnVuY3Rpb25cIn0oTyk/KE8ub24oXCJjb21wbGV0ZVwiLHcpLE8ub24oXCJhYm9ydFwiLF8pLE8ucmVxP0IoKTpPLm9uKFwicmVxdWVzdFwiLEIpKTpJJiYhTy5fd3JpdGFibGVTdGF0ZSYmKE8ub24oXCJlbmRcIixQKSxPLm9uKFwiY2xvc2VcIixQKSksTy5vbihcImVuZFwiLG0pLE8ub24oXCJmaW5pc2hcIix3KSxiLmVycm9yIT09ITEmJk8ub24oXCJlcnJvclwiLFMpLE8ub24oXCJjbG9zZVwiLF8pLGZ1bmN0aW9uKCl7Ty5yZW1vdmVMaXN0ZW5lcihcImNvbXBsZXRlXCIsdyksTy5yZW1vdmVMaXN0ZW5lcihcImFib3J0XCIsXyksTy5yZW1vdmVMaXN0ZW5lcihcInJlcXVlc3RcIixCKSxPLnJlcSYmTy5yZXEucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIix3KSxPLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsUCksTy5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsUCksTy5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLHcpLE8ucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixtKSxPLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixTKSxPLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixfKX19fSwxNjc6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlJlYWRhYmxlLmZyb20gaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnJvd3NlclwiKX19LDk0NjooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG8sZj1uKDI4MSkucSx5PWYuRVJSX01JU1NJTkdfQVJHUyxPPWYuRVJSX1NUUkVBTV9ERVNUUk9ZRUQ7ZnVuY3Rpb24gYihnKXtpZihnKXRocm93IGd9ZnVuY3Rpb24gdShnLHcsdixtKXttPWZ1bmN0aW9uKEIpe3ZhciBSPSExO3JldHVybiBmdW5jdGlvbigpe1J8fChSPSEwLEIuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpfX0obSk7dmFyIFM9ITE7Zy5vbihcImNsb3NlXCIsZnVuY3Rpb24oKXtTPSEwfSksbz09PXZvaWQgMCYmKG89big2MTApKSxvKGcse3JlYWRhYmxlOncsd3JpdGFibGU6dn0sZnVuY3Rpb24oQil7aWYoQilyZXR1cm4gbShCKTtTPSEwLG0oKX0pO3ZhciBfPSExO3JldHVybiBmdW5jdGlvbihCKXtpZighUyYmIV8pcmV0dXJuIF89ITAsZnVuY3Rpb24oUil7cmV0dXJuIFIuc2V0SGVhZGVyJiZ0eXBlb2YgUi5hYm9ydD09XCJmdW5jdGlvblwifShnKT9nLmFib3J0KCk6dHlwZW9mIGcuZGVzdHJveT09XCJmdW5jdGlvblwiP2cuZGVzdHJveSgpOnZvaWQgbShCfHxuZXcgTyhcInBpcGVcIikpfX1mdW5jdGlvbiBwKGcpe2coKX1mdW5jdGlvbiBJKGcsdyl7cmV0dXJuIGcucGlwZSh3KX1mdW5jdGlvbiBQKGcpe3JldHVybiBnLmxlbmd0aD90eXBlb2YgZ1tnLmxlbmd0aC0xXSE9XCJmdW5jdGlvblwiP2I6Zy5wb3AoKTpifWUuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZz1hcmd1bWVudHMubGVuZ3RoLHc9bmV3IEFycmF5KGcpLHY9MDt2PGc7disrKXdbdl09YXJndW1lbnRzW3ZdO3ZhciBtLFM9UCh3KTtpZihBcnJheS5pc0FycmF5KHdbMF0pJiYodz13WzBdKSx3Lmxlbmd0aDwyKXRocm93IG5ldyB5KFwic3RyZWFtc1wiKTt2YXIgXz13Lm1hcChmdW5jdGlvbihCLFIpe3ZhciAkPVI8dy5sZW5ndGgtMTtyZXR1cm4gdShCLCQsUj4wLGZ1bmN0aW9uKEYpe218fChtPUYpLEYmJl8uZm9yRWFjaChwKSwkfHwoXy5mb3JFYWNoKHApLFMobSkpfSl9KTtyZXR1cm4gdy5yZWR1Y2UoSSl9fSw0NTc6KGUsdCxuKT0+e1widXNlIHN0cmljdFwiO3ZhciBvPW4oMjgxKS5xLkVSUl9JTlZBTElEX09QVF9WQUxVRTtlLmV4cG9ydHM9e2dldEhpZ2hXYXRlck1hcms6ZnVuY3Rpb24oZix5LE8sYil7dmFyIHU9ZnVuY3Rpb24ocCxJLFApe3JldHVybiBwLmhpZ2hXYXRlck1hcmshPW51bGw/cC5oaWdoV2F0ZXJNYXJrOkk/cFtQXTpudWxsfSh5LGIsTyk7aWYodSE9bnVsbCl7aWYoIWlzRmluaXRlKHUpfHxNYXRoLmZsb29yKHUpIT09dXx8dTwwKXRocm93IG5ldyBvKGI/TzpcImhpZ2hXYXRlck1hcmtcIix1KTtyZXR1cm4gTWF0aC5mbG9vcih1KX1yZXR1cm4gZi5vYmplY3RNb2RlPzE2OjE2Mzg0fX19LDUwMzooZSx0LG4pPT57ZS5leHBvcnRzPW4oMTg3KS5FdmVudEVtaXR0ZXJ9LDUwOTooZSx0LG4pPT57dmFyIG89big3NjQpLGY9by5CdWZmZXI7ZnVuY3Rpb24geShiLHUpe2Zvcih2YXIgcCBpbiBiKXVbcF09YltwXX1mdW5jdGlvbiBPKGIsdSxwKXtyZXR1cm4gZihiLHUscCl9Zi5mcm9tJiZmLmFsbG9jJiZmLmFsbG9jVW5zYWZlJiZmLmFsbG9jVW5zYWZlU2xvdz9lLmV4cG9ydHM9bzooeShvLHQpLHQuQnVmZmVyPU8pLE8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZi5wcm90b3R5cGUpLHkoZixPKSxPLmZyb209ZnVuY3Rpb24oYix1LHApe2lmKHR5cGVvZiBiPT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gZihiLHUscCl9LE8uYWxsb2M9ZnVuY3Rpb24oYix1LHApe2lmKHR5cGVvZiBiIT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3ZhciBJPWYoYik7cmV0dXJuIHUhPT12b2lkIDA/dHlwZW9mIHA9PVwic3RyaW5nXCI/SS5maWxsKHUscCk6SS5maWxsKHUpOkkuZmlsbCgwKSxJfSxPLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGIpe2lmKHR5cGVvZiBiIT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBmKGIpfSxPLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihiKXtpZih0eXBlb2YgYiE9XCJudW1iZXJcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gby5TbG93QnVmZmVyKGIpfX0sODMwOihlLHQsbik9PntlLmV4cG9ydHM9Zjt2YXIgbz1uKDE4NykuRXZlbnRFbWl0dGVyO2Z1bmN0aW9uIGYoKXtvLmNhbGwodGhpcyl9big3MTcpKGYsbyksZi5SZWFkYWJsZT1uKDQ4MSksZi5Xcml0YWJsZT1uKDIyOSksZi5EdXBsZXg9big3NTMpLGYuVHJhbnNmb3JtPW4oNjA1KSxmLlBhc3NUaHJvdWdoPW4oNzI1KSxmLmZpbmlzaGVkPW4oNjEwKSxmLnBpcGVsaW5lPW4oOTQ2KSxmLlN0cmVhbT1mLGYucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oeSxPKXt2YXIgYj10aGlzO2Z1bmN0aW9uIHUobSl7eS53cml0YWJsZSYmeS53cml0ZShtKT09PSExJiZiLnBhdXNlJiZiLnBhdXNlKCl9ZnVuY3Rpb24gcCgpe2IucmVhZGFibGUmJmIucmVzdW1lJiZiLnJlc3VtZSgpfWIub24oXCJkYXRhXCIsdSkseS5vbihcImRyYWluXCIscCkseS5faXNTdGRpb3x8TyYmTy5lbmQ9PT0hMXx8KGIub24oXCJlbmRcIixQKSxiLm9uKFwiY2xvc2VcIixnKSk7dmFyIEk9ITE7ZnVuY3Rpb24gUCgpe0l8fChJPSEwLHkuZW5kKCkpfWZ1bmN0aW9uIGcoKXtJfHwoST0hMCx0eXBlb2YgeS5kZXN0cm95PT1cImZ1bmN0aW9uXCImJnkuZGVzdHJveSgpKX1mdW5jdGlvbiB3KG0pe2lmKHYoKSxvLmxpc3RlbmVyQ291bnQodGhpcyxcImVycm9yXCIpPT09MCl0aHJvdyBtfWZ1bmN0aW9uIHYoKXtiLnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLHUpLHkucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLHApLGIucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixQKSxiLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixnKSxiLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIix3KSx5LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIix3KSxiLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsdiksYi5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsdikseS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsdil9cmV0dXJuIGIub24oXCJlcnJvclwiLHcpLHkub24oXCJlcnJvclwiLHcpLGIub24oXCJlbmRcIix2KSxiLm9uKFwiY2xvc2VcIix2KSx5Lm9uKFwiY2xvc2VcIix2KSx5LmVtaXQoXCJwaXBlXCIsYikseX19LDU1MzooZSx0LG4pPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG89big1MDkpLkJ1ZmZlcixmPW8uaXNFbmNvZGluZ3x8ZnVuY3Rpb24odil7c3dpdGNoKCh2PVwiXCIrdikmJnYudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpjYXNlXCJyYXdcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX07ZnVuY3Rpb24geSh2KXt2YXIgbTtzd2l0Y2godGhpcy5lbmNvZGluZz1mdW5jdGlvbihTKXt2YXIgXz1mdW5jdGlvbihCKXtpZighQilyZXR1cm5cInV0ZjhcIjtmb3IodmFyIFI7Oylzd2l0Y2goQil7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuXCJ1dGY4XCI7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuXCJ1dGYxNmxlXCI7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuXCJsYXRpbjFcIjtjYXNlXCJiYXNlNjRcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImhleFwiOnJldHVybiBCO2RlZmF1bHQ6aWYoUilyZXR1cm47Qj0oXCJcIitCKS50b0xvd2VyQ2FzZSgpLFI9ITB9fShTKTtpZih0eXBlb2YgXyE9XCJzdHJpbmdcIiYmKG8uaXNFbmNvZGluZz09PWZ8fCFmKFMpKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitTKTtyZXR1cm4gX3x8U30odiksdGhpcy5lbmNvZGluZyl7Y2FzZVwidXRmMTZsZVwiOnRoaXMudGV4dD11LHRoaXMuZW5kPXAsbT00O2JyZWFrO2Nhc2VcInV0ZjhcIjp0aGlzLmZpbGxMYXN0PWIsbT00O2JyZWFrO2Nhc2VcImJhc2U2NFwiOnRoaXMudGV4dD1JLHRoaXMuZW5kPVAsbT0zO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHRoaXMud3JpdGU9Zyx2b2lkKHRoaXMuZW5kPXcpfXRoaXMubGFzdE5lZWQ9MCx0aGlzLmxhc3RUb3RhbD0wLHRoaXMubGFzdENoYXI9by5hbGxvY1Vuc2FmZShtKX1mdW5jdGlvbiBPKHYpe3JldHVybiB2PD0xMjc/MDp2Pj41PT02PzI6dj4+ND09MTQ/Mzp2Pj4zPT0zMD80OnY+PjY9PTI/LTE6LTJ9ZnVuY3Rpb24gYih2KXt2YXIgbT10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLFM9ZnVuY3Rpb24oXyxCLFIpe2lmKCgxOTImQlswXSkhPTEyOClyZXR1cm4gXy5sYXN0TmVlZD0wLFwiXFx1RkZGRFwiO2lmKF8ubGFzdE5lZWQ+MSYmQi5sZW5ndGg+MSl7aWYoKDE5MiZCWzFdKSE9MTI4KXJldHVybiBfLmxhc3ROZWVkPTEsXCJcXHVGRkZEXCI7aWYoXy5sYXN0TmVlZD4yJiZCLmxlbmd0aD4yJiYoMTkyJkJbMl0pIT0xMjgpcmV0dXJuIF8ubGFzdE5lZWQ9MixcIlxcdUZGRkRcIn19KHRoaXMsdik7cmV0dXJuIFMhPT12b2lkIDA/Uzp0aGlzLmxhc3ROZWVkPD12Lmxlbmd0aD8odi5jb3B5KHRoaXMubGFzdENoYXIsbSwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKSk6KHYuY29weSh0aGlzLmxhc3RDaGFyLG0sMCx2Lmxlbmd0aCksdm9pZCh0aGlzLmxhc3ROZWVkLT12Lmxlbmd0aCkpfWZ1bmN0aW9uIHUodixtKXtpZigodi5sZW5ndGgtbSklMj09MCl7dmFyIFM9di50b1N0cmluZyhcInV0ZjE2bGVcIixtKTtpZihTKXt2YXIgXz1TLmNoYXJDb2RlQXQoUy5sZW5ndGgtMSk7aWYoXz49NTUyOTYmJl88PTU2MzE5KXJldHVybiB0aGlzLmxhc3ROZWVkPTIsdGhpcy5sYXN0VG90YWw9NCx0aGlzLmxhc3RDaGFyWzBdPXZbdi5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT12W3YubGVuZ3RoLTFdLFMuc2xpY2UoMCwtMSl9cmV0dXJuIFN9cmV0dXJuIHRoaXMubGFzdE5lZWQ9MSx0aGlzLmxhc3RUb3RhbD0yLHRoaXMubGFzdENoYXJbMF09dlt2Lmxlbmd0aC0xXSx2LnRvU3RyaW5nKFwidXRmMTZsZVwiLG0sdi5sZW5ndGgtMSl9ZnVuY3Rpb24gcCh2KXt2YXIgbT12JiZ2Lmxlbmd0aD90aGlzLndyaXRlKHYpOlwiXCI7aWYodGhpcy5sYXN0TmVlZCl7dmFyIFM9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZDtyZXR1cm4gbSt0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwidXRmMTZsZVwiLDAsUyl9cmV0dXJuIG19ZnVuY3Rpb24gSSh2LG0pe3ZhciBTPSh2Lmxlbmd0aC1tKSUzO3JldHVybiBTPT09MD92LnRvU3RyaW5nKFwiYmFzZTY0XCIsbSk6KHRoaXMubGFzdE5lZWQ9My1TLHRoaXMubGFzdFRvdGFsPTMsUz09PTE/dGhpcy5sYXN0Q2hhclswXT12W3YubGVuZ3RoLTFdOih0aGlzLmxhc3RDaGFyWzBdPXZbdi5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT12W3YubGVuZ3RoLTFdKSx2LnRvU3RyaW5nKFwiYmFzZTY0XCIsbSx2Lmxlbmd0aC1TKSl9ZnVuY3Rpb24gUCh2KXt2YXIgbT12JiZ2Lmxlbmd0aD90aGlzLndyaXRlKHYpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/bSt0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwiYmFzZTY0XCIsMCwzLXRoaXMubGFzdE5lZWQpOm19ZnVuY3Rpb24gZyh2KXtyZXR1cm4gdi50b1N0cmluZyh0aGlzLmVuY29kaW5nKX1mdW5jdGlvbiB3KHYpe3JldHVybiB2JiZ2Lmxlbmd0aD90aGlzLndyaXRlKHYpOlwiXCJ9dC5zPXkseS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odil7aWYodi5sZW5ndGg9PT0wKXJldHVyblwiXCI7dmFyIG0sUztpZih0aGlzLmxhc3ROZWVkKXtpZigobT10aGlzLmZpbGxMYXN0KHYpKT09PXZvaWQgMClyZXR1cm5cIlwiO1M9dGhpcy5sYXN0TmVlZCx0aGlzLmxhc3ROZWVkPTB9ZWxzZSBTPTA7cmV0dXJuIFM8di5sZW5ndGg/bT9tK3RoaXMudGV4dCh2LFMpOnRoaXMudGV4dCh2LFMpOm18fFwiXCJ9LHkucHJvdG90eXBlLmVuZD1mdW5jdGlvbih2KXt2YXIgbT12JiZ2Lmxlbmd0aD90aGlzLndyaXRlKHYpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/bStcIlxcdUZGRkRcIjptfSx5LnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKHYsbSl7dmFyIFM9ZnVuY3Rpb24oQixSLCQpe3ZhciBGPVIubGVuZ3RoLTE7aWYoRjwkKXJldHVybiAwO3ZhciBDPU8oUltGXSk7cmV0dXJuIEM+PTA/KEM+MCYmKEIubGFzdE5lZWQ9Qy0xKSxDKTotLUY8JHx8Qz09PS0yPzA6KEM9TyhSW0ZdKSk+PTA/KEM+MCYmKEIubGFzdE5lZWQ9Qy0yKSxDKTotLUY8JHx8Qz09PS0yPzA6KEM9TyhSW0ZdKSk+PTA/KEM+MCYmKEM9PT0yP0M9MDpCLmxhc3ROZWVkPUMtMyksQyk6MH0odGhpcyx2LG0pO2lmKCF0aGlzLmxhc3ROZWVkKXJldHVybiB2LnRvU3RyaW5nKFwidXRmOFwiLG0pO3RoaXMubGFzdFRvdGFsPVM7dmFyIF89di5sZW5ndGgtKFMtdGhpcy5sYXN0TmVlZCk7cmV0dXJuIHYuY29weSh0aGlzLmxhc3RDaGFyLDAsXyksdi50b1N0cmluZyhcInV0ZjhcIixtLF8pfSx5LnByb3RvdHlwZS5maWxsTGFzdD1mdW5jdGlvbih2KXtpZih0aGlzLmxhc3ROZWVkPD12Lmxlbmd0aClyZXR1cm4gdi5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKTt2LmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsdi5sZW5ndGgpLHRoaXMubGFzdE5lZWQtPXYubGVuZ3RofX0sOTI3OihlLHQsbik9PntmdW5jdGlvbiBvKGYpe3RyeXtpZighbi5nLmxvY2FsU3RvcmFnZSlyZXR1cm4hMX1jYXRjaHtyZXR1cm4hMX12YXIgeT1uLmcubG9jYWxTdG9yYWdlW2ZdO3JldHVybiB5IT1udWxsJiZTdHJpbmcoeSkudG9Mb3dlckNhc2UoKT09PVwidHJ1ZVwifWUuZXhwb3J0cz1mdW5jdGlvbihmLHkpe2lmKG8oXCJub0RlcHJlY2F0aW9uXCIpKXJldHVybiBmO3ZhciBPPSExO3JldHVybiBmdW5jdGlvbigpe2lmKCFPKXtpZihvKFwidGhyb3dEZXByZWNhdGlvblwiKSl0aHJvdyBuZXcgRXJyb3IoeSk7byhcInRyYWNlRGVwcmVjYXRpb25cIik/Y29uc29sZS50cmFjZSh5KTpjb25zb2xlLndhcm4oeSksTz0hMH1yZXR1cm4gZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0sMzYxOigpPT57fSw2MTY6KCk9Pnt9fSxjPXt9O2Z1bmN0aW9uIGwoZSl7dmFyIHQ9Y1tlXTtpZih0IT09dm9pZCAwKXJldHVybiB0LmV4cG9ydHM7dmFyIG49Y1tlXT17ZXhwb3J0czp7fX07cmV0dXJuIGRbZV0obixuLmV4cG9ydHMsbCksbi5leHBvcnRzfWwuZD0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KWwubyh0LG4pJiYhbC5vKGUsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITAsZ2V0OnRbbl19KX0sbC5nPWZ1bmN0aW9uKCl7aWYodHlwZW9mIGdsb2JhbFRoaXM9PVwib2JqZWN0XCIpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoe2lmKHR5cGVvZiB3aW5kb3c9PVwib2JqZWN0XCIpcmV0dXJuIHdpbmRvd319KCksbC5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxsLnI9ZT0+e3R5cGVvZiBTeW1ib2whPVwidW5kZWZpbmVkXCImJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciByPXt9O3JldHVybigoKT0+e1widXNlIHN0cmljdFwiO2wucihyKSxsLmQocix7Q29tbWVudGVkOigpPT5lLkNvbW1lbnRlZCxEZWNvZGVyOigpPT5lLkRlY29kZXIsRGlhZ25vc2U6KCk9PmUuRGlhZ25vc2UsRW5jb2RlcjooKT0+ZS5FbmNvZGVyLE1hcDooKT0+ZS5NYXAsU2ltcGxlOigpPT5lLlNpbXBsZSxUYWdnZWQ6KCk9PmUuVGFnZ2VkLGNvbW1lbnQ6KCk9PmUuVUksZGVjb2RlOigpPT5lLkp4LGRlY29kZUFsbDooKT0+ZS5mSSxkZWNvZGVBbGxTeW5jOigpPT5lLmNjLGRlY29kZUZpcnN0OigpPT5lLmg4LGRlY29kZUZpcnN0U3luYzooKT0+ZS4kdSxkaWFnbm9zZTooKT0+ZS5NLGVuY29kZTooKT0+ZS5jdixlbmNvZGVBc3luYzooKT0+ZS5XUixlbmNvZGVDYW5vbmljYWw6KCk9PmUuTjIsZW5jb2RlT25lOigpPT5lLlRHLGxldmVsZGI6KCk9PmUud3cscmVzZXQ6KCk9PmUubWN9KTt2YXIgZT1sKDE0MSl9KSgpLHJ9KSgpfSl9KTt2YXIgd249X2UoKG5vLGJuKT0+e1widXNlIHN0cmljdFwiO2JuLmV4cG9ydHM9V3I7ZnVuY3Rpb24gV3IoZCxjKXtmb3IodmFyIGw9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSkscj0wLGU9Mix0PSEwO2U8YXJndW1lbnRzLmxlbmd0aDspbFtyKytdPWFyZ3VtZW50c1tlKytdO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihvLGYpe2xbcl09ZnVuY3Rpb24oTyl7aWYodClpZih0PSExLE8pZihPKTtlbHNle2Zvcih2YXIgYj1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSx1PTA7dTxiLmxlbmd0aDspYlt1KytdPWFyZ3VtZW50c1t1XTtvLmFwcGx5KG51bGwsYil9fTt0cnl7ZC5hcHBseShjfHxudWxsLGwpfWNhdGNoKHkpe3QmJih0PSExLGYoeSkpfX0pfX0pO3ZhciBJbj1fZShtbj0+e1widXNlIHN0cmljdFwiO3ZhciBwdD1tbjtwdC5sZW5ndGg9ZnVuY3Rpb24oYyl7dmFyIGw9Yy5sZW5ndGg7aWYoIWwpcmV0dXJuIDA7Zm9yKHZhciByPTA7LS1sJTQ+MSYmYy5jaGFyQXQobCk9PT1cIj1cIjspKytyO3JldHVybiBNYXRoLmNlaWwoYy5sZW5ndGgqMykvNC1yfTt2YXIgUWU9bmV3IEFycmF5KDY0KSxPbj1uZXcgQXJyYXkoMTIzKTtmb3IoTmU9MDtOZTw2NDspT25bUWVbTmVdPU5lPDI2P05lKzY1Ok5lPDUyP05lKzcxOk5lPDYyP05lLTQ6TmUtNTl8NDNdPU5lKys7dmFyIE5lO3B0LmVuY29kZT1mdW5jdGlvbihjLGwscil7Zm9yKHZhciBlPW51bGwsdD1bXSxuPTAsbz0wLGY7bDxyOyl7dmFyIHk9Y1tsKytdO3N3aXRjaChvKXtjYXNlIDA6dFtuKytdPVFlW3k+PjJdLGY9KHkmMyk8PDQsbz0xO2JyZWFrO2Nhc2UgMTp0W24rK109UWVbZnx5Pj40XSxmPSh5JjE1KTw8MixvPTI7YnJlYWs7Y2FzZSAyOnRbbisrXT1RZVtmfHk+PjZdLHRbbisrXT1RZVt5JjYzXSxvPTA7YnJlYWt9bj44MTkxJiYoKGV8fChlPVtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0KSksbj0wKX1yZXR1cm4gbyYmKHRbbisrXT1RZVtmXSx0W24rK109NjEsbz09PTEmJih0W24rK109NjEpKSxlPyhuJiZlLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdC5zbGljZSgwLG4pKSksZS5qb2luKFwiXCIpKTpTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0LnNsaWNlKDAsbikpfTt2YXIgU249XCJpbnZhbGlkIGVuY29kaW5nXCI7cHQuZGVjb2RlPWZ1bmN0aW9uKGMsbCxyKXtmb3IodmFyIGU9cix0PTAsbixvPTA7bzxjLmxlbmd0aDspe3ZhciBmPWMuY2hhckNvZGVBdChvKyspO2lmKGY9PT02MSYmdD4xKWJyZWFrO2lmKChmPU9uW2ZdKT09PXZvaWQgMCl0aHJvdyBFcnJvcihTbik7c3dpdGNoKHQpe2Nhc2UgMDpuPWYsdD0xO2JyZWFrO2Nhc2UgMTpsW3IrK109bjw8MnwoZiY0OCk+PjQsbj1mLHQ9MjticmVhaztjYXNlIDI6bFtyKytdPShuJjE1KTw8NHwoZiY2MCk+PjIsbj1mLHQ9MzticmVhaztjYXNlIDM6bFtyKytdPShuJjMpPDw2fGYsdD0wO2JyZWFrfX1pZih0PT09MSl0aHJvdyBFcnJvcihTbik7cmV0dXJuIHItZX07cHQudGVzdD1mdW5jdGlvbihjKXtyZXR1cm4vXig/OltBLVphLXowLTkrL117NH0pKig/OltBLVphLXowLTkrL117Mn09PXxbQS1aYS16MC05Ky9dezN9PSk/JC8udGVzdChjKX19KTt2YXIgRW49X2UoKGlvLEFuKT0+e1widXNlIHN0cmljdFwiO0FuLmV4cG9ydHM9eXQ7ZnVuY3Rpb24geXQoKXt0aGlzLl9saXN0ZW5lcnM9e319eXQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGMsbCxyKXtyZXR1cm4odGhpcy5fbGlzdGVuZXJzW2NdfHwodGhpcy5fbGlzdGVuZXJzW2NdPVtdKSkucHVzaCh7Zm46bCxjdHg6cnx8dGhpc30pLHRoaXN9O3l0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oYyxsKXtpZihjPT09dm9pZCAwKXRoaXMuX2xpc3RlbmVycz17fTtlbHNlIGlmKGw9PT12b2lkIDApdGhpcy5fbGlzdGVuZXJzW2NdPVtdO2Vsc2UgZm9yKHZhciByPXRoaXMuX2xpc3RlbmVyc1tjXSxlPTA7ZTxyLmxlbmd0aDspcltlXS5mbj09PWw/ci5zcGxpY2UoZSwxKTorK2U7cmV0dXJuIHRoaXN9O3l0LnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGMpe3ZhciBsPXRoaXMuX2xpc3RlbmVyc1tjXTtpZihsKXtmb3IodmFyIHI9W10sZT0xO2U8YXJndW1lbnRzLmxlbmd0aDspci5wdXNoKGFyZ3VtZW50c1tlKytdKTtmb3IoZT0wO2U8bC5sZW5ndGg7KWxbZV0uZm4uYXBwbHkobFtlKytdLmN0eCxyKX1yZXR1cm4gdGhpc319KTt2YXIgVG49X2UoKG9vLE1uKT0+e1widXNlIHN0cmljdFwiO01uLmV4cG9ydHM9X24oX24pO2Z1bmN0aW9uIF9uKGQpe3JldHVybiB0eXBlb2YgRmxvYXQzMkFycmF5IT1cInVuZGVmaW5lZFwiP2Z1bmN0aW9uKCl7dmFyIGM9bmV3IEZsb2F0MzJBcnJheShbLTBdKSxsPW5ldyBVaW50OEFycmF5KGMuYnVmZmVyKSxyPWxbM109PT0xMjg7ZnVuY3Rpb24gZShmLHksTyl7Y1swXT1mLHlbT109bFswXSx5W08rMV09bFsxXSx5W08rMl09bFsyXSx5W08rM109bFszXX1mdW5jdGlvbiB0KGYseSxPKXtjWzBdPWYseVtPXT1sWzNdLHlbTysxXT1sWzJdLHlbTysyXT1sWzFdLHlbTyszXT1sWzBdfWQud3JpdGVGbG9hdExFPXI/ZTp0LGQud3JpdGVGbG9hdEJFPXI/dDplO2Z1bmN0aW9uIG4oZix5KXtyZXR1cm4gbFswXT1mW3ldLGxbMV09Zlt5KzFdLGxbMl09Zlt5KzJdLGxbM109Zlt5KzNdLGNbMF19ZnVuY3Rpb24gbyhmLHkpe3JldHVybiBsWzNdPWZbeV0sbFsyXT1mW3krMV0sbFsxXT1mW3krMl0sbFswXT1mW3krM10sY1swXX1kLnJlYWRGbG9hdExFPXI/bjpvLGQucmVhZEZsb2F0QkU9cj9vOm59KCk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKHIsZSx0LG4pe3ZhciBvPWU8MD8xOjA7aWYobyYmKGU9LWUpLGU9PT0wKXIoMS9lPjA/MDoyMTQ3NDgzNjQ4LHQsbik7ZWxzZSBpZihpc05hTihlKSlyKDIxNDMyODkzNDQsdCxuKTtlbHNlIGlmKGU+MzQwMjgyMzQ2NjM4NTI4ODZlMjIpcigobzw8MzF8MjEzOTA5NTA0MCk+Pj4wLHQsbik7ZWxzZSBpZihlPDExNzU0OTQzNTA4MjIyODc1ZS01NClyKChvPDwzMXxNYXRoLnJvdW5kKGUvMTQwMTI5ODQ2NDMyNDgxN2UtNjApKT4+PjAsdCxuKTtlbHNle3ZhciBmPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLHk9TWF0aC5yb3VuZChlKk1hdGgucG93KDIsLWYpKjgzODg2MDgpJjgzODg2MDc7cigobzw8MzF8ZisxMjc8PDIzfHkpPj4+MCx0LG4pfX1kLndyaXRlRmxvYXRMRT1jLmJpbmQobnVsbCxrbiksZC53cml0ZUZsb2F0QkU9Yy5iaW5kKG51bGwsZ24pO2Z1bmN0aW9uIGwocixlLHQpe3ZhciBuPXIoZSx0KSxvPShuPj4zMSkqMisxLGY9bj4+PjIzJjI1NSx5PW4mODM4ODYwNztyZXR1cm4gZj09PTI1NT95P05hTjpvKigxLzApOmY9PT0wP28qMTQwMTI5ODQ2NDMyNDgxN2UtNjAqeTpvKk1hdGgucG93KDIsZi0xNTApKih5KzgzODg2MDgpfWQucmVhZEZsb2F0TEU9bC5iaW5kKG51bGwsRG4pLGQucmVhZEZsb2F0QkU9bC5iaW5kKG51bGwsUG4pfSgpLHR5cGVvZiBGbG9hdDY0QXJyYXkhPVwidW5kZWZpbmVkXCI/ZnVuY3Rpb24oKXt2YXIgYz1uZXcgRmxvYXQ2NEFycmF5KFstMF0pLGw9bmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIpLHI9bFs3XT09PTEyODtmdW5jdGlvbiBlKGYseSxPKXtjWzBdPWYseVtPXT1sWzBdLHlbTysxXT1sWzFdLHlbTysyXT1sWzJdLHlbTyszXT1sWzNdLHlbTys0XT1sWzRdLHlbTys1XT1sWzVdLHlbTys2XT1sWzZdLHlbTys3XT1sWzddfWZ1bmN0aW9uIHQoZix5LE8pe2NbMF09Zix5W09dPWxbN10seVtPKzFdPWxbNl0seVtPKzJdPWxbNV0seVtPKzNdPWxbNF0seVtPKzRdPWxbM10seVtPKzVdPWxbMl0seVtPKzZdPWxbMV0seVtPKzddPWxbMF19ZC53cml0ZURvdWJsZUxFPXI/ZTp0LGQud3JpdGVEb3VibGVCRT1yP3Q6ZTtmdW5jdGlvbiBuKGYseSl7cmV0dXJuIGxbMF09Zlt5XSxsWzFdPWZbeSsxXSxsWzJdPWZbeSsyXSxsWzNdPWZbeSszXSxsWzRdPWZbeSs0XSxsWzVdPWZbeSs1XSxsWzZdPWZbeSs2XSxsWzddPWZbeSs3XSxjWzBdfWZ1bmN0aW9uIG8oZix5KXtyZXR1cm4gbFs3XT1mW3ldLGxbNl09Zlt5KzFdLGxbNV09Zlt5KzJdLGxbNF09Zlt5KzNdLGxbM109Zlt5KzRdLGxbMl09Zlt5KzVdLGxbMV09Zlt5KzZdLGxbMF09Zlt5KzddLGNbMF19ZC5yZWFkRG91YmxlTEU9cj9uOm8sZC5yZWFkRG91YmxlQkU9cj9vOm59KCk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKHIsZSx0LG4sbyxmKXt2YXIgeT1uPDA/MTowO2lmKHkmJihuPS1uKSxuPT09MClyKDAsbyxmK2UpLHIoMS9uPjA/MDoyMTQ3NDgzNjQ4LG8sZit0KTtlbHNlIGlmKGlzTmFOKG4pKXIoMCxvLGYrZSkscigyMTQ2OTU5MzYwLG8sZit0KTtlbHNlIGlmKG4+MTc5NzY5MzEzNDg2MjMxNTdlMjkyKXIoMCxvLGYrZSkscigoeTw8MzF8MjE0NjQzNTA3Mik+Pj4wLG8sZit0KTtlbHNle3ZhciBPO2lmKG48MjIyNTA3Mzg1ODUwNzIwMTRlLTMyNClPPW4vNWUtMzI0LHIoTz4+PjAsbyxmK2UpLHIoKHk8PDMxfE8vNDI5NDk2NzI5Nik+Pj4wLG8sZit0KTtlbHNle3ZhciBiPU1hdGguZmxvb3IoTWF0aC5sb2cobikvTWF0aC5MTjIpO2I9PT0xMDI0JiYoYj0xMDIzKSxPPW4qTWF0aC5wb3coMiwtYikscihPKjQ1MDM1OTk2MjczNzA0OTY+Pj4wLG8sZitlKSxyKCh5PDwzMXxiKzEwMjM8PDIwfE8qMTA0ODU3NiYxMDQ4NTc1KT4+PjAsbyxmK3QpfX19ZC53cml0ZURvdWJsZUxFPWMuYmluZChudWxsLGtuLDAsNCksZC53cml0ZURvdWJsZUJFPWMuYmluZChudWxsLGduLDQsMCk7ZnVuY3Rpb24gbChyLGUsdCxuLG8pe3ZhciBmPXIobixvK2UpLHk9cihuLG8rdCksTz0oeT4+MzEpKjIrMSxiPXk+Pj4yMCYyMDQ3LHU9NDI5NDk2NzI5NiooeSYxMDQ4NTc1KStmO3JldHVybiBiPT09MjA0Nz91P05hTjpPKigxLzApOmI9PT0wP08qNWUtMzI0KnU6TypNYXRoLnBvdygyLGItMTA3NSkqKHUrNDUwMzU5OTYyNzM3MDQ5Nil9ZC5yZWFkRG91YmxlTEU9bC5iaW5kKG51bGwsRG4sMCw0KSxkLnJlYWREb3VibGVCRT1sLmJpbmQobnVsbCxQbiw0LDApfSgpLGR9ZnVuY3Rpb24ga24oZCxjLGwpe2NbbF09ZCYyNTUsY1tsKzFdPWQ+Pj44JjI1NSxjW2wrMl09ZD4+PjE2JjI1NSxjW2wrM109ZD4+PjI0fWZ1bmN0aW9uIGduKGQsYyxsKXtjW2xdPWQ+Pj4yNCxjW2wrMV09ZD4+PjE2JjI1NSxjW2wrMl09ZD4+PjgmMjU1LGNbbCszXT1kJjI1NX1mdW5jdGlvbiBEbihkLGMpe3JldHVybihkW2NdfGRbYysxXTw8OHxkW2MrMl08PDE2fGRbYyszXTw8MjQpPj4+MH1mdW5jdGlvbiBQbihkLGMpe3JldHVybihkW2NdPDwyNHxkW2MrMV08PDE2fGRbYysyXTw8OHxkW2MrM10pPj4+MH19KTt2YXIgam49X2UoKGV4cG9ydHMsbW9kdWxlKT0+e1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPWlucXVpcmU7ZnVuY3Rpb24gaW5xdWlyZShtb2R1bGVOYW1lKXt0cnl7dmFyIG1vZD1ldmFsKFwicXVpcmVcIi5yZXBsYWNlKC9eLyxcInJlXCIpKShtb2R1bGVOYW1lKTtpZihtb2QmJihtb2QubGVuZ3RofHxPYmplY3Qua2V5cyhtb2QpLmxlbmd0aCkpcmV0dXJuIG1vZH1jYXRjaChkKXt9cmV0dXJuIG51bGx9fSk7dmFyIHhuPV9lKEJuPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIE50PUJuO050Lmxlbmd0aD1mdW5jdGlvbihjKXtmb3IodmFyIGw9MCxyPTAsZT0wO2U8Yy5sZW5ndGg7KytlKXI9Yy5jaGFyQ29kZUF0KGUpLHI8MTI4P2wrPTE6cjwyMDQ4P2wrPTI6KHImNjQ1MTIpPT01NTI5NiYmKGMuY2hhckNvZGVBdChlKzEpJjY0NTEyKT09NTYzMjA/KCsrZSxsKz00KTpsKz0zO3JldHVybiBsfTtOdC5yZWFkPWZ1bmN0aW9uKGMsbCxyKXt2YXIgZT1yLWw7aWYoZTwxKXJldHVyblwiXCI7Zm9yKHZhciB0PW51bGwsbj1bXSxvPTAsZjtsPHI7KWY9Y1tsKytdLGY8MTI4P25bbysrXT1mOmY+MTkxJiZmPDIyND9uW28rK109KGYmMzEpPDw2fGNbbCsrXSY2MzpmPjIzOSYmZjwzNjU/KGY9KChmJjcpPDwxOHwoY1tsKytdJjYzKTw8MTJ8KGNbbCsrXSY2Myk8PDZ8Y1tsKytdJjYzKS02NTUzNixuW28rK109NTUyOTYrKGY+PjEwKSxuW28rK109NTYzMjArKGYmMTAyMykpOm5bbysrXT0oZiYxNSk8PDEyfChjW2wrK10mNjMpPDw2fGNbbCsrXSY2MyxvPjgxOTEmJigodHx8KHQ9W10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG4pKSxvPTApO3JldHVybiB0PyhvJiZ0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbi5zbGljZSgwLG8pKSksdC5qb2luKFwiXCIpKTpTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxuLnNsaWNlKDAsbykpfTtOdC53cml0ZT1mdW5jdGlvbihjLGwscil7Zm9yKHZhciBlPXIsdCxuLG89MDtvPGMubGVuZ3RoOysrbyl0PWMuY2hhckNvZGVBdChvKSx0PDEyOD9sW3IrK109dDp0PDIwNDg/KGxbcisrXT10Pj42fDE5MixsW3IrK109dCY2M3wxMjgpOih0JjY0NTEyKT09NTUyOTYmJigobj1jLmNoYXJDb2RlQXQobysxKSkmNjQ1MTIpPT01NjMyMD8odD02NTUzNisoKHQmMTAyMyk8PDEwKSsobiYxMDIzKSwrK28sbFtyKytdPXQ+PjE4fDI0MCxsW3IrK109dD4+MTImNjN8MTI4LGxbcisrXT10Pj42JjYzfDEyOCxsW3IrK109dCY2M3wxMjgpOihsW3IrK109dD4+MTJ8MjI0LGxbcisrXT10Pj42JjYzfDEyOCxsW3IrK109dCY2M3wxMjgpO3JldHVybiByLWV9fSk7dmFyIFJuPV9lKChjbyxObik9PntcInVzZSBzdHJpY3RcIjtObi5leHBvcnRzPUtyO2Z1bmN0aW9uIEtyKGQsYyxsKXt2YXIgcj1sfHw4MTkyLGU9cj4+PjEsdD1udWxsLG49cjtyZXR1cm4gZnVuY3Rpb24oZil7aWYoZjwxfHxmPmUpcmV0dXJuIGQoZik7bitmPnImJih0PWQociksbj0wKTt2YXIgeT1jLmNhbGwodCxuLG4rPWYpO3JldHVybiBuJjcmJihuPShufDcpKzEpLHl9fX0pO3ZhciBMbj1fZSgoYW8sVW4pPT57XCJ1c2Ugc3RyaWN0XCI7VW4uZXhwb3J0cz1NZTt2YXIgcnQ9JGUoKTtmdW5jdGlvbiBNZShkLGMpe3RoaXMubG89ZD4+PjAsdGhpcy5oaT1jPj4+MH12YXIgcWU9TWUuemVybz1uZXcgTWUoMCwwKTtxZS50b051bWJlcj1mdW5jdGlvbigpe3JldHVybiAwfTtxZS56ekVuY29kZT1xZS56ekRlY29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtxZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gMX07dmFyICRyPU1lLnplcm9IYXNoPVwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCI7TWUuZnJvbU51bWJlcj1mdW5jdGlvbihjKXtpZihjPT09MClyZXR1cm4gcWU7dmFyIGw9YzwwO2wmJihjPS1jKTt2YXIgcj1jPj4+MCxlPShjLXIpLzQyOTQ5NjcyOTY+Pj4wO3JldHVybiBsJiYoZT1+ZT4+PjAscj1+cj4+PjAsKytyPjQyOTQ5NjcyOTUmJihyPTAsKytlPjQyOTQ5NjcyOTUmJihlPTApKSksbmV3IE1lKHIsZSl9O01lLmZyb209ZnVuY3Rpb24oYyl7aWYodHlwZW9mIGM9PVwibnVtYmVyXCIpcmV0dXJuIE1lLmZyb21OdW1iZXIoYyk7aWYocnQuaXNTdHJpbmcoYykpaWYocnQuTG9uZyljPXJ0LkxvbmcuZnJvbVN0cmluZyhjKTtlbHNlIHJldHVybiBNZS5mcm9tTnVtYmVyKHBhcnNlSW50KGMsMTApKTtyZXR1cm4gYy5sb3d8fGMuaGlnaD9uZXcgTWUoYy5sb3c+Pj4wLGMuaGlnaD4+PjApOnFlfTtNZS5wcm90b3R5cGUudG9OdW1iZXI9ZnVuY3Rpb24oYyl7aWYoIWMmJnRoaXMuaGk+Pj4zMSl7dmFyIGw9fnRoaXMubG8rMT4+PjAscj1+dGhpcy5oaT4+PjA7cmV0dXJuIGx8fChyPXIrMT4+PjApLC0obCtyKjQyOTQ5NjcyOTYpfXJldHVybiB0aGlzLmxvK3RoaXMuaGkqNDI5NDk2NzI5Nn07TWUucHJvdG90eXBlLnRvTG9uZz1mdW5jdGlvbihjKXtyZXR1cm4gcnQuTG9uZz9uZXcgcnQuTG9uZyh0aGlzLmxvfDAsdGhpcy5oaXwwLEJvb2xlYW4oYykpOntsb3c6dGhpcy5sb3wwLGhpZ2g6dGhpcy5oaXwwLHVuc2lnbmVkOkJvb2xlYW4oYyl9fTt2YXIgS2U9U3RyaW5nLnByb3RvdHlwZS5jaGFyQ29kZUF0O01lLmZyb21IYXNoPWZ1bmN0aW9uKGMpe3JldHVybiBjPT09JHI/cWU6bmV3IE1lKChLZS5jYWxsKGMsMCl8S2UuY2FsbChjLDEpPDw4fEtlLmNhbGwoYywyKTw8MTZ8S2UuY2FsbChjLDMpPDwyNCk+Pj4wLChLZS5jYWxsKGMsNCl8S2UuY2FsbChjLDUpPDw4fEtlLmNhbGwoYyw2KTw8MTZ8S2UuY2FsbChjLDcpPDwyNCk+Pj4wKX07TWUucHJvdG90eXBlLnRvSGFzaD1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMubG8mMjU1LHRoaXMubG8+Pj44JjI1NSx0aGlzLmxvPj4+MTYmMjU1LHRoaXMubG8+Pj4yNCx0aGlzLmhpJjI1NSx0aGlzLmhpPj4+OCYyNTUsdGhpcy5oaT4+PjE2JjI1NSx0aGlzLmhpPj4+MjQpfTtNZS5wcm90b3R5cGUuenpFbmNvZGU9ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmhpPj4zMTtyZXR1cm4gdGhpcy5oaT0oKHRoaXMuaGk8PDF8dGhpcy5sbz4+PjMxKV5jKT4+PjAsdGhpcy5sbz0odGhpcy5sbzw8MV5jKT4+PjAsdGhpc307TWUucHJvdG90eXBlLnp6RGVjb2RlPWZ1bmN0aW9uKCl7dmFyIGM9LSh0aGlzLmxvJjEpO3JldHVybiB0aGlzLmxvPSgodGhpcy5sbz4+PjF8dGhpcy5oaTw8MzEpXmMpPj4+MCx0aGlzLmhpPSh0aGlzLmhpPj4+MV5jKT4+PjAsdGhpc307TWUucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBjPXRoaXMubG8sbD0odGhpcy5sbz4+PjI4fHRoaXMuaGk8PDQpPj4+MCxyPXRoaXMuaGk+Pj4yNDtyZXR1cm4gcj09PTA/bD09PTA/YzwxNjM4ND9jPDEyOD8xOjI6YzwyMDk3MTUyPzM6NDpsPDE2Mzg0P2w8MTI4PzU6NjpsPDIwOTcxNTI/Nzo4OnI8MTI4Pzk6MTB9fSk7dmFyICRlPV9lKFJ0PT57XCJ1c2Ugc3RyaWN0XCI7dmFyIFo9UnQ7Wi5hc1Byb21pc2U9d24oKTtaLmJhc2U2ND1JbigpO1ouRXZlbnRFbWl0dGVyPUVuKCk7Wi5mbG9hdD1UbigpO1ouaW5xdWlyZT1qbigpO1oudXRmOD14bigpO1oucG9vbD1SbigpO1ouTG9uZ0JpdHM9TG4oKTtaLmlzTm9kZT1Cb29sZWFuKHR5cGVvZiBnbG9iYWwhPVwidW5kZWZpbmVkXCImJmdsb2JhbCYmZ2xvYmFsLnByb2Nlc3MmJmdsb2JhbC5wcm9jZXNzLnZlcnNpb25zJiZnbG9iYWwucHJvY2Vzcy52ZXJzaW9ucy5ub2RlKTtaLmdsb2JhbD1aLmlzTm9kZSYmZ2xvYmFsfHx0eXBlb2Ygd2luZG93IT1cInVuZGVmaW5lZFwiJiZ3aW5kb3d8fHR5cGVvZiBzZWxmIT1cInVuZGVmaW5lZFwiJiZzZWxmfHxSdDtaLmVtcHR5QXJyYXk9T2JqZWN0LmZyZWV6ZT9PYmplY3QuZnJlZXplKFtdKTpbXTtaLmVtcHR5T2JqZWN0PU9iamVjdC5mcmVlemU/T2JqZWN0LmZyZWV6ZSh7fSk6e307Wi5pc0ludGVnZXI9TnVtYmVyLmlzSW50ZWdlcnx8ZnVuY3Rpb24oYyl7cmV0dXJuIHR5cGVvZiBjPT1cIm51bWJlclwiJiZpc0Zpbml0ZShjKSYmTWF0aC5mbG9vcihjKT09PWN9O1ouaXNTdHJpbmc9ZnVuY3Rpb24oYyl7cmV0dXJuIHR5cGVvZiBjPT1cInN0cmluZ1wifHxjIGluc3RhbmNlb2YgU3RyaW5nfTtaLmlzT2JqZWN0PWZ1bmN0aW9uKGMpe3JldHVybiBjJiZ0eXBlb2YgYz09XCJvYmplY3RcIn07Wi5pc3NldD1aLmlzU2V0PWZ1bmN0aW9uKGMsbCl7dmFyIHI9Y1tsXTtyZXR1cm4gciE9bnVsbCYmYy5oYXNPd25Qcm9wZXJ0eShsKT90eXBlb2YgciE9XCJvYmplY3RcInx8KEFycmF5LmlzQXJyYXkocik/ci5sZW5ndGg6T2JqZWN0LmtleXMocikubGVuZ3RoKT4wOiExfTtaLkJ1ZmZlcj1mdW5jdGlvbigpe3RyeXt2YXIgZD1aLmlucXVpcmUoXCJidWZmZXJcIikuQnVmZmVyO3JldHVybiBkLnByb3RvdHlwZS51dGY4V3JpdGU/ZDpudWxsfWNhdGNoe3JldHVybiBudWxsfX0oKTtaLl9CdWZmZXJfZnJvbT1udWxsO1ouX0J1ZmZlcl9hbGxvY1Vuc2FmZT1udWxsO1oubmV3QnVmZmVyPWZ1bmN0aW9uKGMpe3JldHVybiB0eXBlb2YgYz09XCJudW1iZXJcIj9aLkJ1ZmZlcj9aLl9CdWZmZXJfYWxsb2NVbnNhZmUoYyk6bmV3IFouQXJyYXkoYyk6Wi5CdWZmZXI/Wi5fQnVmZmVyX2Zyb20oYyk6dHlwZW9mIFVpbnQ4QXJyYXk9PVwidW5kZWZpbmVkXCI/YzpuZXcgVWludDhBcnJheShjKX07Wi5BcnJheT10eXBlb2YgVWludDhBcnJheSE9XCJ1bmRlZmluZWRcIj9VaW50OEFycmF5OkFycmF5O1ouTG9uZz1aLmdsb2JhbC5kY29kZUlPJiZaLmdsb2JhbC5kY29kZUlPLkxvbmd8fFouZ2xvYmFsLkxvbmd8fFouaW5xdWlyZShcImxvbmdcIik7Wi5rZXkyUmU9L150cnVlfGZhbHNlfDB8MSQvO1oua2V5MzJSZT0vXi0/KD86MHxbMS05XVswLTldKikkLztaLmtleTY0UmU9L14oPzpbXFxcXHgwMC1cXFxceGZmXXs4fXwtPyg/OjB8WzEtOV1bMC05XSopKSQvO1oubG9uZ1RvSGFzaD1mdW5jdGlvbihjKXtyZXR1cm4gYz9aLkxvbmdCaXRzLmZyb20oYykudG9IYXNoKCk6Wi5Mb25nQml0cy56ZXJvSGFzaH07Wi5sb25nRnJvbUhhc2g9ZnVuY3Rpb24oYyxsKXt2YXIgcj1aLkxvbmdCaXRzLmZyb21IYXNoKGMpO3JldHVybiBaLkxvbmc/Wi5Mb25nLmZyb21CaXRzKHIubG8sci5oaSxsKTpyLnRvTnVtYmVyKEJvb2xlYW4obCkpfTtmdW5jdGlvbiBWbihkLGMsbCl7Zm9yKHZhciByPU9iamVjdC5rZXlzKGMpLGU9MDtlPHIubGVuZ3RoOysrZSkoZFtyW2VdXT09PXZvaWQgMHx8IWwpJiYoZFtyW2VdXT1jW3JbZV1dKTtyZXR1cm4gZH1aLm1lcmdlPVZuO1oubGNGaXJzdD1mdW5jdGlvbihjKXtyZXR1cm4gYy5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKStjLnN1YnN0cmluZygxKX07ZnVuY3Rpb24gQ24oZCl7ZnVuY3Rpb24gYyhsLHIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGMpKXJldHVybiBuZXcgYyhsLHIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibWVzc2FnZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH19KSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGMpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhY2tcIix7dmFsdWU6bmV3IEVycm9yKCkuc3RhY2t8fFwiXCJ9KSxyJiZWbih0aGlzLHIpfXJldHVybihjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWMsT2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLFwibmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZH19KSxjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUrXCI6IFwiK3RoaXMubWVzc2FnZX0sY31aLm5ld0Vycm9yPUNuO1ouUHJvdG9jb2xFcnJvcj1DbihcIlByb3RvY29sRXJyb3JcIik7Wi5vbmVPZkdldHRlcj1mdW5jdGlvbihjKXtmb3IodmFyIGw9e30scj0wO3I8Yy5sZW5ndGg7KytyKWxbY1tyXV09MTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9T2JqZWN0LmtleXModGhpcyksdD1lLmxlbmd0aC0xO3Q+LTE7LS10KWlmKGxbZVt0XV09PT0xJiZ0aGlzW2VbdF1dIT09dm9pZCAwJiZ0aGlzW2VbdF1dIT09bnVsbClyZXR1cm4gZVt0XX19O1oub25lT2ZTZXR0ZXI9ZnVuY3Rpb24oYyl7cmV0dXJuIGZ1bmN0aW9uKGwpe2Zvcih2YXIgcj0wO3I8Yy5sZW5ndGg7KytyKWNbcl0hPT1sJiZkZWxldGUgdGhpc1tjW3JdXX19O1oudG9KU09OT3B0aW9ucz17bG9uZ3M6U3RyaW5nLGVudW1zOlN0cmluZyxieXRlczpTdHJpbmcsanNvbjohMH07Wi5fY29uZmlndXJlPWZ1bmN0aW9uKCl7dmFyIGQ9Wi5CdWZmZXI7aWYoIWQpe1ouX0J1ZmZlcl9mcm9tPVouX0J1ZmZlcl9hbGxvY1Vuc2FmZT1udWxsO3JldHVybn1aLl9CdWZmZXJfZnJvbT1kLmZyb20hPT1VaW50OEFycmF5LmZyb20mJmQuZnJvbXx8ZnVuY3Rpb24obCxyKXtyZXR1cm4gbmV3IGQobCxyKX0sWi5fQnVmZmVyX2FsbG9jVW5zYWZlPWQuYWxsb2NVbnNhZmV8fGZ1bmN0aW9uKGwpe3JldHVybiBuZXcgZChsKX19fSk7dmFyIFd0PV9lKChmbyxLbik9PntcInVzZSBzdHJpY3RcIjtLbi5leHBvcnRzPXBlO3ZhciB4ZT0kZSgpLFV0LHZ0PXhlLkxvbmdCaXRzLEZuPXhlLmJhc2U2NCxIbj14ZS51dGY4O2Z1bmN0aW9uIGl0KGQsYyxsKXt0aGlzLmZuPWQsdGhpcy5sZW49Yyx0aGlzLm5leHQ9dm9pZCAwLHRoaXMudmFsPWx9ZnVuY3Rpb24gTHQoKXt9ZnVuY3Rpb24gSnIoZCl7dGhpcy5oZWFkPWQuaGVhZCx0aGlzLnRhaWw9ZC50YWlsLHRoaXMubGVuPWQubGVuLHRoaXMubmV4dD1kLnN0YXRlc31mdW5jdGlvbiBwZSgpe3RoaXMubGVuPTAsdGhpcy5oZWFkPW5ldyBpdChMdCwwLDApLHRoaXMudGFpbD10aGlzLmhlYWQsdGhpcy5zdGF0ZXM9bnVsbH12YXIgV249ZnVuY3Rpb24oKXtyZXR1cm4geGUuQnVmZmVyP2Z1bmN0aW9uKCl7cmV0dXJuKHBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVXR9KSgpfTpmdW5jdGlvbigpe3JldHVybiBuZXcgcGV9fTtwZS5jcmVhdGU9V24oKTtwZS5hbGxvYz1mdW5jdGlvbihjKXtyZXR1cm4gbmV3IHhlLkFycmF5KGMpfTt4ZS5BcnJheSE9PUFycmF5JiYocGUuYWxsb2M9eGUucG9vbChwZS5hbGxvYyx4ZS5BcnJheS5wcm90b3R5cGUuc3ViYXJyYXkpKTtwZS5wcm90b3R5cGUuX3B1c2g9ZnVuY3Rpb24oYyxsLHIpe3JldHVybiB0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IGl0KGMsbCxyKSx0aGlzLmxlbis9bCx0aGlzfTtmdW5jdGlvbiBWdChkLGMsbCl7Y1tsXT1kJjI1NX1mdW5jdGlvbiBxcihkLGMsbCl7Zm9yKDtkPjEyNzspY1tsKytdPWQmMTI3fDEyOCxkPj4+PTc7Y1tsXT1kfWZ1bmN0aW9uIEN0KGQsYyl7dGhpcy5sZW49ZCx0aGlzLm5leHQ9dm9pZCAwLHRoaXMudmFsPWN9Q3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaXQucHJvdG90eXBlKTtDdC5wcm90b3R5cGUuZm49cXI7cGUucHJvdG90eXBlLnVpbnQzMj1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5sZW4rPSh0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IEN0KChjPWM+Pj4wKTwxMjg/MTpjPDE2Mzg0PzI6YzwyMDk3MTUyPzM6YzwyNjg0MzU0NTY/NDo1LGMpKS5sZW4sdGhpc307cGUucHJvdG90eXBlLmludDMyPWZ1bmN0aW9uKGMpe3JldHVybiBjPDA/dGhpcy5fcHVzaChGdCwxMCx2dC5mcm9tTnVtYmVyKGMpKTp0aGlzLnVpbnQzMihjKX07cGUucHJvdG90eXBlLnNpbnQzMj1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy51aW50MzIoKGM8PDFeYz4+MzEpPj4+MCl9O2Z1bmN0aW9uIEZ0KGQsYyxsKXtmb3IoO2QuaGk7KWNbbCsrXT1kLmxvJjEyN3wxMjgsZC5sbz0oZC5sbz4+Pjd8ZC5oaTw8MjUpPj4+MCxkLmhpPj4+PTc7Zm9yKDtkLmxvPjEyNzspY1tsKytdPWQubG8mMTI3fDEyOCxkLmxvPWQubG8+Pj43O2NbbCsrXT1kLmxvfXBlLnByb3RvdHlwZS51aW50NjQ9ZnVuY3Rpb24oYyl7dmFyIGw9dnQuZnJvbShjKTtyZXR1cm4gdGhpcy5fcHVzaChGdCxsLmxlbmd0aCgpLGwpfTtwZS5wcm90b3R5cGUuaW50NjQ9cGUucHJvdG90eXBlLnVpbnQ2NDtwZS5wcm90b3R5cGUuc2ludDY0PWZ1bmN0aW9uKGMpe3ZhciBsPXZ0LmZyb20oYykuenpFbmNvZGUoKTtyZXR1cm4gdGhpcy5fcHVzaChGdCxsLmxlbmd0aCgpLGwpfTtwZS5wcm90b3R5cGUuYm9vbD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5fcHVzaChWdCwxLGM/MTowKX07ZnVuY3Rpb24gSHQoZCxjLGwpe2NbbF09ZCYyNTUsY1tsKzFdPWQ+Pj44JjI1NSxjW2wrMl09ZD4+PjE2JjI1NSxjW2wrM109ZD4+PjI0fXBlLnByb3RvdHlwZS5maXhlZDMyPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLl9wdXNoKEh0LDQsYz4+PjApfTtwZS5wcm90b3R5cGUuc2ZpeGVkMzI9cGUucHJvdG90eXBlLmZpeGVkMzI7cGUucHJvdG90eXBlLmZpeGVkNjQ9ZnVuY3Rpb24oYyl7dmFyIGw9dnQuZnJvbShjKTtyZXR1cm4gdGhpcy5fcHVzaChIdCw0LGwubG8pLl9wdXNoKEh0LDQsbC5oaSl9O3BlLnByb3RvdHlwZS5zZml4ZWQ2ND1wZS5wcm90b3R5cGUuZml4ZWQ2NDtwZS5wcm90b3R5cGUuZmxvYXQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuX3B1c2goeGUuZmxvYXQud3JpdGVGbG9hdExFLDQsYyl9O3BlLnByb3RvdHlwZS5kb3VibGU9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuX3B1c2goeGUuZmxvYXQud3JpdGVEb3VibGVMRSw4LGMpfTt2YXIgR3I9eGUuQXJyYXkucHJvdG90eXBlLnNldD9mdW5jdGlvbihjLGwscil7bC5zZXQoYyxyKX06ZnVuY3Rpb24oYyxsLHIpe2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7KytlKWxbcitlXT1jW2VdfTtwZS5wcm90b3R5cGUuYnl0ZXM9ZnVuY3Rpb24oYyl7dmFyIGw9Yy5sZW5ndGg+Pj4wO2lmKCFsKXJldHVybiB0aGlzLl9wdXNoKFZ0LDEsMCk7aWYoeGUuaXNTdHJpbmcoYykpe3ZhciByPXBlLmFsbG9jKGw9Rm4ubGVuZ3RoKGMpKTtGbi5kZWNvZGUoYyxyLDApLGM9cn1yZXR1cm4gdGhpcy51aW50MzIobCkuX3B1c2goR3IsbCxjKX07cGUucHJvdG90eXBlLnN0cmluZz1mdW5jdGlvbihjKXt2YXIgbD1Ibi5sZW5ndGgoYyk7cmV0dXJuIGw/dGhpcy51aW50MzIobCkuX3B1c2goSG4ud3JpdGUsbCxjKTp0aGlzLl9wdXNoKFZ0LDEsMCl9O3BlLnByb3RvdHlwZS5mb3JrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVzPW5ldyBKcih0aGlzKSx0aGlzLmhlYWQ9dGhpcy50YWlsPW5ldyBpdChMdCwwLDApLHRoaXMubGVuPTAsdGhpc307cGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVzPyh0aGlzLmhlYWQ9dGhpcy5zdGF0ZXMuaGVhZCx0aGlzLnRhaWw9dGhpcy5zdGF0ZXMudGFpbCx0aGlzLmxlbj10aGlzLnN0YXRlcy5sZW4sdGhpcy5zdGF0ZXM9dGhpcy5zdGF0ZXMubmV4dCk6KHRoaXMuaGVhZD10aGlzLnRhaWw9bmV3IGl0KEx0LDAsMCksdGhpcy5sZW49MCksdGhpc307cGUucHJvdG90eXBlLmxkZWxpbT1mdW5jdGlvbigpe3ZhciBjPXRoaXMuaGVhZCxsPXRoaXMudGFpbCxyPXRoaXMubGVuO3JldHVybiB0aGlzLnJlc2V0KCkudWludDMyKHIpLHImJih0aGlzLnRhaWwubmV4dD1jLm5leHQsdGhpcy50YWlsPWwsdGhpcy5sZW4rPXIpLHRoaXN9O3BlLnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXtmb3IodmFyIGM9dGhpcy5oZWFkLm5leHQsbD10aGlzLmNvbnN0cnVjdG9yLmFsbG9jKHRoaXMubGVuKSxyPTA7YzspYy5mbihjLnZhbCxsLHIpLHIrPWMubGVuLGM9Yy5uZXh0O3JldHVybiBsfTtwZS5fY29uZmlndXJlPWZ1bmN0aW9uKGQpe1V0PWQscGUuY3JlYXRlPVduKCksVXQuX2NvbmZpZ3VyZSgpfX0pO3ZhciBxbj1fZSgoc28sSm4pPT57XCJ1c2Ugc3RyaWN0XCI7Sm4uZXhwb3J0cz1VZTt2YXIgJG49V3QoKTsoVWUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoJG4ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9VWU7dmFyIEplPSRlKCk7ZnVuY3Rpb24gVWUoKXskbi5jYWxsKHRoaXMpfVVlLl9jb25maWd1cmU9ZnVuY3Rpb24oKXtVZS5hbGxvYz1KZS5fQnVmZmVyX2FsbG9jVW5zYWZlLFVlLndyaXRlQnl0ZXNCdWZmZXI9SmUuQnVmZmVyJiZKZS5CdWZmZXIucHJvdG90eXBlIGluc3RhbmNlb2YgVWludDhBcnJheSYmSmUuQnVmZmVyLnByb3RvdHlwZS5zZXQubmFtZT09PVwic2V0XCI/ZnVuY3Rpb24oYyxsLHIpe2wuc2V0KGMscil9OmZ1bmN0aW9uKGMsbCxyKXtpZihjLmNvcHkpYy5jb3B5KGwsciwwLGMubGVuZ3RoKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7KWxbcisrXT1jW2UrK119fTtVZS5wcm90b3R5cGUuYnl0ZXM9ZnVuY3Rpb24oYyl7SmUuaXNTdHJpbmcoYykmJihjPUplLl9CdWZmZXJfZnJvbShjLFwiYmFzZTY0XCIpKTt2YXIgbD1jLmxlbmd0aD4+PjA7cmV0dXJuIHRoaXMudWludDMyKGwpLGwmJnRoaXMuX3B1c2goVWUud3JpdGVCeXRlc0J1ZmZlcixsLGMpLHRoaXN9O2Z1bmN0aW9uIHpyKGQsYyxsKXtkLmxlbmd0aDw0MD9KZS51dGY4LndyaXRlKGQsYyxsKTpjLnV0ZjhXcml0ZT9jLnV0ZjhXcml0ZShkLGwpOmMud3JpdGUoZCxsKX1VZS5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKGMpe3ZhciBsPUplLkJ1ZmZlci5ieXRlTGVuZ3RoKGMpO3JldHVybiB0aGlzLnVpbnQzMihsKSxsJiZ0aGlzLl9wdXNoKHpyLGwsYyksdGhpc307VWUuX2NvbmZpZ3VyZSgpfSk7dmFyIEp0PV9lKChobyxabik9PntcInVzZSBzdHJpY3RcIjtabi5leHBvcnRzPUllO3ZhciBMZT0kZSgpLEt0LEduPUxlLkxvbmdCaXRzLFlyPUxlLnV0Zjg7ZnVuY3Rpb24gUmUoZCxjKXtyZXR1cm4gUmFuZ2VFcnJvcihcImluZGV4IG91dCBvZiByYW5nZTogXCIrZC5wb3MrXCIgKyBcIisoY3x8MSkrXCIgPiBcIitkLmxlbil9ZnVuY3Rpb24gSWUoZCl7dGhpcy5idWY9ZCx0aGlzLnBvcz0wLHRoaXMubGVuPWQubGVuZ3RofXZhciB6bj10eXBlb2YgVWludDhBcnJheSE9XCJ1bmRlZmluZWRcIj9mdW5jdGlvbihjKXtpZihjIGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXkuaXNBcnJheShjKSlyZXR1cm4gbmV3IEllKGMpO3Rocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIil9OmZ1bmN0aW9uKGMpe2lmKEFycmF5LmlzQXJyYXkoYykpcmV0dXJuIG5ldyBJZShjKTt0aHJvdyBFcnJvcihcImlsbGVnYWwgYnVmZmVyXCIpfSxZbj1mdW5jdGlvbigpe3JldHVybiBMZS5CdWZmZXI/ZnVuY3Rpb24obCl7cmV0dXJuKEllLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gTGUuQnVmZmVyLmlzQnVmZmVyKGUpP25ldyBLdChlKTp6bihlKX0pKGwpfTp6bn07SWUuY3JlYXRlPVluKCk7SWUucHJvdG90eXBlLl9zbGljZT1MZS5BcnJheS5wcm90b3R5cGUuc3ViYXJyYXl8fExlLkFycmF5LnByb3RvdHlwZS5zbGljZTtJZS5wcm90b3R5cGUudWludDMyPWZ1bmN0aW9uKCl7dmFyIGM9NDI5NDk2NzI5NTtyZXR1cm4gZnVuY3Rpb24oKXtpZihjPSh0aGlzLmJ1Zlt0aGlzLnBvc10mMTI3KT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4fHwoYz0oY3wodGhpcy5idWZbdGhpcy5wb3NdJjEyNyk8PDcpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpfHwoYz0oY3wodGhpcy5idWZbdGhpcy5wb3NdJjEyNyk8PDE0KT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXx8KGM9KGN8KHRoaXMuYnVmW3RoaXMucG9zXSYxMjcpPDwyMSk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOCl8fChjPShjfCh0aGlzLmJ1Zlt0aGlzLnBvc10mMTUpPDwyOCk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOCkpcmV0dXJuIGM7aWYoKHRoaXMucG9zKz01KT50aGlzLmxlbil0aHJvdyB0aGlzLnBvcz10aGlzLmxlbixSZSh0aGlzLDEwKTtyZXR1cm4gY319KCk7SWUucHJvdG90eXBlLmludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWludDMyKCl8MH07SWUucHJvdG90eXBlLnNpbnQzMj1mdW5jdGlvbigpe3ZhciBjPXRoaXMudWludDMyKCk7cmV0dXJuIGM+Pj4xXi0oYyYxKXwwfTtmdW5jdGlvbiAkdCgpe3ZhciBkPW5ldyBHbigwLDApLGM9MDtpZih0aGlzLmxlbi10aGlzLnBvcz40KXtmb3IoO2M8NDsrK2MpaWYoZC5sbz0oZC5sb3wodGhpcy5idWZbdGhpcy5wb3NdJjEyNyk8PGMqNyk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZDtpZihkLmxvPShkLmxvfCh0aGlzLmJ1Zlt0aGlzLnBvc10mMTI3KTw8MjgpPj4+MCxkLmhpPShkLmhpfCh0aGlzLmJ1Zlt0aGlzLnBvc10mMTI3KT4+NCk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZDtjPTB9ZWxzZXtmb3IoO2M8MzsrK2Mpe2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBSZSh0aGlzKTtpZihkLmxvPShkLmxvfCh0aGlzLmJ1Zlt0aGlzLnBvc10mMTI3KTw8Yyo3KT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiBkfXJldHVybiBkLmxvPShkLmxvfCh0aGlzLmJ1Zlt0aGlzLnBvcysrXSYxMjcpPDxjKjcpPj4+MCxkfWlmKHRoaXMubGVuLXRoaXMucG9zPjQpe2Zvcig7Yzw1OysrYylpZihkLmhpPShkLmhpfCh0aGlzLmJ1Zlt0aGlzLnBvc10mMTI3KTw8Yyo3KzMpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGR9ZWxzZSBmb3IoO2M8NTsrK2Mpe2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBSZSh0aGlzKTtpZihkLmhpPShkLmhpfCh0aGlzLmJ1Zlt0aGlzLnBvc10mMTI3KTw8Yyo3KzMpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGR9dGhyb3cgRXJyb3IoXCJpbnZhbGlkIHZhcmludCBlbmNvZGluZ1wiKX1JZS5wcm90b3R5cGUuYm9vbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVpbnQzMigpIT09MH07ZnVuY3Rpb24gYnQoZCxjKXtyZXR1cm4oZFtjLTRdfGRbYy0zXTw8OHxkW2MtMl08PDE2fGRbYy0xXTw8MjQpPj4+MH1JZS5wcm90b3R5cGUuZml4ZWQzMj1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgUmUodGhpcyw0KTtyZXR1cm4gYnQodGhpcy5idWYsdGhpcy5wb3MrPTQpfTtJZS5wcm90b3R5cGUuc2ZpeGVkMzI9ZnVuY3Rpb24oKXtpZih0aGlzLnBvcys0PnRoaXMubGVuKXRocm93IFJlKHRoaXMsNCk7cmV0dXJuIGJ0KHRoaXMuYnVmLHRoaXMucG9zKz00KXwwfTtmdW5jdGlvbiBYbigpe2lmKHRoaXMucG9zKzg+dGhpcy5sZW4pdGhyb3cgUmUodGhpcyw4KTtyZXR1cm4gbmV3IEduKGJ0KHRoaXMuYnVmLHRoaXMucG9zKz00KSxidCh0aGlzLmJ1Zix0aGlzLnBvcys9NCkpfUllLnByb3RvdHlwZS5mbG9hdD1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgUmUodGhpcyw0KTt2YXIgYz1MZS5mbG9hdC5yZWFkRmxvYXRMRSh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LGN9O0llLnByb3RvdHlwZS5kb3VibGU9ZnVuY3Rpb24oKXtpZih0aGlzLnBvcys4PnRoaXMubGVuKXRocm93IFJlKHRoaXMsNCk7dmFyIGM9TGUuZmxvYXQucmVhZERvdWJsZUxFKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTgsY307SWUucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKCl7dmFyIGM9dGhpcy51aW50MzIoKSxsPXRoaXMucG9zLHI9dGhpcy5wb3MrYztpZihyPnRoaXMubGVuKXRocm93IFJlKHRoaXMsYyk7cmV0dXJuIHRoaXMucG9zKz1jLEFycmF5LmlzQXJyYXkodGhpcy5idWYpP3RoaXMuYnVmLnNsaWNlKGwscik6bD09PXI/bmV3IHRoaXMuYnVmLmNvbnN0cnVjdG9yKDApOnRoaXMuX3NsaWNlLmNhbGwodGhpcy5idWYsbCxyKX07SWUucHJvdG90eXBlLnN0cmluZz1mdW5jdGlvbigpe3ZhciBjPXRoaXMuYnl0ZXMoKTtyZXR1cm4gWXIucmVhZChjLDAsYy5sZW5ndGgpfTtJZS5wcm90b3R5cGUuc2tpcD1mdW5jdGlvbihjKXtpZih0eXBlb2YgYz09XCJudW1iZXJcIil7aWYodGhpcy5wb3MrYz50aGlzLmxlbil0aHJvdyBSZSh0aGlzLGMpO3RoaXMucG9zKz1jfWVsc2UgZG8gaWYodGhpcy5wb3M+PXRoaXMubGVuKXRocm93IFJlKHRoaXMpO3doaWxlKHRoaXMuYnVmW3RoaXMucG9zKytdJjEyOCk7cmV0dXJuIHRoaXN9O0llLnByb3RvdHlwZS5za2lwVHlwZT1mdW5jdGlvbihkKXtzd2l0Y2goZCl7Y2FzZSAwOnRoaXMuc2tpcCgpO2JyZWFrO2Nhc2UgMTp0aGlzLnNraXAoOCk7YnJlYWs7Y2FzZSAyOnRoaXMuc2tpcCh0aGlzLnVpbnQzMigpKTticmVhaztjYXNlIDM6Zm9yKDsoZD10aGlzLnVpbnQzMigpJjcpIT00Oyl0aGlzLnNraXBUeXBlKGQpO2JyZWFrO2Nhc2UgNTp0aGlzLnNraXAoNCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcImludmFsaWQgd2lyZSB0eXBlIFwiK2QrXCIgYXQgb2Zmc2V0IFwiK3RoaXMucG9zKX1yZXR1cm4gdGhpc307SWUuX2NvbmZpZ3VyZT1mdW5jdGlvbihkKXtLdD1kLEllLmNyZWF0ZT1ZbigpLEt0Ll9jb25maWd1cmUoKTt2YXIgYz1MZS5Mb25nP1widG9Mb25nXCI6XCJ0b051bWJlclwiO0xlLm1lcmdlKEllLnByb3RvdHlwZSx7aW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gJHQuY2FsbCh0aGlzKVtjXSghMSl9LHVpbnQ2NDpmdW5jdGlvbigpe3JldHVybiAkdC5jYWxsKHRoaXMpW2NdKCEwKX0sc2ludDY0OmZ1bmN0aW9uKCl7cmV0dXJuICR0LmNhbGwodGhpcykuenpEZWNvZGUoKVtjXSghMSl9LGZpeGVkNjQ6ZnVuY3Rpb24oKXtyZXR1cm4gWG4uY2FsbCh0aGlzKVtjXSghMCl9LHNmaXhlZDY0OmZ1bmN0aW9uKCl7cmV0dXJuIFhuLmNhbGwodGhpcylbY10oITEpfX0pfX0pO3ZhciBucj1fZSgocG8sdHIpPT57XCJ1c2Ugc3RyaWN0XCI7dHIuZXhwb3J0cz1HZTt2YXIgUW49SnQoKTsoR2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUW4ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9R2U7dmFyIGVyPSRlKCk7ZnVuY3Rpb24gR2UoZCl7UW4uY2FsbCh0aGlzLGQpfUdlLl9jb25maWd1cmU9ZnVuY3Rpb24oKXtlci5CdWZmZXImJihHZS5wcm90b3R5cGUuX3NsaWNlPWVyLkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UpfTtHZS5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGM9dGhpcy51aW50MzIoKTtyZXR1cm4gdGhpcy5idWYudXRmOFNsaWNlP3RoaXMuYnVmLnV0ZjhTbGljZSh0aGlzLnBvcyx0aGlzLnBvcz1NYXRoLm1pbih0aGlzLnBvcytjLHRoaXMubGVuKSk6dGhpcy5idWYudG9TdHJpbmcoXCJ1dGYtOFwiLHRoaXMucG9zLHRoaXMucG9zPU1hdGgubWluKHRoaXMucG9zK2MsdGhpcy5sZW4pKX07R2UuX2NvbmZpZ3VyZSgpfSk7dmFyIGlyPV9lKCh5byxycik9PntcInVzZSBzdHJpY3RcIjtyci5leHBvcnRzPW90O3ZhciBxdD0kZSgpOyhvdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShxdC5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9b3Q7ZnVuY3Rpb24gb3QoZCxjLGwpe2lmKHR5cGVvZiBkIT1cImZ1bmN0aW9uXCIpdGhyb3cgVHlwZUVycm9yKFwicnBjSW1wbCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cXQuRXZlbnRFbWl0dGVyLmNhbGwodGhpcyksdGhpcy5ycGNJbXBsPWQsdGhpcy5yZXF1ZXN0RGVsaW1pdGVkPUJvb2xlYW4oYyksdGhpcy5yZXNwb25zZURlbGltaXRlZD1Cb29sZWFuKGwpfW90LnByb3RvdHlwZS5ycGNDYWxsPWZ1bmN0aW9uIGQoYyxsLHIsZSx0KXtpZighZSl0aHJvdyBUeXBlRXJyb3IoXCJyZXF1ZXN0IG11c3QgYmUgc3BlY2lmaWVkXCIpO3ZhciBuPXRoaXM7aWYoIXQpcmV0dXJuIHF0LmFzUHJvbWlzZShkLG4sYyxsLHIsZSk7aWYoIW4ucnBjSW1wbCl7c2V0VGltZW91dChmdW5jdGlvbigpe3QoRXJyb3IoXCJhbHJlYWR5IGVuZGVkXCIpKX0sMCk7cmV0dXJufXRyeXtyZXR1cm4gbi5ycGNJbXBsKGMsbFtuLnJlcXVlc3REZWxpbWl0ZWQ/XCJlbmNvZGVEZWxpbWl0ZWRcIjpcImVuY29kZVwiXShlKS5maW5pc2goKSxmdW5jdGlvbihmLHkpe2lmKGYpcmV0dXJuIG4uZW1pdChcImVycm9yXCIsZixjKSx0KGYpO2lmKHk9PT1udWxsKXtuLmVuZCghMCk7cmV0dXJufWlmKCEoeSBpbnN0YW5jZW9mIHIpKXRyeXt5PXJbbi5yZXNwb25zZURlbGltaXRlZD9cImRlY29kZURlbGltaXRlZFwiOlwiZGVjb2RlXCJdKHkpfWNhdGNoKE8pe3JldHVybiBuLmVtaXQoXCJlcnJvclwiLE8sYyksdChPKX1yZXR1cm4gbi5lbWl0KFwiZGF0YVwiLHksYyksdChudWxsLHkpfSl9Y2F0Y2gobyl7bi5lbWl0KFwiZXJyb3JcIixvLGMpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KG8pfSwwKTtyZXR1cm59fTtvdC5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnJwY0ltcGwmJihjfHx0aGlzLnJwY0ltcGwobnVsbCxudWxsLG51bGwpLHRoaXMucnBjSW1wbD1udWxsLHRoaXMuZW1pdChcImVuZFwiKS5vZmYoKSksdGhpc319KTt2YXIgbHI9X2Uob3I9PntcInVzZSBzdHJpY3RcIjt2YXIgWHI9b3I7WHIuU2VydmljZT1pcigpfSk7dmFyIGFyPV9lKChibyxjcik9PntcInVzZSBzdHJpY3RcIjtjci5leHBvcnRzPXt9fSk7dmFyIHNyPV9lKGZyPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGplPWZyO2plLmJ1aWxkPVwibWluaW1hbFwiO2plLldyaXRlcj1XdCgpO2plLkJ1ZmZlcldyaXRlcj1xbigpO2plLlJlYWRlcj1KdCgpO2plLkJ1ZmZlclJlYWRlcj1ucigpO2plLnV0aWw9JGUoKTtqZS5ycGM9bHIoKTtqZS5yb290cz1hcigpO2plLmNvbmZpZ3VyZT11cjtmdW5jdGlvbiB1cigpe2plLnV0aWwuX2NvbmZpZ3VyZSgpLGplLldyaXRlci5fY29uZmlndXJlKGplLkJ1ZmZlcldyaXRlciksamUuUmVhZGVyLl9jb25maWd1cmUoamUuQnVmZmVyUmVhZGVyKX11cigpfSk7dmFyIGhyPV9lKChPbyxkcik9PntcInVzZSBzdHJpY3RcIjtkci5leHBvcnRzPXNyKCl9KTt2YXIgcHI9X2UoKGx0LHd0KT0+eyhmdW5jdGlvbihkLGMpe1widXNlIHN0cmljdFwiO3ZhciBsPVwiMS4wLjJcIixyPVwiXCIsZT1cIj9cIix0PVwiZnVuY3Rpb25cIixuPVwidW5kZWZpbmVkXCIsbz1cIm9iamVjdFwiLGY9XCJzdHJpbmdcIix5PVwibWFqb3JcIixPPVwibW9kZWxcIixiPVwibmFtZVwiLHU9XCJ0eXBlXCIscD1cInZlbmRvclwiLEk9XCJ2ZXJzaW9uXCIsUD1cImFyY2hpdGVjdHVyZVwiLGc9XCJjb25zb2xlXCIsdz1cIm1vYmlsZVwiLHY9XCJ0YWJsZXRcIixtPVwic21hcnR0dlwiLFM9XCJ3ZWFyYWJsZVwiLF89XCJlbWJlZGRlZFwiLEI9MjU1LFI9XCJBbWF6b25cIiwkPVwiQXBwbGVcIixGPVwiQVNVU1wiLEM9XCJCbGFja0JlcnJ5XCIsWT1cIkJyb3dzZXJcIixOPVwiQ2hyb21lXCIsSD1cIkVkZ2VcIixKPVwiRmlyZWZveFwiLGNlPVwiR29vZ2xlXCIsUT1cIkh1YXdlaVwiLHE9XCJMR1wiLG9lPVwiTWljcm9zb2Z0XCIsaz1cIk1vdG9yb2xhXCIsQT1cIk9wZXJhXCIsaj1cIlNhbXN1bmdcIixMPVwiU29ueVwiLEs9XCJYaWFvbWlcIixHPVwiWmVicmFcIix6PVwiRmFjZWJvb2tcIixyZT1mdW5jdGlvbihuZSxoZSl7dmFyIGE9e307Zm9yKHZhciBzIGluIG5lKWhlW3NdJiZoZVtzXS5sZW5ndGglMj09MD9hW3NdPWhlW3NdLmNvbmNhdChuZVtzXSk6YVtzXT1uZVtzXTtyZXR1cm4gYX0sdGU9ZnVuY3Rpb24obmUpe2Zvcih2YXIgaGU9e30sYT0wO2E8bmUubGVuZ3RoO2ErKyloZVtuZVthXS50b1VwcGVyQ2FzZSgpXT1uZVthXTtyZXR1cm4gaGV9LHVlPWZ1bmN0aW9uKG5lLGhlKXtyZXR1cm4gdHlwZW9mIG5lPT09Zj9sZShoZSkuaW5kZXhPZihsZShuZSkpIT09LTE6ITF9LGxlPWZ1bmN0aW9uKG5lKXtyZXR1cm4gbmUudG9Mb3dlckNhc2UoKX0sRD1mdW5jdGlvbihuZSl7cmV0dXJuIHR5cGVvZiBuZT09PWY/bmUucmVwbGFjZSgvW15cXGRcXC5dL2cscikuc3BsaXQoXCIuXCIpWzBdOmN9LEU9ZnVuY3Rpb24obmUsaGUpe2lmKHR5cGVvZiBuZT09PWYpcmV0dXJuIG5lPW5lLnJlcGxhY2UoL15cXHNcXHMqLyxyKS5yZXBsYWNlKC9cXHNcXHMqJC8sciksdHlwZW9mIGhlPT09bj9uZTpuZS5zdWJzdHJpbmcoMCxCKX0sVz1mdW5jdGlvbihuZSxoZSl7Zm9yKHZhciBhPTAscyxoLE0sVCx4LFY7YTxoZS5sZW5ndGgmJiF4Oyl7dmFyIGllPWhlW2FdLHNlPWhlW2ErMV07Zm9yKHM9aD0wO3M8aWUubGVuZ3RoJiYheDspaWYoeD1pZVtzKytdLmV4ZWMobmUpLHgpZm9yKE09MDtNPHNlLmxlbmd0aDtNKyspVj14WysraF0sVD1zZVtNXSx0eXBlb2YgVD09PW8mJlQubGVuZ3RoPjA/VC5sZW5ndGg9PT0yP3R5cGVvZiBUWzFdPT10P3RoaXNbVFswXV09VFsxXS5jYWxsKHRoaXMsVik6dGhpc1tUWzBdXT1UWzFdOlQubGVuZ3RoPT09Mz90eXBlb2YgVFsxXT09PXQmJiEoVFsxXS5leGVjJiZUWzFdLnRlc3QpP3RoaXNbVFswXV09Vj9UWzFdLmNhbGwodGhpcyxWLFRbMl0pOmM6dGhpc1tUWzBdXT1WP1YucmVwbGFjZShUWzFdLFRbMl0pOmM6VC5sZW5ndGg9PT00JiYodGhpc1tUWzBdXT1WP1RbM10uY2FsbCh0aGlzLFYucmVwbGFjZShUWzFdLFRbMl0pKTpjKTp0aGlzW1RdPVZ8fGM7YSs9Mn19LFg9ZnVuY3Rpb24obmUsaGUpe2Zvcih2YXIgYSBpbiBoZSlpZih0eXBlb2YgaGVbYV09PT1vJiZoZVthXS5sZW5ndGg+MCl7Zm9yKHZhciBzPTA7czxoZVthXS5sZW5ndGg7cysrKWlmKHVlKGhlW2FdW3NdLG5lKSlyZXR1cm4gYT09PWU/YzphfWVsc2UgaWYodWUoaGVbYV0sbmUpKXJldHVybiBhPT09ZT9jOmE7cmV0dXJuIG5lfSx2ZT17XCIxLjBcIjpcIi84XCIsXCIxLjJcIjpcIi8xXCIsXCIxLjNcIjpcIi8zXCIsXCIyLjBcIjpcIi80MTJcIixcIjIuMC4yXCI6XCIvNDE2XCIsXCIyLjAuM1wiOlwiLzQxN1wiLFwiMi4wLjRcIjpcIi80MTlcIixcIj9cIjpcIi9cIn0sT2U9e01FOlwiNC45MFwiLFwiTlQgMy4xMVwiOlwiTlQzLjUxXCIsXCJOVCA0LjBcIjpcIk5UNC4wXCIsXCIyMDAwXCI6XCJOVCA1LjBcIixYUDpbXCJOVCA1LjFcIixcIk5UIDUuMlwiXSxWaXN0YTpcIk5UIDYuMFwiLFwiN1wiOlwiTlQgNi4xXCIsXCI4XCI6XCJOVCA2LjJcIixcIjguMVwiOlwiTlQgNi4zXCIsXCIxMFwiOltcIk5UIDYuNFwiLFwiTlQgMTAuMFwiXSxSVDpcIkFSTVwifSxlZT17YnJvd3NlcjpbWy9cXGIoPzpjcm1vfGNyaW9zKVxcLyhbXFx3XFwuXSspL2ldLFtJLFtiLFwiQ2hyb21lXCJdXSxbL2VkZyg/OmV8aW9zfGEpP1xcLyhbXFx3XFwuXSspL2ldLFtJLFtiLFwiRWRnZVwiXV0sWy8ob3BlcmEgbWluaSlcXC8oWy1cXHdcXC5dKykvaSwvKG9wZXJhIFttb2JpbGV0YWJdezMsNn0pXFxiLit2ZXJzaW9uXFwvKFstXFx3XFwuXSspL2ksLyhvcGVyYSkoPzouK3ZlcnNpb25cXC98W1xcLyBdKykoW1xcd1xcLl0rKS9pXSxbYixJXSxbL29waW9zW1xcLyBdKyhbXFx3XFwuXSspL2ldLFtJLFtiLEErXCIgTWluaVwiXV0sWy9cXGJvcHJcXC8oW1xcd1xcLl0rKS9pXSxbSSxbYixBXV0sWy8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhsdW5hc2NhcGV8bWF4dGhvbnxuZXRmcm9udHxqYXNtaW5lfGJsYXplcilbXFwvIF0/KFtcXHdcXC5dKikvaSwvKGF2YW50IHxpZW1vYmlsZXxzbGltKSg/OmJyb3dzZXIpP1tcXC8gXT8oW1xcd1xcLl0qKS9pLC8oYmE/aWR1YnJvd3NlcilbXFwvIF0/KFtcXHdcXC5dKykvaSwvKD86bXN8XFwoKShpZSkgKFtcXHdcXC5dKykvaSwvKGZsb2NrfHJvY2ttZWx0fG1pZG9yaXxlcGlwaGFueXxzaWxrfHNreWZpcmV8b3ZpYnJvd3Nlcnxib2x0fGlyb258dml2YWxkaXxpcmlkaXVtfHBoYW50b21qc3xib3dzZXJ8cXVhcmt8cXVwemlsbGF8ZmFsa29ufHJla29ucXxwdWZmaW58YnJhdmV8d2hhbGV8cXFicm93c2VybGl0ZXxxcSlcXC8oWy1cXHdcXC5dKykvaSwvKHdlaWJvKV9fKFtcXGRcXC5dKykvaV0sW2IsSV0sWy8oPzpcXGJ1Yz8gP2Jyb3dzZXJ8KD86anVjLispdWN3ZWIpW1xcLyBdPyhbXFx3XFwuXSspL2ldLFtJLFtiLFwiVUNcIitZXV0sWy9cXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS9pXSxbSSxbYixcIldlQ2hhdChXaW4pIERlc2t0b3BcIl1dLFsvbWljcm9tZXNzZW5nZXJcXC8oW1xcd1xcLl0rKS9pXSxbSSxbYixcIldlQ2hhdFwiXV0sWy9rb25xdWVyb3JcXC8oW1xcd1xcLl0rKS9pXSxbSSxbYixcIktvbnF1ZXJvclwiXV0sWy90cmlkZW50Litydls6IF0oW1xcd1xcLl17MSw5fSlcXGIuK2xpa2UgZ2Vja28vaV0sW0ksW2IsXCJJRVwiXV0sWy95YWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXSxbSSxbYixcIllhbmRleFwiXV0sWy8oYXZhc3R8YXZnKVxcLyhbXFx3XFwuXSspL2ldLFtbYiwvKC4rKS8sXCIkMSBTZWN1cmUgXCIrWV0sSV0sWy9cXGJmb2N1c1xcLyhbXFx3XFwuXSspL2ldLFtJLFtiLEorXCIgRm9jdXNcIl1dLFsvXFxib3B0XFwvKFtcXHdcXC5dKykvaV0sW0ksW2IsQStcIiBUb3VjaFwiXV0sWy9jb2NfY29jXFx3K1xcLyhbXFx3XFwuXSspL2ldLFtJLFtiLFwiQ29jIENvY1wiXV0sWy9kb2xmaW5cXC8oW1xcd1xcLl0rKS9pXSxbSSxbYixcIkRvbHBoaW5cIl1dLFsvY29hc3RcXC8oW1xcd1xcLl0rKS9pXSxbSSxbYixBK1wiIENvYXN0XCJdXSxbL21pdWlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW0ksW2IsXCJNSVVJIFwiK1ldXSxbL2Z4aW9zXFwvKFstXFx3XFwuXSspL2ldLFtJLFtiLEpdXSxbL1xcYnFpaHV8KHFpP2hvP28/fDM2MClicm93c2VyL2ldLFtbYixcIjM2MCBcIitZXV0sWy8ob2N1bHVzfHNhbXN1bmd8c2FpbGZpc2gpYnJvd3NlclxcLyhbXFx3XFwuXSspL2ldLFtbYiwvKC4rKS8sXCIkMSBcIitZXSxJXSxbLyhjb21vZG9fZHJhZ29uKVxcLyhbXFx3XFwuXSspL2ldLFtbYiwvXy9nLFwiIFwiXSxJXSxbLyhlbGVjdHJvbilcXC8oW1xcd1xcLl0rKSBzYWZhcmkvaSwvKHRlc2xhKSg/OiBxdGNhcmJyb3dzZXJ8XFwvKDIwXFxkXFxkXFwuWy1cXHdcXC5dKykpL2ksL20/KHFxYnJvd3NlcnxiYWlkdWJveGFwcHwyMzQ1RXhwbG9yZXIpW1xcLyBdPyhbXFx3XFwuXSspL2ldLFtiLEldLFsvKG1ldGFzcilbXFwvIF0/KFtcXHdcXC5dKykvaSwvKGxiYnJvd3NlcikvaV0sW2JdLFsvKCg/OmZiYW5cXC9mYmlvc3xmYl9pYWJcXC9mYjRhKSg/IS4rZmJhdil8O2ZiYXZcXC8oW1xcd1xcLl0rKTspL2ldLFtbYix6XSxJXSxbL3NhZmFyaSAobGluZSlcXC8oW1xcd1xcLl0rKS9pLC9cXGIobGluZSlcXC8oW1xcd1xcLl0rKVxcL2lhYi9pLC8oY2hyb21pdW18aW5zdGFncmFtKVtcXC8gXShbLVxcd1xcLl0rKS9pXSxbYixJXSxbL1xcYmdzYVxcLyhbXFx3XFwuXSspIC4qc2FmYXJpXFwvL2ldLFtJLFtiLFwiR1NBXCJdXSxbL2hlYWRsZXNzY2hyb21lKD86XFwvKFtcXHdcXC5dKyl8ICkvaV0sW0ksW2IsTitcIiBIZWFkbGVzc1wiXV0sWy8gd3ZcXCkuKyhjaHJvbWUpXFwvKFtcXHdcXC5dKykvaV0sW1tiLE4rXCIgV2ViVmlld1wiXSxJXSxbL2Ryb2lkLisgdmVyc2lvblxcLyhbXFx3XFwuXSspXFxiLisoPzptb2JpbGUgc2FmYXJpfHNhZmFyaSkvaV0sW0ksW2IsXCJBbmRyb2lkIFwiK1ldXSxbLyhjaHJvbWV8b21uaXdlYnxhcm9yYXxbdGl6ZW5va2FdezV9ID9icm93c2VyKVxcL3Y/KFtcXHdcXC5dKykvaV0sW2IsSV0sWy92ZXJzaW9uXFwvKFtcXHdcXC5dKykgLiptb2JpbGVcXC9cXHcrIChzYWZhcmkpL2ldLFtJLFtiLFwiTW9iaWxlIFNhZmFyaVwiXV0sWy92ZXJzaW9uXFwvKFtcXHdcXC5dKykgLioobW9iaWxlID9zYWZhcml8c2FmYXJpKS9pXSxbSSxiXSxbL3dlYmtpdC4rPyhtb2JpbGUgP3NhZmFyaXxzYWZhcmkpKFxcL1tcXHdcXC5dKykvaV0sW2IsW0ksWCx2ZV1dLFsvKHdlYmtpdHxraHRtbClcXC8oW1xcd1xcLl0rKS9pXSxbYixJXSxbLyhuYXZpZ2F0b3J8bmV0c2NhcGVcXGQ/KVxcLyhbLVxcd1xcLl0rKS9pXSxbW2IsXCJOZXRzY2FwZVwiXSxJXSxbL21vYmlsZSB2cjsgcnY6KFtcXHdcXC5dKylcXCkuK2ZpcmVmb3gvaV0sW0ksW2IsSitcIiBSZWFsaXR5XCJdXSxbL2VraW9oZi4rKGZsb3cpXFwvKFtcXHdcXC5dKykvaSwvKHN3aWZ0Zm94KS9pLC8oaWNlZHJhZ29ufGljZXdlYXNlbHxjYW1pbm98Y2hpbWVyYXxmZW5uZWN8bWFlbW8gYnJvd3NlcnxtaW5pbW98Y29ua2Vyb3J8a2xhcilbXFwvIF0/KFtcXHdcXC5cXCtdKykvaSwvKHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXh8cGFsZW1vb258YmFzaWxpc2t8d2F0ZXJmb3gpXFwvKFstXFx3XFwuXSspJC9pLC8oZmlyZWZveClcXC8oW1xcd1xcLl0rKS9pLC8obW96aWxsYSlcXC8oW1xcd1xcLl0rKSAuK3J2XFw6LitnZWNrb1xcL1xcZCsvaSwvKHBvbGFyaXN8bHlueHxkaWxsb3xpY2FifGRvcmlzfGFtYXlhfHczbXxuZXRzdXJmfHNsZWlwbmlyfG9iaWdvfG1vc2FpY3woPzpnb3xpY2V8dXApW1xcLiBdP2Jyb3dzZXIpWy1cXC8gXT92PyhbXFx3XFwuXSspL2ksLyhsaW5rcykgXFwoKFtcXHdcXC5dKykvaV0sW2IsSV1dLGNwdTpbWy8oPzooYW1kfHgoPzooPzo4Nnw2NClbLV9dKT98d293fHdpbik2NClbO1xcKV0vaV0sW1tQLFwiYW1kNjRcIl1dLFsvKGlhMzIoPz07KSkvaV0sW1tQLGxlXV0sWy8oKD86aVszNDZdfHgpODYpWztcXCldL2ldLFtbUCxcImlhMzJcIl1dLFsvXFxiKGFhcmNoNjR8YXJtKHY/OGU/bD98Xz82NCkpXFxiL2ldLFtbUCxcImFybTY0XCJdXSxbL1xcYihhcm0oPzp2WzY3XSk/aHQ/bj9bZmxdcD8pXFxiL2ldLFtbUCxcImFybWhmXCJdXSxbL3dpbmRvd3MgKGNlfG1vYmlsZSk7IHBwYzsvaV0sW1tQLFwiYXJtXCJdXSxbLygoPzpwcGN8cG93ZXJwYykoPzo2NCk/KSg/OiBtYWN8O3xcXCkpL2ldLFtbUCwvb3dlci8scixsZV1dLFsvKHN1bjRcXHcpWztcXCldL2ldLFtbUCxcInNwYXJjXCJdXSxbLygoPzphdnIzMnxpYTY0KD89OykpfDY4ayg/PVxcKSl8XFxiYXJtKD89dig/OlsxLTddfFs1LTddMSlsP3w7fGVhYmkpfCg/PWF0bWVsIClhdnJ8KD86aXJpeHxtaXBzfHNwYXJjKSg/OjY0KT9cXGJ8cGEtcmlzYykvaV0sW1tQLGxlXV1dLGRldmljZTpbWy9cXGIoc2NoLWlbODldMFxcZHxzaHctbTM4MHN8c20tW3B0XVxcd3syLDR9fGd0LVtwbl1cXGR7Miw0fXxzZ2gtdDhbNTZdOXxuZXh1cyAxMCkvaV0sW08sW3Asal0sW3Usdl1dLFsvXFxiKCg/OnNbY2dwXWh8Z3R8c20pLVxcdyt8Z2FsYXh5IG5leHVzKS9pLC9zYW1zdW5nWy0gXShbLVxcd10rKS9pLC9zZWMtKHNnaFxcdyspL2ldLFtPLFtwLGpdLFt1LHddXSxbL1xcKChpcCg/OmhvbmV8b2QpW1xcdyBdKik7L2ldLFtPLFtwLCRdLFt1LHddXSxbL1xcKChpcGFkKTtbLVxcd1xcKSw7IF0rYXBwbGUvaSwvYXBwbGVjb3JlbWVkaWFcXC9bXFx3XFwuXSsgXFwoKGlwYWQpL2ksL1xcYihpcGFkKVxcZFxcZD8sXFxkXFxkP1s7XFxdXS4raW9zL2ldLFtPLFtwLCRdLFt1LHZdXSxbL1xcYigoPzphZ1tyc11bMjNdP3xiYWgyP3xzaHQ/fGJ0diktYT9bbHddXFxkezJ9KVxcYig/IS4rZFxcL3MpL2ldLFtPLFtwLFFdLFt1LHZdXSxbLyg/Omh1YXdlaXxob25vcikoWy1cXHcgXSspWztcXCldL2ksL1xcYihuZXh1cyA2cHxcXHd7Miw0fS1bYXR1XT9bbG5dWzAxMjU5eF1bMDEyMzU5XVthbl0/KVxcYig/IS4rZFxcL3MpL2ldLFtPLFtwLFFdLFt1LHddXSxbL1xcYihwb2NvW1xcdyBdKykoPzogYnVpfFxcKSkvaSwvXFxiOyAoXFx3KykgYnVpbGRcXC9obVxcMS9pLC9cXGIoaG1bLV8gXT9ub3RlP1tfIF0/KD86XFxkXFx3KT8pIGJ1aS9pLC9cXGIocmVkbWlbXFwtXyBdPyg/Om5vdGV8ayk/W1xcd18gXSspKD86IGJ1aXxcXCkpL2ksL1xcYihtaVstXyBdPyg/OmFcXGR8b25lfG9uZVtfIF1wbHVzfG5vdGUgbHRlfG1heCk/W18gXT8oPzpcXGQ/XFx3PylbXyBdPyg/OnBsdXN8c2V8bGl0ZSk/KSg/OiBidWl8XFwpKS9pXSxbW08sL18vZyxcIiBcIl0sW3AsS10sW3Usd11dLFsvXFxiKG1pWy1fIF0/KD86cGFkKSg/OltcXHdfIF0rKSkoPzogYnVpfFxcKSkvaV0sW1tPLC9fL2csXCIgXCJdLFtwLEtdLFt1LHZdXSxbLzsgKFxcdyspIGJ1aS4rIG9wcG8vaSwvXFxiKGNwaFsxMl1cXGR7M318cCg/OmFmfGNbYWxdfGRcXHd8ZVthcl0pW210XVxcZDB8eDkwMDd8YTEwMW9wKVxcYi9pXSxbTyxbcCxcIk9QUE9cIl0sW3Usd11dLFsvdml2byAoXFx3KykoPzogYnVpfFxcKSkvaSwvXFxiKHZbMTJdXFxkezN9XFx3P1thdF0pKD86IGJ1aXw7KS9pXSxbTyxbcCxcIlZpdm9cIl0sW3Usd11dLFsvXFxiKHJteFsxMl1cXGR7M30pKD86IGJ1aXw7fFxcKSkvaV0sW08sW3AsXCJSZWFsbWVcIl0sW3Usd11dLFsvXFxiKG1pbGVzdG9uZXxkcm9pZCg/OlsyLTR4XXwgKD86YmlvbmljfHgyfHByb3xyYXpyKSk/Oj8oIDRnKT8pXFxiW1xcdyBdK2J1aWxkXFwvL2ksL1xcYm1vdCg/Om9yb2xhKT9bLSBdKFxcdyopL2ksLygoPzptb3RvW1xcd1xcKFxcKSBdK3x4dFxcZHszLDR9fG5leHVzIDYpKD89IGJ1aXxcXCkpKS9pXSxbTyxbcCxrXSxbdSx3XV0sWy9cXGIobXo2MFxcZHx4b29tWzIgXXswLDJ9KSBidWlsZFxcLy9pXSxbTyxbcCxrXSxbdSx2XV0sWy8oKD89bGcpP1t2bF1rXFwtP1xcZHszfSkgYnVpfCAzXFwuWy1cXHc7IF17MTB9bGc/LShbMDZjdjldezMsNH0pL2ldLFtPLFtwLHFdLFt1LHZdXSxbLyhsbSg/Oi0/ZjEwMFtudl0/fC1bXFx3XFwuXSspKD89IGJ1aXxcXCkpfG5leHVzIFs0NV0pL2ksL1xcYmxnWy1lO1xcLyBdKygoPyFicm93c2VyfG5ldGNhc3R8YW5kcm9pZCB0dilcXHcrKS9pLC9cXGJsZy0/KFtcXGRcXHddKykgYnVpL2ldLFtPLFtwLHFdLFt1LHddXSxbLyhpZGVhdGFiWy1cXHcgXSspL2ksL2xlbm92byA/KHNbNTZdMDAwWy1cXHddK3x0YWIoPzpbXFx3IF0rKXx5dFstXFxkXFx3XXs2fXx0YlstXFxkXFx3XXs2fSkvaV0sW08sW3AsXCJMZW5vdm9cIl0sW3Usdl1dLFsvKD86bWFlbW98bm9raWEpLioobjkwMHxsdW1pYSBcXGQrKS9pLC9ub2tpYVstXyBdPyhbLVxcd1xcLl0qKS9pXSxbW08sL18vZyxcIiBcIl0sW3AsXCJOb2tpYVwiXSxbdSx3XV0sWy8ocGl4ZWwgYylcXGIvaV0sW08sW3AsY2VdLFt1LHZdXSxbL2Ryb2lkLis7IChwaXhlbFtcXGRheGwgXXswLDZ9KSg/OiBidWl8XFwpKS9pXSxbTyxbcCxjZV0sW3Usd11dLFsvZHJvaWQuKyAoW2MtZ11cXGR7NH18c29bLWdsXVxcdyt8eHEtYVxcd1s0LTddWzEyXSkoPz0gYnVpfFxcKS4rY2hyb21lXFwvKD8hWzEtNl17MCwxfVxcZFxcLikpL2ldLFtPLFtwLExdLFt1LHddXSxbL3NvbnkgdGFibGV0IFtwc10vaSwvXFxiKD86c29ueSk/c2dwXFx3Kyg/OiBidWl8XFwpKS9pXSxbW08sXCJYcGVyaWEgVGFibGV0XCJdLFtwLExdLFt1LHZdXSxbLyAoa2IyMDA1fGluMjBbMTJdNXxiZTIwWzEyXVs1OV0pXFxiL2ksLyg/Om9uZSk/KD86cGx1cyk/IChhXFxkMFxcZFxcZCkoPzogYnxcXCkpL2ldLFtPLFtwLFwiT25lUGx1c1wiXSxbdSx3XV0sWy8oYWxleGEpd2VibS9pLC8oa2ZbYS16XXsyfXdpKSggYnVpfFxcKSkvaSwvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaV0sW08sW3AsUl0sW3Usdl1dLFsvKCg/OnNkfGtmKVswMzQ5aGlqb3JzdHV3XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pXSxbW08sLyguKykvZyxcIkZpcmUgUGhvbmUgJDFcIl0sW3AsUl0sW3Usd11dLFsvKHBsYXlib29rKTtbLVxcd1xcKSw7IF0rKHJpbSkvaV0sW08scCxbdSx2XV0sWy9cXGIoKD86YmJbYS1mXXxzdFtodl0pMTAwLVxcZCkvaSwvXFwoYmIxMDsgKFxcdyspL2ldLFtPLFtwLENdLFt1LHddXSxbLyg/OlxcYnxhc3VzXykodHJhbnNmb1twcmltZSBdezQsMTB9IFxcdyt8ZWVlcGN8c2xpZGVyIFxcdyt8bmV4dXMgN3xwYWRmb25lfHAwMFtjal0pL2ldLFtPLFtwLEZdLFt1LHZdXSxbLyAoeltiZXNdNlswMjddWzAxMl1ba21dW2xzXXx6ZW5mb25lIFxcZFxcdz8pXFxiL2ldLFtPLFtwLEZdLFt1LHddXSxbLyhuZXh1cyA5KS9pXSxbTyxbcCxcIkhUQ1wiXSxbdSx2XV0sWy8oaHRjKVstO18gXXsxLDJ9KFtcXHcgXSsoPz1cXCl8IGJ1aSl8XFx3KykvaSwvKHp0ZSlbLSBdKFtcXHcgXSs/KSg/OiBidWl8XFwvfFxcKSkvaSwvKGFsY2F0ZWx8Z2Vla3NwaG9uZXxuZXhpYW58cGFuYXNvbmljfHNvbnkpWy1fIF0/KFstXFx3XSopL2ldLFtwLFtPLC9fL2csXCIgXCJdLFt1LHddXSxbL2Ryb2lkLis7IChbYWJdWzEtN10tP1swMTc4YV1cXGRcXGQ/KS9pXSxbTyxbcCxcIkFjZXJcIl0sW3Usdl1dLFsvZHJvaWQuKzsgKG1bMS01XSBub3RlKSBidWkvaSwvXFxibXotKFstXFx3XXsyLH0pL2ldLFtPLFtwLFwiTWVpenVcIl0sW3Usd11dLFsvXFxiKHNoLT9bYWx0dnpdP1xcZFxcZFthLWVrbV0/KS9pXSxbTyxbcCxcIlNoYXJwXCJdLFt1LHddXSxbLyhibGFja2JlcnJ5fGJlbnF8cGFsbSg/PVxcLSl8c29ueWVyaWNzc29ufGFjZXJ8YXN1c3xkZWxsfG1laXp1fG1vdG9yb2xhfHBvbHl0cm9uKVstXyBdPyhbLVxcd10qKS9pLC8oaHApIChbXFx3IF0rXFx3KS9pLC8oYXN1cyktPyhcXHcrKS9pLC8obWljcm9zb2Z0KTsgKGx1bWlhW1xcdyBdKykvaSwvKGxlbm92bylbLV8gXT8oWy1cXHddKykvaSwvKGpvbGxhKS9pLC8ob3BwbykgPyhbXFx3IF0rKSBidWkvaV0sW3AsTyxbdSx3XV0sWy8oYXJjaG9zKSAoZ2FtZXBhZDI/KS9pLC8oaHApLisodG91Y2hwYWQoPyEuK3RhYmxldCl8dGFibGV0KS9pLC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhub29rKVtcXHcgXStidWlsZFxcLyhcXHcrKS9pLC8oZGVsbCkgKHN0cmVhW2twclxcZCBdKltcXGRrb10pL2ksLyhsZVstIF0rcGFuKVstIF0rKFxcd3sxLDl9KSBidWkvaSwvKHRyaW5pdHkpWy0gXSoodFxcZHszfSkgYnVpL2ksLyhnaWdhc2V0KVstIF0rKHFcXHd7MSw5fSkgYnVpL2ksLyh2b2RhZm9uZSkgKFtcXHcgXSspKD86XFwpfCBidWkpL2ldLFtwLE8sW3Usdl1dLFsvKHN1cmZhY2UgZHVvKS9pXSxbTyxbcCxvZV0sW3Usdl1dLFsvZHJvaWQgW1xcZFxcLl0rOyAoZnBcXGR1PykoPzogYnxcXCkpL2ldLFtPLFtwLFwiRmFpcnBob25lXCJdLFt1LHddXSxbLyh1MzA0YWEpL2ldLFtPLFtwLFwiQVQmVFwiXSxbdSx3XV0sWy9cXGJzaWUtKFxcdyopL2ldLFtPLFtwLFwiU2llbWVuc1wiXSxbdSx3XV0sWy9cXGIocmN0XFx3KykgYi9pXSxbTyxbcCxcIlJDQVwiXSxbdSx2XV0sWy9cXGIodmVudWVbXFxkIF17Miw3fSkgYi9pXSxbTyxbcCxcIkRlbGxcIl0sW3Usdl1dLFsvXFxiKHEoPzptdnx0YSlcXHcrKSBiL2ldLFtPLFtwLFwiVmVyaXpvblwiXSxbdSx2XV0sWy9cXGIoPzpiYXJuZXNbJiBdK25vYmxlIHxibltydF0pKFtcXHdcXCsgXSopIGIvaV0sW08sW3AsXCJCYXJuZXMgJiBOb2JsZVwiXSxbdSx2XV0sWy9cXGIodG1cXGR7M31cXHcrKSBiL2ldLFtPLFtwLFwiTnVWaXNpb25cIl0sW3Usdl1dLFsvXFxiKGs4OCkgYi9pXSxbTyxbcCxcIlpURVwiXSxbdSx2XV0sWy9cXGIobnhcXGR7M31qKSBiL2ldLFtPLFtwLFwiWlRFXCJdLFt1LHddXSxbL1xcYihnZW5cXGR7M30pIGIuKzQ5aC9pXSxbTyxbcCxcIlN3aXNzXCJdLFt1LHddXSxbL1xcYih6dXJcXGR7M30pIGIvaV0sW08sW3AsXCJTd2lzc1wiXSxbdSx2XV0sWy9cXGIoKHpla2kpP3RiLipcXGIpIGIvaV0sW08sW3AsXCJaZWtpXCJdLFt1LHZdXSxbL1xcYihbeXJdXFxkezJ9KSBiL2ksL1xcYihkcmFnb25bLSBdK3RvdWNoIHxkdCkoXFx3ezV9KSBiL2ldLFtbcCxcIkRyYWdvbiBUb3VjaFwiXSxPLFt1LHZdXSxbL1xcYihucy0/XFx3ezAsOX0pIGIvaV0sW08sW3AsXCJJbnNpZ25pYVwiXSxbdSx2XV0sWy9cXGIoKG54YXxuZXh0KS0/XFx3ezAsOX0pIGIvaV0sW08sW3AsXCJOZXh0Qm9va1wiXSxbdSx2XV0sWy9cXGIoeHRyZW1lXFxfKT8odigxWzA0NV18MlswMTVdfFszNDY5XTB8N1swNV0pKSBiL2ldLFtbcCxcIlZvaWNlXCJdLE8sW3Usd11dLFsvXFxiKGx2dGVsXFwtKT8odjFbMTJdKSBiL2ldLFtbcCxcIkx2VGVsXCJdLE8sW3Usd11dLFsvXFxiKHBoLTEpIC9pXSxbTyxbcCxcIkVzc2VudGlhbFwiXSxbdSx3XV0sWy9cXGIodigxMDBtZHw3MDBuYXw3MDExfDkxN2cpLipcXGIpIGIvaV0sW08sW3AsXCJFbnZpemVuXCJdLFt1LHZdXSxbL1xcYih0cmlvWy1cXHdcXC4gXSspIGIvaV0sW08sW3AsXCJNYWNoU3BlZWRcIl0sW3Usdl1dLFsvXFxidHVfKDE0OTEpIGIvaV0sW08sW3AsXCJSb3RvclwiXSxbdSx2XV0sWy8oc2hpZWxkW1xcdyBdKykgYi9pXSxbTyxbcCxcIk52aWRpYVwiXSxbdSx2XV0sWy8oc3ByaW50KSAoXFx3KykvaV0sW3AsTyxbdSx3XV0sWy8oa2luXFwuW29uZXR3XXszfSkvaV0sW1tPLC9cXC4vZyxcIiBcIl0sW3Asb2VdLFt1LHddXSxbL2Ryb2lkLis7IChjYzY2NjY/fGV0NVsxNl18bWNbMjM5XVsyM114P3x2YzhbMDNdeD8pXFwpL2ldLFtPLFtwLEddLFt1LHZdXSxbL2Ryb2lkLis7IChlYzMwfHBzMjB8dGNbMi04XVxcZFtreF0pXFwpL2ldLFtPLFtwLEddLFt1LHddXSxbLyhvdXlhKS9pLC8obmludGVuZG8pIChbd2lkczN1dGNoXSspL2ldLFtwLE8sW3UsZ11dLFsvZHJvaWQuKzsgKHNoaWVsZCkgYnVpL2ldLFtPLFtwLFwiTnZpZGlhXCJdLFt1LGddXSxbLyhwbGF5c3RhdGlvbiBbMzQ1cG9ydGFibGV2aV0rKS9pXSxbTyxbcCxMXSxbdSxnXV0sWy9cXGIoeGJveCg/OiBvbmUpPyg/ITsgeGJveCkpW1xcKTsgXS9pXSxbTyxbcCxvZV0sW3UsZ11dLFsvc21hcnQtdHYuKyhzYW1zdW5nKS9pXSxbcCxbdSxtXV0sWy9oYmJ0di4rbWFwbGU7KFxcZCspL2ldLFtbTywvXi8sXCJTbWFydFRWXCJdLFtwLGpdLFt1LG1dXSxbLyhudXg7IG5ldGNhc3QuK3NtYXJ0dHZ8bGcgKG5ldGNhc3RcXC50di0yMDFcXGR8YW5kcm9pZCB0dikpL2ldLFtbcCxxXSxbdSxtXV0sWy8oYXBwbGUpID90di9pXSxbcCxbTywkK1wiIFRWXCJdLFt1LG1dXSxbL2Nya2V5L2ldLFtbTyxOK1wiY2FzdFwiXSxbcCxjZV0sW3UsbV1dLFsvZHJvaWQuK2FmdChcXHcpKCBidWl8XFwpKS9pXSxbTyxbcCxSXSxbdSxtXV0sWy9cXChkdHZbXFwpO10uKyhhcXVvcykvaV0sW08sW3AsXCJTaGFycFwiXSxbdSxtXV0sWy9cXGIocm9rdSlbXFxkeF0qW1xcKVxcL10oKD86ZHZwLSk/W1xcZFxcLl0qKS9pLC9oYmJ0dlxcL1xcZCtcXC5cXGQrXFwuXFxkKyArXFwoW1xcdyBdKjsgKihcXHdbXjtdKik7KFteO10qKS9pXSxbW3AsRV0sW08sRV0sW3UsbV1dLFsvXFxiKGFuZHJvaWQgdHZ8c21hcnRbLSBdP3R2fG9wZXJhIHR2fHR2OyBydjopXFxiL2ldLFtbdSxtXV0sWy8oKHBlYmJsZSkpYXBwL2ldLFtwLE8sW3UsU11dLFsvZHJvaWQuKzsgKGdsYXNzKSBcXGQvaV0sW08sW3AsY2VdLFt1LFNdXSxbL2Ryb2lkLis7ICh3dDYzPzB7MiwzfSlcXCkvaV0sW08sW3AsR10sW3UsU11dLFsvKHF1ZXN0KCAyKT8pL2ldLFtPLFtwLHpdLFt1LFNdXSxbLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcL1stXFx3XFwuXSspL2ldLFtwLFt1LF9dXSxbL2Ryb2lkIC4rPzsgKFteO10rPykoPzogYnVpfFxcKSBhcHBsZXcpLis/IG1vYmlsZSBzYWZhcmkvaV0sW08sW3Usd11dLFsvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8XFwpIGFwcGxldykuKz8oPyEgbW9iaWxlKSBzYWZhcmkvaV0sW08sW3Usdl1dLFsvXFxiKCh0YWJsZXR8dGFiKVs7XFwvXXxmb2N1c1xcL1xcZCg/IS4rbW9iaWxlKSkvaV0sW1t1LHZdXSxbLyhwaG9uZXxtb2JpbGUoPzpbO1xcL118IHNhZmFyaSl8cGRhKD89Lit3aW5kb3dzIGNlKSkvaV0sW1t1LHddXSxbLyhhbmRyb2lkWy1cXHdcXC4gXXswLDl9KTsuK2J1aWwvaV0sW08sW3AsXCJHZW5lcmljXCJdXV0sZW5naW5lOltbL3dpbmRvd3MuKyBlZGdlXFwvKFtcXHdcXC5dKykvaV0sW0ksW2IsSCtcIkhUTUxcIl1dLFsvd2Via2l0XFwvNTM3XFwuMzYuK2Nocm9tZVxcLyg/ITI3KShbXFx3XFwuXSspL2ldLFtJLFtiLFwiQmxpbmtcIl1dLFsvKHByZXN0bylcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fHRyaWRlbnR8bmV0ZnJvbnR8bmV0c3VyZnxhbWF5YXxseW54fHczbXxnb2FubmEpXFwvKFtcXHdcXC5dKykvaSwvZWtpb2goZmxvdylcXC8oW1xcd1xcLl0rKS9pLC8oa2h0bWx8dGFzbWFufGxpbmtzKVtcXC8gXVxcKD8oW1xcd1xcLl0rKS9pLC8oaWNhYilbXFwvIF0oWzIzXVxcLltcXGRcXC5dKykvaV0sW2IsSV0sWy9ydlxcOihbXFx3XFwuXXsxLDl9KVxcYi4rKGdlY2tvKS9pXSxbSSxiXV0sb3M6W1svbWljcm9zb2Z0ICh3aW5kb3dzKSAodmlzdGF8eHApL2ldLFtiLEldLFsvKHdpbmRvd3MpIG50IDZcXC4yOyAoYXJtKS9pLC8od2luZG93cyAoPzpwaG9uZSg/OiBvcyk/fG1vYmlsZSkpW1xcLyBdPyhbXFxkXFwuXFx3IF0qKS9pLC8od2luZG93cylbXFwvIF0/KFtudGNlXFxkXFwuIF0rXFx3KSg/IS4reGJveCkvaV0sW2IsW0ksWCxPZV1dLFsvKHdpbig/PTN8OXxuKXx3aW4gOXggKShbbnRcXGRcXC5dKykvaV0sW1tiLFwiV2luZG93c1wiXSxbSSxYLE9lXV0sWy9pcFtob25lYWRdezIsNH1cXGIoPzouKm9zIChbXFx3XSspIGxpa2UgbWFjfDsgb3BlcmEpL2ksL2NmbmV0d29ya1xcLy4rZGFyd2luL2ldLFtbSSwvXy9nLFwiLlwiXSxbYixcImlPU1wiXV0sWy8obWFjIG9zIHgpID8oW1xcd1xcLiBdKikvaSwvKG1hY2ludG9zaHxtYWNfcG93ZXJwY1xcYikoPyEuK2hhaWt1KS9pXSxbW2IsXCJNYWMgT1NcIl0sW0ksL18vZyxcIi5cIl1dLFsvZHJvaWQgKFtcXHdcXC5dKylcXGIuKyhhbmRyb2lkWy0gXXg4NikvaV0sW0ksYl0sWy8oYW5kcm9pZHx3ZWJvc3xxbnh8YmFkYXxyaW0gdGFibGV0IG9zfG1hZW1vfG1lZWdvfHNhaWxmaXNoKVstXFwvIF0/KFtcXHdcXC5dKikvaSwvKGJsYWNrYmVycnkpXFx3KlxcLyhbXFx3XFwuXSopL2ksLyh0aXplbnxrYWlvcylbXFwvIF0oW1xcd1xcLl0rKS9pLC9cXCgoc2VyaWVzNDApOy9pXSxbYixJXSxbL1xcKGJiKDEwKTsvaV0sW0ksW2IsQ11dLFsvKD86c3ltYmlhbiA/b3N8c3ltYm9zfHM2MCg/PTspfHNlcmllczYwKVstXFwvIF0/KFtcXHdcXC5dKikvaV0sW0ksW2IsXCJTeW1iaWFuXCJdXSxbL21vemlsbGFcXC9bXFxkXFwuXSsgXFwoKD86bW9iaWxlfHRhYmxldHx0dnxtb2JpbGU7IFtcXHcgXSspOyBydjouKyBnZWNrb1xcLyhbXFx3XFwuXSspL2ldLFtJLFtiLEorXCIgT1NcIl1dLFsvd2ViMHM7LitydCh0dikvaSwvXFxiKD86aHApP3dvcyg/OmJyb3dzZXIpP1xcLyhbXFx3XFwuXSspL2ldLFtJLFtiLFwid2ViT1NcIl1dLFsvY3JrZXlcXC8oW1xcZFxcLl0rKS9pXSxbSSxbYixOK1wiY2FzdFwiXV0sWy8oY3JvcykgW1xcd10rIChbXFx3XFwuXStcXHcpL2ldLFtbYixcIkNocm9taXVtIE9TXCJdLEldLFsvKG5pbnRlbmRvfHBsYXlzdGF0aW9uKSAoW3dpZHMzNDVwb3J0YWJsZXZ1Y2hdKykvaSwvKHhib3gpOyAreGJveCAoW15cXCk7XSspL2ksL1xcYihqb2xpfHBhbG0pXFxiID8oPzpvcyk/XFwvPyhbXFx3XFwuXSopL2ksLyhtaW50KVtcXC9cXChcXCkgXT8oXFx3KikvaSwvKG1hZ2VpYXx2ZWN0b3JsaW51eClbOyBdL2ksLyhba3hsbl0/dWJ1bnR1fGRlYmlhbnxzdXNlfG9wZW5zdXNlfGdlbnRvb3xhcmNoKD89IGxpbnV4KXxzbGFja3dhcmV8ZmVkb3JhfG1hbmRyaXZhfGNlbnRvc3xwY2xpbnV4b3N8cmVkID9oYXR8emVud2Fsa3xsaW5wdXN8cmFzcGJpYW58cGxhbiA5fG1pbml4fHJpc2Mgb3N8Y29udGlraXxkZWVwaW58bWFuamFyb3xlbGVtZW50YXJ5IG9zfHNhYmF5b258bGluc3BpcmUpKD86IGdudVxcL2xpbnV4KT8oPzogZW50ZXJwcmlzZSk/KD86Wy0gXWxpbnV4KT8oPzotZ251KT9bLVxcLyBdPyg/IWNocm9tfHBhY2thZ2UpKFstXFx3XFwuXSopL2ksLyhodXJkfGxpbnV4KSA/KFtcXHdcXC5dKikvaSwvKGdudSkgPyhbXFx3XFwuXSopL2ksL1xcYihbLWZyZW50b3BjZ2hzXXswLDV9YnNkfGRyYWdvbmZseSlbXFwvIF0/KD8hYW1kfFtpeDM0Nl17MSwyfTg2KShbXFx3XFwuXSopL2ksLyhoYWlrdSkgKFxcdyspL2ldLFtiLEldLFsvKHN1bm9zKSA/KFtcXHdcXC5cXGRdKikvaV0sW1tiLFwiU29sYXJpc1wiXSxJXSxbLygoPzpvcGVuKT9zb2xhcmlzKVstXFwvIF0/KFtcXHdcXC5dKikvaSwvKGFpeCkgKChcXGQpKD89XFwufFxcKXwgKVtcXHdcXC5dKSovaSwvXFxiKGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xvcGVudm1zfGZ1Y2hzaWF8aHAtdXgpL2ksLyh1bml4KSA/KFtcXHdcXC5dKikvaV0sW2IsSV1dfSxmZT1mdW5jdGlvbihuZSxoZSl7aWYodHlwZW9mIG5lPT09byYmKGhlPW5lLG5lPWMpLCEodGhpcyBpbnN0YW5jZW9mIGZlKSlyZXR1cm4gbmV3IGZlKG5lLGhlKS5nZXRSZXN1bHQoKTt2YXIgYT1uZXx8KHR5cGVvZiBkIT09biYmZC5uYXZpZ2F0b3ImJmQubmF2aWdhdG9yLnVzZXJBZ2VudD9kLm5hdmlnYXRvci51c2VyQWdlbnQ6cikscz1oZT9yZShlZSxoZSk6ZWU7cmV0dXJuIHRoaXMuZ2V0QnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBoPXt9O3JldHVybiBoW2JdPWMsaFtJXT1jLFcuY2FsbChoLGEscy5icm93c2VyKSxoLm1ham9yPUQoaC52ZXJzaW9uKSxofSx0aGlzLmdldENQVT1mdW5jdGlvbigpe3ZhciBoPXt9O3JldHVybiBoW1BdPWMsVy5jYWxsKGgsYSxzLmNwdSksaH0sdGhpcy5nZXREZXZpY2U9ZnVuY3Rpb24oKXt2YXIgaD17fTtyZXR1cm4gaFtwXT1jLGhbT109YyxoW3VdPWMsVy5jYWxsKGgsYSxzLmRldmljZSksaH0sdGhpcy5nZXRFbmdpbmU9ZnVuY3Rpb24oKXt2YXIgaD17fTtyZXR1cm4gaFtiXT1jLGhbSV09YyxXLmNhbGwoaCxhLHMuZW5naW5lKSxofSx0aGlzLmdldE9TPWZ1bmN0aW9uKCl7dmFyIGg9e307cmV0dXJuIGhbYl09YyxoW0ldPWMsVy5jYWxsKGgsYSxzLm9zKSxofSx0aGlzLmdldFJlc3VsdD1mdW5jdGlvbigpe3JldHVybnt1YTp0aGlzLmdldFVBKCksYnJvd3Nlcjp0aGlzLmdldEJyb3dzZXIoKSxlbmdpbmU6dGhpcy5nZXRFbmdpbmUoKSxvczp0aGlzLmdldE9TKCksZGV2aWNlOnRoaXMuZ2V0RGV2aWNlKCksY3B1OnRoaXMuZ2V0Q1BVKCl9fSx0aGlzLmdldFVBPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LHRoaXMuc2V0VUE9ZnVuY3Rpb24oaCl7cmV0dXJuIGE9dHlwZW9mIGg9PT1mJiZoLmxlbmd0aD5CP0UoaCxCKTpoLHRoaXN9LHRoaXMuc2V0VUEoYSksdGhpc307ZmUuVkVSU0lPTj1sLGZlLkJST1dTRVI9dGUoW2IsSSx5XSksZmUuQ1BVPXRlKFtQXSksZmUuREVWSUNFPXRlKFtPLHAsdSxnLHcsbSx2LFMsX10pLGZlLkVOR0lORT1mZS5PUz10ZShbYixJXSksdHlwZW9mIGx0IT09bj8odHlwZW9mIHd0IT09biYmd3QuZXhwb3J0cyYmKGx0PXd0LmV4cG9ydHM9ZmUpLGx0LlVBUGFyc2VyPWZlKTp0eXBlb2YgZGVmaW5lPT09dCYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gZmV9KTp0eXBlb2YgZCE9PW4mJihkLlVBUGFyc2VyPWZlKTt2YXIgZGU9dHlwZW9mIGQhPT1uJiYoZC5qUXVlcnl8fGQuWmVwdG8pO2lmKGRlJiYhZGUudWEpe3ZhciBBZT1uZXcgZmU7ZGUudWE9QWUuZ2V0UmVzdWx0KCksZGUudWEuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIEFlLmdldFVBKCl9LGRlLnVhLnNldD1mdW5jdGlvbihuZSl7QWUuc2V0VUEobmUpO3ZhciBoZT1BZS5nZXRSZXN1bHQoKTtmb3IodmFyIGEgaW4gaGUpZGUudWFbYV09aGVbYV19fX0pKHR5cGVvZiB3aW5kb3c9PVwib2JqZWN0XCI/d2luZG93Omx0KX0pO3ZhciB6ZT1uZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBwbGF0Zm9ybVwiKSxDZT1uZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50XCIpLEd0PW5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3JcIiksZXQ9bmV3IEVycm9yKFwiSW52YWxpZCBrZXlcIiksRmU9bmV3IEVycm9yKFwiSW52YWxpZCBzaWduYXR1cmVcIiksbXQ9bmV3IEVycm9yKFwiT3BlcmF0aW9uIGJsb2NrZWRcIik7dmFyIGdlPXtyZWFkb25seTpcInJlYWRvbmx5XCIscmVhZHdyaXRlOlwicmVhZHdyaXRlXCJ9O2Z1bmN0aW9uIHp0KGQsYyxsKXtyZXR1cm4gd2luZG93LmluZGV4ZWREQnx8UHJvbWlzZS5yZWplY3QoemUpLG5ldyBQcm9taXNlKChyLGUpPT57dHJ5e2xldCB0PSExLG49Zj0+e3R8fCh0PSEwLGUoZikpfSxvPXdpbmRvdy5pbmRleGVkREIub3BlbihkLGMpO28ub251cGdyYWRlbmVlZGVkPWY9Pnt0cnl7bChmLnRhcmdldC5yZXN1bHQsZi50YXJnZXQudHJhbnNhY3Rpb24sZi5uZXdWZXJzaW9uLGYub2xkVmVyc2lvbil9Y2F0Y2goeSl7bih5KX19LG8ub25ibG9ja2VkPWY9PntuKG10KX0sby5vbmVycm9yPWY9PntuKGYudGFyZ2V0LmVycm9yKX0sby5vbnN1Y2Nlc3M9Zj0+e2lmKCF0KXtsZXQgeT1mLnRhcmdldC5yZXN1bHQ7eS5vbnZlcnNpb25jaGFuZ2U9Tz0+e3kuY2xvc2UoKX0scih5KX19fWNhdGNoKHQpe3JlamVjdF9vbmNlKHQpfX0pfWZ1bmN0aW9uIFl0KGQpe2QuY2xvc2UoKX1mdW5jdGlvbiBYdChkKXtyZXR1cm4gbmV3IFByb21pc2UoKGMsbCk9PntsZXQgcj13aW5kb3cuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGQpO3Iub25lcnJvcj1lPT57bChHdCl9LHIub25zdWNjZXNzPWU9PntjKCl9LHIub25ibG9ja2VkPWU9PntsKG10KX19KX1mdW5jdGlvbiBEZShkLGMsbCl7bGV0IHI9ZC50cmFuc2FjdGlvbihjLGwpO3JldHVybiByLnJlc3VsdD1udWxsLHIucHJvbWlzZT1uZXcgUHJvbWlzZSgoZSx0KT0+e3Iub25jb21wbGV0ZT1uPT57ZShyLnJlc3VsdCl9LHIub25lcnJvcj1uPT57dChyLmVycm9yP3IuZXJyb3I6bi50YXJnZXQuZXJyb3IpfSxyLm9uYWJvcnQ9bj0+e3Qoci5yZXN1bHQpfX0pLHJ9ZnVuY3Rpb24gUGUoZCl7cmV0dXJuIGQuZXJyb3I/UHJvbWlzZS5yZWplY3QoZC5lcnJvcik6ZC5wcm9taXNlfWZ1bmN0aW9uIFllKGQsYyxsKXt0cnl7bGV0IGU9ZC5vYmplY3RTdG9yZShjKS5nZXQobCk7ZS5vbnN1Y2Nlc3M9dD0+e2QucmVzdWx0PWUucmVzdWx0fSxlLm9uZXJyb3I9dD0+e2QucmVzdWx0PXQudGFyZ2V0LmVycm9yLGQuYWJvcnQoKX19Y2F0Y2gocil7ZC5yZXN1bHQ9cixkLmFib3J0KCl9fWZ1bmN0aW9uIGF0KGQsYyxsKXtyZXR1cm4gbmV3IFByb21pc2UoKHIsZSk9Pnt0cnl7bGV0IG49ZC5vYmplY3RTdG9yZShjKS5nZXQobCk7bi5vbnN1Y2Nlc3M9bz0+e3Iobi5yZXN1bHQpfSxuLm9uZXJyb3I9bz0+e2QucmVzdWx0PW8udGFyZ2V0LmVycm9yLGUoby5lcnJvcil9fWNhdGNoKHQpe2QucmVzdWx0PXQsZSh0KX19KX1mdW5jdGlvbiBJdChkLGMpe3RyeXtsZXQgcj1kLm9iamVjdFN0b3JlKGMpLmdldEFsbCgpO3Iub25zdWNjZXNzPWU9PntkLnJlc3VsdD1yLnJlc3VsdH0sci5vbmVycm9yPWU9PntkLnJlc3VsdD1lLnRhcmdldC5lcnJvcixkLmFib3J0KCl9fWNhdGNoKGwpe2QucmVzdWx0PWwsZC5hYm9ydCgpfX1mdW5jdGlvbiBadChkLGMpe3JldHVybiBuZXcgUHJvbWlzZSgobCxyKT0+e3RyeXtsZXQgdD1kLm9iamVjdFN0b3JlKGMpLmdldEFsbCgpO3Qub25zdWNjZXNzPW49PntsKHQucmVzdWx0KX0sdC5vbmVycm9yPW49PntkLnJlc3VsdD1uLnRhcmdldC5lcnJvcixyKG4uZXJyb3IpfX1jYXRjaChlKXtkLnJlc3VsdD1lLHIoZSl9fSl9ZnVuY3Rpb24gQmUoZCxjLGwscil7dHJ5e2xldCB0PWQub2JqZWN0U3RvcmUoYykucHV0KGwscik7dC5vbnN1Y2Nlc3M9bj0+e2QucmVzdWx0PXQucmVzdWx0fSx0Lm9uZXJyb3I9bj0+e2QucmVzdWx0PW4udGFyZ2V0LmVycm9yLGQuYWJvcnQoKX19Y2F0Y2goZSl7ZC5yZXN1bHQ9ZSxkLmFib3J0KCl9fWZ1bmN0aW9uIFhlKGQsYyxsKXt0cnl7bGV0IGU9ZC5vYmplY3RTdG9yZShjKS5kZWxldGUobCk7ZS5vbnN1Y2Nlc3M9dD0+e2QucmVzdWx0PWUucmVzdWx0fSxlLm9uZXJyb3I9dD0+e2QucmVzdWx0PXQudGFyZ2V0LmVycm9yLGQuYWJvcnQoKX19Y2F0Y2gocil7ZC5yZXN1bHQ9cixkLmFib3J0KCl9fWZ1bmN0aW9uIEF0KGQsYyl7dHJ5e2xldCByPWQub2JqZWN0U3RvcmUoYykuY2xlYXIoKTtyLm9uc3VjY2Vzcz1lPT57ZC5yZXN1bHQ9ci5yZXN1bHR9LHIub25lcnJvcj1lPT57ZC5yZXN1bHQ9ZS50YXJnZXQuZXJyb3IsZC5hYm9ydCgpfX1jYXRjaChsKXtkLnJlc3VsdD1sLGQuYWJvcnQoKX19dmFyIFF0PVwia2V5bWFrZXJcIixFdD1bZ3IsRHIsUHIsTXIsVHIsanJdLEhlPVwiY2VydGlmaWNhdGVzXCIsV2U9XCJrZXlzXCIsU2U9XCJjcmVkZW50aWFsc1wiLF90PVwiaWRcIixWZT1cImFwcFNldHRpbmdzXCI7ZnVuY3Rpb24gQXIoZCl7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKGMsbCk9PntkPT09dm9pZCAwJiYoZD1FdC5sZW5ndGgpO3RyeXtsZXQgcj1hd2FpdCB6dChRdCxkLGtyKTtjKHIpfWNhdGNoKHIpe2wocil9fSl9ZnVuY3Rpb24gRXIoZCl7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKGMsbCk9Pnt0cnl7WXQoZCksYygpfWNhdGNoKHIpe2wocil9fSl9ZnVuY3Rpb24gX3IoKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMoZCxjKT0+e3RyeXthd2FpdCBYdChRdCksZCgpfWNhdGNoKGwpe2MobCl9fSl9ZnVuY3Rpb24ga3IoZCxjLGwscil7aWYoIWR8fCFsKXRocm93IENlO2lmKGw+RXQubGVuZ3RoKXRocm93IENlO2Zvcig7cjxsO3IrKylFdFtyXShkLGMpfWZ1bmN0aW9uIGdyKGQsYyl7ZC5jcmVhdGVPYmplY3RTdG9yZShTZSx7a2V5UGF0aDpcImhhbmRsZVwifSksZC5jcmVhdGVPYmplY3RTdG9yZShIZSksZC5jcmVhdGVPYmplY3RTdG9yZShXZSl9ZnVuY3Rpb24gRHIoZCxjKXtkLmNyZWF0ZU9iamVjdFN0b3JlKFZlLHtrZXlQYXRoOlwiaW5zdGFuY2VJZFwifSl9ZnVuY3Rpb24gUHIoZCxjKXtsZXQgcj1jLm9iamVjdFN0b3JlKFNlKS5vcGVuQ3Vyc29yKCk7ci5vbnN1Y2Nlc3M9ZT0+e2xldCB0PWUudGFyZ2V0LnJlc3VsdDt0JiYodC52YWx1ZS5zdGF0ZXx8KHQudmFsdWUuc3RhdGU9XCJBY3RpdmVcIix0LnVwZGF0ZSh0LnZhbHVlKSksdC5jb250aW51ZSgpKX19ZnVuY3Rpb24gTXIoZCxjKXt9ZnVuY3Rpb24gVHIoZCxjKXtsZXQgcj1jLm9iamVjdFN0b3JlKFNlKS5vcGVuQ3Vyc29yKCk7ci5vbnN1Y2Nlc3M9ZT0+e2xldCB0PWUudGFyZ2V0LnJlc3VsdDt0JiYodC52YWx1ZS5pZHx8KHQudmFsdWUuaWQ9eHIoMTYsXCJjclwiKSx0LnVwZGF0ZSh0LnZhbHVlKSksdC5jb250aW51ZSgpKX19ZnVuY3Rpb24ganIoZCxjKXtjLm9iamVjdFN0b3JlKFNlKS5jcmVhdGVJbmRleChfdCxcImlkXCIse3VuaXF1ZTohMH0pfWZ1bmN0aW9uIEJyKGQpe2xldCBjPW5ldyBVaW50OEFycmF5KGQpO3JldHVybiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhjKSxjfWZ1bmN0aW9uIHhyKGQsYyl7cmV0dXJuKGM/P1wiXCIpK1suLi5CcihkLzIpXS5tYXAobD0+bC50b1N0cmluZygxNikucGFkU3RhcnQoMixcIjBcIikpLmpvaW4oXCJcIil9ZnVuY3Rpb24gYWkoZCxjKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMobCxyKT0+e3RyeXtsZXQgZT1EZShkLEhlLGdlLnJlYWRvbmx5KTtZZShlLEhlLGMpO2xldCB0PWF3YWl0IFBlKGUpO2wobmV3IFVpbnQ4QXJyYXkodCkpfWNhdGNoKGUpe3IoZSl9fSl9ZnVuY3Rpb24gdWkoZCxjLGwpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLGUpPT57dHJ5e2xldCB0PURlKGQsSGUsZ2UucmVhZHdyaXRlKTtCZSh0LEhlLGwsYyksYXdhaXQgUGUodCkscigpfWNhdGNoKHQpe2UodCl9fSl9ZnVuY3Rpb24gZmkoZCxjKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMobCxyKT0+e3RyeXtsZXQgZT1EZShkLEhlLGdlLnJlYWR3cml0ZSk7WGUoZSxIZSxjKSxhd2FpdCBQZShlKSxsKCl9Y2F0Y2goZSl7cihlKX19KX1mdW5jdGlvbiBlbihkLGMsbCl7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHIsZSk9Pnt0cnl7bGV0IHQ9RGUoZCxXZSxnZS5yZWFkd3JpdGUpO0JlKHQsV2UsbCxjKSxhd2FpdCBQZSh0KSxyKCl9Y2F0Y2godCl7ZSh0KX19KX1mdW5jdGlvbiBaZShkLGMpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhsLHIpPT57dHJ5e2xldCBlPURlKGQsV2UsZ2UucmVhZG9ubHkpO1llKGUsV2UsYyk7bGV0IHQ9YXdhaXQgUGUoZSk7dD9sKHQpOnIoZXQpfWNhdGNoKGUpe3IoZSl9fSl9ZnVuY3Rpb24geWkoZCxjKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMobCxyKT0+e3RyeXtsZXQgZT1EZShkLFdlLGdlLnJlYWR3cml0ZSk7WGUoZSxXZSxjKSxhd2FpdCBQZShlKSxsKCl9Y2F0Y2goZSl7cihlKX19KX1mdW5jdGlvbiB1dChkKXt3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhkKX1mdW5jdGlvbiBrdChkLGMpe3JldHVybiBuZXcgUHJvbWlzZSgobCxyKT0+e3dpbmRvdy5jcnlwdG8uc3VidGxlLmV4cG9ydEtleShjLGQpLnRoZW4oZT0+e2wobmV3IFVpbnQ4QXJyYXkoZSkpfSxlPT57cihlKX0pfSl9ZnVuY3Rpb24gdG4oZCl7cmV0dXJuIG5ldyBQcm9taXNlKChjLGwpPT57bGV0IHI9e25hbWU6XCJFQ0RTQVwiLG5hbWVkQ3VydmU6ZH07d2luZG93LmNyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkociwhMSxbXCJzaWduXCIsXCJ2ZXJpZnlcIl0pLnRoZW4oZT0+e2MoZSl9LGU9PntsKGUpfSl9KX1mdW5jdGlvbiBmdChkLGMsbCxyKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsdCk9PntsZXQgbj17bmFtZTpcIkVDRFNBXCIsbmFtZWRDdXJ2ZTpjfTt3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoZCxsLG4sITAsW3JdKS50aGVuKG89PntlKG8pfSxvPT57dChvKX0pfSl9ZnVuY3Rpb24gbm4oZCxjLGwpe3JldHVybiBuZXcgUHJvbWlzZSgocixlKT0+e2xldCB0PXtuYW1lOlwiRUNEU0FcIixoYXNoOmN9O3dpbmRvdy5jcnlwdG8uc3VidGxlLnNpZ24odCxkLGwpLnRoZW4obj0+e249bmV3IFVpbnQ4QXJyYXkobikscihuKX0sbj0+e2Uobil9KX0pfWZ1bmN0aW9uIHJuKGQsYyxsLHIpe3JldHVybiBuZXcgUHJvbWlzZSgoZSx0KT0+e2xldCBuPXtuYW1lOlwiRUNEU0FcIixoYXNoOmN9O3dpbmRvdy5jcnlwdG8uc3VidGxlLnZlcmlmeShuLGQsbCxyKS50aGVuKG89PntlKG8pfSxvPT57dChvKX0pfSl9ZnVuY3Rpb24gZ3QoKXtyZXR1cm4gbmV3IFByb21pc2UoKGQsYyk9PntsZXQgbD17bmFtZTpcIkFFUy1HQ01cIixsZW5ndGg6MjU2fTt3aW5kb3cuY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleShsLCExLFtcImVuY3J5cHRcIixcImRlY3J5cHRcIl0pLnRoZW4ocj0+e2Qocil9LHI9PntjKHIpfSl9KX1mdW5jdGlvbiBEdChkLGMsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChyLGUpPT57bGV0IHQ9e25hbWU6XCJBRVMtR0NNXCIsaXY6Y307d2luZG93LmNyeXB0by5zdWJ0bGUuZW5jcnlwdCh0LGQsbCkudGhlbihuPT57cihuZXcgVWludDhBcnJheShuKSl9LG49PntlKG4pfSl9KX1mdW5jdGlvbiBQdChkLGMsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChyLGUpPT57bGV0IHQ9e25hbWU6XCJBRVMtR0NNXCIsaXY6Y307d2luZG93LmNyeXB0by5zdWJ0bGUuZGVjcnlwdCh0LGQsbCkudGhlbihuPT57cihuZXcgVWludDhBcnJheShuKSl9LG49PntlKG4pfSl9KX12YXIgVHQ9U3Qob24oKSksbG49XCJzdWJ0bGVcIixjbj1cIndlYmF1dGhuXCI7ZnVuY3Rpb24gQWkoZCxjLGwpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLGUpPT57dHJ5e2xldCBuPWF3YWl0KGF3YWl0IGZuKGQpKS5nZW5lcmF0ZUtleShsKTthd2FpdCBlbihjLGwsbikscigpfWNhdGNoKHQpe2UodCl9fSl9ZnVuY3Rpb24gRWkoZCxjKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMobCxyKT0+e3RyeXtsZXQgZT1hd2FpdCBaZShkLGMpLHQ9bnQoZSk7bCh0PT09c3QpfWNhdGNoKGUpe3IoZSl9fSl9ZnVuY3Rpb24gX2koZCxjLGwpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLGUpPT57dHJ5e2xldCB0PWF3YWl0IFplKGQsYyksbz1hd2FpdCBudCh0KS5zaWduKHQsbCk7cihvKX1jYXRjaCh0KXtlKHQpfX0pfWZ1bmN0aW9uIE5yKGQpe2lmKGQuc3VidGxlIT09dm9pZCAwKXtpZihkPWQuc3VidGxlLnNpZ25hdHVyZSxkLmxlbmd0aD09NjQpcmV0dXJuIGQ7aWYoZC5sZW5ndGg8NjQpdGhyb3cgRmU7aWYoZFswXSE9NDgpdGhyb3cgRmU7bGV0IGM9bmV3IFVpbnQ4QXJyYXkoNjQpLGw9MjtpZihkW2wrK10hPTIpdGhyb3cgRmU7bGV0IHI9ZFtsKytdO2lmKHI9PTMzKWwrKztlbHNlIGlmKHIhPTMyKXRocm93IEZlO2lmKGMuc2V0KGQuc2xpY2UobCxsKzMyKSwwKSxsKz0zMixkW2wrK10hPTIpdGhyb3cgRmU7aWYocj1kW2wrK10scj09MzMpbCsrO2Vsc2UgaWYociE9MzIpdGhyb3cgRmU7cmV0dXJuIGMuc2V0KGQuc2xpY2UobCxsKzMyKSwzMiksY31lbHNlIHRocm93IGQud2ViYXV0aG4hPT12b2lkIDA/bmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpOkZlfWZ1bmN0aW9uIGtpKGQsYyxsLHIpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhlLHQpPT57dHJ5e2xldCBuPWF3YWl0IFJyKGQsYyksbz1hd2FpdCBmdChcInJhd1wiLFwiUC0yNTZcIixuLFwidmVyaWZ5XCIpO2w9TnIobCk7bGV0IGY9YXdhaXQgcm4obyxcIlNIQS0yNTZcIixsLHIpO2UoZil9Y2F0Y2gobil7dChuKX19KX1mdW5jdGlvbiBScihkLGMpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhsLHIpPT57dHJ5e2xldCBlPWF3YWl0IFplKGQsYyksbj1hd2FpdCBudChlKS5wdWJsaWNLZXkoZSk7bChuZXcgVWludDhBcnJheShuKSl9Y2F0Y2goZSl7cihlKX19KX1mdW5jdGlvbiBnaShkLGMsbCl7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHIsZSk9Pnt0cnl7bGV0IHQ9YXdhaXQgWmUoZCxjKSxvPWF3YWl0IG50KHQpLmVuY3J5cHQodCxsKTtyKG8pfWNhdGNoKHQpe2UodCl9fSl9ZnVuY3Rpb24gRGkoZCxjLGwpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLGUpPT57dHJ5e2xldCB0PWF3YWl0IFplKGQsYyksbz1hd2FpdCBudCh0KS5kZWNyeXB0KHQsZGF0YSk7cihvKX1jYXRjaCh0KXtlKHQpfX0pfWFzeW5jIGZ1bmN0aW9uIGFuKCl7bGV0IGQ9L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxjPXdpbmRvdy5sb2NhbFN0b3JhZ2U/LmdldEl0ZW0oXCJFbmFibGVXZWJBdXRoblwiKT09PVwidHJ1ZVwiO3JldHVybiEhKCFkJiZ3aW5kb3cuUHVibGljS2V5Q3JlZGVudGlhbCYmYXdhaXQgd2luZG93LlB1YmxpY0tleUNyZWRlbnRpYWwuaXNVc2VyVmVyaWZ5aW5nUGxhdGZvcm1BdXRoZW50aWNhdG9yQXZhaWxhYmxlKCkmJmMpfWZ1bmN0aW9uIHVuKCl7cmV0dXJuISF3aW5kb3cuY3J5cHRvLnN1YnRsZX1hc3luYyBmdW5jdGlvbiBmbihkKXtzd2l0Y2goZCl7Y2FzZSB2b2lkIDA6e2lmKGF3YWl0IGFuKCkpcmV0dXJuIHN0O2lmKHVuKCkpcmV0dXJuIGp0O3Rocm93IHplfWNhc2UgbG46aWYodW4oKSlyZXR1cm4ganQ7dGhyb3cgemU7Y2FzZSBjbjppZihhd2FpdCBhbigpKXJldHVybiBzdDt0aHJvdyB6ZTtkZWZhdWx0OnRocm93IENlfX1mdW5jdGlvbiBzbihkLGMpe3JldHVybiBjIGluIGR9ZnVuY3Rpb24gbnQoZCl7aWYoXCJzdWJ0bGVcImluIGQpcmV0dXJuIGp0O2lmKFwid2ViYXV0aG5cImluIGQpcmV0dXJuIHN0O3Rocm93IENlfXZhciBqdD1uZXcgY2xhc3N7ZXh0cmFjdEtleXMoYyl7aWYoc24oYyxsbikpcmV0dXJuIGMuc3VidGxlO3Rocm93IGV0fWFzeW5jIGdlbmVyYXRlS2V5KGMpe2xldCBsPWF3YWl0IHRuKFwiUC0yNTZcIikscj1hd2FpdCBndCgpO3JldHVybntzdWJ0bGU6e3NpZ25pbmdLZXk6bCxlbmNyeXB0aW9uS2V5OnJ9fX1hc3luYyBwdWJsaWNLZXkoYyl7bGV0IGw9dGhpcy5leHRyYWN0S2V5cyhjKTtyZXR1cm4gYXdhaXQga3QobC5zaWduaW5nS2V5LnB1YmxpY0tleSxcInJhd1wiKX1hc3luYyBzaWduKGMsbCl7bGV0IHI9dGhpcy5leHRyYWN0S2V5cyhjKTtyZXR1cm57c3VidGxlOntzaWduYXR1cmU6YXdhaXQgbm4oci5zaWduaW5nS2V5LnByaXZhdGVLZXksXCJTSEEtMjU2XCIsbCl9fX1hc3luYyBlbmNyeXB0KGMsbCl7bGV0IHI9dGhpcy5leHRyYWN0S2V5cyhjKSxlPW5ldyBVaW50OEFycmF5KDEyKTt1dChlKTtsZXQgdD1hd2FpdCBEdChyLmVuY3J5cHRpb25LZXksZSxsKSxuPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoK3QubGVuZ3RoKTtyZXR1cm4gbi5zZXQoZSksbi5zZXQodCxlLmxlbmd0aCksbn1hc3luYyBkZWNyeXB0KGMsbCl7bGV0IHI9dGhpcy5leHRyYWN0S2V5cyhjKSxlPWwuc2xpY2UoMCwxMik7cmV0dXJuIGw9bC5zbGljZSgxMiksYXdhaXQgUHQoci5lbmNyeXB0aW9uS2V5LGUsbCl9fSxzdD1uZXcgY2xhc3N7ZXh0cmFjdEtleXMoYyl7aWYoc24oYyxjbikpcmV0dXJuIGMud2ViYXV0aG47dGhyb3cgZXR9YXN5bmMgZ2VuZXJhdGVLZXkoYyl7YXdhaXQgZm4oXCJzdWJ0bGVcIik7bGV0IGw9bmV3IFVpbnQ4QXJyYXkoMTYpO3V0KGwpO2xldCByPXtycDp7bmFtZTpcIkJleW9uZCBJZGVudGl0eSwgSW5jLlwiLGlkOmxvY2F0aW9uLmhvc3RuYW1lfSxjaGFsbGVuZ2U6bmV3IFVpbnQ4QXJyYXkoMCksdXNlcjp7aWQ6bCxuYW1lOmMsZGlzcGxheU5hbWU6Y30scHViS2V5Q3JlZFBhcmFtczpbe3R5cGU6XCJwdWJsaWMta2V5XCIsYWxnOi03fV0sYXR0ZXN0YXRpb246XCJub25lXCIsYXV0aGVudGljYXRvclNlbGVjdGlvbjp7YXV0aGVudGljYXRvckF0dGFjaG1lbnQ6XCJwbGF0Zm9ybVwiLHVzZXJWZXJpZmljYXRpb246XCJyZXF1aXJlZFwifX0sZTt0cnl7ZT1hd2FpdCBuYXZpZ2F0b3IuY3JlZGVudGlhbHMuY3JlYXRlKHtwdWJsaWNLZXk6cn0pfWNhdGNoKGIpe2xldCB1PW5ldyBFcnJvcihiLm1lc3NhZ2UpO3Rocm93IHUubmFtZT1cIldlYkF1dGhuRXJyb3JcIix1fWlmKCFlKXJldHVybiBQcm9taXNlLnJlamVjdChDZSk7bGV0IHQ9ZS5yZXNwb25zZSxvPShhd2FpdCgwLFR0LmRlY29kZUZpcnN0KSh0LmF0dGVzdGF0aW9uT2JqZWN0KSkuYXV0aERhdGE7aWYodHlwZW9mIHQuZ2V0UHVibGljS2V5PT1cImZ1bmN0aW9uXCIpe2xldCBiPXQuZ2V0UHVibGljS2V5KCk7dmFyIGY9YXdhaXQgZnQoXCJzcGtpXCIsXCJQLTI1NlwiLGIsXCJ2ZXJpZnlcIil9ZWxzZXtsZXQgdT1uZXcgRGF0YVZpZXcoby5idWZmZXIuc2xpY2Uoby5ieXRlT2Zmc2V0KzUzLG8uYnl0ZU9mZnNldCs1NSkpLmdldFVpbnQxNigpLHA9by5zbGljZSg1NSt1KSxJPWF3YWl0KDAsVHQuZGVjb2RlRmlyc3QpKHApLFA9bmV3IFVpbnQ4QXJyYXkoNjUpO1BbMF09NCxQLnNldChJLmdldCgtMiksMSksUC5zZXQoSS5nZXQoLTMpLDMzKTt2YXIgZj1hd2FpdCBmdChcInJhd1wiLFwiUC0yNTZcIixQLFwidmVyaWZ5XCIpfWxldCB5PVtdO3R5cGVvZiB0LmdldFRyYW5zcG9ydHM9PVwiZnVuY3Rpb25cIiYmKHk9dC5nZXRUcmFuc3BvcnRzKCkpO2xldCBPPWF3YWl0IGd0KCk7cmV0dXJue3dlYmF1dGhuOntzaWduaW5nS2V5OntyYXdJZDplLnJhd0lkLHRyYW5zcG9ydHM6eSxwdWJsaWNLZXk6ZixhdXRoZW50aWNhdG9yRGF0YTpvfSxlbmNyeXB0aW9uS2V5Ok99fX1hc3luYyBwdWJsaWNLZXkoYyl7bGV0IGw9dGhpcy5leHRyYWN0S2V5cyhjKTtyZXR1cm4gYXdhaXQga3QobC5zaWduaW5nS2V5LnB1YmxpY0tleSxcInJhd1wiKX1hc3luYyBzaWduKGMsbCl7bGV0IHI9dGhpcy5leHRyYWN0S2V5cyhjKSxlPXtjaGFsbGVuZ2U6bCxhbGxvd0NyZWRlbnRpYWxzOlt7aWQ6ci5zaWduaW5nS2V5LnJhd0lkLHR5cGU6XCJwdWJsaWMta2V5XCIsdHJhbnNwb3J0czpyLnNpZ25pbmdLZXkudHJhbnNwb3J0c31dLHVzZXJWZXJpZmljYXRpb246XCJyZXF1aXJlZFwiLHRpbWVvdXQ6NmU0fSx0PWF3YWl0IG5hdmlnYXRvci5jcmVkZW50aWFscy5nZXQoe3B1YmxpY0tleTplfSk7aWYoIXQpcmV0dXJuIFByb21pc2UucmVqZWN0KENlKTtsZXQgbj10LnJlc3BvbnNlO3JldHVybnt3ZWJhdXRobjp7YXV0aGVudGljYXRvckRhdGE6bi5hdXRoZW50aWNhdG9yRGF0YSxjbGllbnREYXRhSlNPTjpuLmNsaWVudERhdGFKU09OLHNpZ25hdHVyZTpuLnNpZ25hdHVyZX19fWFzeW5jIGVuY3J5cHQoYyxsKXtsZXQgcj10aGlzLmV4dHJhY3RLZXlzKGMpLGU9bmV3IFVpbnQ4QXJyYXkoMTIpO3V0KGUpO2xldCB0PWF3YWl0IER0KHIuZW5jcnlwdGlvbktleSxlLGwpLG49bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgrdC5sZW5ndGgpO3JldHVybiBuLnNldChlKSxuLnNldCh0LGUubGVuZ3RoKSxufWFzeW5jIGRlY3J5cHQoYyxsKXtsZXQgcj10aGlzLmV4dHJhY3RLZXlzKGMpLGU9bC5zbGljZSgwLDEyKTtyZXR1cm4gbD1sLnNsaWNlKDEyKSxhd2FpdCBQdChyLmVuY3J5cHRpb25LZXksZSxsKX19O3ZhciBkdCxVcj1uZXcgVWludDhBcnJheSgxNik7ZnVuY3Rpb24gQnQoKXtpZighZHQmJihkdD10eXBlb2YgY3J5cHRvIT1cInVuZGVmaW5lZFwiJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKXx8dHlwZW9mIG1zQ3J5cHRvIT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzPT1cImZ1bmN0aW9uXCImJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSwhZHQpKXRocm93IG5ldyBFcnJvcihcImNyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkXCIpO3JldHVybiBkdChVcil9dmFyIGRuPS9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtmdW5jdGlvbiBMcihkKXtyZXR1cm4gdHlwZW9mIGQ9PVwic3RyaW5nXCImJmRuLnRlc3QoZCl9dmFyIGhuPUxyO3ZhciBUZT1bXTtmb3IoaHQ9MDtodDwyNTY7KytodClUZS5wdXNoKChodCsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO3ZhciBodDtmdW5jdGlvbiBWcihkKXt2YXIgYz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06MCxsPShUZVtkW2MrMF1dK1RlW2RbYysxXV0rVGVbZFtjKzJdXStUZVtkW2MrM11dK1wiLVwiK1RlW2RbYys0XV0rVGVbZFtjKzVdXStcIi1cIitUZVtkW2MrNl1dK1RlW2RbYys3XV0rXCItXCIrVGVbZFtjKzhdXStUZVtkW2MrOV1dK1wiLVwiK1RlW2RbYysxMF1dK1RlW2RbYysxMV1dK1RlW2RbYysxMl1dK1RlW2RbYysxM11dK1RlW2RbYysxNF1dK1RlW2RbYysxNV1dKS50b0xvd2VyQ2FzZSgpO2lmKCFobihsKSl0aHJvdyBUeXBlRXJyb3IoXCJTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWRcIik7cmV0dXJuIGx9dmFyIHBuPVZyO2Z1bmN0aW9uIENyKGQsYyxsKXtkPWR8fHt9O3ZhciByPWQucmFuZG9tfHwoZC5ybmd8fEJ0KSgpO2lmKHJbNl09cls2XSYxNXw2NCxyWzhdPXJbOF0mNjN8MTI4LGMpe2w9bHx8MDtmb3IodmFyIGU9MDtlPDE2OysrZSljW2wrZV09cltlXTtyZXR1cm4gY31yZXR1cm4gcG4ocil9dmFyIHh0PUNyO2Z1bmN0aW9uIEppKGQsYyl7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKGwscik9Pnt0cnl7bGV0IGU9RGUoZCxTZSxnZS5yZWFkd3JpdGUpO0JlKGUsU2UsYyksYXdhaXQgUGUoZSksbCgpfWNhdGNoKGUpe3IoZSl9fSl9ZnVuY3Rpb24gcWkoZCxjKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMobCxyKT0+e3RyeXtsZXQgZT1EZShkLFNlLGdlLnJlYWR3cml0ZSksdD1lLm9iamVjdFN0b3JlKFNlKSxuPXQuaW5kZXgoX3QpLG89ITEsZj1uLm9wZW5DdXJzb3IoKS5vbl9zdWNjZXNzPXk9PntmJiYoIXVwZGF0ZSYmZi52YWx1ZS5pZD09Yy5pZCYmKGYudXBkYXRlKGMpLG89ITApLGYuY29udGludWUoKSl9O298fHQucHV0KGMpLGF3YWl0IFBlKGUpLGwoKX1jYXRjaChlKXtyKGUpfX0pfWZ1bmN0aW9uIEdpKGQsYyxsKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMocixlKT0+e3RyeXtsZXQgdD1EZShkLFNlLGdlLnJlYWR3cml0ZSksbj1hd2FpdCBhdCh0LFNlLGMpO24ubmFtZT1sLm5hbWUsbi5pbWFnZV91cmw9bC5pbWFnZV91cmwsbi5lbnJvbGxfdXJpPWwuZW5yb2xsX3VyaSxuLmxvZ2luX3VyaT1sLmxvZ2luX3VyaSxuLmRlc2t0b3BfbG9naW5fdXJsPWwuZGVza3RvcF9sb2dpbl91cmwsbi5kZXZpY2VfZ2F0ZXdheV91cmw9bC5kZXZpY2VfZ2F0ZXdheV91cmwsbi5taWdyYXRlX2FkZHI9bC5taWdyYXRlX2FkZHIsQmUodCxTZSxuKSxhd2FpdCBQZSh0KSxyKCl9Y2F0Y2godCl7ZSh0KX19KX1mdW5jdGlvbiB6aShkLGMpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhsLHIpPT57dHJ5e2woISFhd2FpdCBGcihkLGMpKX1jYXRjaChlKXtyKGUpfX0pfWZ1bmN0aW9uIEZyKGQsYyl7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKGwscik9Pnt0cnl7bGV0IGU9RGUoZCxTZSxnZS5yZWFkb25seSk7WWUoZSxTZSxjKTtsZXQgdD1hd2FpdCBQZShlKTtsKHQpfWNhdGNoKGUpe3IoZSl9fSl9ZnVuY3Rpb24gWWkoZCxjKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMobCxyKT0+e3RyeXtsZXQgdD0oYXdhaXQgSHIoZCkpLmZpbmQobj0+bi5pZD09PWMpO2wodCl9Y2F0Y2goZSl7cihlKX19KX1mdW5jdGlvbiBIcihkKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMoYyxsKT0+e3RyeXtsZXQgcj1EZShkLFNlLGdlLnJlYWRvbmx5KTtJdChyLFNlKTtsZXQgZT1hd2FpdCBQZShyKTtjKGUpfWNhdGNoKHIpe2wocil9fSl9ZnVuY3Rpb24gWGkoZCxjKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMobCxyKT0+e3RyeXtsZXQgZT1EZShkLFNlLGdlLnJlYWR3cml0ZSk7WGUoZSxTZSxjKSxhd2FpdCBQZShlKSxsKCl9Y2F0Y2goZSl7cihlKX19KX1mdW5jdGlvbiBaaShkLGMsbCl7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHIsZSk9Pnt0cnl7bGV0IHQ9RGUoZCxTZSxnZS5yZWFkd3JpdGUpLG49YXdhaXQgYXQodCxTZSxjKTtuLmF1dGhfY2xpZW50X2lkcy5wdXNoKGwpLEJlKHQsU2UsbiksYXdhaXQgUGUodCkscigpfWNhdGNoKHQpe2UodCl9fSl9ZnVuY3Rpb24gUWkoZCxjKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMobCxyKT0+e3RyeXtsZXQgZT1EZShkLFNlLGdlLnJlYWR3cml0ZSksdD1hd2FpdCBhdChlLFNlLGMpO3QuYXV0aF9jbGllbnRfaWRzPVtdLEJlKGUsU2UsdCksYXdhaXQgUGUoZSksbCgpfWNhdGNoKGUpe3IoZSl9fSl9YXN5bmMgZnVuY3Rpb24geW4oZCl7cmV0dXJuIGF3YWl0IHZuKGQsdm9pZCAwKX1hc3luYyBmdW5jdGlvbiBlbyhkLGMpe2F3YWl0IHZuKGQsYyl9YXN5bmMgZnVuY3Rpb24gdm4oZCxjKXtsZXQgbD1EZShkLFZlLGdlLnJlYWR3cml0ZSkscj0oKT0+KGM9PT12b2lkIDAmJihjPXtpbnN0YW5jZUlkOnh0KCl9KSxjKSxlPWF3YWl0IFp0KGwsVmUpO2lmKGUubGVuZ3RoPT09MD9CZShsLFZlLHIoKSk6ZS5sZW5ndGg+MT8oQXQobCxWZSksQmUobCxWZSxyKCkpKTpjIT09dm9pZCAwJiYoYy5pbnN0YW5jZUlkIT09ZVswXS5pbnN0YW5jZUlkJiZBdCgpLEJlKGwsVmUscigpKSksSXQobCxWZSksZT1hd2FpdCBQZShsKSxlLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gZmFpbHVyZVwiKTtyZXR1cm4gZVswXX12YXIgYWU9U3QoaHIoKSksVT1hZS5SZWFkZXIsd2U9YWUuV3JpdGVyLGtlPWFlLnV0aWwsaT1hZS5yb290cy5kZWZhdWx0fHwoYWUucm9vdHMuZGVmYXVsdD17fSkseWU9aS5kZXZpY2U9KCgpPT57bGV0IGQ9e307cmV0dXJuIGQuUGxhdGZvcm09ZnVuY3Rpb24oKXtsZXQgYz17fSxsPU9iamVjdC5jcmVhdGUoYyk7cmV0dXJuIGxbY1swXT1cIlVOU1BFQ0lGSUVEXCJdPTAsbFtjWzFdPVwiTUFDT1NcIl09MSxsW2NbMl09XCJJT1NcIl09MixsW2NbM109XCJBTkRST0lEXCJdPTMsbFtjWzRdPVwiV0lORE9XU1wiXT00LGxbY1s1XT1cIkxJTlVYXCJdPTUsbFtjWzZdPVwiV0VCXCJdPTYsbH0oKSxkLkNvcmU9ZnVuY3Rpb24oKXtsZXQgYz17fSxsPU9iamVjdC5jcmVhdGUoYyk7cmV0dXJuIGxbY1swXT1cIkdPXCJdPTAsbFtjWzFdPVwiUlVTVFwiXT0xLGx9KCksZC5BbnN3ZXJUeXBlPWZ1bmN0aW9uKCl7bGV0IGM9e30sbD1PYmplY3QuY3JlYXRlKGMpO3JldHVybiBsW2NbMF09XCJVTlNVUFBPUlRFRFwiXT0wLGxbY1sxXT1cIlVOS05PV05cIl09MSxsW2NbMl09XCJFUlJPUlwiXT0yLGxbY1szXT1cIlZBTFVFXCJdPTMsbH0oKSxkLkFuc3dlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMobCl7aWYobClmb3IobGV0IHI9T2JqZWN0LmtleXMobCksZT0wO2U8ci5sZW5ndGg7KytlKWxbcltlXV0hPW51bGwmJih0aGlzW3JbZV1dPWxbcltlXV0pfXJldHVybiBjLnByb3RvdHlwZS50eXBlPTAsYy5wcm90b3R5cGUuZXJyb3I9XCJcIixjLmNyZWF0ZT1mdW5jdGlvbihyKXtyZXR1cm4gbmV3IGMocil9LGMuZW5jb2RlPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIGV8fChlPXdlLmNyZWF0ZSgpKSxyLnR5cGUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJ0eXBlXCIpJiZlLnVpbnQzMig4KS5pbnQzMihyLnR5cGUpLHIuZXJyb3IhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJlcnJvclwiKSYmZS51aW50MzIoMTgpLnN0cmluZyhyLmVycm9yKSxlfSxjLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihyLGUpe3JldHVybiB0aGlzLmVuY29kZShyLGUpLmxkZWxpbSgpfSxjLmRlY29kZT1mdW5jdGlvbihyLGUpe3IgaW5zdGFuY2VvZiBVfHwocj1VLmNyZWF0ZShyKSk7bGV0IHQ9ZT09PXZvaWQgMD9yLmxlbjpyLnBvcytlLG49bmV3IGkuZGV2aWNlLkFuc3dlcjtmb3IoO3IucG9zPHQ7KXtsZXQgbz1yLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOm4udHlwZT1yLmludDMyKCk7YnJlYWs7Y2FzZSAyOm4uZXJyb3I9ci5zdHJpbmcoKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUobyY3KTticmVha319cmV0dXJuIG59LGMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKHIpe3JldHVybiByIGluc3RhbmNlb2YgVXx8KHI9bmV3IFUocikpLHRoaXMuZGVjb2RlKHIsci51aW50MzIoKSl9LGMudmVyaWZ5PWZ1bmN0aW9uKHIpe2lmKHR5cGVvZiByIT1cIm9iamVjdFwifHxyPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKHIudHlwZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpc3dpdGNoKHIudHlwZSl7ZGVmYXVsdDpyZXR1cm5cInR5cGU6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjpjYXNlIDM6YnJlYWt9cmV0dXJuIHIuZXJyb3IhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJlcnJvclwiKSYmIWtlLmlzU3RyaW5nKHIuZXJyb3IpP1wiZXJyb3I6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LGMuZnJvbU9iamVjdD1mdW5jdGlvbihyKXtpZihyIGluc3RhbmNlb2YgaS5kZXZpY2UuQW5zd2VyKXJldHVybiByO2xldCBlPW5ldyBpLmRldmljZS5BbnN3ZXI7c3dpdGNoKHIudHlwZSl7Y2FzZVwiVU5TVVBQT1JURURcIjpjYXNlIDA6ZS50eXBlPTA7YnJlYWs7Y2FzZVwiVU5LTk9XTlwiOmNhc2UgMTplLnR5cGU9MTticmVhaztjYXNlXCJFUlJPUlwiOmNhc2UgMjplLnR5cGU9MjticmVhaztjYXNlXCJWQUxVRVwiOmNhc2UgMzplLnR5cGU9MzticmVha31yZXR1cm4gci5lcnJvciE9bnVsbCYmKGUuZXJyb3I9U3RyaW5nKHIuZXJyb3IpKSxlfSxjLnRvT2JqZWN0PWZ1bmN0aW9uKHIsZSl7ZXx8KGU9e30pO2xldCB0PXt9O3JldHVybiBlLmRlZmF1bHRzJiYodC50eXBlPWUuZW51bXM9PT1TdHJpbmc/XCJVTlNVUFBPUlRFRFwiOjAsdC5lcnJvcj1cIlwiKSxyLnR5cGUhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpJiYodC50eXBlPWUuZW51bXM9PT1TdHJpbmc/aS5kZXZpY2UuQW5zd2VyVHlwZVtyLnR5cGVdOnIudHlwZSksci5lcnJvciE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImVycm9yXCIpJiYodC5lcnJvcj1yLmVycm9yKSx0fSxjLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGN9KCksZC5TdHJpbmdNYXliZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGMobCl7aWYobClmb3IobGV0IHI9T2JqZWN0LmtleXMobCksZT0wO2U8ci5sZW5ndGg7KytlKWxbcltlXV0hPW51bGwmJih0aGlzW3JbZV1dPWxbcltlXV0pfXJldHVybiBjLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxjLnByb3RvdHlwZS52YWx1ZT1cIlwiLGMuY3JlYXRlPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcgYyhyKX0sYy5lbmNvZGU9ZnVuY3Rpb24ocixlKXtyZXR1cm4gZXx8KGU9d2UuY3JlYXRlKCkpLHIuYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKHIuYW5zd2VyLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLHIudmFsdWUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJ2YWx1ZVwiKSYmZS51aW50MzIoMTgpLnN0cmluZyhyLnZhbHVlKSxlfSxjLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihyLGUpe3JldHVybiB0aGlzLmVuY29kZShyLGUpLmxkZWxpbSgpfSxjLmRlY29kZT1mdW5jdGlvbihyLGUpe3IgaW5zdGFuY2VvZiBVfHwocj1VLmNyZWF0ZShyKSk7bGV0IHQ9ZT09PXZvaWQgMD9yLmxlbjpyLnBvcytlLG49bmV3IGkuZGV2aWNlLlN0cmluZ01heWJlO2Zvcig7ci5wb3M8dDspe2xldCBvPXIudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6bi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpuLnZhbHVlPXIuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKG8mNyk7YnJlYWt9fXJldHVybiBufSxjLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihyKXtyZXR1cm4gciBpbnN0YW5jZW9mIFV8fChyPW5ldyBVKHIpKSx0aGlzLmRlY29kZShyLHIudWludDMyKCkpfSxjLnZlcmlmeT1mdW5jdGlvbihyKXtpZih0eXBlb2YgciE9XCJvYmplY3RcInx8cj09PW51bGwpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihyLmFuc3dlciE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSl7bGV0IGU9aS5kZXZpY2UuQW5zd2VyLnZlcmlmeShyLmFuc3dlcik7aWYoZSlyZXR1cm5cImFuc3dlci5cIitlfXJldHVybiByLnZhbHVlIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwidmFsdWVcIikmJiFrZS5pc1N0cmluZyhyLnZhbHVlKT9cInZhbHVlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxjLmZyb21PYmplY3Q9ZnVuY3Rpb24ocil7aWYociBpbnN0YW5jZW9mIGkuZGV2aWNlLlN0cmluZ01heWJlKXJldHVybiByO2xldCBlPW5ldyBpLmRldmljZS5TdHJpbmdNYXliZTtpZihyLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIHIuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuU3RyaW5nTWF5YmUuYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3Qoci5hbnN3ZXIpfXJldHVybiByLnZhbHVlIT1udWxsJiYoZS52YWx1ZT1TdHJpbmcoci52YWx1ZSkpLGV9LGMudG9PYmplY3Q9ZnVuY3Rpb24ocixlKXtlfHwoZT17fSk7bGV0IHQ9e307cmV0dXJuIGUuZGVmYXVsdHMmJih0LmFuc3dlcj1udWxsLHQudmFsdWU9XCJcIiksci5hbnN3ZXIhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikmJih0LmFuc3dlcj1pLmRldmljZS5BbnN3ZXIudG9PYmplY3Qoci5hbnN3ZXIsZSkpLHIudmFsdWUhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSYmKHQudmFsdWU9ci52YWx1ZSksdH0sYy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxjfSgpLGQuSW50MzJNYXliZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGMobCl7aWYobClmb3IobGV0IHI9T2JqZWN0LmtleXMobCksZT0wO2U8ci5sZW5ndGg7KytlKWxbcltlXV0hPW51bGwmJih0aGlzW3JbZV1dPWxbcltlXV0pfXJldHVybiBjLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxjLnByb3RvdHlwZS52YWx1ZT0wLGMuY3JlYXRlPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcgYyhyKX0sYy5lbmNvZGU9ZnVuY3Rpb24ocixlKXtyZXR1cm4gZXx8KGU9d2UuY3JlYXRlKCkpLHIuYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKHIuYW5zd2VyLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLHIudmFsdWUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJ2YWx1ZVwiKSYmZS51aW50MzIoMTYpLmludDMyKHIudmFsdWUpLGV9LGMuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHRoaXMuZW5jb2RlKHIsZSkubGRlbGltKCl9LGMuZGVjb2RlPWZ1bmN0aW9uKHIsZSl7ciBpbnN0YW5jZW9mIFV8fChyPVUuY3JlYXRlKHIpKTtsZXQgdD1lPT09dm9pZCAwP3IubGVuOnIucG9zK2Usbj1uZXcgaS5kZXZpY2UuSW50MzJNYXliZTtmb3IoO3IucG9zPHQ7KXtsZXQgbz1yLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOm4uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDI6bi52YWx1ZT1yLmludDMyKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKG8mNyk7YnJlYWt9fXJldHVybiBufSxjLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihyKXtyZXR1cm4gciBpbnN0YW5jZW9mIFV8fChyPW5ldyBVKHIpKSx0aGlzLmRlY29kZShyLHIudWludDMyKCkpfSxjLnZlcmlmeT1mdW5jdGlvbihyKXtpZih0eXBlb2YgciE9XCJvYmplY3RcInx8cj09PW51bGwpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihyLmFuc3dlciE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSl7bGV0IGU9aS5kZXZpY2UuQW5zd2VyLnZlcmlmeShyLmFuc3dlcik7aWYoZSlyZXR1cm5cImFuc3dlci5cIitlfXJldHVybiByLnZhbHVlIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwidmFsdWVcIikmJiFrZS5pc0ludGVnZXIoci52YWx1ZSk/XCJ2YWx1ZTogaW50ZWdlciBleHBlY3RlZFwiOm51bGx9LGMuZnJvbU9iamVjdD1mdW5jdGlvbihyKXtpZihyIGluc3RhbmNlb2YgaS5kZXZpY2UuSW50MzJNYXliZSlyZXR1cm4gcjtsZXQgZT1uZXcgaS5kZXZpY2UuSW50MzJNYXliZTtpZihyLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIHIuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuSW50MzJNYXliZS5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTtlLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdChyLmFuc3dlcil9cmV0dXJuIHIudmFsdWUhPW51bGwmJihlLnZhbHVlPXIudmFsdWV8MCksZX0sYy50b09iamVjdD1mdW5jdGlvbihyLGUpe2V8fChlPXt9KTtsZXQgdD17fTtyZXR1cm4gZS5kZWZhdWx0cyYmKHQuYW5zd2VyPW51bGwsdC52YWx1ZT0wKSxyLmFuc3dlciE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKHQuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdChyLmFuc3dlcixlKSksci52YWx1ZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpJiYodC52YWx1ZT1yLnZhbHVlKSx0fSxjLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGN9KCksZC5JbnQ2NE1heWJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhsKXtpZihsKWZvcihsZXQgcj1PYmplY3Qua2V5cyhsKSxlPTA7ZTxyLmxlbmd0aDsrK2UpbFtyW2VdXSE9bnVsbCYmKHRoaXNbcltlXV09bFtyW2VdXSl9cmV0dXJuIGMucHJvdG90eXBlLmFuc3dlcj1udWxsLGMucHJvdG90eXBlLnZhbHVlPWtlLkxvbmc/a2UuTG9uZy5mcm9tQml0cygwLDAsITEpOjAsYy5jcmVhdGU9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyBjKHIpfSxjLmVuY29kZT1mdW5jdGlvbihyLGUpe3JldHVybiBlfHwoZT13ZS5jcmVhdGUoKSksci5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUoci5hbnN3ZXIsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksci52YWx1ZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcInZhbHVlXCIpJiZlLnVpbnQzMigxNikuaW50NjQoci52YWx1ZSksZX0sYy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24ocixlKXtyZXR1cm4gdGhpcy5lbmNvZGUocixlKS5sZGVsaW0oKX0sYy5kZWNvZGU9ZnVuY3Rpb24ocixlKXtyIGluc3RhbmNlb2YgVXx8KHI9VS5jcmVhdGUocikpO2xldCB0PWU9PT12b2lkIDA/ci5sZW46ci5wb3MrZSxuPW5ldyBpLmRldmljZS5JbnQ2NE1heWJlO2Zvcig7ci5wb3M8dDspe2xldCBvPXIudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6bi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpuLnZhbHVlPXIuaW50NjQoKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUobyY3KTticmVha319cmV0dXJuIG59LGMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKHIpe3JldHVybiByIGluc3RhbmNlb2YgVXx8KHI9bmV3IFUocikpLHRoaXMuZGVjb2RlKHIsci51aW50MzIoKSl9LGMudmVyaWZ5PWZ1bmN0aW9uKHIpe2lmKHR5cGVvZiByIT1cIm9iamVjdFwifHxyPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKHIuYW5zd2VyIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpKXtsZXQgZT1pLmRldmljZS5BbnN3ZXIudmVyaWZ5KHIuYW5zd2VyKTtpZihlKXJldHVyblwiYW5zd2VyLlwiK2V9cmV0dXJuIHIudmFsdWUhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSYmIWtlLmlzSW50ZWdlcihyLnZhbHVlKSYmIShyLnZhbHVlJiZrZS5pc0ludGVnZXIoci52YWx1ZS5sb3cpJiZrZS5pc0ludGVnZXIoci52YWx1ZS5oaWdoKSk/XCJ2YWx1ZTogaW50ZWdlcnxMb25nIGV4cGVjdGVkXCI6bnVsbH0sYy5mcm9tT2JqZWN0PWZ1bmN0aW9uKHIpe2lmKHIgaW5zdGFuY2VvZiBpLmRldmljZS5JbnQ2NE1heWJlKXJldHVybiByO2xldCBlPW5ldyBpLmRldmljZS5JbnQ2NE1heWJlO2lmKHIuYW5zd2VyIT1udWxsKXtpZih0eXBlb2Ygci5hbnN3ZXIhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5JbnQ2NE1heWJlLmFuc3dlcjogb2JqZWN0IGV4cGVjdGVkXCIpO2UuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5mcm9tT2JqZWN0KHIuYW5zd2VyKX1yZXR1cm4gci52YWx1ZSE9bnVsbCYmKGtlLkxvbmc/KGUudmFsdWU9a2UuTG9uZy5mcm9tVmFsdWUoci52YWx1ZSkpLnVuc2lnbmVkPSExOnR5cGVvZiByLnZhbHVlPT1cInN0cmluZ1wiP2UudmFsdWU9cGFyc2VJbnQoci52YWx1ZSwxMCk6dHlwZW9mIHIudmFsdWU9PVwibnVtYmVyXCI/ZS52YWx1ZT1yLnZhbHVlOnR5cGVvZiByLnZhbHVlPT1cIm9iamVjdFwiJiYoZS52YWx1ZT1uZXcga2UuTG9uZ0JpdHMoci52YWx1ZS5sb3c+Pj4wLHIudmFsdWUuaGlnaD4+PjApLnRvTnVtYmVyKCkpKSxlfSxjLnRvT2JqZWN0PWZ1bmN0aW9uKHIsZSl7ZXx8KGU9e30pO2xldCB0PXt9O2lmKGUuZGVmYXVsdHMpaWYodC5hbnN3ZXI9bnVsbCxrZS5Mb25nKXtsZXQgbj1uZXcga2UuTG9uZygwLDAsITEpO3QudmFsdWU9ZS5sb25ncz09PVN0cmluZz9uLnRvU3RyaW5nKCk6ZS5sb25ncz09PU51bWJlcj9uLnRvTnVtYmVyKCk6bn1lbHNlIHQudmFsdWU9ZS5sb25ncz09PVN0cmluZz9cIjBcIjowO3JldHVybiByLmFuc3dlciE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKHQuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdChyLmFuc3dlcixlKSksci52YWx1ZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpJiYodHlwZW9mIHIudmFsdWU9PVwibnVtYmVyXCI/dC52YWx1ZT1lLmxvbmdzPT09U3RyaW5nP1N0cmluZyhyLnZhbHVlKTpyLnZhbHVlOnQudmFsdWU9ZS5sb25ncz09PVN0cmluZz9rZS5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIudmFsdWUpOmUubG9uZ3M9PT1OdW1iZXI/bmV3IGtlLkxvbmdCaXRzKHIudmFsdWUubG93Pj4+MCxyLnZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcigpOnIudmFsdWUpLHR9LGMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYWUudXRpbC50b0pTT05PcHRpb25zKX0sY30oKSxkLkJvb2xNYXliZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGMobCl7aWYobClmb3IobGV0IHI9T2JqZWN0LmtleXMobCksZT0wO2U8ci5sZW5ndGg7KytlKWxbcltlXV0hPW51bGwmJih0aGlzW3JbZV1dPWxbcltlXV0pfXJldHVybiBjLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxjLnByb3RvdHlwZS52YWx1ZT0hMSxjLmNyZWF0ZT1mdW5jdGlvbihyKXtyZXR1cm4gbmV3IGMocil9LGMuZW5jb2RlPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIGV8fChlPXdlLmNyZWF0ZSgpKSxyLmFuc3dlciE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcImFuc3dlclwiKSYmaS5kZXZpY2UuQW5zd2VyLmVuY29kZShyLmFuc3dlcixlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxyLnZhbHVlIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwidmFsdWVcIikmJmUudWludDMyKDE2KS5ib29sKHIudmFsdWUpLGV9LGMuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHRoaXMuZW5jb2RlKHIsZSkubGRlbGltKCl9LGMuZGVjb2RlPWZ1bmN0aW9uKHIsZSl7ciBpbnN0YW5jZW9mIFV8fChyPVUuY3JlYXRlKHIpKTtsZXQgdD1lPT09dm9pZCAwP3IubGVuOnIucG9zK2Usbj1uZXcgaS5kZXZpY2UuQm9vbE1heWJlO2Zvcig7ci5wb3M8dDspe2xldCBvPXIudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6bi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpuLnZhbHVlPXIuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZShvJjcpO2JyZWFrfX1yZXR1cm4gbn0sYy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24ocil7cmV0dXJuIHIgaW5zdGFuY2VvZiBVfHwocj1uZXcgVShyKSksdGhpcy5kZWNvZGUocixyLnVpbnQzMigpKX0sYy52ZXJpZnk9ZnVuY3Rpb24ocil7aWYodHlwZW9mIHIhPVwib2JqZWN0XCJ8fHI9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYoci5hbnN3ZXIhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCBlPWkuZGV2aWNlLkFuc3dlci52ZXJpZnkoci5hbnN3ZXIpO2lmKGUpcmV0dXJuXCJhbnN3ZXIuXCIrZX1yZXR1cm4gci52YWx1ZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpJiZ0eXBlb2Ygci52YWx1ZSE9XCJib29sZWFuXCI/XCJ2YWx1ZTogYm9vbGVhbiBleHBlY3RlZFwiOm51bGx9LGMuZnJvbU9iamVjdD1mdW5jdGlvbihyKXtpZihyIGluc3RhbmNlb2YgaS5kZXZpY2UuQm9vbE1heWJlKXJldHVybiByO2xldCBlPW5ldyBpLmRldmljZS5Cb29sTWF5YmU7aWYoci5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiByLmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkJvb2xNYXliZS5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTtlLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdChyLmFuc3dlcil9cmV0dXJuIHIudmFsdWUhPW51bGwmJihlLnZhbHVlPUJvb2xlYW4oci52YWx1ZSkpLGV9LGMudG9PYmplY3Q9ZnVuY3Rpb24ocixlKXtlfHwoZT17fSk7bGV0IHQ9e307cmV0dXJuIGUuZGVmYXVsdHMmJih0LmFuc3dlcj1udWxsLHQudmFsdWU9ITEpLHIuYW5zd2VyIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpJiYodC5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLnRvT2JqZWN0KHIuYW5zd2VyLGUpKSxyLnZhbHVlIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwidmFsdWVcIikmJih0LnZhbHVlPXIudmFsdWUpLHR9LGMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYWUudXRpbC50b0pTT05PcHRpb25zKX0sY30oKSxkLkRldmljZUluZm89ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGwpe2lmKGwpZm9yKGxldCByPU9iamVjdC5rZXlzKGwpLGU9MDtlPHIubGVuZ3RoOysrZSlsW3JbZV1dIT1udWxsJiYodGhpc1tyW2VdXT1sW3JbZV1dKX1yZXR1cm4gYy5wcm90b3R5cGUuYW5zd2VyPW51bGwsYy5wcm90b3R5cGUucGxhdGZvcm09MCxjLnByb3RvdHlwZS5hcHBWZXJzaW9uPW51bGwsYy5wcm90b3R5cGUuY29yZT0wLGMucHJvdG90eXBlLm9zVmVyc2lvbj1udWxsLGMucHJvdG90eXBlLmRldmljZVR5cGU9bnVsbCxjLnByb3RvdHlwZS5hdXRoZW50aWNhdGlvbj1udWxsLGMucHJvdG90eXBlLnZvbHVtZXM9bnVsbCxjLnByb3RvdHlwZS5zZWN1cml0eVNvZnR3YXJlPW51bGwsYy5wcm90b3R5cGUuYXV0aG9yaXphdGlvblNldHRpbmdzPW51bGwsYy5wcm90b3R5cGUuYXBwbGljYXRpb25zPW51bGwsYy5wcm90b3R5cGUuYXBwSW5zdGFuY2VJZD1udWxsLGMucHJvdG90eXBlLmhhcmR3YXJlVXVpZD1udWxsLGMucHJvdG90eXBlLmludHVuZU1hbmFnZWREZXZpY2VJZD1udWxsLGMucHJvdG90eXBlLm9zRG9tYWluTmFtZT1udWxsLGMucHJvdG90eXBlLmhvc3RuYW1lPW51bGwsYy5wcm90b3R5cGUuaGFyZHdhcmVTZXJpYWxOdW09bnVsbCxjLnByb3RvdHlwZS50cG1JbmZvPW51bGwsYy5wcm90b3R5cGUuY3Jvd2RzdHJpa2VBZ2VudElkPW51bGwsYy5wcm90b3R5cGUuYmlTZGtJbmZvPW51bGwsYy5wcm90b3R5cGUua2V5UHJvdmVuYW5jZXM9bnVsbCxjLnByb3RvdHlwZS5pc0hhbEVuYWJsZWQ9bnVsbCxjLnByb3RvdHlwZS5sb2NhbGU9bnVsbCxjLmNyZWF0ZT1mdW5jdGlvbihyKXtyZXR1cm4gbmV3IGMocil9LGMuZW5jb2RlPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIGV8fChlPXdlLmNyZWF0ZSgpKSxyLmFuc3dlciE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcImFuc3dlclwiKSYmaS5kZXZpY2UuQW5zd2VyLmVuY29kZShyLmFuc3dlcixlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxyLnBsYXRmb3JtIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwicGxhdGZvcm1cIikmJmUudWludDMyKDE2KS5pbnQzMihyLnBsYXRmb3JtKSxyLmFwcFZlcnNpb24hPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJhcHBWZXJzaW9uXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoci5hcHBWZXJzaW9uLGUudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHIub3NWZXJzaW9uIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwib3NWZXJzaW9uXCIpJiZpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5lbmNvZGUoci5vc1ZlcnNpb24sZS51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksci5kZXZpY2VUeXBlIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiZGV2aWNlVHlwZVwiKSYmaS5kZXZpY2UuRGV2aWNlSW5mby5EZXZpY2VUeXBlLmVuY29kZShyLmRldmljZVR5cGUsZS51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksci5hdXRoZW50aWNhdGlvbiE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcImF1dGhlbnRpY2F0aW9uXCIpJiZpLmRldmljZS5EZXZpY2VJbmZvLkF1dGhlbnRpY2F0aW9uLmVuY29kZShyLmF1dGhlbnRpY2F0aW9uLGUudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpLHIudm9sdW1lcyE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcInZvbHVtZXNcIikmJmkuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5lbmNvZGUoci52b2x1bWVzLGUudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpLHIuc2VjdXJpdHlTb2Z0d2FyZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcInNlY3VyaXR5U29mdHdhcmVcIikmJmkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5lbmNvZGUoci5zZWN1cml0eVNvZnR3YXJlLGUudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpLHIuYXV0aG9yaXphdGlvblNldHRpbmdzIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiYXV0aG9yaXphdGlvblNldHRpbmdzXCIpJiZpLmRldmljZS5EZXZpY2VJbmZvLkF1dGhvcml6YXRpb25TZXR0aW5ncy5lbmNvZGUoci5hdXRob3JpemF0aW9uU2V0dGluZ3MsZS51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCksci5hcHBsaWNhdGlvbnMhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJhcHBsaWNhdGlvbnNcIikmJmkuZGV2aWNlLkRldmljZUluZm8uQXBwbGljYXRpb25zLmVuY29kZShyLmFwcGxpY2F0aW9ucyxlLnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKSxyLmFwcEluc3RhbmNlSWQhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJhcHBJbnN0YW5jZUlkXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoci5hcHBJbnN0YW5jZUlkLGUudWludDMyKDkwKS5mb3JrKCkpLmxkZWxpbSgpLHIuaGFyZHdhcmVVdWlkIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiaGFyZHdhcmVVdWlkXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoci5oYXJkd2FyZVV1aWQsZS51aW50MzIoOTgpLmZvcmsoKSkubGRlbGltKCksci5jb3JlIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiY29yZVwiKSYmZS51aW50MzIoMTA0KS5pbnQzMihyLmNvcmUpLHIuaW50dW5lTWFuYWdlZERldmljZUlkIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiaW50dW5lTWFuYWdlZERldmljZUlkXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoci5pbnR1bmVNYW5hZ2VkRGV2aWNlSWQsZS51aW50MzIoMTE0KS5mb3JrKCkpLmxkZWxpbSgpLHIub3NEb21haW5OYW1lIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwib3NEb21haW5OYW1lXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoci5vc0RvbWFpbk5hbWUsZS51aW50MzIoMTIyKS5mb3JrKCkpLmxkZWxpbSgpLHIuaG9zdG5hbWUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJob3N0bmFtZVwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKHIuaG9zdG5hbWUsZS51aW50MzIoMTMwKS5mb3JrKCkpLmxkZWxpbSgpLHIuaGFyZHdhcmVTZXJpYWxOdW0hPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJoYXJkd2FyZVNlcmlhbE51bVwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKHIuaGFyZHdhcmVTZXJpYWxOdW0sZS51aW50MzIoMTM4KS5mb3JrKCkpLmxkZWxpbSgpLHIudHBtSW5mbyE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcInRwbUluZm9cIikmJmkuZGV2aWNlLkRldmljZUluZm8uVFBNSW5mby5lbmNvZGUoci50cG1JbmZvLGUudWludDMyKDE0NikuZm9yaygpKS5sZGVsaW0oKSxyLmNyb3dkc3RyaWtlQWdlbnRJZCE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcImNyb3dkc3RyaWtlQWdlbnRJZFwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKHIuY3Jvd2RzdHJpa2VBZ2VudElkLGUudWludDMyKDE1NCkuZm9yaygpKS5sZGVsaW0oKSxyLmJpU2RrSW5mbyE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcImJpU2RrSW5mb1wiKSYmaS5kZXZpY2UuRGV2aWNlSW5mby5CaVNka0luZm8uZW5jb2RlKHIuYmlTZGtJbmZvLGUudWludDMyKDE2MikuZm9yaygpKS5sZGVsaW0oKSxyLmtleVByb3ZlbmFuY2VzIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwia2V5UHJvdmVuYW5jZXNcIikmJmkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuZW5jb2RlKHIua2V5UHJvdmVuYW5jZXMsZS51aW50MzIoMTcwKS5mb3JrKCkpLmxkZWxpbSgpLHIuaXNIYWxFbmFibGVkIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiaXNIYWxFbmFibGVkXCIpJiZpLmRldmljZS5Cb29sTWF5YmUuZW5jb2RlKHIuaXNIYWxFbmFibGVkLGUudWludDMyKDE3OCkuZm9yaygpKS5sZGVsaW0oKSxyLmxvY2FsZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcImxvY2FsZVwiKSYmaS5kZXZpY2UuRGV2aWNlSW5mby5Mb2NhbGUuZW5jb2RlKHIubG9jYWxlLGUudWludDMyKDE4NikuZm9yaygpKS5sZGVsaW0oKSxlfSxjLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihyLGUpe3JldHVybiB0aGlzLmVuY29kZShyLGUpLmxkZWxpbSgpfSxjLmRlY29kZT1mdW5jdGlvbihyLGUpe3IgaW5zdGFuY2VvZiBVfHwocj1VLmNyZWF0ZShyKSk7bGV0IHQ9ZT09PXZvaWQgMD9yLmxlbjpyLnBvcytlLG49bmV3IGkuZGV2aWNlLkRldmljZUluZm87Zm9yKDtyLnBvczx0Oyl7bGV0IG89ci51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOm4ucGxhdGZvcm09ci5pbnQzMigpO2JyZWFrO2Nhc2UgMzpuLmFwcFZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMzpuLmNvcmU9ci5pbnQzMigpO2JyZWFrO2Nhc2UgNDpuLm9zVmVyc2lvbj1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDU6bi5kZXZpY2VUeXBlPWkuZGV2aWNlLkRldmljZUluZm8uRGV2aWNlVHlwZS5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDY6bi5hdXRoZW50aWNhdGlvbj1pLmRldmljZS5EZXZpY2VJbmZvLkF1dGhlbnRpY2F0aW9uLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgNzpuLnZvbHVtZXM9aS5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgODpuLnNlY3VyaXR5U29mdHdhcmU9aS5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgOTpuLmF1dGhvcml6YXRpb25TZXR0aW5ncz1pLmRldmljZS5EZXZpY2VJbmZvLkF1dGhvcml6YXRpb25TZXR0aW5ncy5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDEwOm4uYXBwbGljYXRpb25zPWkuZGV2aWNlLkRldmljZUluZm8uQXBwbGljYXRpb25zLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgMTE6bi5hcHBJbnN0YW5jZUlkPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgMTI6bi5oYXJkd2FyZVV1aWQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSAxNDpuLmludHVuZU1hbmFnZWREZXZpY2VJZD1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDE1Om4ub3NEb21haW5OYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgMTY6bi5ob3N0bmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDE3Om4uaGFyZHdhcmVTZXJpYWxOdW09aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSAxODpuLnRwbUluZm89aS5kZXZpY2UuRGV2aWNlSW5mby5UUE1JbmZvLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgMTk6bi5jcm93ZHN0cmlrZUFnZW50SWQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7Y2FzZSAyMDpuLmJpU2RrSW5mbz1pLmRldmljZS5EZXZpY2VJbmZvLkJpU2RrSW5mby5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDIxOm4ua2V5UHJvdmVuYW5jZXM9aS5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDIyOm4uaXNIYWxFbmFibGVkPWkuZGV2aWNlLkJvb2xNYXliZS5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDIzOm4ubG9jYWxlPWkuZGV2aWNlLkRldmljZUluZm8uTG9jYWxlLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZShvJjcpO2JyZWFrfX1yZXR1cm4gbn0sYy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24ocil7cmV0dXJuIHIgaW5zdGFuY2VvZiBVfHwocj1uZXcgVShyKSksdGhpcy5kZWNvZGUocixyLnVpbnQzMigpKX0sYy52ZXJpZnk9ZnVuY3Rpb24ocil7aWYodHlwZW9mIHIhPVwib2JqZWN0XCJ8fHI9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYoci5hbnN3ZXIhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCBlPWkuZGV2aWNlLkFuc3dlci52ZXJpZnkoci5hbnN3ZXIpO2lmKGUpcmV0dXJuXCJhbnN3ZXIuXCIrZX1pZihyLnBsYXRmb3JtIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwicGxhdGZvcm1cIikpc3dpdGNoKHIucGxhdGZvcm0pe2RlZmF1bHQ6cmV0dXJuXCJwbGF0Zm9ybTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNjpicmVha31pZihyLmFwcFZlcnNpb24hPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJhcHBWZXJzaW9uXCIpKXtsZXQgZT1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoci5hcHBWZXJzaW9uKTtpZihlKXJldHVyblwiYXBwVmVyc2lvbi5cIitlfWlmKHIuY29yZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImNvcmVcIikpc3dpdGNoKHIuY29yZSl7ZGVmYXVsdDpyZXR1cm5cImNvcmU6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmJyZWFrfWlmKHIub3NWZXJzaW9uIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwib3NWZXJzaW9uXCIpKXtsZXQgZT1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi52ZXJpZnkoci5vc1ZlcnNpb24pO2lmKGUpcmV0dXJuXCJvc1ZlcnNpb24uXCIrZX1pZihyLmRldmljZVR5cGUhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJkZXZpY2VUeXBlXCIpKXtsZXQgZT1pLmRldmljZS5EZXZpY2VJbmZvLkRldmljZVR5cGUudmVyaWZ5KHIuZGV2aWNlVHlwZSk7aWYoZSlyZXR1cm5cImRldmljZVR5cGUuXCIrZX1pZihyLmF1dGhlbnRpY2F0aW9uIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiYXV0aGVudGljYXRpb25cIikpe2xldCBlPWkuZGV2aWNlLkRldmljZUluZm8uQXV0aGVudGljYXRpb24udmVyaWZ5KHIuYXV0aGVudGljYXRpb24pO2lmKGUpcmV0dXJuXCJhdXRoZW50aWNhdGlvbi5cIitlfWlmKHIudm9sdW1lcyE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcInZvbHVtZXNcIikpe2xldCBlPWkuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy52ZXJpZnkoci52b2x1bWVzKTtpZihlKXJldHVyblwidm9sdW1lcy5cIitlfWlmKHIuc2VjdXJpdHlTb2Z0d2FyZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcInNlY3VyaXR5U29mdHdhcmVcIikpe2xldCBlPWkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS52ZXJpZnkoci5zZWN1cml0eVNvZnR3YXJlKTtpZihlKXJldHVyblwic2VjdXJpdHlTb2Z0d2FyZS5cIitlfWlmKHIuYXV0aG9yaXphdGlvblNldHRpbmdzIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiYXV0aG9yaXphdGlvblNldHRpbmdzXCIpKXtsZXQgZT1pLmRldmljZS5EZXZpY2VJbmZvLkF1dGhvcml6YXRpb25TZXR0aW5ncy52ZXJpZnkoci5hdXRob3JpemF0aW9uU2V0dGluZ3MpO2lmKGUpcmV0dXJuXCJhdXRob3JpemF0aW9uU2V0dGluZ3MuXCIrZX1pZihyLmFwcGxpY2F0aW9ucyE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImFwcGxpY2F0aW9uc1wiKSl7bGV0IGU9aS5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMudmVyaWZ5KHIuYXBwbGljYXRpb25zKTtpZihlKXJldHVyblwiYXBwbGljYXRpb25zLlwiK2V9aWYoci5hcHBJbnN0YW5jZUlkIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiYXBwSW5zdGFuY2VJZFwiKSl7bGV0IGU9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KHIuYXBwSW5zdGFuY2VJZCk7aWYoZSlyZXR1cm5cImFwcEluc3RhbmNlSWQuXCIrZX1pZihyLmhhcmR3YXJlVXVpZCE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImhhcmR3YXJlVXVpZFwiKSl7bGV0IGU9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KHIuaGFyZHdhcmVVdWlkKTtpZihlKXJldHVyblwiaGFyZHdhcmVVdWlkLlwiK2V9aWYoci5pbnR1bmVNYW5hZ2VkRGV2aWNlSWQhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJpbnR1bmVNYW5hZ2VkRGV2aWNlSWRcIikpe2xldCBlPWkuZGV2aWNlLlN0cmluZ01heWJlLnZlcmlmeShyLmludHVuZU1hbmFnZWREZXZpY2VJZCk7aWYoZSlyZXR1cm5cImludHVuZU1hbmFnZWREZXZpY2VJZC5cIitlfWlmKHIub3NEb21haW5OYW1lIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwib3NEb21haW5OYW1lXCIpKXtsZXQgZT1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoci5vc0RvbWFpbk5hbWUpO2lmKGUpcmV0dXJuXCJvc0RvbWFpbk5hbWUuXCIrZX1pZihyLmhvc3RuYW1lIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiaG9zdG5hbWVcIikpe2xldCBlPWkuZGV2aWNlLlN0cmluZ01heWJlLnZlcmlmeShyLmhvc3RuYW1lKTtpZihlKXJldHVyblwiaG9zdG5hbWUuXCIrZX1pZihyLmhhcmR3YXJlU2VyaWFsTnVtIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiaGFyZHdhcmVTZXJpYWxOdW1cIikpe2xldCBlPWkuZGV2aWNlLlN0cmluZ01heWJlLnZlcmlmeShyLmhhcmR3YXJlU2VyaWFsTnVtKTtpZihlKXJldHVyblwiaGFyZHdhcmVTZXJpYWxOdW0uXCIrZX1pZihyLnRwbUluZm8hPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJ0cG1JbmZvXCIpKXtsZXQgZT1pLmRldmljZS5EZXZpY2VJbmZvLlRQTUluZm8udmVyaWZ5KHIudHBtSW5mbyk7aWYoZSlyZXR1cm5cInRwbUluZm8uXCIrZX1pZihyLmNyb3dkc3RyaWtlQWdlbnRJZCE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImNyb3dkc3RyaWtlQWdlbnRJZFwiKSl7bGV0IGU9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KHIuY3Jvd2RzdHJpa2VBZ2VudElkKTtpZihlKXJldHVyblwiY3Jvd2RzdHJpa2VBZ2VudElkLlwiK2V9aWYoci5iaVNka0luZm8hPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJiaVNka0luZm9cIikpe2xldCBlPWkuZGV2aWNlLkRldmljZUluZm8uQmlTZGtJbmZvLnZlcmlmeShyLmJpU2RrSW5mbyk7aWYoZSlyZXR1cm5cImJpU2RrSW5mby5cIitlfWlmKHIua2V5UHJvdmVuYW5jZXMhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJrZXlQcm92ZW5hbmNlc1wiKSl7bGV0IGU9aS5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy52ZXJpZnkoci5rZXlQcm92ZW5hbmNlcyk7aWYoZSlyZXR1cm5cImtleVByb3ZlbmFuY2VzLlwiK2V9aWYoci5pc0hhbEVuYWJsZWQhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJpc0hhbEVuYWJsZWRcIikpe2xldCBlPWkuZGV2aWNlLkJvb2xNYXliZS52ZXJpZnkoci5pc0hhbEVuYWJsZWQpO2lmKGUpcmV0dXJuXCJpc0hhbEVuYWJsZWQuXCIrZX1pZihyLmxvY2FsZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImxvY2FsZVwiKSl7bGV0IGU9aS5kZXZpY2UuRGV2aWNlSW5mby5Mb2NhbGUudmVyaWZ5KHIubG9jYWxlKTtpZihlKXJldHVyblwibG9jYWxlLlwiK2V9cmV0dXJuIG51bGx9LGMuZnJvbU9iamVjdD1mdW5jdGlvbihyKXtpZihyIGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mbylyZXR1cm4gcjtsZXQgZT1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mbztpZihyLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIHIuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTtlLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdChyLmFuc3dlcil9c3dpdGNoKHIucGxhdGZvcm0pe2Nhc2VcIlVOU1BFQ0lGSUVEXCI6Y2FzZSAwOmUucGxhdGZvcm09MDticmVhaztjYXNlXCJNQUNPU1wiOmNhc2UgMTplLnBsYXRmb3JtPTE7YnJlYWs7Y2FzZVwiSU9TXCI6Y2FzZSAyOmUucGxhdGZvcm09MjticmVhaztjYXNlXCJBTkRST0lEXCI6Y2FzZSAzOmUucGxhdGZvcm09MzticmVhaztjYXNlXCJXSU5ET1dTXCI6Y2FzZSA0OmUucGxhdGZvcm09NDticmVhaztjYXNlXCJMSU5VWFwiOmNhc2UgNTplLnBsYXRmb3JtPTU7YnJlYWs7Y2FzZVwiV0VCXCI6Y2FzZSA2OmUucGxhdGZvcm09NjticmVha31pZihyLmFwcFZlcnNpb24hPW51bGwpe2lmKHR5cGVvZiByLmFwcFZlcnNpb24hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLmFwcFZlcnNpb246IG9iamVjdCBleHBlY3RlZFwiKTtlLmFwcFZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChyLmFwcFZlcnNpb24pfXN3aXRjaChyLmNvcmUpe2Nhc2VcIkdPXCI6Y2FzZSAwOmUuY29yZT0wO2JyZWFrO2Nhc2VcIlJVU1RcIjpjYXNlIDE6ZS5jb3JlPTE7YnJlYWt9aWYoci5vc1ZlcnNpb24hPW51bGwpe2lmKHR5cGVvZiByLm9zVmVyc2lvbiE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8ub3NWZXJzaW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS5vc1ZlcnNpb249aS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uZnJvbU9iamVjdChyLm9zVmVyc2lvbil9aWYoci5kZXZpY2VUeXBlIT1udWxsKXtpZih0eXBlb2Ygci5kZXZpY2VUeXBlIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5kZXZpY2VUeXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS5kZXZpY2VUeXBlPWkuZGV2aWNlLkRldmljZUluZm8uRGV2aWNlVHlwZS5mcm9tT2JqZWN0KHIuZGV2aWNlVHlwZSl9aWYoci5hdXRoZW50aWNhdGlvbiE9bnVsbCl7aWYodHlwZW9mIHIuYXV0aGVudGljYXRpb24hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLmF1dGhlbnRpY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS5hdXRoZW50aWNhdGlvbj1pLmRldmljZS5EZXZpY2VJbmZvLkF1dGhlbnRpY2F0aW9uLmZyb21PYmplY3Qoci5hdXRoZW50aWNhdGlvbil9aWYoci52b2x1bWVzIT1udWxsKXtpZih0eXBlb2Ygci52b2x1bWVzIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby52b2x1bWVzOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS52b2x1bWVzPWkuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5mcm9tT2JqZWN0KHIudm9sdW1lcyl9aWYoci5zZWN1cml0eVNvZnR3YXJlIT1udWxsKXtpZih0eXBlb2Ygci5zZWN1cml0eVNvZnR3YXJlIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5zZWN1cml0eVNvZnR3YXJlOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS5zZWN1cml0eVNvZnR3YXJlPWkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5mcm9tT2JqZWN0KHIuc2VjdXJpdHlTb2Z0d2FyZSl9aWYoci5hdXRob3JpemF0aW9uU2V0dGluZ3MhPW51bGwpe2lmKHR5cGVvZiByLmF1dGhvcml6YXRpb25TZXR0aW5ncyE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uYXV0aG9yaXphdGlvblNldHRpbmdzOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS5hdXRob3JpemF0aW9uU2V0dGluZ3M9aS5kZXZpY2UuRGV2aWNlSW5mby5BdXRob3JpemF0aW9uU2V0dGluZ3MuZnJvbU9iamVjdChyLmF1dGhvcml6YXRpb25TZXR0aW5ncyl9aWYoci5hcHBsaWNhdGlvbnMhPW51bGwpe2lmKHR5cGVvZiByLmFwcGxpY2F0aW9ucyE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uYXBwbGljYXRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS5hcHBsaWNhdGlvbnM9aS5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuZnJvbU9iamVjdChyLmFwcGxpY2F0aW9ucyl9aWYoci5hcHBJbnN0YW5jZUlkIT1udWxsKXtpZih0eXBlb2Ygci5hcHBJbnN0YW5jZUlkIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5hcHBJbnN0YW5jZUlkOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS5hcHBJbnN0YW5jZUlkPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3Qoci5hcHBJbnN0YW5jZUlkKX1pZihyLmhhcmR3YXJlVXVpZCE9bnVsbCl7aWYodHlwZW9mIHIuaGFyZHdhcmVVdWlkIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5oYXJkd2FyZVV1aWQ6IG9iamVjdCBleHBlY3RlZFwiKTtlLmhhcmR3YXJlVXVpZD1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KHIuaGFyZHdhcmVVdWlkKX1pZihyLmludHVuZU1hbmFnZWREZXZpY2VJZCE9bnVsbCl7aWYodHlwZW9mIHIuaW50dW5lTWFuYWdlZERldmljZUlkIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5pbnR1bmVNYW5hZ2VkRGV2aWNlSWQ6IG9iamVjdCBleHBlY3RlZFwiKTtlLmludHVuZU1hbmFnZWREZXZpY2VJZD1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KHIuaW50dW5lTWFuYWdlZERldmljZUlkKX1pZihyLm9zRG9tYWluTmFtZSE9bnVsbCl7aWYodHlwZW9mIHIub3NEb21haW5OYW1lIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5vc0RvbWFpbk5hbWU6IG9iamVjdCBleHBlY3RlZFwiKTtlLm9zRG9tYWluTmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KHIub3NEb21haW5OYW1lKX1pZihyLmhvc3RuYW1lIT1udWxsKXtpZih0eXBlb2Ygci5ob3N0bmFtZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uaG9zdG5hbWU6IG9iamVjdCBleHBlY3RlZFwiKTtlLmhvc3RuYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3Qoci5ob3N0bmFtZSl9aWYoci5oYXJkd2FyZVNlcmlhbE51bSE9bnVsbCl7aWYodHlwZW9mIHIuaGFyZHdhcmVTZXJpYWxOdW0hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLmhhcmR3YXJlU2VyaWFsTnVtOiBvYmplY3QgZXhwZWN0ZWRcIik7ZS5oYXJkd2FyZVNlcmlhbE51bT1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KHIuaGFyZHdhcmVTZXJpYWxOdW0pfWlmKHIudHBtSW5mbyE9bnVsbCl7aWYodHlwZW9mIHIudHBtSW5mbyE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8udHBtSW5mbzogb2JqZWN0IGV4cGVjdGVkXCIpO2UudHBtSW5mbz1pLmRldmljZS5EZXZpY2VJbmZvLlRQTUluZm8uZnJvbU9iamVjdChyLnRwbUluZm8pfWlmKHIuY3Jvd2RzdHJpa2VBZ2VudElkIT1udWxsKXtpZih0eXBlb2Ygci5jcm93ZHN0cmlrZUFnZW50SWQhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLmNyb3dkc3RyaWtlQWdlbnRJZDogb2JqZWN0IGV4cGVjdGVkXCIpO2UuY3Jvd2RzdHJpa2VBZ2VudElkPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3Qoci5jcm93ZHN0cmlrZUFnZW50SWQpfWlmKHIuYmlTZGtJbmZvIT1udWxsKXtpZih0eXBlb2Ygci5iaVNka0luZm8hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLmJpU2RrSW5mbzogb2JqZWN0IGV4cGVjdGVkXCIpO2UuYmlTZGtJbmZvPWkuZGV2aWNlLkRldmljZUluZm8uQmlTZGtJbmZvLmZyb21PYmplY3Qoci5iaVNka0luZm8pfWlmKHIua2V5UHJvdmVuYW5jZXMhPW51bGwpe2lmKHR5cGVvZiByLmtleVByb3ZlbmFuY2VzIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5rZXlQcm92ZW5hbmNlczogb2JqZWN0IGV4cGVjdGVkXCIpO2Uua2V5UHJvdmVuYW5jZXM9aS5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy5mcm9tT2JqZWN0KHIua2V5UHJvdmVuYW5jZXMpfWlmKHIuaXNIYWxFbmFibGVkIT1udWxsKXtpZih0eXBlb2Ygci5pc0hhbEVuYWJsZWQhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLmlzSGFsRW5hYmxlZDogb2JqZWN0IGV4cGVjdGVkXCIpO2UuaXNIYWxFbmFibGVkPWkuZGV2aWNlLkJvb2xNYXliZS5mcm9tT2JqZWN0KHIuaXNIYWxFbmFibGVkKX1pZihyLmxvY2FsZSE9bnVsbCl7aWYodHlwZW9mIHIubG9jYWxlIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5sb2NhbGU6IG9iamVjdCBleHBlY3RlZFwiKTtlLmxvY2FsZT1pLmRldmljZS5EZXZpY2VJbmZvLkxvY2FsZS5mcm9tT2JqZWN0KHIubG9jYWxlKX1yZXR1cm4gZX0sYy50b09iamVjdD1mdW5jdGlvbihyLGUpe2V8fChlPXt9KTtsZXQgdD17fTtyZXR1cm4gZS5kZWZhdWx0cyYmKHQuYW5zd2VyPW51bGwsdC5wbGF0Zm9ybT1lLmVudW1zPT09U3RyaW5nP1wiVU5TUEVDSUZJRURcIjowLHQuYXBwVmVyc2lvbj1udWxsLHQub3NWZXJzaW9uPW51bGwsdC5kZXZpY2VUeXBlPW51bGwsdC5hdXRoZW50aWNhdGlvbj1udWxsLHQudm9sdW1lcz1udWxsLHQuc2VjdXJpdHlTb2Z0d2FyZT1udWxsLHQuYXV0aG9yaXphdGlvblNldHRpbmdzPW51bGwsdC5hcHBsaWNhdGlvbnM9bnVsbCx0LmFwcEluc3RhbmNlSWQ9bnVsbCx0LmhhcmR3YXJlVXVpZD1udWxsLHQuY29yZT1lLmVudW1zPT09U3RyaW5nP1wiR09cIjowLHQuaW50dW5lTWFuYWdlZERldmljZUlkPW51bGwsdC5vc0RvbWFpbk5hbWU9bnVsbCx0Lmhvc3RuYW1lPW51bGwsdC5oYXJkd2FyZVNlcmlhbE51bT1udWxsLHQudHBtSW5mbz1udWxsLHQuY3Jvd2RzdHJpa2VBZ2VudElkPW51bGwsdC5iaVNka0luZm89bnVsbCx0LmtleVByb3ZlbmFuY2VzPW51bGwsdC5pc0hhbEVuYWJsZWQ9bnVsbCx0LmxvY2FsZT1udWxsKSxyLmFuc3dlciE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKHQuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdChyLmFuc3dlcixlKSksci5wbGF0Zm9ybSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcInBsYXRmb3JtXCIpJiYodC5wbGF0Zm9ybT1lLmVudW1zPT09U3RyaW5nP2kuZGV2aWNlLlBsYXRmb3JtW3IucGxhdGZvcm1dOnIucGxhdGZvcm0pLHIuYXBwVmVyc2lvbiE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImFwcFZlcnNpb25cIikmJih0LmFwcFZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3Qoci5hcHBWZXJzaW9uLGUpKSxyLm9zVmVyc2lvbiE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcIm9zVmVyc2lvblwiKSYmKHQub3NWZXJzaW9uPWkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLnRvT2JqZWN0KHIub3NWZXJzaW9uLGUpKSxyLmRldmljZVR5cGUhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJkZXZpY2VUeXBlXCIpJiYodC5kZXZpY2VUeXBlPWkuZGV2aWNlLkRldmljZUluZm8uRGV2aWNlVHlwZS50b09iamVjdChyLmRldmljZVR5cGUsZSkpLHIuYXV0aGVudGljYXRpb24hPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJhdXRoZW50aWNhdGlvblwiKSYmKHQuYXV0aGVudGljYXRpb249aS5kZXZpY2UuRGV2aWNlSW5mby5BdXRoZW50aWNhdGlvbi50b09iamVjdChyLmF1dGhlbnRpY2F0aW9uLGUpKSxyLnZvbHVtZXMhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJ2b2x1bWVzXCIpJiYodC52b2x1bWVzPWkuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy50b09iamVjdChyLnZvbHVtZXMsZSkpLHIuc2VjdXJpdHlTb2Z0d2FyZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcInNlY3VyaXR5U29mdHdhcmVcIikmJih0LnNlY3VyaXR5U29mdHdhcmU9aS5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLnRvT2JqZWN0KHIuc2VjdXJpdHlTb2Z0d2FyZSxlKSksci5hdXRob3JpemF0aW9uU2V0dGluZ3MhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJhdXRob3JpemF0aW9uU2V0dGluZ3NcIikmJih0LmF1dGhvcml6YXRpb25TZXR0aW5ncz1pLmRldmljZS5EZXZpY2VJbmZvLkF1dGhvcml6YXRpb25TZXR0aW5ncy50b09iamVjdChyLmF1dGhvcml6YXRpb25TZXR0aW5ncyxlKSksci5hcHBsaWNhdGlvbnMhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJhcHBsaWNhdGlvbnNcIikmJih0LmFwcGxpY2F0aW9ucz1pLmRldmljZS5EZXZpY2VJbmZvLkFwcGxpY2F0aW9ucy50b09iamVjdChyLmFwcGxpY2F0aW9ucyxlKSksci5hcHBJbnN0YW5jZUlkIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiYXBwSW5zdGFuY2VJZFwiKSYmKHQuYXBwSW5zdGFuY2VJZD1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChyLmFwcEluc3RhbmNlSWQsZSkpLHIuaGFyZHdhcmVVdWlkIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiaGFyZHdhcmVVdWlkXCIpJiYodC5oYXJkd2FyZVV1aWQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3Qoci5oYXJkd2FyZVV1aWQsZSkpLHIuY29yZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImNvcmVcIikmJih0LmNvcmU9ZS5lbnVtcz09PVN0cmluZz9pLmRldmljZS5Db3JlW3IuY29yZV06ci5jb3JlKSxyLmludHVuZU1hbmFnZWREZXZpY2VJZCE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImludHVuZU1hbmFnZWREZXZpY2VJZFwiKSYmKHQuaW50dW5lTWFuYWdlZERldmljZUlkPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KHIuaW50dW5lTWFuYWdlZERldmljZUlkLGUpKSxyLm9zRG9tYWluTmFtZSE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcIm9zRG9tYWluTmFtZVwiKSYmKHQub3NEb21haW5OYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KHIub3NEb21haW5OYW1lLGUpKSxyLmhvc3RuYW1lIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwiaG9zdG5hbWVcIikmJih0Lmhvc3RuYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KHIuaG9zdG5hbWUsZSkpLHIuaGFyZHdhcmVTZXJpYWxOdW0hPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJoYXJkd2FyZVNlcmlhbE51bVwiKSYmKHQuaGFyZHdhcmVTZXJpYWxOdW09aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3Qoci5oYXJkd2FyZVNlcmlhbE51bSxlKSksci50cG1JbmZvIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwidHBtSW5mb1wiKSYmKHQudHBtSW5mbz1pLmRldmljZS5EZXZpY2VJbmZvLlRQTUluZm8udG9PYmplY3Qoci50cG1JbmZvLGUpKSxyLmNyb3dkc3RyaWtlQWdlbnRJZCE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImNyb3dkc3RyaWtlQWdlbnRJZFwiKSYmKHQuY3Jvd2RzdHJpa2VBZ2VudElkPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KHIuY3Jvd2RzdHJpa2VBZ2VudElkLGUpKSxyLmJpU2RrSW5mbyE9bnVsbCYmci5oYXNPd25Qcm9wZXJ0eShcImJpU2RrSW5mb1wiKSYmKHQuYmlTZGtJbmZvPWkuZGV2aWNlLkRldmljZUluZm8uQmlTZGtJbmZvLnRvT2JqZWN0KHIuYmlTZGtJbmZvLGUpKSxyLmtleVByb3ZlbmFuY2VzIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwia2V5UHJvdmVuYW5jZXNcIikmJih0LmtleVByb3ZlbmFuY2VzPWkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMudG9PYmplY3Qoci5rZXlQcm92ZW5hbmNlcyxlKSksci5pc0hhbEVuYWJsZWQhPW51bGwmJnIuaGFzT3duUHJvcGVydHkoXCJpc0hhbEVuYWJsZWRcIikmJih0LmlzSGFsRW5hYmxlZD1pLmRldmljZS5Cb29sTWF5YmUudG9PYmplY3Qoci5pc0hhbEVuYWJsZWQsZSkpLHIubG9jYWxlIT1udWxsJiZyLmhhc093blByb3BlcnR5KFwibG9jYWxlXCIpJiYodC5sb2NhbGU9aS5kZXZpY2UuRGV2aWNlSW5mby5Mb2NhbGUudG9PYmplY3Qoci5sb2NhbGUsZSkpLHR9LGMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYWUudXRpbC50b0pTT05PcHRpb25zKX0sYy5BcHBsaWNhdGlvbnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBsKHIpe2lmKHRoaXMuc29mdHdhcmU9W10scilmb3IobGV0IGU9T2JqZWN0LmtleXMociksdD0wO3Q8ZS5sZW5ndGg7Kyt0KXJbZVt0XV0hPW51bGwmJih0aGlzW2VbdF1dPXJbZVt0XV0pfXJldHVybiBsLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxsLnByb3RvdHlwZS5zb2Z0d2FyZT1rZS5lbXB0eUFycmF5LGwuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbChlKX0sbC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0fHwodD13ZS5jcmVhdGUoKSksZS5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUoZS5hbnN3ZXIsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksZS5zb2Z0d2FyZSE9bnVsbCYmZS5zb2Z0d2FyZS5sZW5ndGgpZm9yKGxldCBuPTA7bjxlLnNvZnR3YXJlLmxlbmd0aDsrK24paS5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuU29mdHdhcmUuZW5jb2RlKGUuc29mdHdhcmVbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGwuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGwuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIFV8fChlPVUuY3JlYXRlKGUpKTtsZXQgbj10PT09dm9pZCAwP2UubGVuOmUucG9zK3Qsbz1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnM7Zm9yKDtlLnBvczxuOyl7bGV0IGY9ZS51aW50MzIoKTtzd2l0Y2goZj4+PjMpe2Nhc2UgMTpvLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOm8uc29mdHdhcmUmJm8uc29mdHdhcmUubGVuZ3RofHwoby5zb2Z0d2FyZT1bXSksby5zb2Z0d2FyZS5wdXNoKGkuZGV2aWNlLkRldmljZUluZm8uQXBwbGljYXRpb25zLlNvZnR3YXJlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoZiY3KTticmVha319cmV0dXJuIG99LGwuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVXx8KGU9bmV3IFUoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGwudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT1cIm9iamVjdFwifHxlPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKGUuYW5zd2VyIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpKXtsZXQgdD1pLmRldmljZS5BbnN3ZXIudmVyaWZ5KGUuYW5zd2VyKTtpZih0KXJldHVyblwiYW5zd2VyLlwiK3R9aWYoZS5zb2Z0d2FyZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcInNvZnR3YXJlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnNvZnR3YXJlKSlyZXR1cm5cInNvZnR3YXJlOiBhcnJheSBleHBlY3RlZFwiO2ZvcihsZXQgdD0wO3Q8ZS5zb2Z0d2FyZS5sZW5ndGg7Kyt0KXtsZXQgbj1pLmRldmljZS5EZXZpY2VJbmZvLkFwcGxpY2F0aW9ucy5Tb2Z0d2FyZS52ZXJpZnkoZS5zb2Z0d2FyZVt0XSk7aWYobilyZXR1cm5cInNvZnR3YXJlLlwiK259fXJldHVybiBudWxsfSxsLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uQXBwbGljYXRpb25zKXJldHVybiBlO2xldCB0PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLkFwcGxpY2F0aW9ucztpZihlLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIGUuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3QoZS5hbnN3ZXIpfWlmKGUuc29mdHdhcmUpe2lmKCFBcnJheS5pc0FycmF5KGUuc29mdHdhcmUpKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuc29mdHdhcmU6IGFycmF5IGV4cGVjdGVkXCIpO3Quc29mdHdhcmU9W107Zm9yKGxldCBuPTA7bjxlLnNvZnR3YXJlLmxlbmd0aDsrK24pe2lmKHR5cGVvZiBlLnNvZnR3YXJlW25dIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuc29mdHdhcmU6IG9iamVjdCBleHBlY3RlZFwiKTt0LnNvZnR3YXJlW25dPWkuZGV2aWNlLkRldmljZUluZm8uQXBwbGljYXRpb25zLlNvZnR3YXJlLmZyb21PYmplY3QoZS5zb2Z0d2FyZVtuXSl9fXJldHVybiB0fSxsLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pO2xldCBuPXt9O2lmKCh0LmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnNvZnR3YXJlPVtdKSx0LmRlZmF1bHRzJiYobi5hbnN3ZXI9bnVsbCksZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikmJihuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIudG9PYmplY3QoZS5hbnN3ZXIsdCkpLGUuc29mdHdhcmUmJmUuc29mdHdhcmUubGVuZ3RoKXtuLnNvZnR3YXJlPVtdO2ZvcihsZXQgbz0wO288ZS5zb2Z0d2FyZS5sZW5ndGg7KytvKW4uc29mdHdhcmVbb109aS5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuU29mdHdhcmUudG9PYmplY3QoZS5zb2Z0d2FyZVtvXSx0KX1yZXR1cm4gbn0sbC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxsLlNvZnR3YXJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlKXtpZihlKWZvcihsZXQgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pZVt0W25dXSE9bnVsbCYmKHRoaXNbdFtuXV09ZVt0W25dXSl9cmV0dXJuIHIucHJvdG90eXBlLmFuc3dlcj1udWxsLHIucHJvdG90eXBlLmFyY2hpdGVjdHVyZT0wLHIucHJvdG90eXBlLmluc3RhbGxEb21haW49MCxyLnByb3RvdHlwZS5pZGVudGlmaWVyPW51bGwsci5wcm90b3R5cGUubmFtZT1udWxsLHIucHJvdG90eXBlLnZlcnNpb249bnVsbCxyLnByb3RvdHlwZS5wdWJsaXNoZXI9bnVsbCxyLnByb3RvdHlwZS5pbnN0YWxsTG9jYXRpb249bnVsbCxyLnByb3RvdHlwZS5pbnN0YWxsRGF0ZT1udWxsLHIucHJvdG90eXBlLmxhbmd1YWdlPW51bGwsci5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByKHQpfSxyLmVuY29kZT1mdW5jdGlvbih0LG4pe3JldHVybiBufHwobj13ZS5jcmVhdGUoKSksdC5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUodC5hbnN3ZXIsbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdC5hcmNoaXRlY3R1cmUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJhcmNoaXRlY3R1cmVcIikmJm4udWludDMyKDE2KS5pbnQzMih0LmFyY2hpdGVjdHVyZSksdC5pbnN0YWxsRG9tYWluIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiaW5zdGFsbERvbWFpblwiKSYmbi51aW50MzIoMjQpLmludDMyKHQuaW5zdGFsbERvbWFpbiksdC5pZGVudGlmaWVyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiaWRlbnRpZmllclwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKHQuaWRlbnRpZmllcixuLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSx0Lm5hbWUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJuYW1lXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUodC5uYW1lLG4udWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpLHQudmVyc2lvbiE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcInZlcnNpb25cIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZSh0LnZlcnNpb24sbi51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCksdC5wdWJsaXNoZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJwdWJsaXNoZXJcIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZSh0LnB1Ymxpc2hlcixuLnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKSx0Lmluc3RhbGxMb2NhdGlvbiE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcImluc3RhbGxMb2NhdGlvblwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKHQuaW5zdGFsbExvY2F0aW9uLG4udWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpLHQuaW5zdGFsbERhdGUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJpbnN0YWxsRGF0ZVwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKHQuaW5zdGFsbERhdGUsbi51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCksdC5sYW5ndWFnZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcImxhbmd1YWdlXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUodC5sYW5ndWFnZSxuLnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKSxufSxyLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLmVuY29kZSh0LG4pLmxkZWxpbSgpfSxyLmRlY29kZT1mdW5jdGlvbih0LG4pe3QgaW5zdGFuY2VvZiBVfHwodD1VLmNyZWF0ZSh0KSk7bGV0IG89bj09PXZvaWQgMD90Lmxlbjp0LnBvcytuLGY9bmV3IGkuZGV2aWNlLkRldmljZUluZm8uQXBwbGljYXRpb25zLlNvZnR3YXJlO2Zvcig7dC5wb3M8bzspe2xldCB5PXQudWludDMyKCk7c3dpdGNoKHk+Pj4zKXtjYXNlIDE6Zi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpmLmFyY2hpdGVjdHVyZT10LmludDMyKCk7YnJlYWs7Y2FzZSAzOmYuaW5zdGFsbERvbWFpbj10LmludDMyKCk7YnJlYWs7Y2FzZSA0OmYuaWRlbnRpZmllcj1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDU6Zi5uYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgNjpmLnZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7Y2FzZSA3OmYucHVibGlzaGVyPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgODpmLmluc3RhbGxMb2NhdGlvbj1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDk6Zi5pbnN0YWxsRGF0ZT1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDEwOmYubGFuZ3VhZ2U9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKHkmNyk7YnJlYWt9fXJldHVybiBmfSxyLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFV8fCh0PW5ldyBVKHQpKSx0aGlzLmRlY29kZSh0LHQudWludDMyKCkpfSxyLnZlcmlmeT1mdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8dD09PW51bGwpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZih0LmFuc3dlciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSl7bGV0IG49aS5kZXZpY2UuQW5zd2VyLnZlcmlmeSh0LmFuc3dlcik7aWYobilyZXR1cm5cImFuc3dlci5cIitufWlmKHQuYXJjaGl0ZWN0dXJlIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiYXJjaGl0ZWN0dXJlXCIpKXN3aXRjaCh0LmFyY2hpdGVjdHVyZSl7ZGVmYXVsdDpyZXR1cm5cImFyY2hpdGVjdHVyZTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOmNhc2UgMzpicmVha31pZih0Lmluc3RhbGxEb21haW4hPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJpbnN0YWxsRG9tYWluXCIpKXN3aXRjaCh0Lmluc3RhbGxEb21haW4pe2RlZmF1bHQ6cmV0dXJuXCJpbnN0YWxsRG9tYWluOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6Y2FzZSAzOmJyZWFrfWlmKHQuaWRlbnRpZmllciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImlkZW50aWZpZXJcIikpe2xldCBuPWkuZGV2aWNlLlN0cmluZ01heWJlLnZlcmlmeSh0LmlkZW50aWZpZXIpO2lmKG4pcmV0dXJuXCJpZGVudGlmaWVyLlwiK259aWYodC5uYW1lIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwibmFtZVwiKSl7bGV0IG49aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KHQubmFtZSk7aWYobilyZXR1cm5cIm5hbWUuXCIrbn1pZih0LnZlcnNpb24hPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJ2ZXJzaW9uXCIpKXtsZXQgbj1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkodC52ZXJzaW9uKTtpZihuKXJldHVyblwidmVyc2lvbi5cIitufWlmKHQucHVibGlzaGVyIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwicHVibGlzaGVyXCIpKXtsZXQgbj1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkodC5wdWJsaXNoZXIpO2lmKG4pcmV0dXJuXCJwdWJsaXNoZXIuXCIrbn1pZih0Lmluc3RhbGxMb2NhdGlvbiE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImluc3RhbGxMb2NhdGlvblwiKSl7bGV0IG49aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KHQuaW5zdGFsbExvY2F0aW9uKTtpZihuKXJldHVyblwiaW5zdGFsbExvY2F0aW9uLlwiK259aWYodC5pbnN0YWxsRGF0ZSE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImluc3RhbGxEYXRlXCIpKXtsZXQgbj1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkodC5pbnN0YWxsRGF0ZSk7aWYobilyZXR1cm5cImluc3RhbGxEYXRlLlwiK259aWYodC5sYW5ndWFnZSE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImxhbmd1YWdlXCIpKXtsZXQgbj1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkodC5sYW5ndWFnZSk7aWYobilyZXR1cm5cImxhbmd1YWdlLlwiK259cmV0dXJuIG51bGx9LHIuZnJvbU9iamVjdD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuU29mdHdhcmUpcmV0dXJuIHQ7bGV0IG49bmV3IGkuZGV2aWNlLkRldmljZUluZm8uQXBwbGljYXRpb25zLlNvZnR3YXJlO2lmKHQuYW5zd2VyIT1udWxsKXtpZih0eXBlb2YgdC5hbnN3ZXIhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLkFwcGxpY2F0aW9ucy5Tb2Z0d2FyZS5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTtuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdCh0LmFuc3dlcil9c3dpdGNoKHQuYXJjaGl0ZWN0dXJlKXtjYXNlXCJBUkNIX1VOU1VQUE9SVEVEXCI6Y2FzZSAwOm4uYXJjaGl0ZWN0dXJlPTA7YnJlYWs7Y2FzZVwiQVJDSF9VTktOT1dOXCI6Y2FzZSAxOm4uYXJjaGl0ZWN0dXJlPTE7YnJlYWs7Y2FzZVwiQVJDSF9CSVQzMlwiOmNhc2UgMjpuLmFyY2hpdGVjdHVyZT0yO2JyZWFrO2Nhc2VcIkFSQ0hfQklUNjRcIjpjYXNlIDM6bi5hcmNoaXRlY3R1cmU9MzticmVha31zd2l0Y2godC5pbnN0YWxsRG9tYWluKXtjYXNlXCJET01BSU5fVU5TVVBQT1JURURcIjpjYXNlIDA6bi5pbnN0YWxsRG9tYWluPTA7YnJlYWs7Y2FzZVwiRE9NQUlOX1VOS05PV05cIjpjYXNlIDE6bi5pbnN0YWxsRG9tYWluPTE7YnJlYWs7Y2FzZVwiRE9NQUlOX1VTRVJcIjpjYXNlIDI6bi5pbnN0YWxsRG9tYWluPTI7YnJlYWs7Y2FzZVwiRE9NQUlOX01BQ0hJTkVcIjpjYXNlIDM6bi5pbnN0YWxsRG9tYWluPTM7YnJlYWt9aWYodC5pZGVudGlmaWVyIT1udWxsKXtpZih0eXBlb2YgdC5pZGVudGlmaWVyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuU29mdHdhcmUuaWRlbnRpZmllcjogb2JqZWN0IGV4cGVjdGVkXCIpO24uaWRlbnRpZmllcj1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KHQuaWRlbnRpZmllcil9aWYodC5uYW1lIT1udWxsKXtpZih0eXBlb2YgdC5uYW1lIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuU29mdHdhcmUubmFtZTogb2JqZWN0IGV4cGVjdGVkXCIpO24ubmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KHQubmFtZSl9aWYodC52ZXJzaW9uIT1udWxsKXtpZih0eXBlb2YgdC52ZXJzaW9uIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuU29mdHdhcmUudmVyc2lvbjogb2JqZWN0IGV4cGVjdGVkXCIpO24udmVyc2lvbj1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KHQudmVyc2lvbil9aWYodC5wdWJsaXNoZXIhPW51bGwpe2lmKHR5cGVvZiB0LnB1Ymxpc2hlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uQXBwbGljYXRpb25zLlNvZnR3YXJlLnB1Ymxpc2hlcjogb2JqZWN0IGV4cGVjdGVkXCIpO24ucHVibGlzaGVyPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QodC5wdWJsaXNoZXIpfWlmKHQuaW5zdGFsbExvY2F0aW9uIT1udWxsKXtpZih0eXBlb2YgdC5pbnN0YWxsTG9jYXRpb24hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLkFwcGxpY2F0aW9ucy5Tb2Z0d2FyZS5pbnN0YWxsTG9jYXRpb246IG9iamVjdCBleHBlY3RlZFwiKTtuLmluc3RhbGxMb2NhdGlvbj1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KHQuaW5zdGFsbExvY2F0aW9uKX1pZih0Lmluc3RhbGxEYXRlIT1udWxsKXtpZih0eXBlb2YgdC5pbnN0YWxsRGF0ZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uQXBwbGljYXRpb25zLlNvZnR3YXJlLmluc3RhbGxEYXRlOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5pbnN0YWxsRGF0ZT1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KHQuaW5zdGFsbERhdGUpfWlmKHQubGFuZ3VhZ2UhPW51bGwpe2lmKHR5cGVvZiB0Lmxhbmd1YWdlIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuU29mdHdhcmUubGFuZ3VhZ2U6IG9iamVjdCBleHBlY3RlZFwiKTtuLmxhbmd1YWdlPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QodC5sYW5ndWFnZSl9cmV0dXJuIG59LHIudG9PYmplY3Q9ZnVuY3Rpb24odCxuKXtufHwobj17fSk7bGV0IG89e307cmV0dXJuIG4uZGVmYXVsdHMmJihvLmFuc3dlcj1udWxsLG8uYXJjaGl0ZWN0dXJlPW4uZW51bXM9PT1TdHJpbmc/XCJBUkNIX1VOU1VQUE9SVEVEXCI6MCxvLmluc3RhbGxEb21haW49bi5lbnVtcz09PVN0cmluZz9cIkRPTUFJTl9VTlNVUFBPUlRFRFwiOjAsby5pZGVudGlmaWVyPW51bGwsby5uYW1lPW51bGwsby52ZXJzaW9uPW51bGwsby5wdWJsaXNoZXI9bnVsbCxvLmluc3RhbGxMb2NhdGlvbj1udWxsLG8uaW5zdGFsbERhdGU9bnVsbCxvLmxhbmd1YWdlPW51bGwpLHQuYW5zd2VyIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpJiYoby5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLnRvT2JqZWN0KHQuYW5zd2VyLG4pKSx0LmFyY2hpdGVjdHVyZSE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImFyY2hpdGVjdHVyZVwiKSYmKG8uYXJjaGl0ZWN0dXJlPW4uZW51bXM9PT1TdHJpbmc/aS5kZXZpY2UuRGV2aWNlSW5mby5BcHBsaWNhdGlvbnMuQXJjaFt0LmFyY2hpdGVjdHVyZV06dC5hcmNoaXRlY3R1cmUpLHQuaW5zdGFsbERvbWFpbiE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImluc3RhbGxEb21haW5cIikmJihvLmluc3RhbGxEb21haW49bi5lbnVtcz09PVN0cmluZz9pLmRldmljZS5EZXZpY2VJbmZvLkFwcGxpY2F0aW9ucy5JbnN0YWxsRG9tYWluW3QuaW5zdGFsbERvbWFpbl06dC5pbnN0YWxsRG9tYWluKSx0LmlkZW50aWZpZXIhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJpZGVudGlmaWVyXCIpJiYoby5pZGVudGlmaWVyPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KHQuaWRlbnRpZmllcixuKSksdC5uYW1lIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG8ubmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdCh0Lm5hbWUsbikpLHQudmVyc2lvbiE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcInZlcnNpb25cIikmJihvLnZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QodC52ZXJzaW9uLG4pKSx0LnB1Ymxpc2hlciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcInB1Ymxpc2hlclwiKSYmKG8ucHVibGlzaGVyPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KHQucHVibGlzaGVyLG4pKSx0Lmluc3RhbGxMb2NhdGlvbiE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImluc3RhbGxMb2NhdGlvblwiKSYmKG8uaW5zdGFsbExvY2F0aW9uPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KHQuaW5zdGFsbExvY2F0aW9uLG4pKSx0Lmluc3RhbGxEYXRlIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiaW5zdGFsbERhdGVcIikmJihvLmluc3RhbGxEYXRlPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KHQuaW5zdGFsbERhdGUsbikpLHQubGFuZ3VhZ2UhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJsYW5ndWFnZVwiKSYmKG8ubGFuZ3VhZ2U9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QodC5sYW5ndWFnZSxuKSksb30sci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxyfSgpLGwuSW5zdGFsbERvbWFpbj1mdW5jdGlvbigpe2xldCByPXt9LGU9T2JqZWN0LmNyZWF0ZShyKTtyZXR1cm4gZVtyWzBdPVwiRE9NQUlOX1VOU1VQUE9SVEVEXCJdPTAsZVtyWzFdPVwiRE9NQUlOX1VOS05PV05cIl09MSxlW3JbMl09XCJET01BSU5fVVNFUlwiXT0yLGVbclszXT1cIkRPTUFJTl9NQUNISU5FXCJdPTMsZX0oKSxsLkFyY2g9ZnVuY3Rpb24oKXtsZXQgcj17fSxlPU9iamVjdC5jcmVhdGUocik7cmV0dXJuIGVbclswXT1cIkFSQ0hfVU5TVVBQT1JURURcIl09MCxlW3JbMV09XCJBUkNIX1VOS05PV05cIl09MSxlW3JbMl09XCJBUkNIX0JJVDMyXCJdPTIsZVtyWzNdPVwiQVJDSF9CSVQ2NFwiXT0zLGV9KCksbH0oKSxjLk9TVmVyc2lvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGwocil7aWYocilmb3IobGV0IGU9T2JqZWN0LmtleXMociksdD0wO3Q8ZS5sZW5ndGg7Kyt0KXJbZVt0XV0hPW51bGwmJih0aGlzW2VbdF1dPXJbZVt0XV0pfXJldHVybiBsLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxsLnByb3RvdHlwZS5tYWpvcj1udWxsLGwucHJvdG90eXBlLm1pbm9yPW51bGwsbC5wcm90b3R5cGUuYnVpbGQ9bnVsbCxsLnByb3RvdHlwZS5wYXRjaD1udWxsLGwucHJvdG90eXBlLnJldmlzaW9uPW51bGwsbC5wcm90b3R5cGUuc2VydmljZVBhY2s9bnVsbCxsLnByb3RvdHlwZS5pc1NlcnZlcj1udWxsLGwucHJvdG90eXBlLnNkaz1udWxsLGwucHJvdG90eXBlLnByZXZpZXdTZGs9bnVsbCxsLnByb3RvdHlwZS5pbmNyZW1lbnRhbD1udWxsLGwucHJvdG90eXBlLnNlY3VyaXR5UGF0Y2g9bnVsbCxsLnByb3RvdHlwZS51c2VyQWdlbnQ9bnVsbCxsLnByb3RvdHlwZS51c2VyQWdlbnREYXRhPW51bGwsbC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBsKGUpfSxsLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD13ZS5jcmVhdGUoKSksZS5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUoZS5hbnN3ZXIsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksZS5tYWpvciE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm1ham9yXCIpJiZpLmRldmljZS5JbnQzMk1heWJlLmVuY29kZShlLm1ham9yLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGUubWlub3IhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtaW5vclwiKSYmaS5kZXZpY2UuSW50MzJNYXliZS5lbmNvZGUoZS5taW5vcix0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxlLmJ1aWxkIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYnVpbGRcIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShlLmJ1aWxkLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLGUucGF0Y2ghPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYXRjaFwiKSYmaS5kZXZpY2UuSW50MzJNYXliZS5lbmNvZGUoZS5wYXRjaCx0LnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKSxlLnJldmlzaW9uIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmV2aXNpb25cIikmJmkuZGV2aWNlLkludDMyTWF5YmUuZW5jb2RlKGUucmV2aXNpb24sdC51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCksZS5zZXJ2aWNlUGFjayE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNlcnZpY2VQYWNrXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoZS5zZXJ2aWNlUGFjayx0LnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKSxlLmlzU2VydmVyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaXNTZXJ2ZXJcIikmJmkuZGV2aWNlLkJvb2xNYXliZS5lbmNvZGUoZS5pc1NlcnZlcix0LnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKSxlLnNkayE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNka1wiKSYmaS5kZXZpY2UuSW50MzJNYXliZS5lbmNvZGUoZS5zZGssdC51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCksZS5wcmV2aWV3U2RrIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicHJldmlld1Nka1wiKSYmaS5kZXZpY2UuSW50MzJNYXliZS5lbmNvZGUoZS5wcmV2aWV3U2RrLHQudWludDMyKDgyKS5mb3JrKCkpLmxkZWxpbSgpLGUuaW5jcmVtZW50YWwhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpbmNyZW1lbnRhbFwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKGUuaW5jcmVtZW50YWwsdC51aW50MzIoOTApLmZvcmsoKSkubGRlbGltKCksZS5zZWN1cml0eVBhdGNoIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2VjdXJpdHlQYXRjaFwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKGUuc2VjdXJpdHlQYXRjaCx0LnVpbnQzMig5OCkuZm9yaygpKS5sZGVsaW0oKSxlLnVzZXJBZ2VudCE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInVzZXJBZ2VudFwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKGUudXNlckFnZW50LHQudWludDMyKDEwNikuZm9yaygpKS5sZGVsaW0oKSxlLnVzZXJBZ2VudERhdGEhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ1c2VyQWdlbnREYXRhXCIpJiZpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLmVuY29kZShlLnVzZXJBZ2VudERhdGEsdC51aW50MzIoMTE0KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGwuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGwuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIFV8fChlPVUuY3JlYXRlKGUpKTtsZXQgbj10PT09dm9pZCAwP2UubGVuOmUucG9zK3Qsbz1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb247Zm9yKDtlLnBvczxuOyl7bGV0IGY9ZS51aW50MzIoKTtzd2l0Y2goZj4+PjMpe2Nhc2UgMTpvLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOm8ubWFqb3I9aS5kZXZpY2UuSW50MzJNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDM6by5taW5vcj1pLmRldmljZS5JbnQzMk1heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNDpvLmJ1aWxkPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNTpvLnBhdGNoPWkuZGV2aWNlLkludDMyTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA2Om8ucmV2aXNpb249aS5kZXZpY2UuSW50MzJNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDc6by5zZXJ2aWNlUGFjaz1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDg6by5pc1NlcnZlcj1pLmRldmljZS5Cb29sTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA5Om8uc2RrPWkuZGV2aWNlLkludDMyTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMDpvLnByZXZpZXdTZGs9aS5kZXZpY2UuSW50MzJNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDExOm8uaW5jcmVtZW50YWw9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMjpvLnNlY3VyaXR5UGF0Y2g9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMzpvLnVzZXJBZ2VudD1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDE0Om8udXNlckFnZW50RGF0YT1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZShmJjcpO2JyZWFrfX1yZXR1cm4gb30sbC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVfHwoZT1uZXcgVShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPVwib2JqZWN0XCJ8fGU9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYoZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCB0PWkuZGV2aWNlLkFuc3dlci52ZXJpZnkoZS5hbnN3ZXIpO2lmKHQpcmV0dXJuXCJhbnN3ZXIuXCIrdH1pZihlLm1ham9yIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwibWFqb3JcIikpe2xldCB0PWkuZGV2aWNlLkludDMyTWF5YmUudmVyaWZ5KGUubWFqb3IpO2lmKHQpcmV0dXJuXCJtYWpvci5cIit0fWlmKGUubWlub3IhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJtaW5vclwiKSl7bGV0IHQ9aS5kZXZpY2UuSW50MzJNYXliZS52ZXJpZnkoZS5taW5vcik7aWYodClyZXR1cm5cIm1pbm9yLlwiK3R9aWYoZS5idWlsZCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImJ1aWxkXCIpKXtsZXQgdD1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoZS5idWlsZCk7aWYodClyZXR1cm5cImJ1aWxkLlwiK3R9aWYoZS5wYXRjaCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGNoXCIpKXtsZXQgdD1pLmRldmljZS5JbnQzMk1heWJlLnZlcmlmeShlLnBhdGNoKTtpZih0KXJldHVyblwicGF0Y2guXCIrdH1pZihlLnJldmlzaW9uIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwicmV2aXNpb25cIikpe2xldCB0PWkuZGV2aWNlLkludDMyTWF5YmUudmVyaWZ5KGUucmV2aXNpb24pO2lmKHQpcmV0dXJuXCJyZXZpc2lvbi5cIit0fWlmKGUuc2VydmljZVBhY2shPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJzZXJ2aWNlUGFja1wiKSl7bGV0IHQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KGUuc2VydmljZVBhY2spO2lmKHQpcmV0dXJuXCJzZXJ2aWNlUGFjay5cIit0fWlmKGUuaXNTZXJ2ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJpc1NlcnZlclwiKSl7bGV0IHQ9aS5kZXZpY2UuQm9vbE1heWJlLnZlcmlmeShlLmlzU2VydmVyKTtpZih0KXJldHVyblwiaXNTZXJ2ZXIuXCIrdH1pZihlLnNkayE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcInNka1wiKSl7bGV0IHQ9aS5kZXZpY2UuSW50MzJNYXliZS52ZXJpZnkoZS5zZGspO2lmKHQpcmV0dXJuXCJzZGsuXCIrdH1pZihlLnByZXZpZXdTZGshPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJwcmV2aWV3U2RrXCIpKXtsZXQgdD1pLmRldmljZS5JbnQzMk1heWJlLnZlcmlmeShlLnByZXZpZXdTZGspO2lmKHQpcmV0dXJuXCJwcmV2aWV3U2RrLlwiK3R9aWYoZS5pbmNyZW1lbnRhbCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImluY3JlbWVudGFsXCIpKXtsZXQgdD1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoZS5pbmNyZW1lbnRhbCk7aWYodClyZXR1cm5cImluY3JlbWVudGFsLlwiK3R9aWYoZS5zZWN1cml0eVBhdGNoIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwic2VjdXJpdHlQYXRjaFwiKSl7bGV0IHQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KGUuc2VjdXJpdHlQYXRjaCk7aWYodClyZXR1cm5cInNlY3VyaXR5UGF0Y2guXCIrdH1pZihlLnVzZXJBZ2VudCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcInVzZXJBZ2VudFwiKSl7bGV0IHQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KGUudXNlckFnZW50KTtpZih0KXJldHVyblwidXNlckFnZW50LlwiK3R9aWYoZS51c2VyQWdlbnREYXRhIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwidXNlckFnZW50RGF0YVwiKSl7bGV0IHQ9aS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS52ZXJpZnkoZS51c2VyQWdlbnREYXRhKTtpZih0KXJldHVyblwidXNlckFnZW50RGF0YS5cIit0fXJldHVybiBudWxsfSxsLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uKXJldHVybiBlO2xldCB0PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbjtpZihlLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIGUuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3QoZS5hbnN3ZXIpfWlmKGUubWFqb3IhPW51bGwpe2lmKHR5cGVvZiBlLm1ham9yIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24ubWFqb3I6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm1ham9yPWkuZGV2aWNlLkludDMyTWF5YmUuZnJvbU9iamVjdChlLm1ham9yKX1pZihlLm1pbm9yIT1udWxsKXtpZih0eXBlb2YgZS5taW5vciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLm1pbm9yOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5taW5vcj1pLmRldmljZS5JbnQzMk1heWJlLmZyb21PYmplY3QoZS5taW5vcil9aWYoZS5idWlsZCE9bnVsbCl7aWYodHlwZW9mIGUuYnVpbGQhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5idWlsZDogb2JqZWN0IGV4cGVjdGVkXCIpO3QuYnVpbGQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLmJ1aWxkKX1pZihlLnBhdGNoIT1udWxsKXtpZih0eXBlb2YgZS5wYXRjaCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLnBhdGNoOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5wYXRjaD1pLmRldmljZS5JbnQzMk1heWJlLmZyb21PYmplY3QoZS5wYXRjaCl9aWYoZS5yZXZpc2lvbiE9bnVsbCl7aWYodHlwZW9mIGUucmV2aXNpb24hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5yZXZpc2lvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QucmV2aXNpb249aS5kZXZpY2UuSW50MzJNYXliZS5mcm9tT2JqZWN0KGUucmV2aXNpb24pfWlmKGUuc2VydmljZVBhY2shPW51bGwpe2lmKHR5cGVvZiBlLnNlcnZpY2VQYWNrIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uc2VydmljZVBhY2s6IG9iamVjdCBleHBlY3RlZFwiKTt0LnNlcnZpY2VQYWNrPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QoZS5zZXJ2aWNlUGFjayl9aWYoZS5pc1NlcnZlciE9bnVsbCl7aWYodHlwZW9mIGUuaXNTZXJ2ZXIhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5pc1NlcnZlcjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuaXNTZXJ2ZXI9aS5kZXZpY2UuQm9vbE1heWJlLmZyb21PYmplY3QoZS5pc1NlcnZlcil9aWYoZS5zZGshPW51bGwpe2lmKHR5cGVvZiBlLnNkayE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLnNkazogb2JqZWN0IGV4cGVjdGVkXCIpO3Quc2RrPWkuZGV2aWNlLkludDMyTWF5YmUuZnJvbU9iamVjdChlLnNkayl9aWYoZS5wcmV2aWV3U2RrIT1udWxsKXtpZih0eXBlb2YgZS5wcmV2aWV3U2RrIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24ucHJldmlld1Nkazogb2JqZWN0IGV4cGVjdGVkXCIpO3QucHJldmlld1Nkaz1pLmRldmljZS5JbnQzMk1heWJlLmZyb21PYmplY3QoZS5wcmV2aWV3U2RrKX1pZihlLmluY3JlbWVudGFsIT1udWxsKXtpZih0eXBlb2YgZS5pbmNyZW1lbnRhbCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLmluY3JlbWVudGFsOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5pbmNyZW1lbnRhbD1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KGUuaW5jcmVtZW50YWwpfWlmKGUuc2VjdXJpdHlQYXRjaCE9bnVsbCl7aWYodHlwZW9mIGUuc2VjdXJpdHlQYXRjaCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLnNlY3VyaXR5UGF0Y2g6IG9iamVjdCBleHBlY3RlZFwiKTt0LnNlY3VyaXR5UGF0Y2g9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLnNlY3VyaXR5UGF0Y2gpfWlmKGUudXNlckFnZW50IT1udWxsKXtpZih0eXBlb2YgZS51c2VyQWdlbnQhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi51c2VyQWdlbnQ6IG9iamVjdCBleHBlY3RlZFwiKTt0LnVzZXJBZ2VudD1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KGUudXNlckFnZW50KX1pZihlLnVzZXJBZ2VudERhdGEhPW51bGwpe2lmKHR5cGVvZiBlLnVzZXJBZ2VudERhdGEhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi51c2VyQWdlbnREYXRhOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51c2VyQWdlbnREYXRhPWkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuZnJvbU9iamVjdChlLnVzZXJBZ2VudERhdGEpfXJldHVybiB0fSxsLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pO2xldCBuPXt9O3JldHVybiB0LmRlZmF1bHRzJiYobi5hbnN3ZXI9bnVsbCxuLm1ham9yPW51bGwsbi5taW5vcj1udWxsLG4uYnVpbGQ9bnVsbCxuLnBhdGNoPW51bGwsbi5yZXZpc2lvbj1udWxsLG4uc2VydmljZVBhY2s9bnVsbCxuLmlzU2VydmVyPW51bGwsbi5zZGs9bnVsbCxuLnByZXZpZXdTZGs9bnVsbCxuLmluY3JlbWVudGFsPW51bGwsbi5zZWN1cml0eVBhdGNoPW51bGwsbi51c2VyQWdlbnQ9bnVsbCxuLnVzZXJBZ2VudERhdGE9bnVsbCksZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikmJihuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIudG9PYmplY3QoZS5hbnN3ZXIsdCkpLGUubWFqb3IhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJtYWpvclwiKSYmKG4ubWFqb3I9aS5kZXZpY2UuSW50MzJNYXliZS50b09iamVjdChlLm1ham9yLHQpKSxlLm1pbm9yIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwibWlub3JcIikmJihuLm1pbm9yPWkuZGV2aWNlLkludDMyTWF5YmUudG9PYmplY3QoZS5taW5vcix0KSksZS5idWlsZCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImJ1aWxkXCIpJiYobi5idWlsZD1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChlLmJ1aWxkLHQpKSxlLnBhdGNoIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwicGF0Y2hcIikmJihuLnBhdGNoPWkuZGV2aWNlLkludDMyTWF5YmUudG9PYmplY3QoZS5wYXRjaCx0KSksZS5yZXZpc2lvbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcInJldmlzaW9uXCIpJiYobi5yZXZpc2lvbj1pLmRldmljZS5JbnQzMk1heWJlLnRvT2JqZWN0KGUucmV2aXNpb24sdCkpLGUuc2VydmljZVBhY2shPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJzZXJ2aWNlUGFja1wiKSYmKG4uc2VydmljZVBhY2s9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QoZS5zZXJ2aWNlUGFjayx0KSksZS5pc1NlcnZlciE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlzU2VydmVyXCIpJiYobi5pc1NlcnZlcj1pLmRldmljZS5Cb29sTWF5YmUudG9PYmplY3QoZS5pc1NlcnZlcix0KSksZS5zZGshPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJzZGtcIikmJihuLnNkaz1pLmRldmljZS5JbnQzMk1heWJlLnRvT2JqZWN0KGUuc2RrLHQpKSxlLnByZXZpZXdTZGshPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJwcmV2aWV3U2RrXCIpJiYobi5wcmV2aWV3U2RrPWkuZGV2aWNlLkludDMyTWF5YmUudG9PYmplY3QoZS5wcmV2aWV3U2RrLHQpKSxlLmluY3JlbWVudGFsIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaW5jcmVtZW50YWxcIikmJihuLmluY3JlbWVudGFsPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KGUuaW5jcmVtZW50YWwsdCkpLGUuc2VjdXJpdHlQYXRjaCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcInNlY3VyaXR5UGF0Y2hcIikmJihuLnNlY3VyaXR5UGF0Y2g9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QoZS5zZWN1cml0eVBhdGNoLHQpKSxlLnVzZXJBZ2VudCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcInVzZXJBZ2VudFwiKSYmKG4udXNlckFnZW50PWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KGUudXNlckFnZW50LHQpKSxlLnVzZXJBZ2VudERhdGEhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJ1c2VyQWdlbnREYXRhXCIpJiYobi51c2VyQWdlbnREYXRhPWkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEudG9PYmplY3QoZS51c2VyQWdlbnREYXRhLHQpKSxufSxsLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGwuVXNlckFnZW50RGF0YT1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSl7aWYoZSlmb3IobGV0IHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKWVbdFtuXV0hPW51bGwmJih0aGlzW3Rbbl1dPWVbdFtuXV0pfXJldHVybiByLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxyLnByb3RvdHlwZS5icm93c2VyPW51bGwsci5wcm90b3R5cGUucGxhdGZvcm09bnVsbCxyLnByb3RvdHlwZS5ob3N0UGxhdGZvcm09bnVsbCxyLnByb3RvdHlwZS5kZXZpY2U9bnVsbCxyLnByb3RvdHlwZS5jbGllbnREYXRhPW51bGwsci5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByKHQpfSxyLmVuY29kZT1mdW5jdGlvbih0LG4pe3JldHVybiBufHwobj13ZS5jcmVhdGUoKSksdC5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUodC5hbnN3ZXIsbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdC5icm93c2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiYnJvd3NlclwiKSYmaS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5Ccm93c2VyLmVuY29kZSh0LmJyb3dzZXIsbi51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdC5wbGF0Zm9ybSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcInBsYXRmb3JtXCIpJiZpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkhvc3RQbGF0Zm9ybS5lbmNvZGUodC5wbGF0Zm9ybSxuLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0LmRldmljZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcImRldmljZVwiKSYmaS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5EZXZpY2UuZW5jb2RlKHQuZGV2aWNlLG4udWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLHQuY2xpZW50RGF0YSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcImNsaWVudERhdGFcIikmJmkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuQ2xpZW50RGF0YS5lbmNvZGUodC5jbGllbnREYXRhLG4udWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpLHQuaG9zdFBsYXRmb3JtIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiaG9zdFBsYXRmb3JtXCIpJiZpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkhvc3RQbGF0Zm9ybS5lbmNvZGUodC5ob3N0UGxhdGZvcm0sbi51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCksbn0sci5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5lbmNvZGUodCxuKS5sZGVsaW0oKX0sci5kZWNvZGU9ZnVuY3Rpb24odCxuKXt0IGluc3RhbmNlb2YgVXx8KHQ9VS5jcmVhdGUodCkpO2xldCBvPW49PT12b2lkIDA/dC5sZW46dC5wb3MrbixmPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhO2Zvcig7dC5wb3M8bzspe2xldCB5PXQudWludDMyKCk7c3dpdGNoKHk+Pj4zKXtjYXNlIDE6Zi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpmLmJyb3dzZXI9aS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5Ccm93c2VyLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpmLnBsYXRmb3JtPWkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuSG9zdFBsYXRmb3JtLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgNjpmLmhvc3RQbGF0Zm9ybT1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkhvc3RQbGF0Zm9ybS5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDQ6Zi5kZXZpY2U9aS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5EZXZpY2UuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7Y2FzZSA1OmYuY2xpZW50RGF0YT1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkNsaWVudERhdGEuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKHkmNyk7YnJlYWt9fXJldHVybiBmfSxyLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFV8fCh0PW5ldyBVKHQpKSx0aGlzLmRlY29kZSh0LHQudWludDMyKCkpfSxyLnZlcmlmeT1mdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8dD09PW51bGwpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZih0LmFuc3dlciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSl7bGV0IG49aS5kZXZpY2UuQW5zd2VyLnZlcmlmeSh0LmFuc3dlcik7aWYobilyZXR1cm5cImFuc3dlci5cIitufWlmKHQuYnJvd3NlciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImJyb3dzZXJcIikpe2xldCBuPWkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuQnJvd3Nlci52ZXJpZnkodC5icm93c2VyKTtpZihuKXJldHVyblwiYnJvd3Nlci5cIitufWlmKHQucGxhdGZvcm0hPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJwbGF0Zm9ybVwiKSl7bGV0IG49aS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5Ib3N0UGxhdGZvcm0udmVyaWZ5KHQucGxhdGZvcm0pO2lmKG4pcmV0dXJuXCJwbGF0Zm9ybS5cIitufWlmKHQuaG9zdFBsYXRmb3JtIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiaG9zdFBsYXRmb3JtXCIpKXtsZXQgbj1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkhvc3RQbGF0Zm9ybS52ZXJpZnkodC5ob3N0UGxhdGZvcm0pO2lmKG4pcmV0dXJuXCJob3N0UGxhdGZvcm0uXCIrbn1pZih0LmRldmljZSE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImRldmljZVwiKSl7bGV0IG49aS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5EZXZpY2UudmVyaWZ5KHQuZGV2aWNlKTtpZihuKXJldHVyblwiZGV2aWNlLlwiK259aWYodC5jbGllbnREYXRhIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiY2xpZW50RGF0YVwiKSl7bGV0IG49aS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5DbGllbnREYXRhLnZlcmlmeSh0LmNsaWVudERhdGEpO2lmKG4pcmV0dXJuXCJjbGllbnREYXRhLlwiK259cmV0dXJuIG51bGx9LHIuZnJvbU9iamVjdD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YSlyZXR1cm4gdDtsZXQgbj1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YTtpZih0LmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIHQuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTtuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdCh0LmFuc3dlcil9aWYodC5icm93c2VyIT1udWxsKXtpZih0eXBlb2YgdC5icm93c2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5icm93c2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5icm93c2VyPWkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuQnJvd3Nlci5mcm9tT2JqZWN0KHQuYnJvd3Nlcil9aWYodC5wbGF0Zm9ybSE9bnVsbCl7aWYodHlwZW9mIHQucGxhdGZvcm0hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLnBsYXRmb3JtOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5wbGF0Zm9ybT1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkhvc3RQbGF0Zm9ybS5mcm9tT2JqZWN0KHQucGxhdGZvcm0pfWlmKHQuaG9zdFBsYXRmb3JtIT1udWxsKXtpZih0eXBlb2YgdC5ob3N0UGxhdGZvcm0hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLmhvc3RQbGF0Zm9ybTogb2JqZWN0IGV4cGVjdGVkXCIpO24uaG9zdFBsYXRmb3JtPWkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuSG9zdFBsYXRmb3JtLmZyb21PYmplY3QodC5ob3N0UGxhdGZvcm0pfWlmKHQuZGV2aWNlIT1udWxsKXtpZih0eXBlb2YgdC5kZXZpY2UhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLmRldmljZTogb2JqZWN0IGV4cGVjdGVkXCIpO24uZGV2aWNlPWkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuRGV2aWNlLmZyb21PYmplY3QodC5kZXZpY2UpfWlmKHQuY2xpZW50RGF0YSE9bnVsbCl7aWYodHlwZW9mIHQuY2xpZW50RGF0YSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuY2xpZW50RGF0YTogb2JqZWN0IGV4cGVjdGVkXCIpO24uY2xpZW50RGF0YT1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkNsaWVudERhdGEuZnJvbU9iamVjdCh0LmNsaWVudERhdGEpfXJldHVybiBufSxyLnRvT2JqZWN0PWZ1bmN0aW9uKHQsbil7bnx8KG49e30pO2xldCBvPXt9O3JldHVybiBuLmRlZmF1bHRzJiYoby5hbnN3ZXI9bnVsbCxvLmJyb3dzZXI9bnVsbCxvLnBsYXRmb3JtPW51bGwsby5kZXZpY2U9bnVsbCxvLmNsaWVudERhdGE9bnVsbCxvLmhvc3RQbGF0Zm9ybT1udWxsKSx0LmFuc3dlciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKG8uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdCh0LmFuc3dlcixuKSksdC5icm93c2VyIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiYnJvd3NlclwiKSYmKG8uYnJvd3Nlcj1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkJyb3dzZXIudG9PYmplY3QodC5icm93c2VyLG4pKSx0LnBsYXRmb3JtIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwicGxhdGZvcm1cIikmJihvLnBsYXRmb3JtPWkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuSG9zdFBsYXRmb3JtLnRvT2JqZWN0KHQucGxhdGZvcm0sbikpLHQuZGV2aWNlIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiZGV2aWNlXCIpJiYoby5kZXZpY2U9aS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5EZXZpY2UudG9PYmplY3QodC5kZXZpY2UsbikpLHQuY2xpZW50RGF0YSE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImNsaWVudERhdGFcIikmJihvLmNsaWVudERhdGE9aS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5DbGllbnREYXRhLnRvT2JqZWN0KHQuY2xpZW50RGF0YSxuKSksdC5ob3N0UGxhdGZvcm0hPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJob3N0UGxhdGZvcm1cIikmJihvLmhvc3RQbGF0Zm9ybT1pLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkhvc3RQbGF0Zm9ybS50b09iamVjdCh0Lmhvc3RQbGF0Zm9ybSxuKSksb30sci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxyLkJyb3dzZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2lmKHQpZm9yKGxldCBuPU9iamVjdC5rZXlzKHQpLG89MDtvPG4ubGVuZ3RoOysrbyl0W25bb11dIT1udWxsJiYodGhpc1tuW29dXT10W25bb11dKX1yZXR1cm4gZS5wcm90b3R5cGUuYW5zd2VyPW51bGwsZS5wcm90b3R5cGUubmFtZT1udWxsLGUucHJvdG90eXBlLnZlcnNpb249bnVsbCxlLnByb3RvdHlwZS5lbmdpbmVOYW1lPW51bGwsZS5wcm90b3R5cGUuZW5naW5lVmVyc2lvbj1udWxsLGUuY3JlYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgZShuKX0sZS5lbmNvZGU9ZnVuY3Rpb24obixvKXtyZXR1cm4gb3x8KG89d2UuY3JlYXRlKCkpLG4uYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKG4uYW5zd2VyLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG4ubmFtZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcIm5hbWVcIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShuLm5hbWUsby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksbi52ZXJzaW9uIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwidmVyc2lvblwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKG4udmVyc2lvbixvLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxuLmVuZ2luZU5hbWUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sXCJlbmdpbmVOYW1lXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUobi5lbmdpbmVOYW1lLG8udWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLG4uZW5naW5lVmVyc2lvbiE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcImVuZ2luZVZlcnNpb25cIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShuLmVuZ2luZVZlcnNpb24sby51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksb30sZS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24obixvKXtyZXR1cm4gdGhpcy5lbmNvZGUobixvKS5sZGVsaW0oKX0sZS5kZWNvZGU9ZnVuY3Rpb24obixvKXtuIGluc3RhbmNlb2YgVXx8KG49VS5jcmVhdGUobikpO2xldCBmPW89PT12b2lkIDA/bi5sZW46bi5wb3Mrbyx5PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkJyb3dzZXI7Zm9yKDtuLnBvczxmOyl7bGV0IE89bi51aW50MzIoKTtzd2l0Y2goTz4+PjMpe2Nhc2UgMTp5LmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOnkubmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDM6eS52ZXJzaW9uPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgNDp5LmVuZ2luZU5hbWU9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSA1OnkuZW5naW5lVmVyc2lvbj1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoTyY3KTticmVha319cmV0dXJuIHl9LGUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKG4pe3JldHVybiBuIGluc3RhbmNlb2YgVXx8KG49bmV3IFUobikpLHRoaXMuZGVjb2RlKG4sbi51aW50MzIoKSl9LGUudmVyaWZ5PWZ1bmN0aW9uKG4pe2lmKHR5cGVvZiBuIT1cIm9iamVjdFwifHxuPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG4uYW5zd2VyIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpKXtsZXQgbz1pLmRldmljZS5BbnN3ZXIudmVyaWZ5KG4uYW5zd2VyKTtpZihvKXJldHVyblwiYW5zd2VyLlwiK299aWYobi5uYW1lIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwibmFtZVwiKSl7bGV0IG89aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KG4ubmFtZSk7aWYobylyZXR1cm5cIm5hbWUuXCIrb31pZihuLnZlcnNpb24hPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJ2ZXJzaW9uXCIpKXtsZXQgbz1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkobi52ZXJzaW9uKTtpZihvKXJldHVyblwidmVyc2lvbi5cIitvfWlmKG4uZW5naW5lTmFtZSE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcImVuZ2luZU5hbWVcIikpe2xldCBvPWkuZGV2aWNlLlN0cmluZ01heWJlLnZlcmlmeShuLmVuZ2luZU5hbWUpO2lmKG8pcmV0dXJuXCJlbmdpbmVOYW1lLlwiK299aWYobi5lbmdpbmVWZXJzaW9uIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwiZW5naW5lVmVyc2lvblwiKSl7bGV0IG89aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KG4uZW5naW5lVmVyc2lvbik7aWYobylyZXR1cm5cImVuZ2luZVZlcnNpb24uXCIrb31yZXR1cm4gbnVsbH0sZS5mcm9tT2JqZWN0PWZ1bmN0aW9uKG4pe2lmKG4gaW5zdGFuY2VvZiBpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkJyb3dzZXIpcmV0dXJuIG47bGV0IG89bmV3IGkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuQnJvd3NlcjtpZihuLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIG4uYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5Ccm93c2VyLmFuc3dlcjogb2JqZWN0IGV4cGVjdGVkXCIpO28uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5mcm9tT2JqZWN0KG4uYW5zd2VyKX1pZihuLm5hbWUhPW51bGwpe2lmKHR5cGVvZiBuLm5hbWUhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkJyb3dzZXIubmFtZTogb2JqZWN0IGV4cGVjdGVkXCIpO28ubmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KG4ubmFtZSl9aWYobi52ZXJzaW9uIT1udWxsKXtpZih0eXBlb2Ygbi52ZXJzaW9uIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5Ccm93c2VyLnZlcnNpb246IG9iamVjdCBleHBlY3RlZFwiKTtvLnZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChuLnZlcnNpb24pfWlmKG4uZW5naW5lTmFtZSE9bnVsbCl7aWYodHlwZW9mIG4uZW5naW5lTmFtZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuQnJvd3Nlci5lbmdpbmVOYW1lOiBvYmplY3QgZXhwZWN0ZWRcIik7by5lbmdpbmVOYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3Qobi5lbmdpbmVOYW1lKX1pZihuLmVuZ2luZVZlcnNpb24hPW51bGwpe2lmKHR5cGVvZiBuLmVuZ2luZVZlcnNpb24hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkJyb3dzZXIuZW5naW5lVmVyc2lvbjogb2JqZWN0IGV4cGVjdGVkXCIpO28uZW5naW5lVmVyc2lvbj1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KG4uZW5naW5lVmVyc2lvbil9cmV0dXJuIG99LGUudG9PYmplY3Q9ZnVuY3Rpb24obixvKXtvfHwobz17fSk7bGV0IGY9e307cmV0dXJuIG8uZGVmYXVsdHMmJihmLmFuc3dlcj1udWxsLGYubmFtZT1udWxsLGYudmVyc2lvbj1udWxsLGYuZW5naW5lTmFtZT1udWxsLGYuZW5naW5lVmVyc2lvbj1udWxsKSxuLmFuc3dlciE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKGYuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdChuLmFuc3dlcixvKSksbi5uYW1lIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKGYubmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChuLm5hbWUsbykpLG4udmVyc2lvbiE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcInZlcnNpb25cIikmJihmLnZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3Qobi52ZXJzaW9uLG8pKSxuLmVuZ2luZU5hbWUhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJlbmdpbmVOYW1lXCIpJiYoZi5lbmdpbmVOYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4uZW5naW5lTmFtZSxvKSksbi5lbmdpbmVWZXJzaW9uIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwiZW5naW5lVmVyc2lvblwiKSYmKGYuZW5naW5lVmVyc2lvbj1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChuLmVuZ2luZVZlcnNpb24sbykpLGZ9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYWUudXRpbC50b0pTT05PcHRpb25zKX0sZX0oKSxyLkhvc3RQbGF0Zm9ybT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aWYodClmb3IobGV0IG49T2JqZWN0LmtleXModCksbz0wO288bi5sZW5ndGg7KytvKXRbbltvXV0hPW51bGwmJih0aGlzW25bb11dPXRbbltvXV0pfXJldHVybiBlLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxlLnByb3RvdHlwZS5uYW1lPW51bGwsZS5wcm90b3R5cGUudmVyc2lvbj1udWxsLGUuY3JlYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgZShuKX0sZS5lbmNvZGU9ZnVuY3Rpb24obixvKXtyZXR1cm4gb3x8KG89d2UuY3JlYXRlKCkpLG4uYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKG4uYW5zd2VyLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG4ubmFtZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcIm5hbWVcIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShuLm5hbWUsby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksbi52ZXJzaW9uIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwidmVyc2lvblwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKG4udmVyc2lvbixvLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxvfSxlLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihuLG8pe3JldHVybiB0aGlzLmVuY29kZShuLG8pLmxkZWxpbSgpfSxlLmRlY29kZT1mdW5jdGlvbihuLG8pe24gaW5zdGFuY2VvZiBVfHwobj1VLmNyZWF0ZShuKSk7bGV0IGY9bz09PXZvaWQgMD9uLmxlbjpuLnBvcytvLHk9bmV3IGkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuSG9zdFBsYXRmb3JtO2Zvcig7bi5wb3M8Zjspe2xldCBPPW4udWludDMyKCk7c3dpdGNoKE8+Pj4zKXtjYXNlIDE6eS5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgMjp5Lm5hbWU9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOnkudmVyc2lvbj1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoTyY3KTticmVha319cmV0dXJuIHl9LGUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKG4pe3JldHVybiBuIGluc3RhbmNlb2YgVXx8KG49bmV3IFUobikpLHRoaXMuZGVjb2RlKG4sbi51aW50MzIoKSl9LGUudmVyaWZ5PWZ1bmN0aW9uKG4pe2lmKHR5cGVvZiBuIT1cIm9iamVjdFwifHxuPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG4uYW5zd2VyIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpKXtsZXQgbz1pLmRldmljZS5BbnN3ZXIudmVyaWZ5KG4uYW5zd2VyKTtpZihvKXJldHVyblwiYW5zd2VyLlwiK299aWYobi5uYW1lIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwibmFtZVwiKSl7bGV0IG89aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KG4ubmFtZSk7aWYobylyZXR1cm5cIm5hbWUuXCIrb31pZihuLnZlcnNpb24hPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJ2ZXJzaW9uXCIpKXtsZXQgbz1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkobi52ZXJzaW9uKTtpZihvKXJldHVyblwidmVyc2lvbi5cIitvfXJldHVybiBudWxsfSxlLmZyb21PYmplY3Q9ZnVuY3Rpb24obil7aWYobiBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuSG9zdFBsYXRmb3JtKXJldHVybiBuO2xldCBvPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkhvc3RQbGF0Zm9ybTtpZihuLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIG4uYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5Ib3N0UGxhdGZvcm0uYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7by5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3Qobi5hbnN3ZXIpfWlmKG4ubmFtZSE9bnVsbCl7aWYodHlwZW9mIG4ubmFtZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuSG9zdFBsYXRmb3JtLm5hbWU6IG9iamVjdCBleHBlY3RlZFwiKTtvLm5hbWU9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChuLm5hbWUpfWlmKG4udmVyc2lvbiE9bnVsbCl7aWYodHlwZW9mIG4udmVyc2lvbiE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuSG9zdFBsYXRmb3JtLnZlcnNpb246IG9iamVjdCBleHBlY3RlZFwiKTtvLnZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChuLnZlcnNpb24pfXJldHVybiBvfSxlLnRvT2JqZWN0PWZ1bmN0aW9uKG4sbyl7b3x8KG89e30pO2xldCBmPXt9O3JldHVybiBvLmRlZmF1bHRzJiYoZi5hbnN3ZXI9bnVsbCxmLm5hbWU9bnVsbCxmLnZlcnNpb249bnVsbCksbi5hbnN3ZXIhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikmJihmLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIudG9PYmplY3Qobi5hbnN3ZXIsbykpLG4ubmFtZSE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihmLm5hbWU9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3Qobi5uYW1lLG8pKSxuLnZlcnNpb24hPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJ2ZXJzaW9uXCIpJiYoZi52ZXJzaW9uPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4udmVyc2lvbixvKSksZn0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxlfSgpLHIuRGV2aWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpZih0KWZvcihsZXQgbj1PYmplY3Qua2V5cyh0KSxvPTA7bzxuLmxlbmd0aDsrK28pdFtuW29dXSE9bnVsbCYmKHRoaXNbbltvXV09dFtuW29dXSl9cmV0dXJuIGUucHJvdG90eXBlLmFuc3dlcj1udWxsLGUucHJvdG90eXBlLmFyY2hpdGVjdHVyZT1udWxsLGUucHJvdG90eXBlLm1vZGVsPW51bGwsZS5wcm90b3R5cGUudHlwZT1udWxsLGUucHJvdG90eXBlLnZlbmRvcj1udWxsLGUuY3JlYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgZShuKX0sZS5lbmNvZGU9ZnVuY3Rpb24obixvKXtyZXR1cm4gb3x8KG89d2UuY3JlYXRlKCkpLG4uYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKG4uYW5zd2VyLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG4uYXJjaGl0ZWN0dXJlIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwiYXJjaGl0ZWN0dXJlXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUobi5hcmNoaXRlY3R1cmUsby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksbi5tb2RlbCE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcIm1vZGVsXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUobi5tb2RlbCxvLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxuLnR5cGUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sXCJ0eXBlXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUobi50eXBlLG8udWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLG4udmVuZG9yIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwidmVuZG9yXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUobi52ZW5kb3Isby51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksb30sZS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24obixvKXtyZXR1cm4gdGhpcy5lbmNvZGUobixvKS5sZGVsaW0oKX0sZS5kZWNvZGU9ZnVuY3Rpb24obixvKXtuIGluc3RhbmNlb2YgVXx8KG49VS5jcmVhdGUobikpO2xldCBmPW89PT12b2lkIDA/bi5sZW46bi5wb3Mrbyx5PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkRldmljZTtmb3IoO24ucG9zPGY7KXtsZXQgTz1uLnVpbnQzMigpO3N3aXRjaChPPj4+Myl7Y2FzZSAxOnkuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDI6eS5hcmNoaXRlY3R1cmU9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOnkubW9kZWw9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSA0OnkudHlwZT1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDU6eS52ZW5kb3I9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKE8mNyk7YnJlYWt9fXJldHVybiB5fSxlLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIFV8fChuPW5ldyBVKG4pKSx0aGlzLmRlY29kZShuLG4udWludDMyKCkpfSxlLnZlcmlmeT1mdW5jdGlvbihuKXtpZih0eXBlb2YgbiE9XCJvYmplY3RcInx8bj09PW51bGwpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihuLmFuc3dlciE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSl7bGV0IG89aS5kZXZpY2UuQW5zd2VyLnZlcmlmeShuLmFuc3dlcik7aWYobylyZXR1cm5cImFuc3dlci5cIitvfWlmKG4uYXJjaGl0ZWN0dXJlIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwiYXJjaGl0ZWN0dXJlXCIpKXtsZXQgbz1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkobi5hcmNoaXRlY3R1cmUpO2lmKG8pcmV0dXJuXCJhcmNoaXRlY3R1cmUuXCIrb31pZihuLm1vZGVsIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwibW9kZWxcIikpe2xldCBvPWkuZGV2aWNlLlN0cmluZ01heWJlLnZlcmlmeShuLm1vZGVsKTtpZihvKXJldHVyblwibW9kZWwuXCIrb31pZihuLnR5cGUhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpKXtsZXQgbz1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkobi50eXBlKTtpZihvKXJldHVyblwidHlwZS5cIitvfWlmKG4udmVuZG9yIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwidmVuZG9yXCIpKXtsZXQgbz1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkobi52ZW5kb3IpO2lmKG8pcmV0dXJuXCJ2ZW5kb3IuXCIrb31yZXR1cm4gbnVsbH0sZS5mcm9tT2JqZWN0PWZ1bmN0aW9uKG4pe2lmKG4gaW5zdGFuY2VvZiBpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkRldmljZSlyZXR1cm4gbjtsZXQgbz1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5EZXZpY2U7aWYobi5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiBuLmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuRGV2aWNlLmFuc3dlcjogb2JqZWN0IGV4cGVjdGVkXCIpO28uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5mcm9tT2JqZWN0KG4uYW5zd2VyKX1pZihuLmFyY2hpdGVjdHVyZSE9bnVsbCl7aWYodHlwZW9mIG4uYXJjaGl0ZWN0dXJlIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5EZXZpY2UuYXJjaGl0ZWN0dXJlOiBvYmplY3QgZXhwZWN0ZWRcIik7by5hcmNoaXRlY3R1cmU9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChuLmFyY2hpdGVjdHVyZSl9aWYobi5tb2RlbCE9bnVsbCl7aWYodHlwZW9mIG4ubW9kZWwhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkRldmljZS5tb2RlbDogb2JqZWN0IGV4cGVjdGVkXCIpO28ubW9kZWw9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChuLm1vZGVsKX1pZihuLnR5cGUhPW51bGwpe2lmKHR5cGVvZiBuLnR5cGUhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkRldmljZS50eXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7by50eXBlPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3Qobi50eXBlKX1pZihuLnZlbmRvciE9bnVsbCl7aWYodHlwZW9mIG4udmVuZG9yIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5EZXZpY2UudmVuZG9yOiBvYmplY3QgZXhwZWN0ZWRcIik7by52ZW5kb3I9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChuLnZlbmRvcil9cmV0dXJuIG99LGUudG9PYmplY3Q9ZnVuY3Rpb24obixvKXtvfHwobz17fSk7bGV0IGY9e307cmV0dXJuIG8uZGVmYXVsdHMmJihmLmFuc3dlcj1udWxsLGYuYXJjaGl0ZWN0dXJlPW51bGwsZi5tb2RlbD1udWxsLGYudHlwZT1udWxsLGYudmVuZG9yPW51bGwpLG4uYW5zd2VyIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpJiYoZi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLnRvT2JqZWN0KG4uYW5zd2VyLG8pKSxuLmFyY2hpdGVjdHVyZSE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcImFyY2hpdGVjdHVyZVwiKSYmKGYuYXJjaGl0ZWN0dXJlPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4uYXJjaGl0ZWN0dXJlLG8pKSxuLm1vZGVsIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwibW9kZWxcIikmJihmLm1vZGVsPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4ubW9kZWwsbykpLG4udHlwZSE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikmJihmLnR5cGU9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3Qobi50eXBlLG8pKSxuLnZlbmRvciE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcInZlbmRvclwiKSYmKGYudmVuZG9yPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4udmVuZG9yLG8pKSxmfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGV9KCksci5DbGllbnREYXRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpZih0KWZvcihsZXQgbj1PYmplY3Qua2V5cyh0KSxvPTA7bzxuLmxlbmd0aDsrK28pdFtuW29dXSE9bnVsbCYmKHRoaXNbbltvXV09dFtuW29dXSl9cmV0dXJuIGUucHJvdG90eXBlLmFuc3dlcj1udWxsLGUucHJvdG90eXBlLnBsYXRmb3JtPW51bGwsZS5wcm90b3R5cGUubW9iaWxlPW51bGwsZS5wcm90b3R5cGUuYXJjaGl0ZWN0dXJlPW51bGwsZS5wcm90b3R5cGUuYml0bmVzcz1udWxsLGUucHJvdG90eXBlLm1vZGVsPW51bGwsZS5wcm90b3R5cGUucGxhdGZvcm1WZXJzaW9uPW51bGwsZS5wcm90b3R5cGUudWFGdWxsVmVyc29uPW51bGwsZS5jcmVhdGU9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBlKG4pfSxlLmVuY29kZT1mdW5jdGlvbihuLG8pe3JldHVybiBvfHwobz13ZS5jcmVhdGUoKSksbi5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUobi5hbnN3ZXIsby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbi5wbGF0Zm9ybSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcInBsYXRmb3JtXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUobi5wbGF0Zm9ybSxvLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxuLm1vYmlsZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcIm1vYmlsZVwiKSYmaS5kZXZpY2UuQm9vbE1heWJlLmVuY29kZShuLm1vYmlsZSxvLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxuLmFyY2hpdGVjdHVyZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcImFyY2hpdGVjdHVyZVwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKG4uYXJjaGl0ZWN0dXJlLG8udWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLG4uYml0bmVzcyE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcImJpdG5lc3NcIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShuLmJpdG5lc3Msby51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksbi5tb2RlbCE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcIm1vZGVsXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUobi5tb2RlbCxvLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKSxuLnBsYXRmb3JtVmVyc2lvbiE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixcInBsYXRmb3JtVmVyc2lvblwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKG4ucGxhdGZvcm1WZXJzaW9uLG8udWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpLG4udWFGdWxsVmVyc29uIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwidWFGdWxsVmVyc29uXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUobi51YUZ1bGxWZXJzb24sby51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCksb30sZS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24obixvKXtyZXR1cm4gdGhpcy5lbmNvZGUobixvKS5sZGVsaW0oKX0sZS5kZWNvZGU9ZnVuY3Rpb24obixvKXtuIGluc3RhbmNlb2YgVXx8KG49VS5jcmVhdGUobikpO2xldCBmPW89PT12b2lkIDA/bi5sZW46bi5wb3Mrbyx5PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkNsaWVudERhdGE7Zm9yKDtuLnBvczxmOyl7bGV0IE89bi51aW50MzIoKTtzd2l0Y2goTz4+PjMpe2Nhc2UgMTp5LmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOnkucGxhdGZvcm09aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOnkubW9iaWxlPWkuZGV2aWNlLkJvb2xNYXliZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDQ6eS5hcmNoaXRlY3R1cmU9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSA1OnkuYml0bmVzcz1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDY6eS5tb2RlbD1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDc6eS5wbGF0Zm9ybVZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSA4OnkudWFGdWxsVmVyc29uPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZShPJjcpO2JyZWFrfX1yZXR1cm4geX0sZS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBVfHwobj1uZXcgVShuKSksdGhpcy5kZWNvZGUobixuLnVpbnQzMigpKX0sZS52ZXJpZnk9ZnVuY3Rpb24obil7aWYodHlwZW9mIG4hPVwib2JqZWN0XCJ8fG49PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobi5hbnN3ZXIhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCBvPWkuZGV2aWNlLkFuc3dlci52ZXJpZnkobi5hbnN3ZXIpO2lmKG8pcmV0dXJuXCJhbnN3ZXIuXCIrb31pZihuLnBsYXRmb3JtIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwicGxhdGZvcm1cIikpe2xldCBvPWkuZGV2aWNlLlN0cmluZ01heWJlLnZlcmlmeShuLnBsYXRmb3JtKTtpZihvKXJldHVyblwicGxhdGZvcm0uXCIrb31pZihuLm1vYmlsZSE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcIm1vYmlsZVwiKSl7bGV0IG89aS5kZXZpY2UuQm9vbE1heWJlLnZlcmlmeShuLm1vYmlsZSk7aWYobylyZXR1cm5cIm1vYmlsZS5cIitvfWlmKG4uYXJjaGl0ZWN0dXJlIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwiYXJjaGl0ZWN0dXJlXCIpKXtsZXQgbz1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkobi5hcmNoaXRlY3R1cmUpO2lmKG8pcmV0dXJuXCJhcmNoaXRlY3R1cmUuXCIrb31pZihuLmJpdG5lc3MhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJiaXRuZXNzXCIpKXtsZXQgbz1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkobi5iaXRuZXNzKTtpZihvKXJldHVyblwiYml0bmVzcy5cIitvfWlmKG4ubW9kZWwhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJtb2RlbFwiKSl7bGV0IG89aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KG4ubW9kZWwpO2lmKG8pcmV0dXJuXCJtb2RlbC5cIitvfWlmKG4ucGxhdGZvcm1WZXJzaW9uIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwicGxhdGZvcm1WZXJzaW9uXCIpKXtsZXQgbz1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkobi5wbGF0Zm9ybVZlcnNpb24pO2lmKG8pcmV0dXJuXCJwbGF0Zm9ybVZlcnNpb24uXCIrb31pZihuLnVhRnVsbFZlcnNvbiE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcInVhRnVsbFZlcnNvblwiKSl7bGV0IG89aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KG4udWFGdWxsVmVyc29uKTtpZihvKXJldHVyblwidWFGdWxsVmVyc29uLlwiK299cmV0dXJuIG51bGx9LGUuZnJvbU9iamVjdD1mdW5jdGlvbihuKXtpZihuIGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5DbGllbnREYXRhKXJldHVybiBuO2xldCBvPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkNsaWVudERhdGE7aWYobi5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiBuLmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuQ2xpZW50RGF0YS5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTtvLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdChuLmFuc3dlcil9aWYobi5wbGF0Zm9ybSE9bnVsbCl7aWYodHlwZW9mIG4ucGxhdGZvcm0hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkNsaWVudERhdGEucGxhdGZvcm06IG9iamVjdCBleHBlY3RlZFwiKTtvLnBsYXRmb3JtPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3Qobi5wbGF0Zm9ybSl9aWYobi5tb2JpbGUhPW51bGwpe2lmKHR5cGVvZiBuLm1vYmlsZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuQ2xpZW50RGF0YS5tb2JpbGU6IG9iamVjdCBleHBlY3RlZFwiKTtvLm1vYmlsZT1pLmRldmljZS5Cb29sTWF5YmUuZnJvbU9iamVjdChuLm1vYmlsZSl9aWYobi5hcmNoaXRlY3R1cmUhPW51bGwpe2lmKHR5cGVvZiBuLmFyY2hpdGVjdHVyZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuQ2xpZW50RGF0YS5hcmNoaXRlY3R1cmU6IG9iamVjdCBleHBlY3RlZFwiKTtvLmFyY2hpdGVjdHVyZT1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KG4uYXJjaGl0ZWN0dXJlKX1pZihuLmJpdG5lc3MhPW51bGwpe2lmKHR5cGVvZiBuLmJpdG5lc3MhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkNsaWVudERhdGEuYml0bmVzczogb2JqZWN0IGV4cGVjdGVkXCIpO28uYml0bmVzcz1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KG4uYml0bmVzcyl9aWYobi5tb2RlbCE9bnVsbCl7aWYodHlwZW9mIG4ubW9kZWwhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLk9TVmVyc2lvbi5Vc2VyQWdlbnREYXRhLkNsaWVudERhdGEubW9kZWw6IG9iamVjdCBleHBlY3RlZFwiKTtvLm1vZGVsPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3Qobi5tb2RlbCl9aWYobi5wbGF0Zm9ybVZlcnNpb24hPW51bGwpe2lmKHR5cGVvZiBuLnBsYXRmb3JtVmVyc2lvbiE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uT1NWZXJzaW9uLlVzZXJBZ2VudERhdGEuQ2xpZW50RGF0YS5wbGF0Zm9ybVZlcnNpb246IG9iamVjdCBleHBlY3RlZFwiKTtvLnBsYXRmb3JtVmVyc2lvbj1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KG4ucGxhdGZvcm1WZXJzaW9uKX1pZihuLnVhRnVsbFZlcnNvbiE9bnVsbCl7aWYodHlwZW9mIG4udWFGdWxsVmVyc29uIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5PU1ZlcnNpb24uVXNlckFnZW50RGF0YS5DbGllbnREYXRhLnVhRnVsbFZlcnNvbjogb2JqZWN0IGV4cGVjdGVkXCIpO28udWFGdWxsVmVyc29uPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3Qobi51YUZ1bGxWZXJzb24pfXJldHVybiBvfSxlLnRvT2JqZWN0PWZ1bmN0aW9uKG4sbyl7b3x8KG89e30pO2xldCBmPXt9O3JldHVybiBvLmRlZmF1bHRzJiYoZi5hbnN3ZXI9bnVsbCxmLnBsYXRmb3JtPW51bGwsZi5tb2JpbGU9bnVsbCxmLmFyY2hpdGVjdHVyZT1udWxsLGYuYml0bmVzcz1udWxsLGYubW9kZWw9bnVsbCxmLnBsYXRmb3JtVmVyc2lvbj1udWxsLGYudWFGdWxsVmVyc29uPW51bGwpLG4uYW5zd2VyIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpJiYoZi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLnRvT2JqZWN0KG4uYW5zd2VyLG8pKSxuLnBsYXRmb3JtIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwicGxhdGZvcm1cIikmJihmLnBsYXRmb3JtPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4ucGxhdGZvcm0sbykpLG4ubW9iaWxlIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwibW9iaWxlXCIpJiYoZi5tb2JpbGU9aS5kZXZpY2UuQm9vbE1heWJlLnRvT2JqZWN0KG4ubW9iaWxlLG8pKSxuLmFyY2hpdGVjdHVyZSE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcImFyY2hpdGVjdHVyZVwiKSYmKGYuYXJjaGl0ZWN0dXJlPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4uYXJjaGl0ZWN0dXJlLG8pKSxuLmJpdG5lc3MhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJiaXRuZXNzXCIpJiYoZi5iaXRuZXNzPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4uYml0bmVzcyxvKSksbi5tb2RlbCE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcIm1vZGVsXCIpJiYoZi5tb2RlbD1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChuLm1vZGVsLG8pKSxuLnBsYXRmb3JtVmVyc2lvbiE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcInBsYXRmb3JtVmVyc2lvblwiKSYmKGYucGxhdGZvcm1WZXJzaW9uPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4ucGxhdGZvcm1WZXJzaW9uLG8pKSxuLnVhRnVsbFZlcnNvbiE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcInVhRnVsbFZlcnNvblwiKSYmKGYudWFGdWxsVmVyc29uPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KG4udWFGdWxsVmVyc29uLG8pKSxmfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGV9KCkscn0oKSxsfSgpLGMuQmlTZGtJbmZvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChyKXtpZihyKWZvcihsZXQgZT1PYmplY3Qua2V5cyhyKSx0PTA7dDxlLmxlbmd0aDsrK3QpcltlW3RdXSE9bnVsbCYmKHRoaXNbZVt0XV09cltlW3RdXSl9cmV0dXJuIGwucHJvdG90eXBlLmFuc3dlcj1udWxsLGwucHJvdG90eXBlLnNka1ZlcnNpb249bnVsbCxsLnByb3RvdHlwZS5hcHBWZXJzaW9uPW51bGwsbC5wcm90b3R5cGUuY2xpZW50SWQ9bnVsbCxsLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGwoZSl9LGwuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXdlLmNyZWF0ZSgpKSxlLmFuc3dlciE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFuc3dlclwiKSYmaS5kZXZpY2UuQW5zd2VyLmVuY29kZShlLmFuc3dlcix0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxlLnNka1ZlcnNpb24hPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZGtWZXJzaW9uXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoZS5zZGtWZXJzaW9uLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGUuYXBwVmVyc2lvbiE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFwcFZlcnNpb25cIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShlLmFwcFZlcnNpb24sdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksZS5jbGllbnRJZCE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNsaWVudElkXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoZS5jbGllbnRJZCx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSx0fSxsLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxsLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBVfHwoZT1VLmNyZWF0ZShlKSk7bGV0IG49dD09PXZvaWQgMD9lLmxlbjplLnBvcyt0LG89bmV3IGkuZGV2aWNlLkRldmljZUluZm8uQmlTZGtJbmZvO2Zvcig7ZS5wb3M8bjspe2xldCBmPWUudWludDMyKCk7c3dpdGNoKGY+Pj4zKXtjYXNlIDE6by5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpvLnNka1ZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOm8uYXBwVmVyc2lvbj1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDQ6by5jbGllbnRJZD1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoZiY3KTticmVha319cmV0dXJuIG99LGwuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVXx8KGU9bmV3IFUoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGwudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT1cIm9iamVjdFwifHxlPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKGUuYW5zd2VyIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpKXtsZXQgdD1pLmRldmljZS5BbnN3ZXIudmVyaWZ5KGUuYW5zd2VyKTtpZih0KXJldHVyblwiYW5zd2VyLlwiK3R9aWYoZS5zZGtWZXJzaW9uIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwic2RrVmVyc2lvblwiKSl7bGV0IHQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KGUuc2RrVmVyc2lvbik7aWYodClyZXR1cm5cInNka1ZlcnNpb24uXCIrdH1pZihlLmFwcFZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhcHBWZXJzaW9uXCIpKXtsZXQgdD1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoZS5hcHBWZXJzaW9uKTtpZih0KXJldHVyblwiYXBwVmVyc2lvbi5cIit0fWlmKGUuY2xpZW50SWQhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJjbGllbnRJZFwiKSl7bGV0IHQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KGUuY2xpZW50SWQpO2lmKHQpcmV0dXJuXCJjbGllbnRJZC5cIit0fXJldHVybiBudWxsfSxsLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uQmlTZGtJbmZvKXJldHVybiBlO2xldCB0PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLkJpU2RrSW5mbztpZihlLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIGUuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5CaVNka0luZm8uYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3QoZS5hbnN3ZXIpfWlmKGUuc2RrVmVyc2lvbiE9bnVsbCl7aWYodHlwZW9mIGUuc2RrVmVyc2lvbiE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uQmlTZGtJbmZvLnNka1ZlcnNpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnNka1ZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLnNka1ZlcnNpb24pfWlmKGUuYXBwVmVyc2lvbiE9bnVsbCl7aWYodHlwZW9mIGUuYXBwVmVyc2lvbiE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uQmlTZGtJbmZvLmFwcFZlcnNpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmFwcFZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLmFwcFZlcnNpb24pfWlmKGUuY2xpZW50SWQhPW51bGwpe2lmKHR5cGVvZiBlLmNsaWVudElkIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5CaVNka0luZm8uY2xpZW50SWQ6IG9iamVjdCBleHBlY3RlZFwiKTt0LmNsaWVudElkPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QoZS5jbGllbnRJZCl9cmV0dXJuIHR9LGwudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt0fHwodD17fSk7bGV0IG49e307cmV0dXJuIHQuZGVmYXVsdHMmJihuLmFuc3dlcj1udWxsLG4uc2RrVmVyc2lvbj1udWxsLG4uYXBwVmVyc2lvbj1udWxsLG4uY2xpZW50SWQ9bnVsbCksZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikmJihuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIudG9PYmplY3QoZS5hbnN3ZXIsdCkpLGUuc2RrVmVyc2lvbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcInNka1ZlcnNpb25cIikmJihuLnNka1ZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QoZS5zZGtWZXJzaW9uLHQpKSxlLmFwcFZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhcHBWZXJzaW9uXCIpJiYobi5hcHBWZXJzaW9uPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KGUuYXBwVmVyc2lvbix0KSksZS5jbGllbnRJZCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImNsaWVudElkXCIpJiYobi5jbGllbnRJZD1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChlLmNsaWVudElkLHQpKSxufSxsLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGx9KCksYy5EZXZpY2VUeXBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChyKXtpZihyKWZvcihsZXQgZT1PYmplY3Qua2V5cyhyKSx0PTA7dDxlLmxlbmd0aDsrK3QpcltlW3RdXSE9bnVsbCYmKHRoaXNbZVt0XV09cltlW3RdXSl9cmV0dXJuIGwucHJvdG90eXBlLmFuc3dlcj1udWxsLGwucHJvdG90eXBlLm1vZGVsPW51bGwsbC5wcm90b3R5cGUuaXNKYWlsYnJva2VuPW51bGwsbC5wcm90b3R5cGUubWFudWZhY3R1cmVyPW51bGwsbC5wcm90b3R5cGUuaXNSb290ZWQ9bnVsbCxsLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGwoZSl9LGwuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXdlLmNyZWF0ZSgpKSxlLmFuc3dlciE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFuc3dlclwiKSYmaS5kZXZpY2UuQW5zd2VyLmVuY29kZShlLmFuc3dlcix0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxlLm1vZGVsIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibW9kZWxcIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShlLm1vZGVsLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGUuaXNKYWlsYnJva2VuIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaXNKYWlsYnJva2VuXCIpJiZpLmRldmljZS5Cb29sTWF5YmUuZW5jb2RlKGUuaXNKYWlsYnJva2VuLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLGUubWFudWZhY3R1cmVyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibWFudWZhY3R1cmVyXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoZS5tYW51ZmFjdHVyZXIsdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksZS5pc1Jvb3RlZCE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlzUm9vdGVkXCIpJiZpLmRldmljZS5Cb29sTWF5YmUuZW5jb2RlKGUuaXNSb290ZWQsdC51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksdH0sbC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgVXx8KGU9VS5jcmVhdGUoZSkpO2xldCBuPXQ9PT12b2lkIDA/ZS5sZW46ZS5wb3MrdCxvPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLkRldmljZVR5cGU7Zm9yKDtlLnBvczxuOyl7bGV0IGY9ZS51aW50MzIoKTtzd2l0Y2goZj4+PjMpe2Nhc2UgMTpvLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOm8ubW9kZWw9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOm8uaXNKYWlsYnJva2VuPWkuZGV2aWNlLkJvb2xNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDQ6by5tYW51ZmFjdHVyZXI9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA1Om8uaXNSb290ZWQ9aS5kZXZpY2UuQm9vbE1heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZShmJjcpO2JyZWFrfX1yZXR1cm4gb30sbC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVfHwoZT1uZXcgVShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPVwib2JqZWN0XCJ8fGU9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYoZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCB0PWkuZGV2aWNlLkFuc3dlci52ZXJpZnkoZS5hbnN3ZXIpO2lmKHQpcmV0dXJuXCJhbnN3ZXIuXCIrdH1pZihlLm1vZGVsIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwibW9kZWxcIikpe2xldCB0PWkuZGV2aWNlLlN0cmluZ01heWJlLnZlcmlmeShlLm1vZGVsKTtpZih0KXJldHVyblwibW9kZWwuXCIrdH1pZihlLmlzSmFpbGJyb2tlbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlzSmFpbGJyb2tlblwiKSl7bGV0IHQ9aS5kZXZpY2UuQm9vbE1heWJlLnZlcmlmeShlLmlzSmFpbGJyb2tlbik7aWYodClyZXR1cm5cImlzSmFpbGJyb2tlbi5cIit0fWlmKGUubWFudWZhY3R1cmVyIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwibWFudWZhY3R1cmVyXCIpKXtsZXQgdD1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoZS5tYW51ZmFjdHVyZXIpO2lmKHQpcmV0dXJuXCJtYW51ZmFjdHVyZXIuXCIrdH1pZihlLmlzUm9vdGVkIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNSb290ZWRcIikpe2xldCB0PWkuZGV2aWNlLkJvb2xNYXliZS52ZXJpZnkoZS5pc1Jvb3RlZCk7aWYodClyZXR1cm5cImlzUm9vdGVkLlwiK3R9cmV0dXJuIG51bGx9LGwuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mby5EZXZpY2VUeXBlKXJldHVybiBlO2xldCB0PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLkRldmljZVR5cGU7aWYoZS5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiBlLmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uRGV2aWNlVHlwZS5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTt0LmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdChlLmFuc3dlcil9aWYoZS5tb2RlbCE9bnVsbCl7aWYodHlwZW9mIGUubW9kZWwhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLkRldmljZVR5cGUubW9kZWw6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm1vZGVsPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QoZS5tb2RlbCl9aWYoZS5pc0phaWxicm9rZW4hPW51bGwpe2lmKHR5cGVvZiBlLmlzSmFpbGJyb2tlbiE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uRGV2aWNlVHlwZS5pc0phaWxicm9rZW46IG9iamVjdCBleHBlY3RlZFwiKTt0LmlzSmFpbGJyb2tlbj1pLmRldmljZS5Cb29sTWF5YmUuZnJvbU9iamVjdChlLmlzSmFpbGJyb2tlbil9aWYoZS5tYW51ZmFjdHVyZXIhPW51bGwpe2lmKHR5cGVvZiBlLm1hbnVmYWN0dXJlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uRGV2aWNlVHlwZS5tYW51ZmFjdHVyZXI6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm1hbnVmYWN0dXJlcj1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KGUubWFudWZhY3R1cmVyKX1pZihlLmlzUm9vdGVkIT1udWxsKXtpZih0eXBlb2YgZS5pc1Jvb3RlZCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uRGV2aWNlVHlwZS5pc1Jvb3RlZDogb2JqZWN0IGV4cGVjdGVkXCIpO3QuaXNSb290ZWQ9aS5kZXZpY2UuQm9vbE1heWJlLmZyb21PYmplY3QoZS5pc1Jvb3RlZCl9cmV0dXJuIHR9LGwudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt0fHwodD17fSk7bGV0IG49e307cmV0dXJuIHQuZGVmYXVsdHMmJihuLmFuc3dlcj1udWxsLG4ubW9kZWw9bnVsbCxuLmlzSmFpbGJyb2tlbj1udWxsLG4ubWFudWZhY3R1cmVyPW51bGwsbi5pc1Jvb3RlZD1udWxsKSxlLmFuc3dlciE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKG4uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdChlLmFuc3dlcix0KSksZS5tb2RlbCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcIm1vZGVsXCIpJiYobi5tb2RlbD1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChlLm1vZGVsLHQpKSxlLmlzSmFpbGJyb2tlbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlzSmFpbGJyb2tlblwiKSYmKG4uaXNKYWlsYnJva2VuPWkuZGV2aWNlLkJvb2xNYXliZS50b09iamVjdChlLmlzSmFpbGJyb2tlbix0KSksZS5tYW51ZmFjdHVyZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJtYW51ZmFjdHVyZXJcIikmJihuLm1hbnVmYWN0dXJlcj1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChlLm1hbnVmYWN0dXJlcix0KSksZS5pc1Jvb3RlZCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlzUm9vdGVkXCIpJiYobi5pc1Jvb3RlZD1pLmRldmljZS5Cb29sTWF5YmUudG9PYmplY3QoZS5pc1Jvb3RlZCx0KSksbn0sbC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxsfSgpLGMuQXV0aGVudGljYXRpb249ZnVuY3Rpb24oKXtmdW5jdGlvbiBsKHIpe2lmKHIpZm9yKGxldCBlPU9iamVjdC5rZXlzKHIpLHQ9MDt0PGUubGVuZ3RoOysrdClyW2VbdF1dIT1udWxsJiYodGhpc1tlW3RdXT1yW2VbdF1dKX1yZXR1cm4gbC5wcm90b3R5cGUuYW5zd2VyPW51bGwsbC5wcm90b3R5cGUubG9naW5Qcm92aWRlck5hbWU9bnVsbCxsLnByb3RvdHlwZS5sb2dpblByb3ZpZGVyR3VpZD1udWxsLGwucHJvdG90eXBlLmlzVHBtQXZhaWxhYmxlPW51bGwsbC5wcm90b3R5cGUuaXNQYXNzd29yZFNldD1udWxsLGwucHJvdG90eXBlLmlzQmlvbWV0cmljc1NldD1udWxsLGwucHJvdG90eXBlLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQ9bnVsbCxsLnByb3RvdHlwZS5pc1NlY3VyZUVuY2xhdmVBdmFpbGFibGU9bnVsbCxsLnByb3RvdHlwZS5pc1dlYmF1dGhuQXZhaWxhYmxlPW51bGwsbC5wcm90b3R5cGUuaXNQbGF0Zm9ybUF1dGhlbnRpY2F0b3JBdmFpbGFibGU9bnVsbCxsLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGwoZSl9LGwuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXdlLmNyZWF0ZSgpKSxlLmFuc3dlciE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFuc3dlclwiKSYmaS5kZXZpY2UuQW5zd2VyLmVuY29kZShlLmFuc3dlcix0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxlLmxvZ2luUHJvdmlkZXJOYW1lIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibG9naW5Qcm92aWRlck5hbWVcIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShlLmxvZ2luUHJvdmlkZXJOYW1lLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGUubG9naW5Qcm92aWRlckd1aWQhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsb2dpblByb3ZpZGVyR3VpZFwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKGUubG9naW5Qcm92aWRlckd1aWQsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksZS5pc1RwbUF2YWlsYWJsZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlzVHBtQXZhaWxhYmxlXCIpJiZpLmRldmljZS5Cb29sTWF5YmUuZW5jb2RlKGUuaXNUcG1BdmFpbGFibGUsdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksZS5pc1Bhc3N3b3JkU2V0IT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaXNQYXNzd29yZFNldFwiKSYmaS5kZXZpY2UuQm9vbE1heWJlLmVuY29kZShlLmlzUGFzc3dvcmRTZXQsdC51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksZS5pc0Jpb21ldHJpY3NTZXQhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpc0Jpb21ldHJpY3NTZXRcIikmJmkuZGV2aWNlLkJvb2xNYXliZS5lbmNvZGUoZS5pc0Jpb21ldHJpY3NTZXQsdC51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCksZS5pc1dhdGNoQXV0aGVudGljYXRpb25FbmFibGVkIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaXNXYXRjaEF1dGhlbnRpY2F0aW9uRW5hYmxlZFwiKSYmaS5kZXZpY2UuQm9vbE1heWJlLmVuY29kZShlLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQsdC51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCksZS5pc1NlY3VyZUVuY2xhdmVBdmFpbGFibGUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpc1NlY3VyZUVuY2xhdmVBdmFpbGFibGVcIikmJmkuZGV2aWNlLkJvb2xNYXliZS5lbmNvZGUoZS5pc1NlY3VyZUVuY2xhdmVBdmFpbGFibGUsdC51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCksZS5pc1dlYmF1dGhuQXZhaWxhYmxlIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaXNXZWJhdXRobkF2YWlsYWJsZVwiKSYmaS5kZXZpY2UuQm9vbE1heWJlLmVuY29kZShlLmlzV2ViYXV0aG5BdmFpbGFibGUsdC51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCksZS5pc1BsYXRmb3JtQXV0aGVudGljYXRvckF2YWlsYWJsZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlzUGxhdGZvcm1BdXRoZW50aWNhdG9yQXZhaWxhYmxlXCIpJiZpLmRldmljZS5Cb29sTWF5YmUuZW5jb2RlKGUuaXNQbGF0Zm9ybUF1dGhlbnRpY2F0b3JBdmFpbGFibGUsdC51aW50MzIoODIpLmZvcmsoKSkubGRlbGltKCksdH0sbC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgVXx8KGU9VS5jcmVhdGUoZSkpO2xldCBuPXQ9PT12b2lkIDA/ZS5sZW46ZS5wb3MrdCxvPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLkF1dGhlbnRpY2F0aW9uO2Zvcig7ZS5wb3M8bjspe2xldCBmPWUudWludDMyKCk7c3dpdGNoKGY+Pj4zKXtjYXNlIDE6by5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpvLmxvZ2luUHJvdmlkZXJOYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpvLmxvZ2luUHJvdmlkZXJHdWlkPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNDpvLmlzVHBtQXZhaWxhYmxlPWkuZGV2aWNlLkJvb2xNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDU6by5pc1Bhc3N3b3JkU2V0PWkuZGV2aWNlLkJvb2xNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDY6by5pc0Jpb21ldHJpY3NTZXQ9aS5kZXZpY2UuQm9vbE1heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNzpvLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQ9aS5kZXZpY2UuQm9vbE1heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgODpvLmlzU2VjdXJlRW5jbGF2ZUF2YWlsYWJsZT1pLmRldmljZS5Cb29sTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA5Om8uaXNXZWJhdXRobkF2YWlsYWJsZT1pLmRldmljZS5Cb29sTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMDpvLmlzUGxhdGZvcm1BdXRoZW50aWNhdG9yQXZhaWxhYmxlPWkuZGV2aWNlLkJvb2xNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoZiY3KTticmVha319cmV0dXJuIG99LGwuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVXx8KGU9bmV3IFUoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGwudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT1cIm9iamVjdFwifHxlPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKGUuYW5zd2VyIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpKXtsZXQgdD1pLmRldmljZS5BbnN3ZXIudmVyaWZ5KGUuYW5zd2VyKTtpZih0KXJldHVyblwiYW5zd2VyLlwiK3R9aWYoZS5sb2dpblByb3ZpZGVyTmFtZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImxvZ2luUHJvdmlkZXJOYW1lXCIpKXtsZXQgdD1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoZS5sb2dpblByb3ZpZGVyTmFtZSk7aWYodClyZXR1cm5cImxvZ2luUHJvdmlkZXJOYW1lLlwiK3R9aWYoZS5sb2dpblByb3ZpZGVyR3VpZCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImxvZ2luUHJvdmlkZXJHdWlkXCIpKXtsZXQgdD1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoZS5sb2dpblByb3ZpZGVyR3VpZCk7aWYodClyZXR1cm5cImxvZ2luUHJvdmlkZXJHdWlkLlwiK3R9aWYoZS5pc1RwbUF2YWlsYWJsZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlzVHBtQXZhaWxhYmxlXCIpKXtsZXQgdD1pLmRldmljZS5Cb29sTWF5YmUudmVyaWZ5KGUuaXNUcG1BdmFpbGFibGUpO2lmKHQpcmV0dXJuXCJpc1RwbUF2YWlsYWJsZS5cIit0fWlmKGUuaXNQYXNzd29yZFNldCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlzUGFzc3dvcmRTZXRcIikpe2xldCB0PWkuZGV2aWNlLkJvb2xNYXliZS52ZXJpZnkoZS5pc1Bhc3N3b3JkU2V0KTtpZih0KXJldHVyblwiaXNQYXNzd29yZFNldC5cIit0fWlmKGUuaXNCaW9tZXRyaWNzU2V0IT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNCaW9tZXRyaWNzU2V0XCIpKXtsZXQgdD1pLmRldmljZS5Cb29sTWF5YmUudmVyaWZ5KGUuaXNCaW9tZXRyaWNzU2V0KTtpZih0KXJldHVyblwiaXNCaW9tZXRyaWNzU2V0LlwiK3R9aWYoZS5pc1dhdGNoQXV0aGVudGljYXRpb25FbmFibGVkIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNXYXRjaEF1dGhlbnRpY2F0aW9uRW5hYmxlZFwiKSl7bGV0IHQ9aS5kZXZpY2UuQm9vbE1heWJlLnZlcmlmeShlLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQpO2lmKHQpcmV0dXJuXCJpc1dhdGNoQXV0aGVudGljYXRpb25FbmFibGVkLlwiK3R9aWYoZS5pc1NlY3VyZUVuY2xhdmVBdmFpbGFibGUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJpc1NlY3VyZUVuY2xhdmVBdmFpbGFibGVcIikpe2xldCB0PWkuZGV2aWNlLkJvb2xNYXliZS52ZXJpZnkoZS5pc1NlY3VyZUVuY2xhdmVBdmFpbGFibGUpO2lmKHQpcmV0dXJuXCJpc1NlY3VyZUVuY2xhdmVBdmFpbGFibGUuXCIrdH1pZihlLmlzV2ViYXV0aG5BdmFpbGFibGUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJpc1dlYmF1dGhuQXZhaWxhYmxlXCIpKXtsZXQgdD1pLmRldmljZS5Cb29sTWF5YmUudmVyaWZ5KGUuaXNXZWJhdXRobkF2YWlsYWJsZSk7aWYodClyZXR1cm5cImlzV2ViYXV0aG5BdmFpbGFibGUuXCIrdH1pZihlLmlzUGxhdGZvcm1BdXRoZW50aWNhdG9yQXZhaWxhYmxlIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNQbGF0Zm9ybUF1dGhlbnRpY2F0b3JBdmFpbGFibGVcIikpe2xldCB0PWkuZGV2aWNlLkJvb2xNYXliZS52ZXJpZnkoZS5pc1BsYXRmb3JtQXV0aGVudGljYXRvckF2YWlsYWJsZSk7aWYodClyZXR1cm5cImlzUGxhdGZvcm1BdXRoZW50aWNhdG9yQXZhaWxhYmxlLlwiK3R9cmV0dXJuIG51bGx9LGwuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mby5BdXRoZW50aWNhdGlvbilyZXR1cm4gZTtsZXQgdD1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5BdXRoZW50aWNhdGlvbjtpZihlLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIGUuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BdXRoZW50aWNhdGlvbi5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTt0LmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdChlLmFuc3dlcil9aWYoZS5sb2dpblByb3ZpZGVyTmFtZSE9bnVsbCl7aWYodHlwZW9mIGUubG9naW5Qcm92aWRlck5hbWUhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLkF1dGhlbnRpY2F0aW9uLmxvZ2luUHJvdmlkZXJOYW1lOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5sb2dpblByb3ZpZGVyTmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS5mcm9tT2JqZWN0KGUubG9naW5Qcm92aWRlck5hbWUpfWlmKGUubG9naW5Qcm92aWRlckd1aWQhPW51bGwpe2lmKHR5cGVvZiBlLmxvZ2luUHJvdmlkZXJHdWlkIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BdXRoZW50aWNhdGlvbi5sb2dpblByb3ZpZGVyR3VpZDogb2JqZWN0IGV4cGVjdGVkXCIpO3QubG9naW5Qcm92aWRlckd1aWQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLmxvZ2luUHJvdmlkZXJHdWlkKX1pZihlLmlzVHBtQXZhaWxhYmxlIT1udWxsKXtpZih0eXBlb2YgZS5pc1RwbUF2YWlsYWJsZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uQXV0aGVudGljYXRpb24uaXNUcG1BdmFpbGFibGU6IG9iamVjdCBleHBlY3RlZFwiKTt0LmlzVHBtQXZhaWxhYmxlPWkuZGV2aWNlLkJvb2xNYXliZS5mcm9tT2JqZWN0KGUuaXNUcG1BdmFpbGFibGUpfWlmKGUuaXNQYXNzd29yZFNldCE9bnVsbCl7aWYodHlwZW9mIGUuaXNQYXNzd29yZFNldCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uQXV0aGVudGljYXRpb24uaXNQYXNzd29yZFNldDogb2JqZWN0IGV4cGVjdGVkXCIpO3QuaXNQYXNzd29yZFNldD1pLmRldmljZS5Cb29sTWF5YmUuZnJvbU9iamVjdChlLmlzUGFzc3dvcmRTZXQpfWlmKGUuaXNCaW9tZXRyaWNzU2V0IT1udWxsKXtpZih0eXBlb2YgZS5pc0Jpb21ldHJpY3NTZXQhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLkF1dGhlbnRpY2F0aW9uLmlzQmlvbWV0cmljc1NldDogb2JqZWN0IGV4cGVjdGVkXCIpO3QuaXNCaW9tZXRyaWNzU2V0PWkuZGV2aWNlLkJvb2xNYXliZS5mcm9tT2JqZWN0KGUuaXNCaW9tZXRyaWNzU2V0KX1pZihlLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQhPW51bGwpe2lmKHR5cGVvZiBlLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLkF1dGhlbnRpY2F0aW9uLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQ6IG9iamVjdCBleHBlY3RlZFwiKTt0LmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQ9aS5kZXZpY2UuQm9vbE1heWJlLmZyb21PYmplY3QoZS5pc1dhdGNoQXV0aGVudGljYXRpb25FbmFibGVkKX1pZihlLmlzU2VjdXJlRW5jbGF2ZUF2YWlsYWJsZSE9bnVsbCl7aWYodHlwZW9mIGUuaXNTZWN1cmVFbmNsYXZlQXZhaWxhYmxlIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BdXRoZW50aWNhdGlvbi5pc1NlY3VyZUVuY2xhdmVBdmFpbGFibGU6IG9iamVjdCBleHBlY3RlZFwiKTt0LmlzU2VjdXJlRW5jbGF2ZUF2YWlsYWJsZT1pLmRldmljZS5Cb29sTWF5YmUuZnJvbU9iamVjdChlLmlzU2VjdXJlRW5jbGF2ZUF2YWlsYWJsZSl9aWYoZS5pc1dlYmF1dGhuQXZhaWxhYmxlIT1udWxsKXtpZih0eXBlb2YgZS5pc1dlYmF1dGhuQXZhaWxhYmxlIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BdXRoZW50aWNhdGlvbi5pc1dlYmF1dGhuQXZhaWxhYmxlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5pc1dlYmF1dGhuQXZhaWxhYmxlPWkuZGV2aWNlLkJvb2xNYXliZS5mcm9tT2JqZWN0KGUuaXNXZWJhdXRobkF2YWlsYWJsZSl9aWYoZS5pc1BsYXRmb3JtQXV0aGVudGljYXRvckF2YWlsYWJsZSE9bnVsbCl7aWYodHlwZW9mIGUuaXNQbGF0Zm9ybUF1dGhlbnRpY2F0b3JBdmFpbGFibGUhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLkF1dGhlbnRpY2F0aW9uLmlzUGxhdGZvcm1BdXRoZW50aWNhdG9yQXZhaWxhYmxlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5pc1BsYXRmb3JtQXV0aGVudGljYXRvckF2YWlsYWJsZT1pLmRldmljZS5Cb29sTWF5YmUuZnJvbU9iamVjdChlLmlzUGxhdGZvcm1BdXRoZW50aWNhdG9yQXZhaWxhYmxlKX1yZXR1cm4gdH0sbC50b09iamVjdD1mdW5jdGlvbihlLHQpe3R8fCh0PXt9KTtsZXQgbj17fTtyZXR1cm4gdC5kZWZhdWx0cyYmKG4uYW5zd2VyPW51bGwsbi5sb2dpblByb3ZpZGVyTmFtZT1udWxsLG4ubG9naW5Qcm92aWRlckd1aWQ9bnVsbCxuLmlzVHBtQXZhaWxhYmxlPW51bGwsbi5pc1Bhc3N3b3JkU2V0PW51bGwsbi5pc0Jpb21ldHJpY3NTZXQ9bnVsbCxuLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQ9bnVsbCxuLmlzU2VjdXJlRW5jbGF2ZUF2YWlsYWJsZT1udWxsLG4uaXNXZWJhdXRobkF2YWlsYWJsZT1udWxsLG4uaXNQbGF0Zm9ybUF1dGhlbnRpY2F0b3JBdmFpbGFibGU9bnVsbCksZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikmJihuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIudG9PYmplY3QoZS5hbnN3ZXIsdCkpLGUubG9naW5Qcm92aWRlck5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJsb2dpblByb3ZpZGVyTmFtZVwiKSYmKG4ubG9naW5Qcm92aWRlck5hbWU9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QoZS5sb2dpblByb3ZpZGVyTmFtZSx0KSksZS5sb2dpblByb3ZpZGVyR3VpZCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImxvZ2luUHJvdmlkZXJHdWlkXCIpJiYobi5sb2dpblByb3ZpZGVyR3VpZD1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChlLmxvZ2luUHJvdmlkZXJHdWlkLHQpKSxlLmlzVHBtQXZhaWxhYmxlIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNUcG1BdmFpbGFibGVcIikmJihuLmlzVHBtQXZhaWxhYmxlPWkuZGV2aWNlLkJvb2xNYXliZS50b09iamVjdChlLmlzVHBtQXZhaWxhYmxlLHQpKSxlLmlzUGFzc3dvcmRTZXQhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJpc1Bhc3N3b3JkU2V0XCIpJiYobi5pc1Bhc3N3b3JkU2V0PWkuZGV2aWNlLkJvb2xNYXliZS50b09iamVjdChlLmlzUGFzc3dvcmRTZXQsdCkpLGUuaXNCaW9tZXRyaWNzU2V0IT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNCaW9tZXRyaWNzU2V0XCIpJiYobi5pc0Jpb21ldHJpY3NTZXQ9aS5kZXZpY2UuQm9vbE1heWJlLnRvT2JqZWN0KGUuaXNCaW9tZXRyaWNzU2V0LHQpKSxlLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJpc1dhdGNoQXV0aGVudGljYXRpb25FbmFibGVkXCIpJiYobi5pc1dhdGNoQXV0aGVudGljYXRpb25FbmFibGVkPWkuZGV2aWNlLkJvb2xNYXliZS50b09iamVjdChlLmlzV2F0Y2hBdXRoZW50aWNhdGlvbkVuYWJsZWQsdCkpLGUuaXNTZWN1cmVFbmNsYXZlQXZhaWxhYmxlIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNTZWN1cmVFbmNsYXZlQXZhaWxhYmxlXCIpJiYobi5pc1NlY3VyZUVuY2xhdmVBdmFpbGFibGU9aS5kZXZpY2UuQm9vbE1heWJlLnRvT2JqZWN0KGUuaXNTZWN1cmVFbmNsYXZlQXZhaWxhYmxlLHQpKSxlLmlzV2ViYXV0aG5BdmFpbGFibGUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJpc1dlYmF1dGhuQXZhaWxhYmxlXCIpJiYobi5pc1dlYmF1dGhuQXZhaWxhYmxlPWkuZGV2aWNlLkJvb2xNYXliZS50b09iamVjdChlLmlzV2ViYXV0aG5BdmFpbGFibGUsdCkpLGUuaXNQbGF0Zm9ybUF1dGhlbnRpY2F0b3JBdmFpbGFibGUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJpc1BsYXRmb3JtQXV0aGVudGljYXRvckF2YWlsYWJsZVwiKSYmKG4uaXNQbGF0Zm9ybUF1dGhlbnRpY2F0b3JBdmFpbGFibGU9aS5kZXZpY2UuQm9vbE1heWJlLnRvT2JqZWN0KGUuaXNQbGF0Zm9ybUF1dGhlbnRpY2F0b3JBdmFpbGFibGUsdCkpLG59LGwucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYWUudXRpbC50b0pTT05PcHRpb25zKX0sbH0oKSxjLlNlY3VyaXR5U29mdHdhcmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBsKHIpe2lmKHRoaXMuc29mdHdhcmU9W10scilmb3IobGV0IGU9T2JqZWN0LmtleXMociksdD0wO3Q8ZS5sZW5ndGg7Kyt0KXJbZVt0XV0hPW51bGwmJih0aGlzW2VbdF1dPXJbZVt0XV0pfXJldHVybiBsLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxsLnByb3RvdHlwZS5zb2Z0d2FyZT1rZS5lbXB0eUFycmF5LGwuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbChlKX0sbC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0fHwodD13ZS5jcmVhdGUoKSksZS5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUoZS5hbnN3ZXIsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksZS5zb2Z0d2FyZSE9bnVsbCYmZS5zb2Z0d2FyZS5sZW5ndGgpZm9yKGxldCBuPTA7bjxlLnNvZnR3YXJlLmxlbmd0aDsrK24paS5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLlNvZnR3YXJlSW5mby5lbmNvZGUoZS5zb2Z0d2FyZVtuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sbC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgVXx8KGU9VS5jcmVhdGUoZSkpO2xldCBuPXQ9PT12b2lkIDA/ZS5sZW46ZS5wb3MrdCxvPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmU7Zm9yKDtlLnBvczxuOyl7bGV0IGY9ZS51aW50MzIoKTtzd2l0Y2goZj4+PjMpe2Nhc2UgMTpvLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOm8uc29mdHdhcmUmJm8uc29mdHdhcmUubGVuZ3RofHwoby5zb2Z0d2FyZT1bXSksby5zb2Z0d2FyZS5wdXNoKGkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZShmJjcpO2JyZWFrfX1yZXR1cm4gb30sbC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVfHwoZT1uZXcgVShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPVwib2JqZWN0XCJ8fGU9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYoZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCB0PWkuZGV2aWNlLkFuc3dlci52ZXJpZnkoZS5hbnN3ZXIpO2lmKHQpcmV0dXJuXCJhbnN3ZXIuXCIrdH1pZihlLnNvZnR3YXJlIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwic29mdHdhcmVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuc29mdHdhcmUpKXJldHVyblwic29mdHdhcmU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKGxldCB0PTA7dDxlLnNvZnR3YXJlLmxlbmd0aDsrK3Qpe2xldCBuPWkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8udmVyaWZ5KGUuc29mdHdhcmVbdF0pO2lmKG4pcmV0dXJuXCJzb2Z0d2FyZS5cIitufX1yZXR1cm4gbnVsbH0sbC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBpLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUpcmV0dXJuIGU7bGV0IHQ9bmV3IGkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZTtpZihlLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIGUuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLmFuc3dlcjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5mcm9tT2JqZWN0KGUuYW5zd2VyKX1pZihlLnNvZnR3YXJlKXtpZighQXJyYXkuaXNBcnJheShlLnNvZnR3YXJlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5zb2Z0d2FyZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5zb2Z0d2FyZT1bXTtmb3IobGV0IG49MDtuPGUuc29mdHdhcmUubGVuZ3RoOysrbil7aWYodHlwZW9mIGUuc29mdHdhcmVbbl0hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuc29mdHdhcmU6IG9iamVjdCBleHBlY3RlZFwiKTt0LnNvZnR3YXJlW25dPWkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uZnJvbU9iamVjdChlLnNvZnR3YXJlW25dKX19cmV0dXJuIHR9LGwudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt0fHwodD17fSk7bGV0IG49e307aWYoKHQuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uc29mdHdhcmU9W10pLHQuZGVmYXVsdHMmJihuLmFuc3dlcj1udWxsKSxlLmFuc3dlciE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKG4uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdChlLmFuc3dlcix0KSksZS5zb2Z0d2FyZSYmZS5zb2Z0d2FyZS5sZW5ndGgpe24uc29mdHdhcmU9W107Zm9yKGxldCBvPTA7bzxlLnNvZnR3YXJlLmxlbmd0aDsrK28pbi5zb2Z0d2FyZVtvXT1pLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLnRvT2JqZWN0KGUuc29mdHdhcmVbb10sdCl9cmV0dXJuIG59LGwucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYWUudXRpbC50b0pTT05PcHRpb25zKX0sbC5Tb2Z0d2FyZUluZm89ZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUpe2lmKGUpZm9yKGxldCB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbillW3Rbbl1dIT1udWxsJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1yZXR1cm4gci5wcm90b3R5cGUuYW5zd2VyPW51bGwsci5wcm90b3R5cGUuY2F0ZWdvcnk9bnVsbCxyLnByb3RvdHlwZS5uYW1lPW51bGwsci5wcm90b3R5cGUudmVyc2lvbj1udWxsLHIucHJvdG90eXBlLmVuYWJsZWQ9bnVsbCxyLnByb3RvdHlwZS5zdGF0dXM9bnVsbCxyLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHIodCl9LHIuZW5jb2RlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG58fChuPXdlLmNyZWF0ZSgpKSx0LmFuc3dlciE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcImFuc3dlclwiKSYmaS5kZXZpY2UuQW5zd2VyLmVuY29kZSh0LmFuc3dlcixuLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSx0LmNhdGVnb3J5IT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiY2F0ZWdvcnlcIikmJmkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uQ2F0ZWdvcnlNYXliZS5lbmNvZGUodC5jYXRlZ29yeSxuLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0Lm5hbWUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJuYW1lXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUodC5uYW1lLG4udWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHQudmVyc2lvbiE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcInZlcnNpb25cIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZSh0LnZlcnNpb24sbi51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksdC5lbmFibGVkIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiZW5hYmxlZFwiKSYmaS5kZXZpY2UuQm9vbE1heWJlLmVuY29kZSh0LmVuYWJsZWQsbi51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksdC5zdGF0dXMhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJzdGF0dXNcIikmJmkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uU3RhdHVzTWF5YmUuZW5jb2RlKHQuc3RhdHVzLG4udWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpLG59LHIuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMuZW5jb2RlKHQsbikubGRlbGltKCl9LHIuZGVjb2RlPWZ1bmN0aW9uKHQsbil7dCBpbnN0YW5jZW9mIFV8fCh0PVUuY3JlYXRlKHQpKTtsZXQgbz1uPT09dm9pZCAwP3QubGVuOnQucG9zK24sZj1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLlNvZnR3YXJlSW5mbztmb3IoO3QucG9zPG87KXtsZXQgeT10LnVpbnQzMigpO3N3aXRjaCh5Pj4+Myl7Y2FzZSAxOmYuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDI6Zi5jYXRlZ29yeT1pLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLkNhdGVnb3J5TWF5YmUuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmYubmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDQ6Zi52ZXJzaW9uPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgNTpmLmVuYWJsZWQ9aS5kZXZpY2UuQm9vbE1heWJlLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgNjpmLnN0YXR1cz1pLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLlN0YXR1c01heWJlLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSh5JjcpO2JyZWFrfX1yZXR1cm4gZn0sci5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVfHwodD1uZXcgVSh0KSksdGhpcy5kZWNvZGUodCx0LnVpbnQzMigpKX0sci52ZXJpZnk9ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fHQ9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYodC5hbnN3ZXIhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCBuPWkuZGV2aWNlLkFuc3dlci52ZXJpZnkodC5hbnN3ZXIpO2lmKG4pcmV0dXJuXCJhbnN3ZXIuXCIrbn1pZih0LmNhdGVnb3J5IT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiY2F0ZWdvcnlcIikpe2xldCBuPWkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uQ2F0ZWdvcnlNYXliZS52ZXJpZnkodC5jYXRlZ29yeSk7aWYobilyZXR1cm5cImNhdGVnb3J5LlwiK259aWYodC5uYW1lIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwibmFtZVwiKSl7bGV0IG49aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KHQubmFtZSk7aWYobilyZXR1cm5cIm5hbWUuXCIrbn1pZih0LnZlcnNpb24hPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJ2ZXJzaW9uXCIpKXtsZXQgbj1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkodC52ZXJzaW9uKTtpZihuKXJldHVyblwidmVyc2lvbi5cIitufWlmKHQuZW5hYmxlZCE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImVuYWJsZWRcIikpe2xldCBuPWkuZGV2aWNlLkJvb2xNYXliZS52ZXJpZnkodC5lbmFibGVkKTtpZihuKXJldHVyblwiZW5hYmxlZC5cIitufWlmKHQuc3RhdHVzIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwic3RhdHVzXCIpKXtsZXQgbj1pLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLlN0YXR1c01heWJlLnZlcmlmeSh0LnN0YXR1cyk7aWYobilyZXR1cm5cInN0YXR1cy5cIitufXJldHVybiBudWxsfSxyLmZyb21PYmplY3Q9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8pcmV0dXJuIHQ7bGV0IG49bmV3IGkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm87aWYodC5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiB0LmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3QodC5hbnN3ZXIpfWlmKHQuY2F0ZWdvcnkhPW51bGwpe2lmKHR5cGVvZiB0LmNhdGVnb3J5IT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLlNvZnR3YXJlSW5mby5jYXRlZ29yeTogb2JqZWN0IGV4cGVjdGVkXCIpO24uY2F0ZWdvcnk9aS5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLlNvZnR3YXJlSW5mby5DYXRlZ29yeU1heWJlLmZyb21PYmplY3QodC5jYXRlZ29yeSl9aWYodC5uYW1lIT1udWxsKXtpZih0eXBlb2YgdC5uYW1lIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLlNvZnR3YXJlSW5mby5uYW1lOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5uYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QodC5uYW1lKX1pZih0LnZlcnNpb24hPW51bGwpe2lmKHR5cGVvZiB0LnZlcnNpb24hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLnZlcnNpb246IG9iamVjdCBleHBlY3RlZFwiKTtuLnZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdCh0LnZlcnNpb24pfWlmKHQuZW5hYmxlZCE9bnVsbCl7aWYodHlwZW9mIHQuZW5hYmxlZCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uZW5hYmxlZDogb2JqZWN0IGV4cGVjdGVkXCIpO24uZW5hYmxlZD1pLmRldmljZS5Cb29sTWF5YmUuZnJvbU9iamVjdCh0LmVuYWJsZWQpfWlmKHQuc3RhdHVzIT1udWxsKXtpZih0eXBlb2YgdC5zdGF0dXMhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLnN0YXR1czogb2JqZWN0IGV4cGVjdGVkXCIpO24uc3RhdHVzPWkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uU3RhdHVzTWF5YmUuZnJvbU9iamVjdCh0LnN0YXR1cyl9cmV0dXJuIG59LHIudG9PYmplY3Q9ZnVuY3Rpb24odCxuKXtufHwobj17fSk7bGV0IG89e307cmV0dXJuIG4uZGVmYXVsdHMmJihvLmFuc3dlcj1udWxsLG8uY2F0ZWdvcnk9bnVsbCxvLm5hbWU9bnVsbCxvLnZlcnNpb249bnVsbCxvLmVuYWJsZWQ9bnVsbCxvLnN0YXR1cz1udWxsKSx0LmFuc3dlciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKG8uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdCh0LmFuc3dlcixuKSksdC5jYXRlZ29yeSE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImNhdGVnb3J5XCIpJiYoby5jYXRlZ29yeT1pLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLkNhdGVnb3J5TWF5YmUudG9PYmplY3QodC5jYXRlZ29yeSxuKSksdC5uYW1lIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG8ubmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdCh0Lm5hbWUsbikpLHQudmVyc2lvbiE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcInZlcnNpb25cIikmJihvLnZlcnNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QodC52ZXJzaW9uLG4pKSx0LmVuYWJsZWQhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJlbmFibGVkXCIpJiYoby5lbmFibGVkPWkuZGV2aWNlLkJvb2xNYXliZS50b09iamVjdCh0LmVuYWJsZWQsbikpLHQuc3RhdHVzIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwic3RhdHVzXCIpJiYoby5zdGF0dXM9aS5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLlNvZnR3YXJlSW5mby5TdGF0dXNNYXliZS50b09iamVjdCh0LnN0YXR1cyxuKSksb30sci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxyLkNhdGVnb3J5PWZ1bmN0aW9uKCl7bGV0IGU9e30sdD1PYmplY3QuY3JlYXRlKGUpO3JldHVybiB0W2VbMF09XCJGSVJFV0FMTFwiXT0wLHRbZVsxXT1cIkFOVElNQUxXQVJFXCJdPTEsdFtlWzJdPVwiQU5USVNQWVdBUkVcIl09Mix0W2VbM109XCJBTlRJVklSVVNcIl09Myx0fSgpLHIuQ2F0ZWdvcnlNYXliZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aWYodClmb3IobGV0IG49T2JqZWN0LmtleXModCksbz0wO288bi5sZW5ndGg7KytvKXRbbltvXV0hPW51bGwmJih0aGlzW25bb11dPXRbbltvXV0pfXJldHVybiBlLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxlLnByb3RvdHlwZS52YWx1ZT0wLGUuY3JlYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgZShuKX0sZS5lbmNvZGU9ZnVuY3Rpb24obixvKXtyZXR1cm4gb3x8KG89d2UuY3JlYXRlKCkpLG4uYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKG4uYW5zd2VyLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG4udmFsdWUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sXCJ2YWx1ZVwiKSYmby51aW50MzIoMTYpLmludDMyKG4udmFsdWUpLG99LGUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKG4sbyl7cmV0dXJuIHRoaXMuZW5jb2RlKG4sbykubGRlbGltKCl9LGUuZGVjb2RlPWZ1bmN0aW9uKG4sbyl7biBpbnN0YW5jZW9mIFV8fChuPVUuY3JlYXRlKG4pKTtsZXQgZj1vPT09dm9pZCAwP24ubGVuOm4ucG9zK28seT1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLlNvZnR3YXJlSW5mby5DYXRlZ29yeU1heWJlO2Zvcig7bi5wb3M8Zjspe2xldCBPPW4udWludDMyKCk7c3dpdGNoKE8+Pj4zKXtjYXNlIDE6eS5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgMjp5LnZhbHVlPW4uaW50MzIoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoTyY3KTticmVha319cmV0dXJuIHl9LGUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKG4pe3JldHVybiBuIGluc3RhbmNlb2YgVXx8KG49bmV3IFUobikpLHRoaXMuZGVjb2RlKG4sbi51aW50MzIoKSl9LGUudmVyaWZ5PWZ1bmN0aW9uKG4pe2lmKHR5cGVvZiBuIT1cIm9iamVjdFwifHxuPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG4uYW5zd2VyIT1udWxsJiZuLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpKXtsZXQgbz1pLmRldmljZS5BbnN3ZXIudmVyaWZ5KG4uYW5zd2VyKTtpZihvKXJldHVyblwiYW5zd2VyLlwiK299aWYobi52YWx1ZSE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpKXN3aXRjaChuLnZhbHVlKXtkZWZhdWx0OnJldHVyblwidmFsdWU6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjpjYXNlIDM6YnJlYWt9cmV0dXJuIG51bGx9LGUuZnJvbU9iamVjdD1mdW5jdGlvbihuKXtpZihuIGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLlNvZnR3YXJlSW5mby5DYXRlZ29yeU1heWJlKXJldHVybiBuO2xldCBvPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLkNhdGVnb3J5TWF5YmU7aWYobi5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiBuLmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uQ2F0ZWdvcnlNYXliZS5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTtvLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdChuLmFuc3dlcil9c3dpdGNoKG4udmFsdWUpe2Nhc2VcIkZJUkVXQUxMXCI6Y2FzZSAwOm8udmFsdWU9MDticmVhaztjYXNlXCJBTlRJTUFMV0FSRVwiOmNhc2UgMTpvLnZhbHVlPTE7YnJlYWs7Y2FzZVwiQU5USVNQWVdBUkVcIjpjYXNlIDI6by52YWx1ZT0yO2JyZWFrO2Nhc2VcIkFOVElWSVJVU1wiOmNhc2UgMzpvLnZhbHVlPTM7YnJlYWt9cmV0dXJuIG99LGUudG9PYmplY3Q9ZnVuY3Rpb24obixvKXtvfHwobz17fSk7bGV0IGY9e307cmV0dXJuIG8uZGVmYXVsdHMmJihmLmFuc3dlcj1udWxsLGYudmFsdWU9by5lbnVtcz09PVN0cmluZz9cIkZJUkVXQUxMXCI6MCksbi5hbnN3ZXIhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikmJihmLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIudG9PYmplY3Qobi5hbnN3ZXIsbykpLG4udmFsdWUhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSYmKGYudmFsdWU9by5lbnVtcz09PVN0cmluZz9pLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLkNhdGVnb3J5W24udmFsdWVdOm4udmFsdWUpLGZ9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYWUudXRpbC50b0pTT05PcHRpb25zKX0sZX0oKSxyLlN0YXR1cz1mdW5jdGlvbigpe2xldCBlPXt9LHQ9T2JqZWN0LmNyZWF0ZShlKTtyZXR1cm4gdFtlWzBdPVwiT0ZGXCJdPTAsdFtlWzFdPVwiT05cIl09MSx0W2VbMl09XCJTTk9PWkVEXCJdPTIsdFtlWzNdPVwiRVhQSVJFRFwiXT0zLHR9KCksci5TdGF0dXNNYXliZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aWYodClmb3IobGV0IG49T2JqZWN0LmtleXModCksbz0wO288bi5sZW5ndGg7KytvKXRbbltvXV0hPW51bGwmJih0aGlzW25bb11dPXRbbltvXV0pfXJldHVybiBlLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxlLnByb3RvdHlwZS52YWx1ZT0wLGUuY3JlYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgZShuKX0sZS5lbmNvZGU9ZnVuY3Rpb24obixvKXtyZXR1cm4gb3x8KG89d2UuY3JlYXRlKCkpLG4uYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKG4uYW5zd2VyLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG4udmFsdWUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sXCJ2YWx1ZVwiKSYmby51aW50MzIoMTYpLmludDMyKG4udmFsdWUpLG99LGUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKG4sbyl7cmV0dXJuIHRoaXMuZW5jb2RlKG4sbykubGRlbGltKCl9LGUuZGVjb2RlPWZ1bmN0aW9uKG4sbyl7biBpbnN0YW5jZW9mIFV8fChuPVUuY3JlYXRlKG4pKTtsZXQgZj1vPT09dm9pZCAwP24ubGVuOm4ucG9zK28seT1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5TZWN1cml0eVNvZnR3YXJlLlNvZnR3YXJlSW5mby5TdGF0dXNNYXliZTtmb3IoO24ucG9zPGY7KXtsZXQgTz1uLnVpbnQzMigpO3N3aXRjaChPPj4+Myl7Y2FzZSAxOnkuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDI6eS52YWx1ZT1uLmludDMyKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKE8mNyk7YnJlYWt9fXJldHVybiB5fSxlLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIFV8fChuPW5ldyBVKG4pKSx0aGlzLmRlY29kZShuLG4udWludDMyKCkpfSxlLnZlcmlmeT1mdW5jdGlvbihuKXtpZih0eXBlb2YgbiE9XCJvYmplY3RcInx8bj09PW51bGwpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihuLmFuc3dlciE9bnVsbCYmbi5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSl7bGV0IG89aS5kZXZpY2UuQW5zd2VyLnZlcmlmeShuLmFuc3dlcik7aWYobylyZXR1cm5cImFuc3dlci5cIitvfWlmKG4udmFsdWUhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSlzd2l0Y2gobi52YWx1ZSl7ZGVmYXVsdDpyZXR1cm5cInZhbHVlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6Y2FzZSAzOmJyZWFrfXJldHVybiBudWxsfSxlLmZyb21PYmplY3Q9ZnVuY3Rpb24obil7aWYobiBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uU3RhdHVzTWF5YmUpcmV0dXJuIG47bGV0IG89bmV3IGkuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uU3RhdHVzTWF5YmU7aWYobi5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiBuLmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uU2VjdXJpdHlTb2Z0d2FyZS5Tb2Z0d2FyZUluZm8uU3RhdHVzTWF5YmUuYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7by5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3Qobi5hbnN3ZXIpfXN3aXRjaChuLnZhbHVlKXtjYXNlXCJPRkZcIjpjYXNlIDA6by52YWx1ZT0wO2JyZWFrO2Nhc2VcIk9OXCI6Y2FzZSAxOm8udmFsdWU9MTticmVhaztjYXNlXCJTTk9PWkVEXCI6Y2FzZSAyOm8udmFsdWU9MjticmVhaztjYXNlXCJFWFBJUkVEXCI6Y2FzZSAzOm8udmFsdWU9MzticmVha31yZXR1cm4gb30sZS50b09iamVjdD1mdW5jdGlvbihuLG8pe298fChvPXt9KTtsZXQgZj17fTtyZXR1cm4gby5kZWZhdWx0cyYmKGYuYW5zd2VyPW51bGwsZi52YWx1ZT1vLmVudW1zPT09U3RyaW5nP1wiT0ZGXCI6MCksbi5hbnN3ZXIhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikmJihmLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIudG9PYmplY3Qobi5hbnN3ZXIsbykpLG4udmFsdWUhPW51bGwmJm4uaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSYmKGYudmFsdWU9by5lbnVtcz09PVN0cmluZz9pLmRldmljZS5EZXZpY2VJbmZvLlNlY3VyaXR5U29mdHdhcmUuU29mdHdhcmVJbmZvLlN0YXR1c1tuLnZhbHVlXTpuLnZhbHVlKSxmfSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGV9KCkscn0oKSxsfSgpLGMuVm9sdW1lcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGwocil7aWYodGhpcy52b2x1bWVzPVtdLHIpZm9yKGxldCBlPU9iamVjdC5rZXlzKHIpLHQ9MDt0PGUubGVuZ3RoOysrdClyW2VbdF1dIT1udWxsJiYodGhpc1tlW3RdXT1yW2VbdF1dKX1yZXR1cm4gbC5wcm90b3R5cGUuYW5zd2VyPW51bGwsbC5wcm90b3R5cGUudm9sdW1lcz1rZS5lbXB0eUFycmF5LGwucHJvdG90eXBlLmZpbGV2YXVsdD1udWxsLGwuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbChlKX0sbC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0fHwodD13ZS5jcmVhdGUoKSksZS5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUoZS5hbnN3ZXIsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksZS52b2x1bWVzIT1udWxsJiZlLnZvbHVtZXMubGVuZ3RoKWZvcihsZXQgbj0wO248ZS52b2x1bWVzLmxlbmd0aDsrK24paS5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLlZvbHVtZUluZm8uZW5jb2RlKGUudm9sdW1lc1tuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gZS5maWxldmF1bHQhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJmaWxldmF1bHRcIikmJmkuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5GaWxlVmF1bHRTdGF0dXNNYXliZS5lbmNvZGUoZS5maWxldmF1bHQsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksdH0sbC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgVXx8KGU9VS5jcmVhdGUoZSkpO2xldCBuPXQ9PT12b2lkIDA/ZS5sZW46ZS5wb3MrdCxvPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLlZvbHVtZXM7Zm9yKDtlLnBvczxuOyl7bGV0IGY9ZS51aW50MzIoKTtzd2l0Y2goZj4+PjMpe2Nhc2UgMTpvLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOm8udm9sdW1lcyYmby52b2x1bWVzLmxlbmd0aHx8KG8udm9sdW1lcz1bXSksby52b2x1bWVzLnB1c2goaS5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLlZvbHVtZUluZm8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLmZpbGV2YXVsdD1pLmRldmljZS5EZXZpY2VJbmZvLlZvbHVtZXMuRmlsZVZhdWx0U3RhdHVzTWF5YmUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKGYmNyk7YnJlYWt9fXJldHVybiBvfSxsLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFV8fChlPW5ldyBVKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxsLnZlcmlmeT1mdW5jdGlvbihlKXtpZih0eXBlb2YgZSE9XCJvYmplY3RcInx8ZT09PW51bGwpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihlLmFuc3dlciE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSl7bGV0IHQ9aS5kZXZpY2UuQW5zd2VyLnZlcmlmeShlLmFuc3dlcik7aWYodClyZXR1cm5cImFuc3dlci5cIit0fWlmKGUudm9sdW1lcyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcInZvbHVtZXNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUudm9sdW1lcykpcmV0dXJuXCJ2b2x1bWVzOiBhcnJheSBleHBlY3RlZFwiO2ZvcihsZXQgdD0wO3Q8ZS52b2x1bWVzLmxlbmd0aDsrK3Qpe2xldCBuPWkuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5Wb2x1bWVJbmZvLnZlcmlmeShlLnZvbHVtZXNbdF0pO2lmKG4pcmV0dXJuXCJ2b2x1bWVzLlwiK259fWlmKGUuZmlsZXZhdWx0IT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiZmlsZXZhdWx0XCIpKXtsZXQgdD1pLmRldmljZS5EZXZpY2VJbmZvLlZvbHVtZXMuRmlsZVZhdWx0U3RhdHVzTWF5YmUudmVyaWZ5KGUuZmlsZXZhdWx0KTtpZih0KXJldHVyblwiZmlsZXZhdWx0LlwiK3R9cmV0dXJuIG51bGx9LGwuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzKXJldHVybiBlO2xldCB0PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLlZvbHVtZXM7aWYoZS5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiBlLmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTt0LmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdChlLmFuc3dlcil9aWYoZS52b2x1bWVzKXtpZighQXJyYXkuaXNBcnJheShlLnZvbHVtZXMpKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLnZvbHVtZXM6IGFycmF5IGV4cGVjdGVkXCIpO3Qudm9sdW1lcz1bXTtmb3IobGV0IG49MDtuPGUudm9sdW1lcy5sZW5ndGg7KytuKXtpZih0eXBlb2YgZS52b2x1bWVzW25dIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLnZvbHVtZXM6IG9iamVjdCBleHBlY3RlZFwiKTt0LnZvbHVtZXNbbl09aS5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLlZvbHVtZUluZm8uZnJvbU9iamVjdChlLnZvbHVtZXNbbl0pfX1pZihlLmZpbGV2YXVsdCE9bnVsbCl7aWYodHlwZW9mIGUuZmlsZXZhdWx0IT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLmZpbGV2YXVsdDogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZmlsZXZhdWx0PWkuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5GaWxlVmF1bHRTdGF0dXNNYXliZS5mcm9tT2JqZWN0KGUuZmlsZXZhdWx0KX1yZXR1cm4gdH0sbC50b09iamVjdD1mdW5jdGlvbihlLHQpe3R8fCh0PXt9KTtsZXQgbj17fTtpZigodC5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi52b2x1bWVzPVtdKSx0LmRlZmF1bHRzJiYobi5hbnN3ZXI9bnVsbCxuLmZpbGV2YXVsdD1udWxsKSxlLmFuc3dlciE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKG4uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdChlLmFuc3dlcix0KSksZS52b2x1bWVzJiZlLnZvbHVtZXMubGVuZ3RoKXtuLnZvbHVtZXM9W107Zm9yKGxldCBvPTA7bzxlLnZvbHVtZXMubGVuZ3RoOysrbyluLnZvbHVtZXNbb109aS5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLlZvbHVtZUluZm8udG9PYmplY3QoZS52b2x1bWVzW29dLHQpfXJldHVybiBlLmZpbGV2YXVsdCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImZpbGV2YXVsdFwiKSYmKG4uZmlsZXZhdWx0PWkuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5GaWxlVmF1bHRTdGF0dXNNYXliZS50b09iamVjdChlLmZpbGV2YXVsdCx0KSksbn0sbC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxsLlZvbHVtZUluZm89ZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUpe2lmKGUpZm9yKGxldCB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbillW3Rbbl1dIT1udWxsJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1yZXR1cm4gci5wcm90b3R5cGUuYW5zd2VyPW51bGwsci5wcm90b3R5cGUubmFtZT1udWxsLHIucHJvdG90eXBlLmlzQml0bG9ja2VyRW5hYmxlZD1udWxsLHIucHJvdG90eXBlLmlzU3lzdGVtRHJpdmU9bnVsbCxyLnByb3RvdHlwZS5pc0VuY3J5cHRlZD1udWxsLHIucHJvdG90eXBlLmlzUmVtb3ZhYmxlPW51bGwsci5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByKHQpfSxyLmVuY29kZT1mdW5jdGlvbih0LG4pe3JldHVybiBufHwobj13ZS5jcmVhdGUoKSksdC5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUodC5hbnN3ZXIsbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdC5uYW1lIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwibmFtZVwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKHQubmFtZSxuLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0LmlzQml0bG9ja2VyRW5hYmxlZCE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcImlzQml0bG9ja2VyRW5hYmxlZFwiKSYmaS5kZXZpY2UuQm9vbE1heWJlLmVuY29kZSh0LmlzQml0bG9ja2VyRW5hYmxlZCxuLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0LmlzU3lzdGVtRHJpdmUhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJpc1N5c3RlbURyaXZlXCIpJiZpLmRldmljZS5Cb29sTWF5YmUuZW5jb2RlKHQuaXNTeXN0ZW1Ecml2ZSxuLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSx0LmlzRW5jcnlwdGVkIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiaXNFbmNyeXB0ZWRcIikmJmkuZGV2aWNlLkJvb2xNYXliZS5lbmNvZGUodC5pc0VuY3J5cHRlZCxuLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKSx0LmlzUmVtb3ZhYmxlIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiaXNSZW1vdmFibGVcIikmJmkuZGV2aWNlLkJvb2xNYXliZS5lbmNvZGUodC5pc1JlbW92YWJsZSxuLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKSxufSxyLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLmVuY29kZSh0LG4pLmxkZWxpbSgpfSxyLmRlY29kZT1mdW5jdGlvbih0LG4pe3QgaW5zdGFuY2VvZiBVfHwodD1VLmNyZWF0ZSh0KSk7bGV0IG89bj09PXZvaWQgMD90Lmxlbjp0LnBvcytuLGY9bmV3IGkuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5Wb2x1bWVJbmZvO2Zvcig7dC5wb3M8bzspe2xldCB5PXQudWludDMyKCk7c3dpdGNoKHk+Pj4zKXtjYXNlIDE6Zi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpmLm5hbWU9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmYuaXNCaXRsb2NrZXJFbmFibGVkPWkuZGV2aWNlLkJvb2xNYXliZS5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDQ6Zi5pc1N5c3RlbURyaXZlPWkuZGV2aWNlLkJvb2xNYXliZS5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDU6Zi5pc0VuY3J5cHRlZD1pLmRldmljZS5Cb29sTWF5YmUuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7Y2FzZSA2OmYuaXNSZW1vdmFibGU9aS5kZXZpY2UuQm9vbE1heWJlLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSh5JjcpO2JyZWFrfX1yZXR1cm4gZn0sci5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVfHwodD1uZXcgVSh0KSksdGhpcy5kZWNvZGUodCx0LnVpbnQzMigpKX0sci52ZXJpZnk9ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fHQ9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYodC5hbnN3ZXIhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCBuPWkuZGV2aWNlLkFuc3dlci52ZXJpZnkodC5hbnN3ZXIpO2lmKG4pcmV0dXJuXCJhbnN3ZXIuXCIrbn1pZih0Lm5hbWUhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKXtsZXQgbj1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkodC5uYW1lKTtpZihuKXJldHVyblwibmFtZS5cIitufWlmKHQuaXNCaXRsb2NrZXJFbmFibGVkIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiaXNCaXRsb2NrZXJFbmFibGVkXCIpKXtsZXQgbj1pLmRldmljZS5Cb29sTWF5YmUudmVyaWZ5KHQuaXNCaXRsb2NrZXJFbmFibGVkKTtpZihuKXJldHVyblwiaXNCaXRsb2NrZXJFbmFibGVkLlwiK259aWYodC5pc1N5c3RlbURyaXZlIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiaXNTeXN0ZW1Ecml2ZVwiKSl7bGV0IG49aS5kZXZpY2UuQm9vbE1heWJlLnZlcmlmeSh0LmlzU3lzdGVtRHJpdmUpO2lmKG4pcmV0dXJuXCJpc1N5c3RlbURyaXZlLlwiK259aWYodC5pc0VuY3J5cHRlZCE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImlzRW5jcnlwdGVkXCIpKXtsZXQgbj1pLmRldmljZS5Cb29sTWF5YmUudmVyaWZ5KHQuaXNFbmNyeXB0ZWQpO2lmKG4pcmV0dXJuXCJpc0VuY3J5cHRlZC5cIitufWlmKHQuaXNSZW1vdmFibGUhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJpc1JlbW92YWJsZVwiKSl7bGV0IG49aS5kZXZpY2UuQm9vbE1heWJlLnZlcmlmeSh0LmlzUmVtb3ZhYmxlKTtpZihuKXJldHVyblwiaXNSZW1vdmFibGUuXCIrbn1yZXR1cm4gbnVsbH0sci5mcm9tT2JqZWN0PWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBpLmRldmljZS5EZXZpY2VJbmZvLlZvbHVtZXMuVm9sdW1lSW5mbylyZXR1cm4gdDtsZXQgbj1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLlZvbHVtZUluZm87aWYodC5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiB0LmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5Wb2x1bWVJbmZvLmFuc3dlcjogb2JqZWN0IGV4cGVjdGVkXCIpO24uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5mcm9tT2JqZWN0KHQuYW5zd2VyKX1pZih0Lm5hbWUhPW51bGwpe2lmKHR5cGVvZiB0Lm5hbWUhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLlZvbHVtZXMuVm9sdW1lSW5mby5uYW1lOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5uYW1lPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QodC5uYW1lKX1pZih0LmlzQml0bG9ja2VyRW5hYmxlZCE9bnVsbCl7aWYodHlwZW9mIHQuaXNCaXRsb2NrZXJFbmFibGVkIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLlZvbHVtZUluZm8uaXNCaXRsb2NrZXJFbmFibGVkOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5pc0JpdGxvY2tlckVuYWJsZWQ9aS5kZXZpY2UuQm9vbE1heWJlLmZyb21PYmplY3QodC5pc0JpdGxvY2tlckVuYWJsZWQpfWlmKHQuaXNTeXN0ZW1Ecml2ZSE9bnVsbCl7aWYodHlwZW9mIHQuaXNTeXN0ZW1Ecml2ZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5Wb2x1bWVJbmZvLmlzU3lzdGVtRHJpdmU6IG9iamVjdCBleHBlY3RlZFwiKTtuLmlzU3lzdGVtRHJpdmU9aS5kZXZpY2UuQm9vbE1heWJlLmZyb21PYmplY3QodC5pc1N5c3RlbURyaXZlKX1pZih0LmlzRW5jcnlwdGVkIT1udWxsKXtpZih0eXBlb2YgdC5pc0VuY3J5cHRlZCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5Wb2x1bWVJbmZvLmlzRW5jcnlwdGVkOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5pc0VuY3J5cHRlZD1pLmRldmljZS5Cb29sTWF5YmUuZnJvbU9iamVjdCh0LmlzRW5jcnlwdGVkKX1pZih0LmlzUmVtb3ZhYmxlIT1udWxsKXtpZih0eXBlb2YgdC5pc1JlbW92YWJsZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5Wb2x1bWVJbmZvLmlzUmVtb3ZhYmxlOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5pc1JlbW92YWJsZT1pLmRldmljZS5Cb29sTWF5YmUuZnJvbU9iamVjdCh0LmlzUmVtb3ZhYmxlKX1yZXR1cm4gbn0sci50b09iamVjdD1mdW5jdGlvbih0LG4pe258fChuPXt9KTtsZXQgbz17fTtyZXR1cm4gbi5kZWZhdWx0cyYmKG8uYW5zd2VyPW51bGwsby5uYW1lPW51bGwsby5pc0JpdGxvY2tlckVuYWJsZWQ9bnVsbCxvLmlzU3lzdGVtRHJpdmU9bnVsbCxvLmlzRW5jcnlwdGVkPW51bGwsby5pc1JlbW92YWJsZT1udWxsKSx0LmFuc3dlciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKG8uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdCh0LmFuc3dlcixuKSksdC5uYW1lIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG8ubmFtZT1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdCh0Lm5hbWUsbikpLHQuaXNCaXRsb2NrZXJFbmFibGVkIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiaXNCaXRsb2NrZXJFbmFibGVkXCIpJiYoby5pc0JpdGxvY2tlckVuYWJsZWQ9aS5kZXZpY2UuQm9vbE1heWJlLnRvT2JqZWN0KHQuaXNCaXRsb2NrZXJFbmFibGVkLG4pKSx0LmlzU3lzdGVtRHJpdmUhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJpc1N5c3RlbURyaXZlXCIpJiYoby5pc1N5c3RlbURyaXZlPWkuZGV2aWNlLkJvb2xNYXliZS50b09iamVjdCh0LmlzU3lzdGVtRHJpdmUsbikpLHQuaXNFbmNyeXB0ZWQhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJpc0VuY3J5cHRlZFwiKSYmKG8uaXNFbmNyeXB0ZWQ9aS5kZXZpY2UuQm9vbE1heWJlLnRvT2JqZWN0KHQuaXNFbmNyeXB0ZWQsbikpLHQuaXNSZW1vdmFibGUhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJpc1JlbW92YWJsZVwiKSYmKG8uaXNSZW1vdmFibGU9aS5kZXZpY2UuQm9vbE1heWJlLnRvT2JqZWN0KHQuaXNSZW1vdmFibGUsbikpLG99LHIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYWUudXRpbC50b0pTT05PcHRpb25zKX0scn0oKSxsLkZpbGVWYXVsdFN0YXR1cz1mdW5jdGlvbigpe2xldCByPXt9LGU9T2JqZWN0LmNyZWF0ZShyKTtyZXR1cm4gZVtyWzBdPVwiRklMRV9WQVVMVF9PTlwiXT0wLGVbclsxXT1cIkZJTEVfVkFVTFRfT0ZGXCJdPTEsZX0oKSxsLkZpbGVWYXVsdFN0YXR1c01heWJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlKXtpZihlKWZvcihsZXQgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pZVt0W25dXSE9bnVsbCYmKHRoaXNbdFtuXV09ZVt0W25dXSl9cmV0dXJuIHIucHJvdG90eXBlLmFuc3dlcj1udWxsLHIucHJvdG90eXBlLnZhbHVlPTAsci5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByKHQpfSxyLmVuY29kZT1mdW5jdGlvbih0LG4pe3JldHVybiBufHwobj13ZS5jcmVhdGUoKSksdC5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUodC5hbnN3ZXIsbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdC52YWx1ZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcInZhbHVlXCIpJiZuLnVpbnQzMigxNikuaW50MzIodC52YWx1ZSksbn0sci5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5lbmNvZGUodCxuKS5sZGVsaW0oKX0sci5kZWNvZGU9ZnVuY3Rpb24odCxuKXt0IGluc3RhbmNlb2YgVXx8KHQ9VS5jcmVhdGUodCkpO2xldCBvPW49PT12b2lkIDA/dC5sZW46dC5wb3MrbixmPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLlZvbHVtZXMuRmlsZVZhdWx0U3RhdHVzTWF5YmU7Zm9yKDt0LnBvczxvOyl7bGV0IHk9dC51aW50MzIoKTtzd2l0Y2goeT4+PjMpe2Nhc2UgMTpmLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmYudmFsdWU9dC5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSh5JjcpO2JyZWFrfX1yZXR1cm4gZn0sci5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVfHwodD1uZXcgVSh0KSksdGhpcy5kZWNvZGUodCx0LnVpbnQzMigpKX0sci52ZXJpZnk9ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fHQ9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYodC5hbnN3ZXIhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCBuPWkuZGV2aWNlLkFuc3dlci52ZXJpZnkodC5hbnN3ZXIpO2lmKG4pcmV0dXJuXCJhbnN3ZXIuXCIrbn1pZih0LnZhbHVlIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwidmFsdWVcIikpc3dpdGNoKHQudmFsdWUpe2RlZmF1bHQ6cmV0dXJuXCJ2YWx1ZTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6YnJlYWt9cmV0dXJuIG51bGx9LHIuZnJvbU9iamVjdD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLkZpbGVWYXVsdFN0YXR1c01heWJlKXJldHVybiB0O2xldCBuPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLlZvbHVtZXMuRmlsZVZhdWx0U3RhdHVzTWF5YmU7aWYodC5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiB0LmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVm9sdW1lcy5GaWxlVmF1bHRTdGF0dXNNYXliZS5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTtuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdCh0LmFuc3dlcil9c3dpdGNoKHQudmFsdWUpe2Nhc2VcIkZJTEVfVkFVTFRfT05cIjpjYXNlIDA6bi52YWx1ZT0wO2JyZWFrO2Nhc2VcIkZJTEVfVkFVTFRfT0ZGXCI6Y2FzZSAxOm4udmFsdWU9MTticmVha31yZXR1cm4gbn0sci50b09iamVjdD1mdW5jdGlvbih0LG4pe258fChuPXt9KTtsZXQgbz17fTtyZXR1cm4gbi5kZWZhdWx0cyYmKG8uYW5zd2VyPW51bGwsby52YWx1ZT1uLmVudW1zPT09U3RyaW5nP1wiRklMRV9WQVVMVF9PTlwiOjApLHQuYW5zd2VyIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpJiYoby5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLnRvT2JqZWN0KHQuYW5zd2VyLG4pKSx0LnZhbHVlIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwidmFsdWVcIikmJihvLnZhbHVlPW4uZW51bXM9PT1TdHJpbmc/aS5kZXZpY2UuRGV2aWNlSW5mby5Wb2x1bWVzLkZpbGVWYXVsdFN0YXR1c1t0LnZhbHVlXTp0LnZhbHVlKSxvfSxyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LHJ9KCksbH0oKSxjLkF1dGhvcml6YXRpb25TZXR0aW5ncz1mdW5jdGlvbigpe2Z1bmN0aW9uIGwocil7aWYocilmb3IobGV0IGU9T2JqZWN0LmtleXMociksdD0wO3Q8ZS5sZW5ndGg7Kyt0KXJbZVt0XV0hPW51bGwmJih0aGlzW2VbdF1dPXJbZVt0XV0pfXJldHVybiBsLnByb3RvdHlwZS5hbnN3ZXI9bnVsbCxsLnByb3RvdHlwZS5pc0xvY2FsaG9zdFNlcnZpY2VFbmFibGVkPW51bGwsbC5wcm90b3R5cGUuaXNBY2Nlc3NpYmlsaXR5U2VydmljZUVuYWJsZWQ9bnVsbCxsLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGwoZSl9LGwuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXdlLmNyZWF0ZSgpKSxlLmFuc3dlciE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFuc3dlclwiKSYmaS5kZXZpY2UuQW5zd2VyLmVuY29kZShlLmFuc3dlcix0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxlLmlzTG9jYWxob3N0U2VydmljZUVuYWJsZWQhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpc0xvY2FsaG9zdFNlcnZpY2VFbmFibGVkXCIpJiZpLmRldmljZS5Cb29sTWF5YmUuZW5jb2RlKGUuaXNMb2NhbGhvc3RTZXJ2aWNlRW5hYmxlZCx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxlLmlzQWNjZXNzaWJpbGl0eVNlcnZpY2VFbmFibGVkIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaXNBY2Nlc3NpYmlsaXR5U2VydmljZUVuYWJsZWRcIikmJmkuZGV2aWNlLkJvb2xNYXliZS5lbmNvZGUoZS5pc0FjY2Vzc2liaWxpdHlTZXJ2aWNlRW5hYmxlZCx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxsLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxsLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBVfHwoZT1VLmNyZWF0ZShlKSk7bGV0IG49dD09PXZvaWQgMD9lLmxlbjplLnBvcyt0LG89bmV3IGkuZGV2aWNlLkRldmljZUluZm8uQXV0aG9yaXphdGlvblNldHRpbmdzO2Zvcig7ZS5wb3M8bjspe2xldCBmPWUudWludDMyKCk7c3dpdGNoKGY+Pj4zKXtjYXNlIDE6by5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpvLmlzTG9jYWxob3N0U2VydmljZUVuYWJsZWQ9aS5kZXZpY2UuQm9vbE1heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpvLmlzQWNjZXNzaWJpbGl0eVNlcnZpY2VFbmFibGVkPWkuZGV2aWNlLkJvb2xNYXliZS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoZiY3KTticmVha319cmV0dXJuIG99LGwuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVXx8KGU9bmV3IFUoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGwudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT1cIm9iamVjdFwifHxlPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKGUuYW5zd2VyIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpKXtsZXQgdD1pLmRldmljZS5BbnN3ZXIudmVyaWZ5KGUuYW5zd2VyKTtpZih0KXJldHVyblwiYW5zd2VyLlwiK3R9aWYoZS5pc0xvY2FsaG9zdFNlcnZpY2VFbmFibGVkIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNMb2NhbGhvc3RTZXJ2aWNlRW5hYmxlZFwiKSl7bGV0IHQ9aS5kZXZpY2UuQm9vbE1heWJlLnZlcmlmeShlLmlzTG9jYWxob3N0U2VydmljZUVuYWJsZWQpO2lmKHQpcmV0dXJuXCJpc0xvY2FsaG9zdFNlcnZpY2VFbmFibGVkLlwiK3R9aWYoZS5pc0FjY2Vzc2liaWxpdHlTZXJ2aWNlRW5hYmxlZCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlzQWNjZXNzaWJpbGl0eVNlcnZpY2VFbmFibGVkXCIpKXtsZXQgdD1pLmRldmljZS5Cb29sTWF5YmUudmVyaWZ5KGUuaXNBY2Nlc3NpYmlsaXR5U2VydmljZUVuYWJsZWQpO2lmKHQpcmV0dXJuXCJpc0FjY2Vzc2liaWxpdHlTZXJ2aWNlRW5hYmxlZC5cIit0fXJldHVybiBudWxsfSxsLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uQXV0aG9yaXphdGlvblNldHRpbmdzKXJldHVybiBlO2xldCB0PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLkF1dGhvcml6YXRpb25TZXR0aW5ncztpZihlLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIGUuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5BdXRob3JpemF0aW9uU2V0dGluZ3MuYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3QoZS5hbnN3ZXIpfWlmKGUuaXNMb2NhbGhvc3RTZXJ2aWNlRW5hYmxlZCE9bnVsbCl7aWYodHlwZW9mIGUuaXNMb2NhbGhvc3RTZXJ2aWNlRW5hYmxlZCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uQXV0aG9yaXphdGlvblNldHRpbmdzLmlzTG9jYWxob3N0U2VydmljZUVuYWJsZWQ6IG9iamVjdCBleHBlY3RlZFwiKTt0LmlzTG9jYWxob3N0U2VydmljZUVuYWJsZWQ9aS5kZXZpY2UuQm9vbE1heWJlLmZyb21PYmplY3QoZS5pc0xvY2FsaG9zdFNlcnZpY2VFbmFibGVkKX1pZihlLmlzQWNjZXNzaWJpbGl0eVNlcnZpY2VFbmFibGVkIT1udWxsKXtpZih0eXBlb2YgZS5pc0FjY2Vzc2liaWxpdHlTZXJ2aWNlRW5hYmxlZCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uQXV0aG9yaXphdGlvblNldHRpbmdzLmlzQWNjZXNzaWJpbGl0eVNlcnZpY2VFbmFibGVkOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5pc0FjY2Vzc2liaWxpdHlTZXJ2aWNlRW5hYmxlZD1pLmRldmljZS5Cb29sTWF5YmUuZnJvbU9iamVjdChlLmlzQWNjZXNzaWJpbGl0eVNlcnZpY2VFbmFibGVkKX1yZXR1cm4gdH0sbC50b09iamVjdD1mdW5jdGlvbihlLHQpe3R8fCh0PXt9KTtsZXQgbj17fTtyZXR1cm4gdC5kZWZhdWx0cyYmKG4uYW5zd2VyPW51bGwsbi5pc0xvY2FsaG9zdFNlcnZpY2VFbmFibGVkPW51bGwsbi5pc0FjY2Vzc2liaWxpdHlTZXJ2aWNlRW5hYmxlZD1udWxsKSxlLmFuc3dlciE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKG4uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdChlLmFuc3dlcix0KSksZS5pc0xvY2FsaG9zdFNlcnZpY2VFbmFibGVkIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNMb2NhbGhvc3RTZXJ2aWNlRW5hYmxlZFwiKSYmKG4uaXNMb2NhbGhvc3RTZXJ2aWNlRW5hYmxlZD1pLmRldmljZS5Cb29sTWF5YmUudG9PYmplY3QoZS5pc0xvY2FsaG9zdFNlcnZpY2VFbmFibGVkLHQpKSxlLmlzQWNjZXNzaWJpbGl0eVNlcnZpY2VFbmFibGVkIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaXNBY2Nlc3NpYmlsaXR5U2VydmljZUVuYWJsZWRcIikmJihuLmlzQWNjZXNzaWJpbGl0eVNlcnZpY2VFbmFibGVkPWkuZGV2aWNlLkJvb2xNYXliZS50b09iamVjdChlLmlzQWNjZXNzaWJpbGl0eVNlcnZpY2VFbmFibGVkLHQpKSxufSxsLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGx9KCksYy5UUE1JbmZvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChyKXtpZihyKWZvcihsZXQgZT1PYmplY3Qua2V5cyhyKSx0PTA7dDxlLmxlbmd0aDsrK3QpcltlW3RdXSE9bnVsbCYmKHRoaXNbZVt0XV09cltlW3RdXSl9cmV0dXJuIGwucHJvdG90eXBlLmFuc3dlcj1udWxsLGwucHJvdG90eXBlLlZlcnNpb249bnVsbCxsLnByb3RvdHlwZS5MZXZlbD1udWxsLGwucHJvdG90eXBlLlJldmlzaW9uPW51bGwsbC5wcm90b3R5cGUuVmVuZG9ySUQ9bnVsbCxsLnByb3RvdHlwZS5GaXJtd2FyZT1udWxsLGwuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbChlKX0sbC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9d2UuY3JlYXRlKCkpLGUuYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKGUuYW5zd2VyLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUuVmVyc2lvbiE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIlZlcnNpb25cIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShlLlZlcnNpb24sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksZS5MZXZlbCE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIkxldmVsXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoZS5MZXZlbCx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxlLlJldmlzaW9uIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiUmV2aXNpb25cIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShlLlJldmlzaW9uLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLGUuVmVuZG9ySUQhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJWZW5kb3JJRFwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKGUuVmVuZG9ySUQsdC51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksZS5GaXJtd2FyZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIkZpcm13YXJlXCIpJiZpLmRldmljZS5TdHJpbmdNYXliZS5lbmNvZGUoZS5GaXJtd2FyZSx0LnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKSx0fSxsLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxsLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBVfHwoZT1VLmNyZWF0ZShlKSk7bGV0IG49dD09PXZvaWQgMD9lLmxlbjplLnBvcyt0LG89bmV3IGkuZGV2aWNlLkRldmljZUluZm8uVFBNSW5mbztmb3IoO2UucG9zPG47KXtsZXQgZj1lLnVpbnQzMigpO3N3aXRjaChmPj4+Myl7Y2FzZSAxOm8uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDI6by5WZXJzaW9uPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpvLkxldmVsPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNDpvLlJldmlzaW9uPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNTpvLlZlbmRvcklEPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNjpvLkZpcm13YXJlPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZShmJjcpO2JyZWFrfX1yZXR1cm4gb30sbC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVfHwoZT1uZXcgVShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPVwib2JqZWN0XCJ8fGU9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYoZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCB0PWkuZGV2aWNlLkFuc3dlci52ZXJpZnkoZS5hbnN3ZXIpO2lmKHQpcmV0dXJuXCJhbnN3ZXIuXCIrdH1pZihlLlZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJWZXJzaW9uXCIpKXtsZXQgdD1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoZS5WZXJzaW9uKTtpZih0KXJldHVyblwiVmVyc2lvbi5cIit0fWlmKGUuTGV2ZWwhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJMZXZlbFwiKSl7bGV0IHQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KGUuTGV2ZWwpO2lmKHQpcmV0dXJuXCJMZXZlbC5cIit0fWlmKGUuUmV2aXNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJSZXZpc2lvblwiKSl7bGV0IHQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KGUuUmV2aXNpb24pO2lmKHQpcmV0dXJuXCJSZXZpc2lvbi5cIit0fWlmKGUuVmVuZG9ySUQhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJWZW5kb3JJRFwiKSl7bGV0IHQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KGUuVmVuZG9ySUQpO2lmKHQpcmV0dXJuXCJWZW5kb3JJRC5cIit0fWlmKGUuRmlybXdhcmUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJGaXJtd2FyZVwiKSl7bGV0IHQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudmVyaWZ5KGUuRmlybXdhcmUpO2lmKHQpcmV0dXJuXCJGaXJtd2FyZS5cIit0fXJldHVybiBudWxsfSxsLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uVFBNSW5mbylyZXR1cm4gZTtsZXQgdD1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5UUE1JbmZvO2lmKGUuYW5zd2VyIT1udWxsKXtpZih0eXBlb2YgZS5hbnN3ZXIhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLlRQTUluZm8uYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3QoZS5hbnN3ZXIpfWlmKGUuVmVyc2lvbiE9bnVsbCl7aWYodHlwZW9mIGUuVmVyc2lvbiE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVFBNSW5mby5WZXJzaW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5WZXJzaW9uPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QoZS5WZXJzaW9uKX1pZihlLkxldmVsIT1udWxsKXtpZih0eXBlb2YgZS5MZXZlbCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVFBNSW5mby5MZXZlbDogb2JqZWN0IGV4cGVjdGVkXCIpO3QuTGV2ZWw9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLkxldmVsKX1pZihlLlJldmlzaW9uIT1udWxsKXtpZih0eXBlb2YgZS5SZXZpc2lvbiE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVFBNSW5mby5SZXZpc2lvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuUmV2aXNpb249aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLlJldmlzaW9uKX1pZihlLlZlbmRvcklEIT1udWxsKXtpZih0eXBlb2YgZS5WZW5kb3JJRCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVFBNSW5mby5WZW5kb3JJRDogb2JqZWN0IGV4cGVjdGVkXCIpO3QuVmVuZG9ySUQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLlZlbmRvcklEKX1pZihlLkZpcm13YXJlIT1udWxsKXtpZih0eXBlb2YgZS5GaXJtd2FyZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uVFBNSW5mby5GaXJtd2FyZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuRmlybXdhcmU9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLkZpcm13YXJlKX1yZXR1cm4gdH0sbC50b09iamVjdD1mdW5jdGlvbihlLHQpe3R8fCh0PXt9KTtsZXQgbj17fTtyZXR1cm4gdC5kZWZhdWx0cyYmKG4uYW5zd2VyPW51bGwsbi5WZXJzaW9uPW51bGwsbi5MZXZlbD1udWxsLG4uUmV2aXNpb249bnVsbCxuLlZlbmRvcklEPW51bGwsbi5GaXJtd2FyZT1udWxsKSxlLmFuc3dlciE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKG4uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdChlLmFuc3dlcix0KSksZS5WZXJzaW9uIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiVmVyc2lvblwiKSYmKG4uVmVyc2lvbj1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChlLlZlcnNpb24sdCkpLGUuTGV2ZWwhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJMZXZlbFwiKSYmKG4uTGV2ZWw9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QoZS5MZXZlbCx0KSksZS5SZXZpc2lvbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcIlJldmlzaW9uXCIpJiYobi5SZXZpc2lvbj1pLmRldmljZS5TdHJpbmdNYXliZS50b09iamVjdChlLlJldmlzaW9uLHQpKSxlLlZlbmRvcklEIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiVmVuZG9ySURcIikmJihuLlZlbmRvcklEPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KGUuVmVuZG9ySUQsdCkpLGUuRmlybXdhcmUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJGaXJtd2FyZVwiKSYmKG4uRmlybXdhcmU9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QoZS5GaXJtd2FyZSx0KSksbn0sbC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxsfSgpLGMuS2V5UHJvdmVuYW5jZXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBsKHIpe2lmKHRoaXMuaW5mbz1bXSxyKWZvcihsZXQgZT1PYmplY3Qua2V5cyhyKSx0PTA7dDxlLmxlbmd0aDsrK3QpcltlW3RdXSE9bnVsbCYmKHRoaXNbZVt0XV09cltlW3RdXSl9cmV0dXJuIGwucHJvdG90eXBlLmFuc3dlcj1udWxsLGwucHJvdG90eXBlLmluZm89a2UuZW1wdHlBcnJheSxsLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGwoZSl9LGwuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9d2UuY3JlYXRlKCkpLGUuYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKGUuYW5zd2VyLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUuaW5mbyE9bnVsbCYmZS5pbmZvLmxlbmd0aClmb3IobGV0IG49MDtuPGUuaW5mby5sZW5ndGg7KytuKWkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuSW5mby5lbmNvZGUoZS5pbmZvW25dLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxsLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxsLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBVfHwoZT1VLmNyZWF0ZShlKSk7bGV0IG49dD09PXZvaWQgMD9lLmxlbjplLnBvcyt0LG89bmV3IGkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXM7Zm9yKDtlLnBvczxuOyl7bGV0IGY9ZS51aW50MzIoKTtzd2l0Y2goZj4+PjMpe2Nhc2UgMTpvLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOm8uaW5mbyYmby5pbmZvLmxlbmd0aHx8KG8uaW5mbz1bXSksby5pbmZvLnB1c2goaS5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy5JbmZvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoZiY3KTticmVha319cmV0dXJuIG99LGwuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVXx8KGU9bmV3IFUoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGwudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT1cIm9iamVjdFwifHxlPT09bnVsbClyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKGUuYW5zd2VyIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpKXtsZXQgdD1pLmRldmljZS5BbnN3ZXIudmVyaWZ5KGUuYW5zd2VyKTtpZih0KXJldHVyblwiYW5zd2VyLlwiK3R9aWYoZS5pbmZvIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiaW5mb1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5pbmZvKSlyZXR1cm5cImluZm86IGFycmF5IGV4cGVjdGVkXCI7Zm9yKGxldCB0PTA7dDxlLmluZm8ubGVuZ3RoOysrdCl7bGV0IG49aS5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy5JbmZvLnZlcmlmeShlLmluZm9bdF0pO2lmKG4pcmV0dXJuXCJpbmZvLlwiK259fXJldHVybiBudWxsfSxsLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMpcmV0dXJuIGU7bGV0IHQ9bmV3IGkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXM7aWYoZS5hbnN3ZXIhPW51bGwpe2lmKHR5cGVvZiBlLmFuc3dlciE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3QoZS5hbnN3ZXIpfWlmKGUuaW5mbyl7aWYoIUFycmF5LmlzQXJyYXkoZS5pbmZvKSl0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuaW5mbzogYXJyYXkgZXhwZWN0ZWRcIik7dC5pbmZvPVtdO2ZvcihsZXQgbj0wO248ZS5pbmZvLmxlbmd0aDsrK24pe2lmKHR5cGVvZiBlLmluZm9bbl0hPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLktleVByb3ZlbmFuY2VzLmluZm86IG9iamVjdCBleHBlY3RlZFwiKTt0LmluZm9bbl09aS5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy5JbmZvLmZyb21PYmplY3QoZS5pbmZvW25dKX19cmV0dXJuIHR9LGwudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt0fHwodD17fSk7bGV0IG49e307aWYoKHQuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uaW5mbz1bXSksdC5kZWZhdWx0cyYmKG4uYW5zd2VyPW51bGwpLGUuYW5zd2VyIT1udWxsJiZlLmhhc093blByb3BlcnR5KFwiYW5zd2VyXCIpJiYobi5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLnRvT2JqZWN0KGUuYW5zd2VyLHQpKSxlLmluZm8mJmUuaW5mby5sZW5ndGgpe24uaW5mbz1bXTtmb3IobGV0IG89MDtvPGUuaW5mby5sZW5ndGg7KytvKW4uaW5mb1tvXT1pLmRldmljZS5EZXZpY2VJbmZvLktleVByb3ZlbmFuY2VzLkluZm8udG9PYmplY3QoZS5pbmZvW29dLHQpfXJldHVybiBufSxsLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGwuS2V5UHJvdmVuYW5jZT1mdW5jdGlvbigpe2xldCByPXt9LGU9T2JqZWN0LmNyZWF0ZShyKTtyZXR1cm4gZVtyWzBdPVwiVU5LTk9XTlwiXT0wLGVbclsxXT1cIlRFRVwiXT0xLGVbclsyXT1cIkZJTEVcIl09MixlfSgpLGwuS2V5UHJvdmVuYW5jZU1heWJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlKXtpZihlKWZvcihsZXQgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pZVt0W25dXSE9bnVsbCYmKHRoaXNbdFtuXV09ZVt0W25dXSl9cmV0dXJuIHIucHJvdG90eXBlLmFuc3dlcj1udWxsLHIucHJvdG90eXBlLnZhbHVlPTAsci5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByKHQpfSxyLmVuY29kZT1mdW5jdGlvbih0LG4pe3JldHVybiBufHwobj13ZS5jcmVhdGUoKSksdC5hbnN3ZXIhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJhbnN3ZXJcIikmJmkuZGV2aWNlLkFuc3dlci5lbmNvZGUodC5hbnN3ZXIsbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdC52YWx1ZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcInZhbHVlXCIpJiZuLnVpbnQzMigxNikuaW50MzIodC52YWx1ZSksbn0sci5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5lbmNvZGUodCxuKS5sZGVsaW0oKX0sci5kZWNvZGU9ZnVuY3Rpb24odCxuKXt0IGluc3RhbmNlb2YgVXx8KHQ9VS5jcmVhdGUodCkpO2xldCBvPW49PT12b2lkIDA/dC5sZW46dC5wb3MrbixmPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLktleVByb3ZlbmFuY2VzLktleVByb3ZlbmFuY2VNYXliZTtmb3IoO3QucG9zPG87KXtsZXQgeT10LnVpbnQzMigpO3N3aXRjaCh5Pj4+Myl7Y2FzZSAxOmYuYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5kZWNvZGUodCx0LnVpbnQzMigpKTticmVhaztjYXNlIDI6Zi52YWx1ZT10LmludDMyKCk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKHkmNyk7YnJlYWt9fXJldHVybiBmfSxyLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFV8fCh0PW5ldyBVKHQpKSx0aGlzLmRlY29kZSh0LHQudWludDMyKCkpfSxyLnZlcmlmeT1mdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8dD09PW51bGwpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZih0LmFuc3dlciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSl7bGV0IG49aS5kZXZpY2UuQW5zd2VyLnZlcmlmeSh0LmFuc3dlcik7aWYobilyZXR1cm5cImFuc3dlci5cIitufWlmKHQudmFsdWUhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSlzd2l0Y2godC52YWx1ZSl7ZGVmYXVsdDpyZXR1cm5cInZhbHVlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6YnJlYWt9cmV0dXJuIG51bGx9LHIuZnJvbU9iamVjdD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgaS5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy5LZXlQcm92ZW5hbmNlTWF5YmUpcmV0dXJuIHQ7bGV0IG49bmV3IGkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuS2V5UHJvdmVuYW5jZU1heWJlO2lmKHQuYW5zd2VyIT1udWxsKXtpZih0eXBlb2YgdC5hbnN3ZXIhPVwib2JqZWN0XCIpdGhyb3cgVHlwZUVycm9yKFwiLmRldmljZS5EZXZpY2VJbmZvLktleVByb3ZlbmFuY2VzLktleVByb3ZlbmFuY2VNYXliZS5hbnN3ZXI6IG9iamVjdCBleHBlY3RlZFwiKTtuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIuZnJvbU9iamVjdCh0LmFuc3dlcil9c3dpdGNoKHQudmFsdWUpe2Nhc2VcIlVOS05PV05cIjpjYXNlIDA6bi52YWx1ZT0wO2JyZWFrO2Nhc2VcIlRFRVwiOmNhc2UgMTpuLnZhbHVlPTE7YnJlYWs7Y2FzZVwiRklMRVwiOmNhc2UgMjpuLnZhbHVlPTI7YnJlYWt9cmV0dXJuIG59LHIudG9PYmplY3Q9ZnVuY3Rpb24odCxuKXtufHwobj17fSk7bGV0IG89e307cmV0dXJuIG4uZGVmYXVsdHMmJihvLmFuc3dlcj1udWxsLG8udmFsdWU9bi5lbnVtcz09PVN0cmluZz9cIlVOS05PV05cIjowKSx0LmFuc3dlciE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImFuc3dlclwiKSYmKG8uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci50b09iamVjdCh0LmFuc3dlcixuKSksdC52YWx1ZSE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpJiYoby52YWx1ZT1uLmVudW1zPT09U3RyaW5nP2kuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuS2V5UHJvdmVuYW5jZVt0LnZhbHVlXTp0LnZhbHVlKSxvfSxyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LHJ9KCksbC5JbmZvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlKXtpZihlKWZvcihsZXQgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pZVt0W25dXSE9bnVsbCYmKHRoaXNbdFtuXV09ZVt0W25dXSl9cmV0dXJuIHIucHJvdG90eXBlLnByb2ZpbGVIYW5kbGU9bnVsbCxyLnByb3RvdHlwZS5rZXlIYW5kbGU9bnVsbCxyLnByb3RvdHlwZS5rZXlQcm92ZW5hbmNlPW51bGwsci5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByKHQpfSxyLmVuY29kZT1mdW5jdGlvbih0LG4pe3JldHVybiBufHwobj13ZS5jcmVhdGUoKSksdC5wcm9maWxlSGFuZGxlIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwicHJvZmlsZUhhbmRsZVwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKHQucHJvZmlsZUhhbmRsZSxuLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSx0LmtleUhhbmRsZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcImtleUhhbmRsZVwiKSYmaS5kZXZpY2UuU3RyaW5nTWF5YmUuZW5jb2RlKHQua2V5SGFuZGxlLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHQua2V5UHJvdmVuYW5jZSE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcImtleVByb3ZlbmFuY2VcIikmJmkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuS2V5UHJvdmVuYW5jZU1heWJlLmVuY29kZSh0LmtleVByb3ZlbmFuY2Usbi51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksbn0sci5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5lbmNvZGUodCxuKS5sZGVsaW0oKX0sci5kZWNvZGU9ZnVuY3Rpb24odCxuKXt0IGluc3RhbmNlb2YgVXx8KHQ9VS5jcmVhdGUodCkpO2xldCBvPW49PT12b2lkIDA/dC5sZW46dC5wb3MrbixmPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLktleVByb3ZlbmFuY2VzLkluZm87Zm9yKDt0LnBvczxvOyl7bGV0IHk9dC51aW50MzIoKTtzd2l0Y2goeT4+PjMpe2Nhc2UgMTpmLnByb2ZpbGVIYW5kbGU9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmYua2V5SGFuZGxlPWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpmLmtleVByb3ZlbmFuY2U9aS5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy5LZXlQcm92ZW5hbmNlTWF5YmUuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKHkmNyk7YnJlYWt9fXJldHVybiBmfSxyLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFV8fCh0PW5ldyBVKHQpKSx0aGlzLmRlY29kZSh0LHQudWludDMyKCkpfSxyLnZlcmlmeT1mdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8dD09PW51bGwpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZih0LnByb2ZpbGVIYW5kbGUhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJwcm9maWxlSGFuZGxlXCIpKXtsZXQgbj1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkodC5wcm9maWxlSGFuZGxlKTtpZihuKXJldHVyblwicHJvZmlsZUhhbmRsZS5cIitufWlmKHQua2V5SGFuZGxlIT1udWxsJiZ0Lmhhc093blByb3BlcnR5KFwia2V5SGFuZGxlXCIpKXtsZXQgbj1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkodC5rZXlIYW5kbGUpO2lmKG4pcmV0dXJuXCJrZXlIYW5kbGUuXCIrbn1pZih0LmtleVByb3ZlbmFuY2UhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJrZXlQcm92ZW5hbmNlXCIpKXtsZXQgbj1pLmRldmljZS5EZXZpY2VJbmZvLktleVByb3ZlbmFuY2VzLktleVByb3ZlbmFuY2VNYXliZS52ZXJpZnkodC5rZXlQcm92ZW5hbmNlKTtpZihuKXJldHVyblwia2V5UHJvdmVuYW5jZS5cIitufXJldHVybiBudWxsfSxyLmZyb21PYmplY3Q9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuSW5mbylyZXR1cm4gdDtsZXQgbj1uZXcgaS5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy5JbmZvO2lmKHQucHJvZmlsZUhhbmRsZSE9bnVsbCl7aWYodHlwZW9mIHQucHJvZmlsZUhhbmRsZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuSW5mby5wcm9maWxlSGFuZGxlOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5wcm9maWxlSGFuZGxlPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QodC5wcm9maWxlSGFuZGxlKX1pZih0LmtleUhhbmRsZSE9bnVsbCl7aWYodHlwZW9mIHQua2V5SGFuZGxlIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5LZXlQcm92ZW5hbmNlcy5JbmZvLmtleUhhbmRsZTogb2JqZWN0IGV4cGVjdGVkXCIpO24ua2V5SGFuZGxlPWkuZGV2aWNlLlN0cmluZ01heWJlLmZyb21PYmplY3QodC5rZXlIYW5kbGUpfWlmKHQua2V5UHJvdmVuYW5jZSE9bnVsbCl7aWYodHlwZW9mIHQua2V5UHJvdmVuYW5jZSE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuSW5mby5rZXlQcm92ZW5hbmNlOiBvYmplY3QgZXhwZWN0ZWRcIik7bi5rZXlQcm92ZW5hbmNlPWkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuS2V5UHJvdmVuYW5jZU1heWJlLmZyb21PYmplY3QodC5rZXlQcm92ZW5hbmNlKX1yZXR1cm4gbn0sci50b09iamVjdD1mdW5jdGlvbih0LG4pe258fChuPXt9KTtsZXQgbz17fTtyZXR1cm4gbi5kZWZhdWx0cyYmKG8ucHJvZmlsZUhhbmRsZT1udWxsLG8ua2V5SGFuZGxlPW51bGwsby5rZXlQcm92ZW5hbmNlPW51bGwpLHQucHJvZmlsZUhhbmRsZSE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcInByb2ZpbGVIYW5kbGVcIikmJihvLnByb2ZpbGVIYW5kbGU9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QodC5wcm9maWxlSGFuZGxlLG4pKSx0LmtleUhhbmRsZSE9bnVsbCYmdC5oYXNPd25Qcm9wZXJ0eShcImtleUhhbmRsZVwiKSYmKG8ua2V5SGFuZGxlPWkuZGV2aWNlLlN0cmluZ01heWJlLnRvT2JqZWN0KHQua2V5SGFuZGxlLG4pKSx0LmtleVByb3ZlbmFuY2UhPW51bGwmJnQuaGFzT3duUHJvcGVydHkoXCJrZXlQcm92ZW5hbmNlXCIpJiYoby5rZXlQcm92ZW5hbmNlPWkuZGV2aWNlLkRldmljZUluZm8uS2V5UHJvdmVuYW5jZXMuS2V5UHJvdmVuYW5jZU1heWJlLnRvT2JqZWN0KHQua2V5UHJvdmVuYW5jZSxuKSksb30sci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhZS51dGlsLnRvSlNPTk9wdGlvbnMpfSxyfSgpLGx9KCksYy5Mb2NhbGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBsKHIpe2lmKHIpZm9yKGxldCBlPU9iamVjdC5rZXlzKHIpLHQ9MDt0PGUubGVuZ3RoOysrdClyW2VbdF1dIT1udWxsJiYodGhpc1tlW3RdXT1yW2VbdF1dKX1yZXR1cm4gbC5wcm90b3R5cGUuYW5zd2VyPW51bGwsbC5wcm90b3R5cGUuY3VycmVudD1udWxsLGwuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbChlKX0sbC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9d2UuY3JlYXRlKCkpLGUuYW5zd2VyIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYW5zd2VyXCIpJiZpLmRldmljZS5BbnN3ZXIuZW5jb2RlKGUuYW5zd2VyLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUuY3VycmVudCE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImN1cnJlbnRcIikmJmkuZGV2aWNlLlN0cmluZ01heWJlLmVuY29kZShlLmN1cnJlbnQsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdH0sbC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgVXx8KGU9VS5jcmVhdGUoZSkpO2xldCBuPXQ9PT12b2lkIDA/ZS5sZW46ZS5wb3MrdCxvPW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLkxvY2FsZTtmb3IoO2UucG9zPG47KXtsZXQgZj1lLnVpbnQzMigpO3N3aXRjaChmPj4+Myl7Y2FzZSAxOm8uYW5zd2VyPWkuZGV2aWNlLkFuc3dlci5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDI6by5jdXJyZW50PWkuZGV2aWNlLlN0cmluZ01heWJlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZShmJjcpO2JyZWFrfX1yZXR1cm4gb30sbC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVfHwoZT1uZXcgVShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPVwib2JqZWN0XCJ8fGU9PT1udWxsKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYoZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikpe2xldCB0PWkuZGV2aWNlLkFuc3dlci52ZXJpZnkoZS5hbnN3ZXIpO2lmKHQpcmV0dXJuXCJhbnN3ZXIuXCIrdH1pZihlLmN1cnJlbnQhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJjdXJyZW50XCIpKXtsZXQgdD1pLmRldmljZS5TdHJpbmdNYXliZS52ZXJpZnkoZS5jdXJyZW50KTtpZih0KXJldHVyblwiY3VycmVudC5cIit0fXJldHVybiBudWxsfSxsLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkuZGV2aWNlLkRldmljZUluZm8uTG9jYWxlKXJldHVybiBlO2xldCB0PW5ldyBpLmRldmljZS5EZXZpY2VJbmZvLkxvY2FsZTtpZihlLmFuc3dlciE9bnVsbCl7aWYodHlwZW9mIGUuYW5zd2VyIT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIi5kZXZpY2UuRGV2aWNlSW5mby5Mb2NhbGUuYW5zd2VyOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hbnN3ZXI9aS5kZXZpY2UuQW5zd2VyLmZyb21PYmplY3QoZS5hbnN3ZXIpfWlmKGUuY3VycmVudCE9bnVsbCl7aWYodHlwZW9mIGUuY3VycmVudCE9XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCIuZGV2aWNlLkRldmljZUluZm8uTG9jYWxlLmN1cnJlbnQ6IG9iamVjdCBleHBlY3RlZFwiKTt0LmN1cnJlbnQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUuZnJvbU9iamVjdChlLmN1cnJlbnQpfXJldHVybiB0fSxsLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pO2xldCBuPXt9O3JldHVybiB0LmRlZmF1bHRzJiYobi5hbnN3ZXI9bnVsbCxuLmN1cnJlbnQ9bnVsbCksZS5hbnN3ZXIhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoXCJhbnN3ZXJcIikmJihuLmFuc3dlcj1pLmRldmljZS5BbnN3ZXIudG9PYmplY3QoZS5hbnN3ZXIsdCkpLGUuY3VycmVudCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eShcImN1cnJlbnRcIikmJihuLmN1cnJlbnQ9aS5kZXZpY2UuU3RyaW5nTWF5YmUudG9PYmplY3QoZS5jdXJyZW50LHQpKSxufSxsLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGFlLnV0aWwudG9KU09OT3B0aW9ucyl9LGx9KCksY30oKSxkfSkoKTt2YXIgeXI9U3QocHIoKSksY3Q9Y2xhc3N7Y29uc3RydWN0b3IoYyxsLHIpe3RoaXMudWE9Yyx0aGlzLmNoPWwsdGhpcy5hcHBTZXR0aW5ncz1yfXN0YXRpYyBhc3luYyBjb2xsZWN0KGMpe2xldCBsPW5ldyB5ci5VQVBhcnNlcigpLmdldFJlc3VsdCgpLHI9e307aWYobmF2aWdhdG9yLnVzZXJBZ2VudERhdGEpe2xldCB0PXticmFuZHM6bmF2aWdhdG9yLnVzZXJBZ2VudERhdGEuYnJhbmRzLG1vYmlsZTpuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5tb2JpbGUscGxhdGZvcm06bmF2aWdhdG9yLnVzZXJBZ2VudERhdGEucGxhdGZvcm19LG49YXdhaXQgbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoW1wiYXJjaGl0ZWN0dXJlXCIsXCJiaXRuZXNzXCIsXCJtb2RlbFwiLFwicGxhdGZvcm1WZXJzaW9uXCIsXCJ1YUZ1bGxWZXJzaW9uXCJdKTtyPXsuLi50LC4uLm59fWxldCBlPXt9O3JldHVybiBjJiYoZT1hd2FpdCB5bihjKSksbmV3IGN0KGwscixlKX1nZXRVc2VyQWdlbnQoKXtyZXR1cm57YnJvd3Nlcjp7bmFtZTp0aGlzLnVhLmJyb3dzZXIubmFtZSx2ZXJzaW9uOnRoaXMudWEuYnJvd3Nlci52ZXJzaW9uLGVuZ2luZU5hbWU6dGhpcy51YS5lbmdpbmUubmFtZSxlbmdpbmVWZXJzaW9uOnRoaXMudWEuZW5naW5lLnZlcnNpb259LHBsYXRmb3JtOntuYW1lOnRoaXMudWEub3MubmFtZSx2ZXJzaW9uOnRoaXMudWEub3MudmVyc2lvbn0sZGV2aWNlOnthcmNoaXRlY3R1cmU6dGhpcy51YS5jcHUuYXJjaGl0ZWN0dXJlLG1vZGVsOnRoaXMudWEuZGV2aWNlLm1vZGVsLHR5cGU6dGhpcy51YS5kZXZpY2UudHlwZSx2ZW5kb3I6dGhpcy51YS5kZXZpY2UudmVuZG9yfSxjbGllbnREYXRhOnsuLi50aGlzLmNofX19Z2V0Q2xpZW50SGludHMoKXtyZXR1cm4gdGhpcy5jaH1hc3luYyBnZXRBcHBJbnN0YW5jZUlkKCl7cmV0dXJuIHRoaXMuYXBwU2V0dGluZ3M/e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSx2YWx1ZTp0aGlzLmFwcFNldHRpbmdzLmluc3RhbmNlSWR9OnZvaWQgMH1nZXRPc1ZlcnNpb24oKXtsZXQgYz10aGlzLmdldFVzZXJBZ2VudCgpLGw9e307aWYoYy5jbGllbnREYXRhKXtsLmFuc3dlcj17dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfTtmb3IobGV0IHIgaW4gYy5jbGllbnREYXRhKXIhPT1cImJyYW5kc1wiJiYobFtyXT17dmFsdWU6Yy5jbGllbnREYXRhW3JdfSl9ZWxzZSBsLmFuc3dlcj17dHlwZTp5ZS5BbnN3ZXJUeXBlLlVOU1VQUE9SVEVEfTtyZXR1cm57YW5zd2VyOnt0eXBlOnllLkFuc3dlclR5cGUuVkFMVUV9LHVzZXJBZ2VudDp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFLHZhbHVlOm5hdmlnYXRvci51c2VyQWdlbnR9LHVzZXJBZ2VudERhdGE6e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSxicm93c2VyOnthbnN3ZXI6e3R5cGU6eWUuQW5zd2VyVHlwZS5WQUxVRX0sbmFtZTp7YW5zd2VyOnt0eXBlOnllLkFuc3dlclR5cGUuVkFMVUV9LHZhbHVlOnRoaXMudWEuYnJvd3Nlci5uYW1lfSx2ZXJzaW9uOnthbnN3ZXI6e3R5cGU6eWUuQW5zd2VyVHlwZS5WQUxVRX0sdmFsdWU6dGhpcy51YS5icm93c2VyLnZlcnNpb259LGVuZ2luZU5hbWU6e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSx2YWx1ZTp0aGlzLnVhLmVuZ2luZS5uYW1lfSxlbmdpbmVWZXJzaW9uOnthbnN3ZXI6e3R5cGU6eWUuQW5zd2VyVHlwZS5WQUxVRX0sdmFsdWU6dGhpcy51YS5lbmdpbmUudmVyc2lvbn19LHBsYXRmb3JtOnthbnN3ZXI6e3R5cGU6eWUuQW5zd2VyVHlwZS5WQUxVRX0sbmFtZTp7YW5zd2VyOnt0eXBlOnllLkFuc3dlclR5cGUuVkFMVUV9LHZhbHVlOnRoaXMudWEub3MubmFtZX0sdmVyc2lvbjp7YW5zd2VyOnt0eXBlOnllLkFuc3dlclR5cGUuVkFMVUV9LHZhbHVlOnRoaXMudWEub3MudmVyc2lvbn19LGhvc3RQbGF0Zm9ybTp7YW5zd2VyOnt0eXBlOnllLkFuc3dlclR5cGUuVkFMVUV9LG5hbWU6e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSx2YWx1ZTp0aGlzLnVhLm9zLm5hbWV9LHZlcnNpb246e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSx2YWx1ZTp0aGlzLnVhLm9zLnZlcnNpb259fSxkZXZpY2U6e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSxhcmNoaXRlY3R1cmU6e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSx2YWx1ZTp0aGlzLnVhLmNwdS5hcmNoaXRlY3R1cmV9LG1vZGVsOnthbnN3ZXI6e3R5cGU6eWUuQW5zd2VyVHlwZS5WQUxVRX0sdmFsdWU6dGhpcy51YS5kZXZpY2UubW9kZWx9LHR5cGU6e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSx2YWx1ZTp0aGlzLnVhLmRldmljZS50eXBlfSx2ZW5kb3I6e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSx2YWx1ZTp0aGlzLnVhLmRldmljZS52ZW5kb3J9fSxjbGllbnREYXRhOmx9fX1hc3luYyBnZXRBdXRoZW50aWNhdGlvbigpe2xldCBjPSEhd2luZG93LlB1YmxpY0tleUNyZWRlbnRpYWwsbD1jJiZhd2FpdCB3aW5kb3cuUHVibGljS2V5Q3JlZGVudGlhbC5pc1VzZXJWZXJpZnlpbmdQbGF0Zm9ybUF1dGhlbnRpY2F0b3JBdmFpbGFibGUoKTtyZXR1cm57YW5zd2VyOnt0eXBlOnllLkFuc3dlclR5cGUuVkFMVUV9LGlzV2ViYXV0aG5BdmFpbGFibGU6e2Fuc3dlcjp7dHlwZTp5ZS5BbnN3ZXJUeXBlLlZBTFVFfSx2YWx1ZTpjfSxpc1BsYXRmb3JtQXV0aGVudGljYXRvckF2YWlsYWJsZTp7YW5zd2VyOnt0eXBlOnllLkFuc3dlclR5cGUuVkFMVUV9LHZhbHVlOmx9fX19O2FzeW5jIGZ1bmN0aW9uIEFvKCl7cmV0dXJuKGF3YWl0IGN0LmNvbGxlY3QoKSkuZ2V0VXNlckFnZW50KCl9YXN5bmMgZnVuY3Rpb24gRW8oZCl7bGV0IGM9bmV3IHllLkRldmljZUluZm8sbD1hd2FpdCBjdC5jb2xsZWN0KGQpO2MuYW5zd2VyPXt0eXBlOnllLkFuc3dlclR5cGUuVkFMVUV9LGMucGxhdGZvcm09eWUuUGxhdGZvcm0uV0VCLGMub3NWZXJzaW9uPWwuZ2V0T3NWZXJzaW9uKCksYy5jb3JlPXllLkNvcmUuUlVTVDtsZXQgcj1cIjEuMC4wXCIsZT1cIjEuMC4wXCI7cmV0dXJuIGMuYXBwVmVyc2lvbj17YW5zd2VyOnt0eXBlOnllLkFuc3dlclR5cGUuVkFMVUV9LHZhbHVlOnJ9LGMuYXBwSW5zdGFuY2VJZD1hd2FpdCBsLmdldEFwcEluc3RhbmNlSWQoKSxjLmF1dGhlbnRpY2F0aW9uPWF3YWl0IGwuZ2V0QXV0aGVudGljYXRpb24oKSxacihjKX1mdW5jdGlvbiBacihkKXtyZXR1cm4geWUuRGV2aWNlSW5mby5lbmNvZGUoZCkuZmluaXNoKCl9ZnVuY3Rpb24gX28oZCl7cmV0dXJuIHllLkRldmljZUluZm8uZGVjb2RlKGQpfWV4cG9ydHtaaSBhcyBrbWNfYWRkX2F1dGhlbnRpY2F0b3JfY2xpZW50X2lkLEVyIGFzIGttY19jbG9zZV9kYixfbyBhcyBrbWNfZGVjb2RlX2RldmljZV9pbmZvLERpIGFzIGttY19kZWNyeXB0LFFpIGFzIGttY19kZWxldGVfYWxsX2F1dGhlbnRpY2F0b3JfY2xpZW50X2lkcyxmaSBhcyBrbWNfZGVsZXRlX2NlcnQseWkgYXMga21jX2RlbGV0ZV9rZXksWGkgYXMga21jX2RlbGV0ZV9wcm9maWxlLFpyIGFzIGttY19lbmNvZGVfZGV2aWNlX2luZm8sZ2kgYXMga21jX2VuY3J5cHQsQWkgYXMga21jX2dlbmVyYXRlX2tleSxIciBhcyBrbWNfZ2V0X2FsbF9wcm9maWxlcyx5biBhcyBrbWNfZ2V0X2FwcF9zZXR0aW5ncyxhaSBhcyBrbWNfZ2V0X2NlcnQsRW8gYXMga21jX2dldF9kZXZpY2VfaW5mbyxaZSBhcyBrbWNfZ2V0X2tleSxGciBhcyBrbWNfZ2V0X3Byb2ZpbGUsWWkgYXMga21jX2dldF9wcm9maWxlX2J5X2lkLEFvIGFzIGttY19nZXRfdXNlcl9hZ2VudCx6aSBhcyBrbWNfaGFzX3Byb2ZpbGUsRWkgYXMga21jX2lzX2tleV93ZWJhdXRobl9iYWNrZWQsQXIgYXMga21jX29wZW5fZGIsUnIgYXMga21jX3B1YmxpY19rZXksZW8gYXMga21jX3B1dF9hcHBfc2V0dGluZ3MsdWkgYXMga21jX3B1dF9jZXJ0LF9yIGFzIGttY19yZXNldF9kYixlbiBhcyBrbWNfc2F2ZV9rZXksX2kgYXMga21jX3NpZ24sR2kgYXMga21jX3VwZGF0ZV9wcm9maWxlX21ldGFkYXRhLGtpIGFzIGttY192ZXJpZnksSmkgYXMga21jX3dyaXRlX3Byb2ZpbGUscWkgYXMga21jX3dyaXRlX3Byb2ZpbGVfaWR9O1xuLyohIEZvciBsaWNlbnNlIGluZm9ybWF0aW9uIHBsZWFzZSBzZWUgY2Jvci5qcy5MSUNFTlNFLnR4dCAqL1xuIiwiKGZ1bmN0aW9uKCl7XG4gIHZhciBfZ2xvYmFsID0gdGhpcztcblxuICAvKipcbiAgICogSlMgSW1wbGVtZW50YXRpb24gb2YgTXVybXVySGFzaDJcbiAgICpcbiAgICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOmdhcnkuY291cnRAZ21haWwuY29tXCI+R2FyeSBDb3VydDwvYT5cbiAgICogQHNlZSBodHRwOi8vZ2l0aHViLmNvbS9nYXJ5Y291cnQvbXVybXVyaGFzaC1qc1xuICAgKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86YWFwcGxlYnlAZ21haWwuY29tXCI+QXVzdGluIEFwcGxlYnk8L2E+XG4gICAqIEBzZWUgaHR0cDovL3NpdGVzLmdvb2dsZS5jb20vc2l0ZS9tdXJtdXJoYXNoL1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIEFTQ0lJIG9ubHlcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgUG9zaXRpdmUgaW50ZWdlciBvbmx5XG4gICAqIEByZXR1cm4ge251bWJlcn0gMzItYml0IHBvc2l0aXZlIGludGVnZXIgaGFzaFxuICAgKi9cbiAgZnVuY3Rpb24gTXVybXVySGFzaFYyKHN0ciwgc2VlZCkge1xuICAgIHZhclxuICAgICAgbCA9IHN0ci5sZW5ndGgsXG4gICAgICBoID0gc2VlZCBeIGwsXG4gICAgICBpID0gMCxcbiAgICAgIGs7XG5cbiAgICB3aGlsZSAobCA+PSA0KSB7XG4gICAgICBrID1cbiAgICAgICAgKChzdHIuY2hhckNvZGVBdChpKSAmIDB4ZmYpKSB8XG4gICAgICAgICgoc3RyLmNoYXJDb2RlQXQoKytpKSAmIDB4ZmYpIDw8IDgpIHxcbiAgICAgICAgKChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgMTYpIHxcbiAgICAgICAgKChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgMjQpO1xuXG4gICAgICBrID0gKCgoayAmIDB4ZmZmZikgKiAweDViZDFlOTk1KSArICgoKChrID4+PiAxNikgKiAweDViZDFlOTk1KSAmIDB4ZmZmZikgPDwgMTYpKTtcbiAgICAgIGsgXj0gayA+Pj4gMjQ7XG4gICAgICBrID0gKCgoayAmIDB4ZmZmZikgKiAweDViZDFlOTk1KSArICgoKChrID4+PiAxNikgKiAweDViZDFlOTk1KSAmIDB4ZmZmZikgPDwgMTYpKTtcblxuICAgIGggPSAoKChoICYgMHhmZmZmKSAqIDB4NWJkMWU5OTUpICsgKCgoKGggPj4+IDE2KSAqIDB4NWJkMWU5OTUpICYgMHhmZmZmKSA8PCAxNikpIF4gaztcblxuICAgICAgbCAtPSA0O1xuICAgICAgKytpO1xuICAgIH1cblxuICAgIHN3aXRjaCAobCkge1xuICAgIGNhc2UgMzogaCBePSAoc3RyLmNoYXJDb2RlQXQoaSArIDIpICYgMHhmZikgPDwgMTY7XG4gICAgY2FzZSAyOiBoIF49IChzdHIuY2hhckNvZGVBdChpICsgMSkgJiAweGZmKSA8PCA4O1xuICAgIGNhc2UgMTogaCBePSAoc3RyLmNoYXJDb2RlQXQoaSkgJiAweGZmKTtcbiAgICAgICAgICAgIGggPSAoKChoICYgMHhmZmZmKSAqIDB4NWJkMWU5OTUpICsgKCgoKGggPj4+IDE2KSAqIDB4NWJkMWU5OTUpICYgMHhmZmZmKSA8PCAxNikpO1xuICAgIH1cblxuICAgIGggXj0gaCA+Pj4gMTM7XG4gICAgaCA9ICgoKGggJiAweGZmZmYpICogMHg1YmQxZTk5NSkgKyAoKCgoaCA+Pj4gMTYpICogMHg1YmQxZTk5NSkgJiAweGZmZmYpIDw8IDE2KSk7XG4gICAgaCBePSBoID4+PiAxNTtcblxuICAgIHJldHVybiBoID4+PiAwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBKUyBJbXBsZW1lbnRhdGlvbiBvZiBNdXJtdXJIYXNoMyAocjEzNikgKGFzIG9mIE1heSAyMCwgMjAxMSlcbiAgICpcbiAgICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOmdhcnkuY291cnRAZ21haWwuY29tXCI+R2FyeSBDb3VydDwvYT5cbiAgICogQHNlZSBodHRwOi8vZ2l0aHViLmNvbS9nYXJ5Y291cnQvbXVybXVyaGFzaC1qc1xuICAgKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86YWFwcGxlYnlAZ21haWwuY29tXCI+QXVzdGluIEFwcGxlYnk8L2E+XG4gICAqIEBzZWUgaHR0cDovL3NpdGVzLmdvb2dsZS5jb20vc2l0ZS9tdXJtdXJoYXNoL1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEFTQ0lJIG9ubHlcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgUG9zaXRpdmUgaW50ZWdlciBvbmx5XG4gICAqIEByZXR1cm4ge251bWJlcn0gMzItYml0IHBvc2l0aXZlIGludGVnZXIgaGFzaFxuICAgKi9cbiAgZnVuY3Rpb24gTXVybXVySGFzaFYzKGtleSwgc2VlZCkge1xuICAgIHZhciByZW1haW5kZXIsIGJ5dGVzLCBoMSwgaDFiLCBjMSwgYzFiLCBjMiwgYzJiLCBrMSwgaTtcblxuICAgIHJlbWFpbmRlciA9IGtleS5sZW5ndGggJiAzOyAvLyBrZXkubGVuZ3RoICUgNFxuICAgIGJ5dGVzID0ga2V5Lmxlbmd0aCAtIHJlbWFpbmRlcjtcbiAgICBoMSA9IHNlZWQ7XG4gICAgYzEgPSAweGNjOWUyZDUxO1xuICAgIGMyID0gMHgxYjg3MzU5MztcbiAgICBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgYnl0ZXMpIHtcbiAgICAgICAgazEgPVxuICAgICAgICAgICgoa2V5LmNoYXJDb2RlQXQoaSkgJiAweGZmKSkgfFxuICAgICAgICAgICgoa2V5LmNoYXJDb2RlQXQoKytpKSAmIDB4ZmYpIDw8IDgpIHxcbiAgICAgICAgICAoKGtleS5jaGFyQ29kZUF0KCsraSkgJiAweGZmKSA8PCAxNikgfFxuICAgICAgICAgICgoa2V5LmNoYXJDb2RlQXQoKytpKSAmIDB4ZmYpIDw8IDI0KTtcbiAgICAgICsraTtcblxuICAgICAgazEgPSAoKCgoazEgJiAweGZmZmYpICogYzEpICsgKCgoKGsxID4+PiAxNikgKiBjMSkgJiAweGZmZmYpIDw8IDE2KSkpICYgMHhmZmZmZmZmZjtcbiAgICAgIGsxID0gKGsxIDw8IDE1KSB8IChrMSA+Pj4gMTcpO1xuICAgICAgazEgPSAoKCgoazEgJiAweGZmZmYpICogYzIpICsgKCgoKGsxID4+PiAxNikgKiBjMikgJiAweGZmZmYpIDw8IDE2KSkpICYgMHhmZmZmZmZmZjtcblxuICAgICAgaDEgXj0gazE7XG4gICAgICAgICAgaDEgPSAoaDEgPDwgMTMpIHwgKGgxID4+PiAxOSk7XG4gICAgICBoMWIgPSAoKCgoaDEgJiAweGZmZmYpICogNSkgKyAoKCgoaDEgPj4+IDE2KSAqIDUpICYgMHhmZmZmKSA8PCAxNikpKSAmIDB4ZmZmZmZmZmY7XG4gICAgICBoMSA9ICgoKGgxYiAmIDB4ZmZmZikgKyAweDZiNjQpICsgKCgoKGgxYiA+Pj4gMTYpICsgMHhlNjU0KSAmIDB4ZmZmZikgPDwgMTYpKTtcbiAgICB9XG5cbiAgICBrMSA9IDA7XG5cbiAgICBzd2l0Y2ggKHJlbWFpbmRlcikge1xuICAgICAgY2FzZSAzOiBrMSBePSAoa2V5LmNoYXJDb2RlQXQoaSArIDIpICYgMHhmZikgPDwgMTY7XG4gICAgICBjYXNlIDI6IGsxIF49IChrZXkuY2hhckNvZGVBdChpICsgMSkgJiAweGZmKSA8PCA4O1xuICAgICAgY2FzZSAxOiBrMSBePSAoa2V5LmNoYXJDb2RlQXQoaSkgJiAweGZmKTtcblxuICAgICAgazEgPSAoKChrMSAmIDB4ZmZmZikgKiBjMSkgKyAoKCgoazEgPj4+IDE2KSAqIGMxKSAmIDB4ZmZmZikgPDwgMTYpKSAmIDB4ZmZmZmZmZmY7XG4gICAgICBrMSA9IChrMSA8PCAxNSkgfCAoazEgPj4+IDE3KTtcbiAgICAgIGsxID0gKCgoazEgJiAweGZmZmYpICogYzIpICsgKCgoKGsxID4+PiAxNikgKiBjMikgJiAweGZmZmYpIDw8IDE2KSkgJiAweGZmZmZmZmZmO1xuICAgICAgaDEgXj0gazE7XG4gICAgfVxuXG4gICAgaDEgXj0ga2V5Lmxlbmd0aDtcblxuICAgIGgxIF49IGgxID4+PiAxNjtcbiAgICBoMSA9ICgoKGgxICYgMHhmZmZmKSAqIDB4ODVlYmNhNmIpICsgKCgoKGgxID4+PiAxNikgKiAweDg1ZWJjYTZiKSAmIDB4ZmZmZikgPDwgMTYpKSAmIDB4ZmZmZmZmZmY7XG4gICAgaDEgXj0gaDEgPj4+IDEzO1xuICAgIGgxID0gKCgoKGgxICYgMHhmZmZmKSAqIDB4YzJiMmFlMzUpICsgKCgoKGgxID4+PiAxNikgKiAweGMyYjJhZTM1KSAmIDB4ZmZmZikgPDwgMTYpKSkgJiAweGZmZmZmZmZmO1xuICAgIGgxIF49IGgxID4+PiAxNjtcblxuICAgIHJldHVybiBoMSA+Pj4gMDtcbiAgfVxuXG4gIHZhciBtdXJtdXIgPSBNdXJtdXJIYXNoVjM7XG4gIG11cm11ci52MiA9IE11cm11ckhhc2hWMjtcbiAgbXVybXVyLnYzID0gTXVybXVySGFzaFYzO1xuXG4gIGlmICh0eXBlb2YobW9kdWxlKSAhPSAndW5kZWZpbmVkJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gbXVybXVyO1xuICB9IGVsc2Uge1xuICAgIHZhciBfcHJldmlvdXNSb290ID0gX2dsb2JhbC5tdXJtdXI7XG4gICAgbXVybXVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIF9nbG9iYWwubXVybXVyID0gX3ByZXZpb3VzUm9vdDtcbiAgICAgIHJldHVybiBtdXJtdXI7XG4gICAgfVxuICAgIF9nbG9iYWwubXVybXVyID0gbXVybXVyO1xuICB9XG59KCkpO1xuIiwiaW1wb3J0IHsgTG9nIH0gZnJvbSBcIi4vbG9nXCI7XG5pbXBvcnQgeyBNb2NrQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuL21vY2tcIjtcblxuXG5cbi8qKlxuICogVE9ETzogRG9jXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uIHtcblxuXG4gICAgLyoqXG4gICAgICogQXNzaWduaW5nIHRoaXMgdG8gYHt9YCB3aWxsIGNyZWF0ZSB0aGUgbW9jayBlbnZpcm9ubW5lbnQuXG4gICAgICogVE9ETzogQXNzaWduIHRvIHNvbWV0aGluZyBsaWtlIGB7IGF1dGg6IHsuLi59LCB9YCB0byBcbiAgICAgKiBtb2NrIHNwZWNpZmljIGZsb3dzLlxuICAgICAqL1xuICAgIG1vY2s/OiBNb2NrQ29uZmlndXJhdGlvbjsgXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9nZ2luZyBmYWNpbGl0eS4gRGVmYXVsdHMgdG8gYENvbnNvbGVMb2dgLlxuICAgICAqL1xuICAgIGxvZz86IExvZztcblxuICAgIGFsbG93ZWREb21haW5zPzogc3RyaW5nO1xufVxuIiwiaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25cIjtcbmltcG9ydCB7IE1vY2tDb25maWd1cmF0aW9uIH0gZnJvbSBcIi4vbW9ja1wiO1xuaW1wb3J0IHsgQ29yZURpc3BhdGNoLCBjcmVhdGVEaXNwYXRjaCB9IGZyb20gXCIuL2NvcmVEaXNwYXRjaFwiO1xuaW1wb3J0IHtcbiAgQ3JlZGVudGlhbCxcbiAgQ3JlZGVudGlhbFYxLFxuICBCaW5kQ3JlZGVudGlhbFYxUmVzdWx0LFxuICBQa2NlQ29kZUNoYWxsZW5nZSxcbiAgUGtjZSxcbiAgVHJ1c3RlZFNvdXJjZSxcbiAgQXV0aG9yaXphdGlvbkNvZGUsXG4gIFVybFJlc3BvbnNlLFxuICBUb2tlblJlc3BvbnNlLFxuICBDaGVja1JldGlyZVJlc3BvbnNlLFxuICBCcm93c2VySW5mbyxcbiAgQ3JlZGVudGlhbElkLFxuICBJZGVudGl0eUlkLFxuICBSZWFsbUlkLFxuICBUZW5hbnRJZCxcbiAgQ3JlZGVudGlhbEJpbmRpbmdKb2JJZCxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IExvZyB9IGZyb20gXCIuL2xvZ1wiO1xuaW1wb3J0IHsgSG9zdEV2ZW50cywgRXhwb3J0RXZlbnQsIEltcG9ydEV2ZW50IH0gZnJvbSBcIi4vaG9zdFwiO1xuaW1wb3J0IGluaXQgZnJvbSBcImttYy1mZmlcIjtcbmltcG9ydCB7IE9wdGltaXplbHkgfSBmcm9tIFwiLi91dGlsL29wdGltaXplbHlcIjtcbmltcG9ydCB7IEJJQXV0aGVudGljYXRlVXJsUmVzcG9uc2UgfSBmcm9tIFwiLi90eXBlcy9jcmVkZW50aWFsXCI7XG5cbi8qKlxuICogQ29yZUJ1aWxkZXIgaXMgYSB3cmFwcGVyIGFyb3VuZCBgQ29yZUNvbmZpZ2Agd2l0aCBhIFwiZmx1ZW50XCIgaW50ZXJmYWNlLlxuICovXG5leHBvcnQgY2xhc3MgQ29yZUJ1aWxkZXIge1xuICBjb25maWc6IENvbmZpZ3VyYXRpb247XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb25maWcgPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuICB9XG5cbiAgbW9jayhkYXRhOiBNb2NrQ29uZmlndXJhdGlvbik6IENvcmVCdWlsZGVyIHtcbiAgICB0aGlzLmNvbmZpZy5tb2NrID0gZGF0YTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxvZyhsb2c6IExvZyk6IENvcmVCdWlsZGVyIHtcbiAgICB0aGlzLmNvbmZpZy5sb2cgPSBsb2c7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhbGxvd2VkRG9tYWlucyhhbGxvd2VkRG9tYWlucz86IHN0cmluZyk6IENvcmVCdWlsZGVyIHtcbiAgICB0aGlzLmNvbmZpZy5hbGxvd2VkRG9tYWlucyA9IGFsbG93ZWREb21haW5zO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCB0aGUgYENvcmVgLlxuICAgKiBAcmV0dXJucyBgQ29yZWBcbiAgICovXG4gIGFzeW5jIGJ1aWxkKCk6IFByb21pc2U8Q29yZT4ge1xuICAgIGlmICghdGhpcy5jb25maWcubW9jaykge1xuICAgICAgYXdhaXQgaW5pdCgpO1xuICAgIH1cbiAgICBsZXQgY29yZSA9IG5ldyBDb3JlKGNyZWF0ZURpc3BhdGNoKHRoaXMuY29uZmlnKSk7XG4gICAgYXdhaXQgY29yZS5pbml0KHRoaXMuY29uZmlnKTtcbiAgICByZXR1cm4gY29yZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBvbmx5IHRoaW5nIHlvdSBuZWVkIVxuICogV3JhcHMgdGhlIGNvcmUgZGlzcGF0Y2ggc28gaXQgY2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCBhIE1vY2sgaW50ZXJmYWNlLlxuICovXG5leHBvcnQgY2xhc3MgQ29yZSB7XG4gIGRpc3BhdGNoOiBDb3JlRGlzcGF0Y2g7XG5cbiAgb3B0aW1pemVseT86IE9wdGltaXplbHk7XG5cbiAgY29uc3RydWN0b3IoZGlzcGF0Y2g6IENvcmVEaXNwYXRjaCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBkaXNwYXRjaDtcbiAgfVxuXG4gIGdldCBldmVudHMoKTogSG9zdEV2ZW50cyB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2guaG9zdC5ldmVudHM7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBvbmUtdGltZSBpbml0aWFsaXphdGlvbjsgc3BlY2lmaWNhbGx5LFxuICAgKiB0aGlzIGlzIGRvbmUgdG8gaW5pdGlhbGx5IHBvcHVsYXRlIGFwcFNldHRpbmdzIG9iamVjdFN0b3JlXG4gICAqIHdpdGggYW4gYXBwSW5zdGFuY2VJZCwgd2hpY2ggaXMgcmVxdWlyZWQgZm9yIHRoZSBpbXBvcnQgZmxvdy5cbiAgICovXG4gIGluaXQgPSBhc3luYyAoY29uZmlnOiBDb25maWd1cmF0aW9uKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdGhpcy5kaXNwYXRjaC5taWdyYXRlRGF0YWJhc2UoY29uZmlnLmFsbG93ZWREb21haW5zKTtcblxuICAgIC8vIEdldCB0aGUgYXBwSW5zdGFuY2VJRCB0byBwYXNzIGludG8gdGhlXG4gICAgLy8gcXVlcnlGZWF0dXJlRmxhZyBjbG9zdXJlXG4gICAgbGV0IGluc3RhbmNlSWQgPSBhd2FpdCB0aGlzLmRpc3BhdGNoLmdldEFwcEluc3RhbmNlSWQoKTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5vcHRpbWl6ZWx5ID0gYXdhaXQgT3B0aW1pemVseS5pbml0KCk7XG4gICAgICB0aGlzLmRpc3BhdGNoLmhvc3QucXVlcnlGZWF0dXJlRmxhZyA9IChmbGFnOiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW1pemVseVxuICAgICAgICAgID8gdGhpcy5vcHRpbWl6ZWx5LnF1ZXJ5RmVhdHVyZUZsYWcoZmxhZywgaW5zdGFuY2VJZCB8fCBcIlwiKVxuICAgICAgICAgIDogZmFsc2U7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIk9wdGltaXplbHkgaW5pdGlhbGl6YXRpb24gZmFpbHVyZTogXCIsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIGJpbmRDcmVkZW50aWFsVXJsID0gYXN5bmMgKHVybDogc3RyaW5nKTogUHJvbWlzZTxCaW5kQ3JlZGVudGlhbFYxUmVzdWx0PiA9PlxuICAgIGF3YWl0IHRoaXMuZGlzcGF0Y2guYmluZENyZWRlbnRpYWxVcmwodXJsKTtcblxuICBnZXRVcmxUeXBlID0gKHVybDogc3RyaW5nKSA9PiB0aGlzLmRpc3BhdGNoLmdldFVybFR5cGUodXJsKTtcblxuICBjYW5jZWwgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB0aGlzLmRpc3BhdGNoLmNhbmNlbCgpO1xuXG4gIGNyZWF0ZVBLQ0UgPSBhc3luYyAoKTogUHJvbWlzZTxQa2NlPiA9PiB0aGlzLmRpc3BhdGNoLmNyZWF0ZVBrY2UoKTtcblxuICBjcmVhdGVDcmVkZW50aWFsID0gYXN5bmMgKFxuICAgIGhhbmRsZTogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBpbWFnZVVybDogc3RyaW5nLFxuICAgIGxvZ2luVXJpPzogc3RyaW5nLFxuICAgIGVucm9sbFVyaT86IHN0cmluZ1xuICApOiBQcm9taXNlPENyZWRlbnRpYWw+ID0+XG4gICAgdGhpcy5kaXNwYXRjaC5jcmVhdGVDcmVkZW50aWFsKGhhbmRsZSwgbmFtZSwgaW1hZ2VVcmwsIGxvZ2luVXJpLCBlbnJvbGxVcmkpO1xuXG4gIGRlbGV0ZUNyZWRlbnRpYWwgPSBhc3luYyAoaGFuZGxlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAgdGhpcy5kaXNwYXRjaC5kZWxldGVDcmVkZW50aWFsKGhhbmRsZSk7XG5cbiAgZGVsZXRlQ3JlZGVudGlhbFYxID0gYXN5bmMgKGlkOiBDcmVkZW50aWFsSWQpOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAgdGhpcy5kaXNwYXRjaC5kZWxldGVDcmVkZW50aWFsVjEoaWQpO1xuXG4gIGF1dGhlbnRpY2F0ZUNvbmZpZGVudGlhbCA9IGFzeW5jIChcbiAgICBhdXRoVVJMOiBzdHJpbmcsXG4gICAgY2xpZW50SWQ6IHN0cmluZyxcbiAgICByZWRpcmVjdFVSSTogc3RyaW5nLFxuICAgIHNjb3BlOiBzdHJpbmcsXG4gICAgUEtDRUNvZGVDaGFsbGVuZ2U/OiBQa2NlQ29kZUNoYWxsZW5nZSxcbiAgICBub25jZT86IHN0cmluZ1xuICApOiBQcm9taXNlPEF1dGhvcml6YXRpb25Db2RlPiA9PlxuICAgIHRoaXMuZGlzcGF0Y2guYXV0aGVudGljYXRlQ29uZmlkZW50aWFsKFxuICAgICAgYXV0aFVSTCxcbiAgICAgIGNsaWVudElkLFxuICAgICAgcmVkaXJlY3RVUkksXG4gICAgICBzY29wZSxcbiAgICAgIFBLQ0VDb2RlQ2hhbGxlbmdlLFxuICAgICAgbm9uY2VcbiAgICApO1xuXG4gIC8qKlxuICAgKiBBdXRoZW50aWNhdGVzIGEgY3JlZGVudGlhbC5cbiAgICovXG4gIGF1dGhlbnRpY2F0ZSA9IGFzeW5jIChcbiAgICB1cmw6IHN0cmluZyxcbiAgICB0cnVzdGVkOiBUcnVzdGVkU291cmNlLFxuICAgIG9uU2VsZWN0Q3JlZGVudGlhbD86IChcbiAgICAgIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFsVjFbXVxuICAgICkgPT4gUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+XG4gICk6IFByb21pc2U8QklBdXRoZW50aWNhdGVVcmxSZXNwb25zZT4gPT4ge1xuICAgIHRoaXMuZGlzcGF0Y2guaG9zdC5ldmVudHMub25TZWxlY3RDcmVkZW50aWFsVjEgPSBvblNlbGVjdENyZWRlbnRpYWxcbiAgICAgID8gYXN5bmMgKGNyZWRlbnRpYWxzKSA9PiBvblNlbGVjdENyZWRlbnRpYWw/LihjcmVkZW50aWFscylcbiAgICAgIDogdW5kZWZpbmVkOyAvLyB1c2UgZGVmYXVsdCBjcmVkZW50aWFsIHNlbGVjdGlvbiBoYW5kbGluZyBkZWZpbmVkIGJ5IHRoZSBob3N0XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmRpc3BhdGNoLmF1dGhlbnRpY2F0ZSh1cmwsIHRydXN0ZWQsIG9uU2VsZWN0Q3JlZGVudGlhbCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIHJlc2V0IHNlbGVjdCBjcmVkZW50aWFsIGNhbGxiYWNrXG4gICAgICB0aGlzLmRpc3BhdGNoLmhvc3QuZXZlbnRzLm9uU2VsZWN0Q3JlZGVudGlhbFYxID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICBhdXRoZW50aWNhdGVQdWJsaWMgPSBhc3luYyAoXG4gICAgYXV0aFVSTDogc3RyaW5nLFxuICAgIHRva2VuVVJMOiBzdHJpbmcsXG4gICAgY2xpZW50SWQ6IHN0cmluZyxcbiAgICByZWRpcmVjdFVSSTogc3RyaW5nLFxuICAgIG5vbmNlPzogc3RyaW5nXG4gICk6IFByb21pc2U8VG9rZW5SZXNwb25zZT4gPT5cbiAgICB0aGlzLmRpc3BhdGNoLmF1dGhlbnRpY2F0ZVB1YmxpYyhcbiAgICAgIGF1dGhVUkwsXG4gICAgICB0b2tlblVSTCxcbiAgICAgIGNsaWVudElkLFxuICAgICAgcmVkaXJlY3RVUkksXG4gICAgICBub25jZVxuICAgICk7XG5cbiAgLyoqXG4gICAqIEJlZ2lucyBhbiBleHBvcnQgb2YgdGhlIHNwZWNpZmllZCBjcmVkZW50aWFsLlxuICAgKiBAcGFyYW0gaGFuZGxlXG4gICAqIEBwYXJhbSB1cmxcbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSByZW5kZXp2b3VzIHRva2VuXG4gICAqIHRoYXQgaXMgdGhlIHJlc3VsdCBvZiBhbiBleHBvcnQgXCJzdGFydGVkXCIgZXZlbnQuXG4gICAqIFRoaXMgZG9lcyBub3QgaW5kaWNhdGUgdGhhdCB0aGUgb3BlcmF0aW9uIGhhcyBjb21wbGV0ZWQuXG4gICAqIFRoZSBjYWxsZXIgbXVzdCB0aGVuIHBlcmlvZGljYWxseSBwb2xsIHRoZSBgY29yZSdzYFxuICAgKiBgZXhwb3J0U3RhdHVzYCBtZW1iZXIgdG8gY2hlY2sgZm9yIGFuIHVwZGF0ZWQgdG9rZW4gaW5cbiAgICogdGhlIGV2ZW50IG9mIGEgdGltZW91dC5cbiAgICpcbiAgICogSWYgdGhlIG9wZXJhdGlvbiBmYWlscyBmb3IgYW55IHJlYXNvbiwgdGhlbiB0aGUgcHJvbWlzZVxuICAgKiB3aWxsIGJlIHJlamVjdGVkLlxuICAgKi9cbiAgZXhwb3J0ID0gYXN5bmMgKFxuICAgIGhhbmRsZTogc3RyaW5nLFxuICAgIG9uRXhwb3J0OiAoZXZlbnQ6IEV4cG9ydEV2ZW50KSA9PiB2b2lkXG4gICk6IFByb21pc2U8c3RyaW5nPiA9PlxuICAgIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuZGlzcGF0Y2guaG9zdC5ldmVudHMub25leHBvcnQgPSAoZXY6IEV4cG9ydEV2ZW50KSA9PiB7XG4gICAgICAgIC8vIFdlIGRvbid0IGV4cGVjdCBmYWlsZWQgb3IgY2FuY2VsbGVkIGV2ZW50cyBmcm9tIHRoZSBIb3N0LlxuICAgICAgICBpZiAoZXYudHlwZSA9PSBcInN0YXJ0ZWRcIikge1xuICAgICAgICAgIC8vIFJldHVybiB0aGUgcmVuZGV6dm91cyB0b2tlbi5cbiAgICAgICAgICByZXNvbHZlKDxzdHJpbmc+ZXYuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgb25FeHBvcnQoZXYpO1xuICAgICAgfTtcblxuICAgICAgLy8gS2ljayBvZmYgdGhlIG9wZXJhdGlvbi5cbiAgICAgIC8vIFRoaXMgcHJvbWlzZSByZXNvbHZlcyB3aGVuIHRoZSBcInN0YXJ0ZWRcIiBldmVudCBpc1xuICAgICAgLy8gcmVjZWl2ZWQuIEFueSBmYWlsdXJlcyBmcm9tIGV4cG9ydCAoaW5jbHVkaW5nIGNhbmNlbGxhdGlvbilcbiAgICAgIC8vIHdpbGwgcmVqZWN0IHRoZSBwcm9taXNlLiBUaGUgcmV0dXJuIHZhbHVlIG9mIGV4cG9ydCB1cG9uXG4gICAgICAvLyBzdWNjZXNzIGlzIGlnbm9yZWQuXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGlzcGF0Y2guZXhwb3J0KGhhbmRsZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoLmhvc3QuZXZlbnRzLm9uZXhwb3J0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGdldENyZWRlbnRpYWxzID0gYXN5bmMgKCk6IFByb21pc2U8Q3JlZGVudGlhbFtdPiA9PlxuICAgIHRoaXMuZGlzcGF0Y2guZ2V0Q3JlZGVudGlhbHMoKTtcblxuICBsaXN0Q3JlZGVudGlhbHMgPSBhc3luYyAoKTogUHJvbWlzZTxDcmVkZW50aWFsVjFbXT4gPT5cbiAgICB0aGlzLmRpc3BhdGNoLmxpc3RDcmVkZW50aWFscygpO1xuXG4gIGhhbmRsZVVSTCA9IGFzeW5jIChcbiAgICB1cmw6IHN0cmluZyxcbiAgICB0cnVzdGVkOiBUcnVzdGVkU291cmNlXG4gICk6IFByb21pc2U8VXJsUmVzcG9uc2U+ID0+IHRoaXMuZGlzcGF0Y2guaGFuZGxlVVJMKHVybCwgdHJ1c3RlZCk7XG5cbiAgLyoqXG4gICAqIFRPRE86IHdobiBzaG91bGQgdGhpcyBwcm9taXNlIGJlIHJlc29sdmVkP1xuICAgKiBAcGFyYW0gdG9rZW5cbiAgICogQHBhcmFtIGFkZHJlc3NcbiAgICogQHJldHVybnNcbiAgICovXG4gIGltcG9ydCA9IGFzeW5jIChcbiAgICB0b2tlbjogc3RyaW5nLFxuICAgIG9uSW1wb3J0PzogKGV2OiBJbXBvcnRFdmVudCkgPT4gdm9pZFxuICApOiBQcm9taXNlPENyZWRlbnRpYWwgfCB1bmRlZmluZWQ+ID0+IHtcbiAgICB0aGlzLmRpc3BhdGNoLmhvc3QuZXZlbnRzLm9uaW1wb3J0ID0gb25JbXBvcnQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmRpc3BhdGNoLmltcG9ydCh0b2tlbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuZGlzcGF0Y2guaG9zdC5ldmVudHMub25pbXBvcnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4gIHJlZ2lzdGVyID0gYXN5bmMgKFxuICAgIHVybDogc3RyaW5nLFxuICAgIHRydXN0ZWQ6IFRydXN0ZWRTb3VyY2VcbiAgKTogUHJvbWlzZTxVcmxSZXNwb25zZT4gPT4gdGhpcy5kaXNwYXRjaC5yZWdpc3Rlcih1cmwsIHRydXN0ZWQpO1xuXG4gIGdldEFwcEluc3RhbmNlSWQgPSBhc3luYyAoKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICBsZXQgaGFsVmVyc2lvbjtcbiAgICBpZiAodGhpcy5kaXNwYXRjaC5ob3N0LnF1ZXJ5RmVhdHVyZUZsYWcoXCJjcnlwdG9fcHJvdmlkZXJfaGFsXCIpKSB7XG4gICAgICBoYWxWZXJzaW9uID0gXCJIXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbFZlcnNpb24gPSBcIkxcIjtcbiAgICB9XG4gICAgcmV0dXJuIChhd2FpdCB0aGlzLmRpc3BhdGNoLmdldEFwcEluc3RhbmNlSWQoKSkgKyBgWyR7aGFsVmVyc2lvbn1dYDtcbiAgfTtcblxuICBnZXRCcm93c2VySW5mbyA9IGFzeW5jICgpOiBQcm9taXNlPEJyb3dzZXJJbmZvPiA9PlxuICAgIGF3YWl0IHRoaXMuZGlzcGF0Y2guZ2V0QnJvd3NlckluZm8oKTtcblxuICAvKipcbiAgICogVEVTVElORyBPTkxZIVxuICAgKiBEZWxldGVzIHRoZSBrZXltYWtlciBkYXRhYmFzZS5cbiAgICovXG4gIHN0YXRpYyByZXNldCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IHJxID0gd2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShcImtleW1ha2VyXCIpO1xuICAgICAgcnEub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgIHJlamVjdChcInVuZXhwZWN0ZWQgZXJyb3JcIik7XG4gICAgICB9O1xuICAgICAgcnEub25zdWNjZXNzID0gKGUpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBDb3JlTWVzc2FnZSwgSG9zdE1lc3NhZ2UsIFR5cGVzIGFzIE1lc3NhZ2luZyB9IGZyb20gXCIuL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHtcbiAgUGtjZSxcbiAgUGtjZUNvZGVDaGFsbGVuZ2UsXG4gIFRydXN0ZWRTb3VyY2UsXG4gIEF1dGhvcml6YXRpb25Db2RlLFxuICBVcmxSZXNwb25zZSxcbiAgVG9rZW5SZXNwb25zZSxcbiAgQ2hlY2tSZXRpcmVSZXNwb25zZSxcbiAgQnJvd3NlckluZm8sXG4gIENyZWRlbnRpYWwsXG4gIEJpbmRDcmVkZW50aWFsVjFSZXN1bHQsXG4gIENyZWRlbnRpYWxWMSxcbiAgS2V5VHlwZSxcbiAgQ3JlZGVudGlhbElkLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgSG9zdCwgaG9zdENhbGwgfSBmcm9tIFwiLi9ob3N0XCI7XG5pbXBvcnQgaW5pdCwge1xuICBrbWNfZGVsZXRlX2NyZWRlbnRpYWwsXG4gIGttY19jYW5jZWwsXG4gIGttY19jcmVhdGVfcGtjZSxcbiAga21jX2NyZWF0ZV9wcm9maWxlLFxuICBrbWNfZW1iZWRkZWRfY29uZmlkZW50aWFsX29pZGMsXG4gIGttY19lbWJlZGRlZF9wdWJsaWNfb2lkYyxcbiAga21jX2ltcG9ydCxcbiAga21jX2xpc3RfY3JlZGVudGlhbHMsXG4gIGttY19oYW5kbGVfdXJsLFxuICBrbWNfZXhwb3J0LFxuICBrbWNfZGVsZXRlX3Byb2ZpbGUsXG4gIGttY19hbGxfY3JlZGVudGlhbHMsXG4gIGttY19nZXRfYXBwX2luc3RhbmNlX2lkLFxuICBrbWNfZ2V0X3VzZXJfYWdlbnQsXG4gIGttY19nZXRfa2V5X3R5cGUsXG4gIGttY19taWdyYXRlX2RhdGFiYXNlLFxuICBrbWNfdXJsX3R5cGUsXG59IGZyb20gXCJrbWMtZmZpXCI7XG5pbXBvcnQgeyBXZWJIb3N0IH0gZnJvbSBcIi4vaG9zdC93ZWJIb3N0XCI7XG5pbXBvcnQgeyBNb2NrRGlzcGF0Y2ggfSBmcm9tIFwiLi9tb2NrL21vY2tEaXNwYXRjaFwiO1xuaW1wb3J0IHsgQklBdXRoZW50aWNhdGVVcmxSZXNwb25zZSB9IGZyb20gXCIuL3R5cGVzL2NyZWRlbnRpYWxcIjtcblxuLyoqXG4gKiBUaGUgQ29yZURpc3BhdGNoIGlzIHJlc3BvbnNpYmxlIGZvciBtYXJzaGFsaW5nIGludm9raW5nIEtNQyBhbmQgbWFyc2hhbGxpbmdcbiAqIHJlcXVlc3RzIHRvL2Zyb20gdGhlIEhvc3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZURpc3BhdGNoIHtcbiAgaG9zdDogSG9zdDtcblxuICBiaW5kQ3JlZGVudGlhbFVybCh1cmw6IHN0cmluZyk6IFByb21pc2U8QmluZENyZWRlbnRpYWxWMVJlc3VsdD47XG4gIGdldFVybFR5cGUodXJsOiBzdHJpbmcpOiBNZXNzYWdpbmcuVXJsVHlwZTtcbiAgbWlncmF0ZURhdGFiYXNlKGFsbG93ZWREb21haW5zPzogc3RyaW5nKTogdm9pZDtcbiAgY2FuY2VsKCk6IFByb21pc2U8dm9pZD47XG4gIGNyZWF0ZVBrY2UoKTogUHJvbWlzZTxQa2NlPjtcbiAgY3JlYXRlQ3JlZGVudGlhbChcbiAgICBoYW5kbGU6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgaW1hZ2VVcmw6IHN0cmluZyxcbiAgICBsb2dpblVyaT86IHN0cmluZyxcbiAgICBlbnJvbGxVcmk/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxDcmVkZW50aWFsPjtcbiAgZGVsZXRlQ3JlZGVudGlhbChoYW5kbGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XG4gIGRlbGV0ZUNyZWRlbnRpYWxWMShpZDogQ3JlZGVudGlhbElkKTogUHJvbWlzZTx2b2lkPjtcbiAgYXV0aGVudGljYXRlKFxuICAgIHVybDogc3RyaW5nLFxuICAgIHRydXN0ZWQ6IFRydXN0ZWRTb3VyY2UsXG4gICAgb25TZWxlY3RDcmVkZW50aWFsPzogKFxuICAgICAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxWMVtdXG4gICAgKSA9PiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD5cbiAgKTogUHJvbWlzZTxCSUF1dGhlbnRpY2F0ZVVybFJlc3BvbnNlPjtcbiAgYXV0aGVudGljYXRlQ29uZmlkZW50aWFsKFxuICAgIGF1dGhVUkw6IHN0cmluZyxcbiAgICBjbGllbnRJZDogc3RyaW5nLFxuICAgIHJlZGlyZWN0VVJJOiBzdHJpbmcsXG4gICAgc2NvcGU6IHN0cmluZyxcbiAgICBQS0NFQ29kZUNoYWxsZW5nZT86IFBrY2VDb2RlQ2hhbGxlbmdlLFxuICAgIG5vbmNlPzogc3RyaW5nXG4gICk6IFByb21pc2U8QXV0aG9yaXphdGlvbkNvZGU+O1xuICBhdXRoZW50aWNhdGVQdWJsaWMoXG4gICAgYXV0aFVSTDogc3RyaW5nLFxuICAgIHRva2VuVVJMOiBzdHJpbmcsXG4gICAgY2xpZW50SWQ6IHN0cmluZyxcbiAgICByZWRpcmVjdFVSSTogc3RyaW5nLFxuICAgIG5vbmNlPzogc3RyaW5nXG4gICk6IFByb21pc2U8VG9rZW5SZXNwb25zZT47XG4gIGV4cG9ydChoYW5kbGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XG4gIGdldENyZWRlbnRpYWxzKCk6IFByb21pc2U8Q3JlZGVudGlhbFtdPjtcbiAgbGlzdENyZWRlbnRpYWxzKCk6IFByb21pc2U8Q3JlZGVudGlhbFYxW10+O1xuICBnZXRLZXlUeXBlKGtleUhhbmRsZTogc3RyaW5nKTogUHJvbWlzZTxLZXlUeXBlPjtcbiAgaGFuZGxlVVJMKHVybDogc3RyaW5nLCB0cnVzdGVkOiBUcnVzdGVkU291cmNlKTogUHJvbWlzZTxVcmxSZXNwb25zZT47XG4gIGltcG9ydCh0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxDcmVkZW50aWFsIHwgdW5kZWZpbmVkPjtcbiAgcmVnaXN0ZXIodXJsOiBzdHJpbmcsIHRydXN0ZWQ6IFRydXN0ZWRTb3VyY2UpOiBQcm9taXNlPFVybFJlc3BvbnNlPjtcbiAgZ2V0QXBwSW5zdGFuY2VJZCgpOiBQcm9taXNlPHN0cmluZz47XG4gIGdldEJyb3dzZXJJbmZvKCk6IFByb21pc2U8QnJvd3NlckluZm8+O1xufVxuXG5jbGFzcyBLbWNEaXNwYXRjaCBpbXBsZW1lbnRzIENvcmVEaXNwYXRjaCB7XG4gIGhvc3Q6IEhvc3Q7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWd1cmF0aW9uKSB7XG4gICAgdGhpcy5ob3N0ID0gbmV3IFdlYkhvc3QoY29uZmlnKTtcbiAgfVxuXG4gIGJpbmRDcmVkZW50aWFsVXJsID0gYXN5bmMgKHVybDogc3RyaW5nKTogUHJvbWlzZTxCaW5kQ3JlZGVudGlhbFYxUmVzdWx0PiA9PiB7XG4gICAgY29uc3QgcmF3VXJsVHlwZSA9IGttY191cmxfdHlwZSh1cmwpO1xuICAgIGlmIChNZXNzYWdpbmcudG9VcmxUeXBlKHJhd1VybFR5cGUpLnR5cGUgIT09IFwiQmluZFwiKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIG5ldyBFcnJvcihcIkludmFsaWQgVXJsIFR5cGUuIEV4cGVjdGVkIGEgQmluZCBDcmVkZW50aWFsIFVybC5cIilcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogbW9kaWZ5IHRoZSB0cnVzdGVkIHNvdXJjZVxuICAgIGNvbnN0IHJzcCA9IGF3YWl0IGttY19oYW5kbGVfdXJsKFxuICAgICAgdXJsLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgXCJFbWJlZGRlZFNvdXJjZVwiLFxuICAgICAgKG1zZzogc3RyaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiBob3N0Q2FsbCh0aGlzLmhvc3QsIG1zZyk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbnN0IHVybFJlc3BvbnNlID0gTWVzc2FnaW5nLnRvVXJsUmVzcG9uc2UocnNwKTtcbiAgICBzd2l0Y2ggKHVybFJlc3BvbnNlLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJiaW5kQ3JlZGVudGlhbFwiOiB7XG4gICAgICAgIHJldHVybiB1cmxSZXNwb25zZS5iaW5kQ3JlZGVudGlhbDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgcmVzcG9uc2UgdHlwZVwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGdldFVybFR5cGUgPSAodXJsOiBzdHJpbmcpOiBNZXNzYWdpbmcuVXJsVHlwZSA9PiB7XG4gICAgY29uc3QgcmF3VXJsVHlwZSA9IGttY191cmxfdHlwZSh1cmwpO1xuICAgIHJldHVybiBNZXNzYWdpbmcudG9VcmxUeXBlKHJhd1VybFR5cGUpO1xuICB9O1xuXG4gIG1pZ3JhdGVEYXRhYmFzZSA9IChhbGxvd2VkRG9tYWlucz86IHN0cmluZykgPT4ge1xuICAgIGttY19taWdyYXRlX2RhdGFiYXNlKGFsbG93ZWREb21haW5zKTtcbiAgfTtcblxuICBhdXRoID0gYXN5bmMgKHVybDogc3RyaW5nLCB0cnVzdGVkOiBUcnVzdGVkU291cmNlKTogUHJvbWlzZTxVcmxSZXNwb25zZT4gPT5cbiAgICBQcm9taXNlLnJlamVjdChcIk5vdCBpbXBsZW1lbnRlZFwiKTtcblxuICBjYW5jZWwgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiBhd2FpdCBrbWNfY2FuY2VsKCk7XG5cbiAgY3JlYXRlUGtjZSA9IGFzeW5jICgpOiBQcm9taXNlPFBrY2U+ID0+IHtcbiAgICBsZXQgcGtjZSA9IGF3YWl0IGttY19jcmVhdGVfcGtjZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBjb2RlVmVyaWZpZXI6IHBrY2UuY29kZV92ZXJpZmllcixcbiAgICAgIGNvZGVDaGFsbGVuZ2U6IHtcbiAgICAgICAgY2hhbGxlbmdlOiBwa2NlLmNvZGVfY2hhbGxlbmdlLmNoYWxsZW5nZSxcbiAgICAgICAgbWV0aG9kOiBwa2NlLmNvZGVfY2hhbGxlbmdlLm1ldGhvZCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfTtcblxuICBjcmVhdGVDcmVkZW50aWFsID0gYXN5bmMgKFxuICAgIGhhbmRsZTogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBpbWFnZVVybDogc3RyaW5nLFxuICAgIGxvZ2luVXJpPzogc3RyaW5nLFxuICAgIGVucm9sbFVyaT86IHN0cmluZ1xuICApOiBQcm9taXNlPENyZWRlbnRpYWw+ID0+IHtcbiAgICBsZXQgcHJvZmlsZSA9IGF3YWl0IGttY19jcmVhdGVfcHJvZmlsZShcbiAgICAgIGhhbmRsZSxcbiAgICAgIG5hbWUsXG4gICAgICBpbWFnZVVybCxcbiAgICAgIGVucm9sbFVyaSxcbiAgICAgIGxvZ2luVXJpLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgKG1zZzogc3RyaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiBob3N0Q2FsbCh0aGlzLmhvc3QsIG1zZyk7XG4gICAgICB9XG4gICAgKTtcbiAgICBsZXQgY3JlZGVudGlhbCA9IE1lc3NhZ2luZy5jcmVkZW50aWFsRnJvbVByb2ZpbGUocHJvZmlsZSk7XG4gICAgYXdhaXQgdGhpcy51cGRhdGVDcmVkZW50aWFsSW5mbyhjcmVkZW50aWFsKTtcbiAgICByZXR1cm4gY3JlZGVudGlhbDtcbiAgfTtcblxuICBkZWxldGVDcmVkZW50aWFsID0gYXN5bmMgKGhhbmRsZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PlxuICAgIGF3YWl0IGttY19kZWxldGVfcHJvZmlsZShoYW5kbGUsIChtc2c6IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIGhvc3RDYWxsKHRoaXMuaG9zdCwgbXNnKTtcbiAgICB9KTtcblxuICBkZWxldGVDcmVkZW50aWFsVjEgPSBhc3luYyAoaWQ6IENyZWRlbnRpYWxJZCk6IFByb21pc2U8dm9pZD4gPT5cbiAgICBhd2FpdCBrbWNfZGVsZXRlX2NyZWRlbnRpYWwoaWQsIChtc2c6IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIGhvc3RDYWxsKHRoaXMuaG9zdCwgbXNnKTtcbiAgICB9KTtcblxuICBhdXRoZW50aWNhdGUgPSBhc3luYyAoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgdHJ1c3RlZDogVHJ1c3RlZFNvdXJjZVxuICApOiBQcm9taXNlPEJJQXV0aGVudGljYXRlVXJsUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCByc3AgPSBhd2FpdCBrbWNfaGFuZGxlX3VybCh1cmwsIHVuZGVmaW5lZCwgdHJ1c3RlZCwgKG1zZzogc3RyaW5nKSA9PiB7XG4gICAgICByZXR1cm4gaG9zdENhbGwodGhpcy5ob3N0LCBtc2cpO1xuICAgIH0pO1xuICAgIGxldCB1cmxSZXNwb25zZSA9IE1lc3NhZ2luZy50b1VybFJlc3BvbnNlKHJzcCk7XG4gICAgc3dpdGNoICh1cmxSZXNwb25zZS50eXBlKSB7XG4gICAgICBjYXNlIFwiYmlBdXRoZW50aWNhdGVcIjoge1xuICAgICAgICByZXR1cm4gdXJsUmVzcG9uc2UuYmlBdXRoZW50aWNhdGU7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIHR5cGVcIikpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBhdXRoZW50aWNhdGVDb25maWRlbnRpYWwgPSBhc3luYyAoXG4gICAgYXV0aFVSTDogc3RyaW5nLFxuICAgIGNsaWVudElkOiBzdHJpbmcsXG4gICAgcmVkaXJlY3RVUkk6IHN0cmluZyxcbiAgICBzY29wZTogc3RyaW5nLFxuICAgIGNoYWxsZW5nZT86IFBrY2VDb2RlQ2hhbGxlbmdlLFxuICAgIG5vbmNlPzogc3RyaW5nXG4gICk6IFByb21pc2U8QXV0aG9yaXphdGlvbkNvZGU+ID0+IHtcbiAgICBsZXQgY29kZSA9IDxBdXRob3JpemF0aW9uQ29kZT4oXG4gICAgICBhd2FpdCBrbWNfZW1iZWRkZWRfY29uZmlkZW50aWFsX29pZGMoXG4gICAgICAgIGF1dGhVUkwsXG4gICAgICAgIGNsaWVudElkLFxuICAgICAgICByZWRpcmVjdFVSSSxcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGNoYWxsZW5nZSxcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIChtc2c6IHN0cmluZykgPT4ge1xuICAgICAgICAgIHJldHVybiBob3N0Q2FsbCh0aGlzLmhvc3QsIG1zZyk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiBjb2RlO1xuICB9O1xuXG4gIGF1dGhlbnRpY2F0ZVB1YmxpYyA9IGFzeW5jIChcbiAgICBhdXRoVVJMOiBzdHJpbmcsXG4gICAgdG9rZW5VUkw6IHN0cmluZyxcbiAgICBjbGllbnRJZDogc3RyaW5nLFxuICAgIHJlZGlyZWN0VVJJOiBzdHJpbmcsXG4gICAgbm9uY2U/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxUb2tlblJlc3BvbnNlPiA9PiB7XG4gICAgbGV0IHRva2VuID0gPE1lc3NhZ2luZy5Ub2tlblJlc3BvbnNlPihcbiAgICAgIGF3YWl0IGttY19lbWJlZGRlZF9wdWJsaWNfb2lkYyhcbiAgICAgICAgYXV0aFVSTCxcbiAgICAgICAgdG9rZW5VUkwsXG4gICAgICAgIGNsaWVudElkLFxuICAgICAgICByZWRpcmVjdFVSSSxcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIChtc2c6IHN0cmluZykgPT4ge1xuICAgICAgICAgIHJldHVybiBob3N0Q2FsbCh0aGlzLmhvc3QsIG1zZyk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICBhY2Nlc3NUb2tlbjogdG9rZW4uYWNjZXNzX3Rva2VuLFxuICAgICAgaWRUb2tlbjogdG9rZW4uaWRfdG9rZW4sXG4gICAgICB0b2tlblR5cGU6IHRva2VuLnRva2VuX3R5cGUsXG4gICAgICBleHBpcmVzSW46IHRva2VuLmV4cGlyZXNfaW4sXG4gICAgfTtcbiAgfTtcblxuICBleHBvcnQgPSBhc3luYyAoaGFuZGxlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAgYXdhaXQga21jX2V4cG9ydChoYW5kbGUsIChtc2c6IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIGhvc3RDYWxsKHRoaXMuaG9zdCwgbXNnKTtcbiAgICB9KTtcblxuICBnZXRDcmVkZW50aWFscyA9IGFzeW5jICgpOiBQcm9taXNlPENyZWRlbnRpYWxbXT4gPT4ge1xuICAgIC8vIFJldHJpZXZlIHRoZSBjcmVkZW50aWFscyBmcm9tIHRoZSBkYXRhYmFzZS5cbiAgICBsZXQgY3JlZHMgPSA8TWVzc2FnaW5nLkNvcmVDcmVkZW50aWFsW10+KFxuICAgICAgYXdhaXQga21jX2FsbF9jcmVkZW50aWFscygobXNnOiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIGhvc3RDYWxsKHRoaXMuaG9zdCwgbXNnKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICAvLyBDb252ZXJ0IHRoZSByYXcgY3JlZGVudGlhbHMgaW50byBhIG1vcmUgZnJpZW5kbHkgdHlwZS5cbiAgICBsZXQgY3JlZGVudGlhbHMgPSBjcmVkcy5tYXAoKGNyZWQpID0+IE1lc3NhZ2luZy5jcmVkZW50aWFsRnJvbUNvcmUoY3JlZCkpO1xuICAgIC8vIFN1cHBseSB0aGUga2V5IHR5cGUgZm9yIGVhY2ggY3JlZGVudGlhbC5cbiAgICBmb3IgKGxldCBjcmVkIG9mIGNyZWRlbnRpYWxzKSB7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZUNyZWRlbnRpYWxJbmZvKGNyZWQpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlZGVudGlhbHM7XG4gIH07XG5cbiAgbGlzdENyZWRlbnRpYWxzID0gYXN5bmMgKCk6IFByb21pc2U8Q3JlZGVudGlhbFYxW10+ID0+IHtcbiAgICBsZXQgY3JlZHMgPSA8TWVzc2FnaW5nLkNvcmVDcmVkZW50aWFsVjFbXT4oXG4gICAgICBhd2FpdCBrbWNfbGlzdF9jcmVkZW50aWFscygobXNnOiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIGhvc3RDYWxsKHRoaXMuaG9zdCwgbXNnKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICBsZXQgY3JlZGVudGlhbHMgPSBjcmVkcy5tYXAoKGNyZWQpID0+XG4gICAgICBNZXNzYWdpbmcuY3JlZGVudGlhbFYxRnJvbUNyZWRlbnRpYWwoY3JlZClcbiAgICApO1xuICAgIGZvciAobGV0IGNyZWRlbnRpYWwgb2YgY3JlZGVudGlhbHMpIHtcbiAgICAgIGNyZWRlbnRpYWwua2V5VHlwZSA9IGF3YWl0IHRoaXMuZ2V0S2V5VHlwZShjcmVkZW50aWFsLmtleUhhbmRsZSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVkZW50aWFscztcbiAgfTtcblxuICBnZXRLZXlUeXBlID0gYXN5bmMgKGtleUhhbmRsZTogc3RyaW5nKTogUHJvbWlzZTxLZXlUeXBlPiA9PiB7XG4gICAgbGV0IHJzcCA9IGF3YWl0IGttY19nZXRfa2V5X3R5cGUoa2V5SGFuZGxlKTtcbiAgICByZXR1cm4gPEtleVR5cGU+cnNwO1xuICB9O1xuXG4gIGhhbmRsZVVSTCA9IGFzeW5jIChcbiAgICB1cmw6IHN0cmluZyxcbiAgICB0cnVzdGVkOiBUcnVzdGVkU291cmNlXG4gICk6IFByb21pc2U8VXJsUmVzcG9uc2U+ID0+IHtcbiAgICAvLyBGSVhNRTogZ2V0IGFsbG93ZWQgZG9tYWlucyBmcm9tIHNvbWV3aGVyZVxuICAgIGxldCByc3AgPSBhd2FpdCBrbWNfaGFuZGxlX3VybCh1cmwsIHVuZGVmaW5lZCwgdHJ1c3RlZCwgKG1zZzogc3RyaW5nKSA9PiB7XG4gICAgICByZXR1cm4gaG9zdENhbGwodGhpcy5ob3N0LCBtc2cpO1xuICAgIH0pO1xuICAgIHJldHVybiBNZXNzYWdpbmcudG9VcmxSZXNwb25zZShyc3ApO1xuICB9O1xuXG4gIGltcG9ydCA9IGFzeW5jICh0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxDcmVkZW50aWFsIHwgdW5kZWZpbmVkPiA9PiB7XG4gICAgbGV0IHByb2ZpbGUgPSBhd2FpdCBrbWNfaW1wb3J0KHRva2VuLCAobXNnOiBzdHJpbmcpID0+IHtcbiAgICAgIHJldHVybiBob3N0Q2FsbCh0aGlzLmhvc3QsIG1zZyk7XG4gICAgfSk7XG4gICAgaWYgKHByb2ZpbGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIGxldCBjcmVkZW50aWFsID0gTWVzc2FnaW5nLmNyZWRlbnRpYWxGcm9tUHJvZmlsZShwcm9maWxlKTtcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUNyZWRlbnRpYWxJbmZvKGNyZWRlbnRpYWwpO1xuICAgIHJldHVybiBjcmVkZW50aWFsO1xuICB9O1xuXG4gIHJlZ2lzdGVyID0gYXN5bmMgKFxuICAgIHVybDogc3RyaW5nLFxuICAgIHRydXN0ZWQ6IFRydXN0ZWRTb3VyY2VcbiAgKTogUHJvbWlzZTxVcmxSZXNwb25zZT4gPT4ge1xuICAgIC8vLyBGSVhNRSBBbGxvd2VkIGRvbWFpbnM/XG4gICAgbGV0IHJzcCA9IGF3YWl0IGttY19oYW5kbGVfdXJsKHVybCwgdW5kZWZpbmVkLCB0cnVzdGVkLCAobXNnOiBzdHJpbmcpID0+IHtcbiAgICAgIHJldHVybiBob3N0Q2FsbCh0aGlzLmhvc3QsIG1zZyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIE1lc3NhZ2luZy50b1VybFJlc3BvbnNlKHJzcCk7XG4gIH07XG5cbiAgZ2V0QXBwSW5zdGFuY2VJZCA9IGFzeW5jICgpOiBQcm9taXNlPHN0cmluZz4gPT5cbiAgICBhd2FpdCBrbWNfZ2V0X2FwcF9pbnN0YW5jZV9pZCgpO1xuXG4gIGdldEJyb3dzZXJJbmZvID0gYXN5bmMgKCk6IFByb21pc2U8QnJvd3NlckluZm8+ID0+IGF3YWl0IGttY19nZXRfdXNlcl9hZ2VudCgpO1xuXG4gIHByaXZhdGUgdXBkYXRlQ3JlZGVudGlhbEluZm8gPSBhc3luYyAoY3JlZDogQ3JlZGVudGlhbCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjcmVkLmtleVR5cGUgPSBhd2FpdCB0aGlzLmdldEtleVR5cGUoY3JlZC5rZXlIYW5kbGUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gVXBkYXRlIHRoZSBpbnRlZ3JpdHkgZmFpbHVyZSBtYXAgYXMgbmVlZGVkLlxuICAgICAgaWYgKGNyZWQuaW50ZWdyaXR5RmFpbHVyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjcmVkLmludGVncml0eUZhaWx1cmVzID0ge307XG4gICAgICB9XG4gICAgICBjcmVkLmludGVncml0eUZhaWx1cmVzW1wia2V5VHlwZVwiXSA9IHtcbiAgICAgICAgS2V5VHlwZTogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IEpTT04uc3RyaW5naWZ5KGVyciksXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBDb3JlRGlzcGF0Y2ggdGhhdCBDb3JlIHVzZXMuXG4gKlxuICogQHBhcmFtIGNvbmZpZyBDb25maWd1cmF0aW9uIGRhdGFcbiAqIEByZXR1cm5zIGEgbmV3IENvcmVEaXNwYXRjaCBvYmplY3Q6IGBLbWNEaXNwYXRjaCB8IGBNb2NrRGlzcGF0Y2hgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEaXNwYXRjaChjb25maWc6IENvbmZpZ3VyYXRpb24pOiBDb3JlRGlzcGF0Y2gge1xuICBpZiAoY29uZmlnLm1vY2spIHtcbiAgICBpZiAoY29uZmlnLm1vY2suZGlzcGF0Y2gpIHtcbiAgICAgIGlmIChjb25maWcubW9jay5kaXNwYXRjaCBpbnN0YW5jZW9mIEZ1bmN0aW9uKVxuICAgICAgICByZXR1cm4gY29uZmlnLm1vY2suZGlzcGF0Y2goKTtcbiAgICAgIGVsc2UgcmV0dXJuIG5ldyBNb2NrRGlzcGF0Y2goY29uZmlnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBLbWNEaXNwYXRjaChjb25maWcpO1xufVxuIiwidHlwZSBDaGFubmVsID0gXCJkZXZlbFwiIHwgXCJyb2xsaW5nXCIgfCBcInN0YWdpbmdcIiB8IFwicHJvZHVjdGlvblwiO1xuXG5kZWNsYXJlIGNvbnN0IENIQU5ORUw6IENoYW5uZWw7XG5kZWNsYXJlIGNvbnN0IERFVklDRV9HQVRFV0FZX1VSTDogc3RyaW5nO1xuZGVjbGFyZSBjb25zdCBPUFRJTUlaRUxZX1NES19LRVk6IHN0cmluZztcblxuLyoqXG4gKiBFbnZpcm9ubWVudGFsIHBhcmFtZXRlcnMgZGVmaW5lZCBhdCBidWlsZCB0aW1lXG4gKi9cbmV4cG9ydCBjb25zdCBFbnZpcm9ubWVudCA9IG5ldyAoY2xhc3Mge1xuICAvKipcbiAgICogZGV2ZWwsIHJvbGxpbmcsIHN0YWdpbmcsIHByb2RcbiAgICovXG4gIGNoYW5uZWw6IENoYW5uZWw7XG5cbiAgLyoqXG4gICAqIFRoZSBkZXZpY2UgZ2F0ZXdheSBVUkxcbiAgICovXG4gIGRldmljZUdhdGV3YXlVcmw6IHN0cmluZztcblxuICAvKipcbiAgICogT3B0aW1pemVseSBrZXlcbiAgICovXG4gIG9wdGltaXplbHlTZGtLZXk6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNoYW5uZWwgPSBDSEFOTkVMID8/IFwiZGV2ZWxcIjtcbiAgICB0aGlzLmRldmljZUdhdGV3YXlVcmwgPSBERVZJQ0VfR0FURVdBWV9VUkwgPz8gXCJodHRwOi8vZG9ja2VyaG9zdDo4MDA4XCI7XG4gICAgdGhpcy5vcHRpbWl6ZWx5U2RrS2V5ID0gT1BUSU1JWkVMWV9TREtfS0VZID8/IFwiXCI7XG4gIH1cbn0pKCk7XG4iLCJpbXBvcnQge1xuICBLZXlIYW5kbGUsXG4gIENlcnRIYW5kbGUsXG4gIEZlYXR1cmVGbGFnUmVxdWVzdCxcbiAgRmVhdHVyZUZsYWdSZXNwb25zZSxcbiAgUGF0aFR5cGUsXG4gIEhvc3RGaWxlUGF0aCxcbiAgUHJvbXB0RGV0YWlsLFxuICBDbGllbnRFbnZpcm9ubWVudCxcbiAgQ3JlZGVudGlhbFYxLFxufSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7XG4gIEhvc3RNZXNzYWdlLFxuICBDb3JlTWVzc2FnZSxcbiAgd3JpdGVSZXNwb25zZSxcbiAgcmVhZFJlcXVlc3QsXG59IGZyb20gXCIuLi9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IG1ha2VFcnJvciB9IGZyb20gXCIuLi91dGlsL2Vycm9yXCI7XG5pbXBvcnQgeyBjcmVkZW50aWFsVjFGcm9tQ3JlZGVudGlhbCB9IGZyb20gXCIuLi9tZXNzYWdpbmcvdHlwZXNcIjtcbmltcG9ydCB7IENvcmVSZXNwb25zZSB9IGZyb20gXCIuLi9tZXNzYWdpbmcvY29yZU1lc3NhZ2VcIjtcblxuLyoqXG4gKiBUaGUgaG9zdCBkZXNjcmliZXMgdGhlIHN5c3RlbSBjYWxsaW5nIGludG8gS01DLlxuICogd2hlbiBLTUMgbmVlZHMgbW9yZSBkYXRhLCBpdCBjYWxscyBiYWNrIG91dCB0byB0aGUgSG9zdC5cbiAqIFRoZSBob3N0IHJlcXVpcmVzIHNldmVyYWwgc2VydmljZXM6XG4gKiAtIHRoZSBEZXZpY2UsIHRvIHByb3ZpZGUgRGV2aWNlSW5mbyB0byBLTUMsXG4gKiAtIHRoZSBFbmNsYXZlLCB0byBwcm92aWRlIGNyeXB0b2dyYXBoaWMgc2VydmljZXMgZm9yIEtNQ1xuICogLSBhIGxvZ2dlciB0aGF0IEtNQyBjYW4gc2VuZCB0ZXh0IHRvLFxuICogLSBhbmQgbWFueSBtb3JlISAob3Igbm90Li4uKVxuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIb3N0IHtcbiAgLy8gTWVjaGFuaXNtIGJ5IHdoaWNoIGFzeW5jIGhvc3QgY2FsbHMgYXJlIGludm9rZWQgYW5kIHRoZW4gcG9sbGVkXG4gIC8vIGZvciBjb21wbGV0aW9uLlxuICByZWFkb25seSBldmVudHM6IEhvc3RFdmVudHM7XG5cbiAgY2hlY2tGZWF0dXJlRmxhZ3MoZmVhdHVyZV9mbGFnczogRmVhdHVyZUZsYWdSZXF1ZXN0W10pOiBGZWF0dXJlRmxhZ1Jlc3BvbnNlW107XG4gIGdldENsaWVudEVudmlyb25tZW50KCk6IENsaWVudEVudmlyb25tZW50O1xuICBleHBvcnRTdGFydGVkKHJlbmRlenZvdXNfdG9rZW46IHN0cmluZyk6IHZvaWQ7XG4gIGV4cG9ydFRva2VuVGltZW91dChyZW5kZXp2b3VzX3Rva2VuOiBzdHJpbmcpOiB2b2lkO1xuICBleHBvcnRSZXF1ZXN0UmVjZWl2ZWQocmVxdWVzdHM6IE1hcDxzdHJpbmcsIFVpbnQ4QXJyYXk+KTogdm9pZDtcbiAgZ2V0RGV2aWNlR2F0ZXdheVVybCgpOiBzdHJpbmc7XG4gIGdldEZpbGVQYXRoKHBhdGhfdHlwZTogUGF0aFR5cGUpOiBIb3N0RmlsZVBhdGg7XG4gIGltcG9ydFN0YXJ0ZWQodG9rZW46IHN0cmluZyk6IHZvaWQ7XG4gIGltcG9ydE1hbmlmZXN0UmVjZWl2ZWQobWFuaWZlc3RzOiBzdHJpbmcpOiB2b2lkO1xuICBpbXBvcnRSZXF1ZXN0c1RvU2lnbihyZXF1ZXN0czogc3RyaW5nKTogdm9pZDtcbiAgaW1wb3J0UmVjZWl2ZWRTaWduZWQoc2lnbmVkOiBzdHJpbmcpOiB2b2lkO1xuICBhc2socHJvZmlsZV9oYW5kbGU6IHN0cmluZyk6IGJvb2xlYW47XG4gIGF1dGhlbnRpY2F0aW9uUHJvbXB0KGFwcF9uYW1lOiBzdHJpbmcsIGRldGFpbF9saXN0OiBQcm9tcHREZXRhaWxbXSk6IGJvb2xlYW47XG4gIGxvZyhtc2c6IHN0cmluZyk6IHZvaWQ7XG4gIHNlbGVjdENyZWRlbnRpYWxWMShjcmVkZW50aWFsczogQ3JlZGVudGlhbFYxW10pOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD47XG5cbiAgcXVlcnlGZWF0dXJlRmxhZzogKGZsYWc6IHN0cmluZykgPT4gYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFeHBvcnRFdmVudCB7XG4gIHR5cGU6IFwic3RhcnRlZFwiIHwgXCJ0aW1lb3V0XCIgfCBcInJlcXVlc3RSZWNlaXZlZFwiIHwgXCJmYWlsZWRcIiB8IFwiY2FuY2VsbGVkXCI7XG4gIGRhdGE6IHN0cmluZyB8IE1hcDxzdHJpbmcsIFVpbnQ4QXJyYXk+IHwgRXJyb3IgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1wb3J0RXZlbnQge1xuICB0eXBlOlxuICAgIHwgXCJzdGFydGVkXCJcbiAgICB8IFwibWFuaWZlc3RzUmVjZWl2ZWRcIlxuICAgIHwgXCJyZXF1ZXN0c1RvU2lnblwiXG4gICAgfCBcInJlY2VpdmVkU2lnbmVkXCJcbiAgICB8IFwiZmFpbGVkXCJcbiAgICB8IFwiY2FuY2VsbGVkXCI7XG4gIGRhdGE6IHN0cmluZyB8IE1hcDxzdHJpbmcsIFVpbnQ4QXJyYXk+IHwgRXJyb3IgfCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogSG9zdCBldmVudHMgcHJvdmlkZSBhIG1lY2hhbmlzbSB0byBub3RpZnkgdGhlIFVJIGFib3V0XG4gKiBjZXJ0YWluIGV2ZW50cyB0aGF0IHJlcXVpcmUgaW50ZXJhY3Rpb24sIG9yIGp1c3QgYW5cbiAqIHVwZGF0ZWQgc2NyZWVuLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhvc3RFdmVudHMge1xuICBvbmV4cG9ydD86ICh0aGlzOiBIb3N0LCBldjogRXhwb3J0RXZlbnQpID0+IHZvaWQ7XG4gIG9uaW1wb3J0PzogKHRoaXM6IEhvc3QsIGV2OiBJbXBvcnRFdmVudCkgPT4gdm9pZDtcbiAgb25TZWxlY3RDcmVkZW50aWFsVjE/OiAoXG4gICAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxWMVtdXG4gICkgPT4gUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+O1xufVxuXG4vKipcbiAqIERpc3BhdGNoZXMgdGhlIEhvc3RSZXF1ZXN0IHRvIGEgSG9zdCBmdW5jdGlvbi4gaG9zdCBmdW5jdGlvbiBpc1xuICogb25seSBldmVyIGNhbGxlZCBmcm9tIEttYywgc28gd2UgY2FuIGFzc3VtZSB0aGF0IGhvc3Qgd2lsbCBiZVxuICogdGhlIFdlYkhvc3QgKGFrYSB1cykuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgbm90IGFzeW5jaHJvbm91cy4gSWYgYSBIb3N0IHJlY2VpdmVzXG4gKiBhIHJlcXVlc3QgdGhhdCBiZWdpbnMgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbiAobGlrZSBgbmV3S2V5YCkgdGhlblxuICogdGhlIGhvc3Qgd2lsbCByZXR1cm4gYSBgUGVuZGluZyh0b2tlbilgIHByaW1pdGl2ZSB0byBDb3JlLlxuICogQ29yZSB3aWxsIHRoZW4gY29udGludWFsbHkgcG9sbCBmb3IgdGhlIHJlc3VsdCB1bnRpbCB0aGUgYXN5bmNcbiAqIG9wZXJhdGlvbiBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5IG9yIGZhaWxzLiAoc2VlIGBBc3luY0Rpc3BhdGNoYC4pXG4gKlxuICogQHBhcmFtIGhvc3QgVGhlIGhvc3QgdGhhdCB3aWxsIHJlc3BvbmQgdG8gdGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0gbXNnIFRoZSBKU09OIHJlcXVlc3QgcmVjZWl2ZWQgZnJvbSBLTUNcbiAqIEByZXR1cm5zIEEgSlNPTiBzZXJpYWxpemVkIENvcmVSZXN1bHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RDYWxsKGhvc3Q6IEhvc3QsIG1zZzogc3RyaW5nKTogc3RyaW5nIHwgUHJvbWlzZTxzdHJpbmc+IHtcbiAgbGV0IHJzcDogc3RyaW5nIHwgUHJvbWlzZTxzdHJpbmc+O1xuICB0cnkge1xuICAgIGxldCBycSA9IHJlYWRSZXF1ZXN0KG1zZyk7XG4gICAgbGV0IHJlc3VsdCA9IGRpc3BhdGNoKGhvc3QsIHJxKTtcbiAgICBpZiAodHlwZW9mICg8YW55PnJlc3VsdCkudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByc3AgPSAoPFByb21pc2U8Q29yZU1lc3NhZ2UuQ29yZVJlc3VsdD4+cmVzdWx0KS50aGVuKChyZXN1bHQpID0+XG4gICAgICAgIHdyaXRlUmVzcG9uc2UocmVzdWx0KVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcnNwID0gd3JpdGVSZXNwb25zZSg8Q29yZU1lc3NhZ2UuQ29yZVJlc3VsdD5yZXN1bHQpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gSGFuZC1jcmFmdGVkIEVycm9yIGluZGljYXRpb24gKEpTT04uc3RyaW5naWZ5IG1heSB0aHJvdylcbiAgICByc3AgPSBge0Vycjoke21ha2VFcnJvcihlcnIpLm1lc3NhZ2V9fWA7XG4gIH1cbiAgcmV0dXJuIHJzcDtcbn1cblxuLyoqXG4gKiBVbnBhY2tzIHRoZSBob3N0UmVxdWVzdCBhbmQgY2FsbHMgdGhlIGFwcHJvcHJpYXRlIGhhbmRsZXIuXG4gKiBPbmx5IGNhbGxlZCBmcm9tIGhvc3RDYWxsLCB3aGljaCBtYW5hZ2VzIGV4Y2VwdGlvbiBoYW5kbGluZyxcbiAqIHNvIGltcGxlbWVudG9ycyBuZWVkIG5vdCB3b3JyeSBhYm91dCBjYXRjaGluZyBleGNlcHRpb25zIGhlcmUuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBNb2NrRGlzcGF0Y2ggY2FuIG1ha2UgY2FsbHMgZGlyZWN0bHkgdG8gdGhlXG4gKiBoYW5kbGVycyAmIGRvZXMgbm90IG5lZWQgdG8gY2FsbCBgZGlzcGF0Y2hgLlxuICpcbiAqIFRPRE86IG1ha2UgYSBob3N0IGRpc3BhdGNoIHRhYmxlLlxuICogQHBhcmFtIHJxXG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoKFxuICBob3N0OiBIb3N0LFxuICBycTogSG9zdE1lc3NhZ2UuSG9zdFJlcXVlc3Rcbik6IENvcmVNZXNzYWdlLkNvcmVSZXN1bHQgfCBQcm9taXNlPENvcmVNZXNzYWdlLkNvcmVSZXN1bHQ+IHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIHJxID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAocnEgPT0gXCJHZXREZXZpY2VHYXRld2F5VXJsXCIpIHtcbiAgICAgICAgcmV0dXJuIENvcmVNZXNzYWdlLmRldmljZUdhdGV3YXlVcmwoaG9zdC5nZXREZXZpY2VHYXRld2F5VXJsKCkpO1xuICAgICAgfSBlbHNlIGlmIChycSA9PSBcIkNsaWVudEVudmlyb25tZW50XCIpIHtcbiAgICAgICAgcmV0dXJuIENvcmVNZXNzYWdlLmNsaWVudEVudmlyb25tZW50KGhvc3QuZ2V0Q2xpZW50RW52aXJvbm1lbnQoKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcIkFza1wiIGluIHJxKSB7XG4gICAgICAgIHJldHVybiBDb3JlTWVzc2FnZS5ib29sKGhvc3QuYXNrKHJxLkFzaykpO1xuICAgICAgfSBlbHNlIGlmIChcIkF1dGhlbnRpY2F0aW9uUHJvbXB0XCIgaW4gcnEpIHtcbiAgICAgICAgcmV0dXJuIENvcmVNZXNzYWdlLmJvb2woXG4gICAgICAgICAgaG9zdC5hdXRoZW50aWNhdGlvblByb21wdChcbiAgICAgICAgICAgIHJxLkF1dGhlbnRpY2F0aW9uUHJvbXB0LmFwcE5hbWUsXG4gICAgICAgICAgICBycS5BdXRoZW50aWNhdGlvblByb21wdC5kZXRhaWxMaXN0XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChcIkNoZWNrRmVhdHVyZUZsYWdzXCIgaW4gcnEpIHtcbiAgICAgICAgcmV0dXJuIENvcmVNZXNzYWdlLmZlYXR1cmVGbGFnUmVzcG9uc2UoXG4gICAgICAgICAgaG9zdC5jaGVja0ZlYXR1cmVGbGFncyhycS5DaGVja0ZlYXR1cmVGbGFncylcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJFeHBvcnRSZXF1ZXN0UmVjZWl2ZWRcIiBpbiBycSkge1xuICAgICAgICBob3N0LmV4cG9ydFJlcXVlc3RSZWNlaXZlZChycS5FeHBvcnRSZXF1ZXN0UmVjZWl2ZWQpO1xuICAgICAgICByZXR1cm4gQ29yZU1lc3NhZ2Uub2soKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJFeHBvcnRTdGFydGVkXCIgaW4gcnEpIHtcbiAgICAgICAgaG9zdC5leHBvcnRTdGFydGVkKHJxLkV4cG9ydFN0YXJ0ZWQpO1xuICAgICAgICByZXR1cm4gQ29yZU1lc3NhZ2Uub2soKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJFeHBvcnRUb2tlblRpbWVvdXRcIiBpbiBycSkge1xuICAgICAgICBob3N0LmV4cG9ydFRva2VuVGltZW91dChycS5FeHBvcnRUb2tlblRpbWVvdXQpO1xuICAgICAgICByZXR1cm4gQ29yZU1lc3NhZ2Uub2soKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJHZXRGaWxlUGF0aFwiIGluIHJxKSB7XG4gICAgICAgIGxldCBwYXRoID0gaG9zdC5nZXRGaWxlUGF0aChycS5HZXRGaWxlUGF0aCk7XG4gICAgICAgIHJldHVybiBDb3JlTWVzc2FnZS5maWxlUGF0aCh7XG4gICAgICAgICAgcGF0aF90eXBlOiBwYXRoLnR5cGUsXG4gICAgICAgICAgcGF0aDogcGF0aC5wYXRoLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoXCJJbXBvcnRNYW5pZmVzdFJlY2VpdmVkXCIgaW4gcnEpIHtcbiAgICAgICAgaG9zdC5pbXBvcnRNYW5pZmVzdFJlY2VpdmVkKHJxLkltcG9ydE1hbmlmZXN0UmVjZWl2ZWQpO1xuICAgICAgICByZXR1cm4gQ29yZU1lc3NhZ2Uub2soKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJJbXBvcnRSZWNlaXZlZFNpZ25lZFwiIGluIHJxKSB7XG4gICAgICAgIGhvc3QuaW1wb3J0UmVjZWl2ZWRTaWduZWQocnEuSW1wb3J0UmVjZWl2ZWRTaWduZWQpO1xuICAgICAgICByZXR1cm4gQ29yZU1lc3NhZ2Uub2soKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJJbXBvcnRSZXF1ZXN0c1RvU2lnblwiIGluIHJxKSB7XG4gICAgICAgIGhvc3QuaW1wb3J0UmVxdWVzdHNUb1NpZ24ocnEuSW1wb3J0UmVxdWVzdHNUb1NpZ24pO1xuICAgICAgICByZXR1cm4gQ29yZU1lc3NhZ2Uub2soKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJJbXBvcnRTdGFydGVkXCIgaW4gcnEpIHtcbiAgICAgICAgaG9zdC5pbXBvcnRTdGFydGVkKHJxLkltcG9ydFN0YXJ0ZWQpO1xuICAgICAgICByZXR1cm4gQ29yZU1lc3NhZ2Uub2soKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJMb2dcIiBpbiBycSkge1xuICAgICAgICBob3N0LmxvZyhycS5Mb2cpO1xuICAgICAgICByZXR1cm4gQ29yZU1lc3NhZ2Uub2soKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJTZWxlY3RBdXRoTkNyZWRlbnRpYWxcIiBpbiBycSkge1xuICAgICAgICByZXR1cm4gaG9zdFxuICAgICAgICAgIC5zZWxlY3RDcmVkZW50aWFsVjEoXG4gICAgICAgICAgICBycS5TZWxlY3RBdXRoTkNyZWRlbnRpYWwubWFwKChjcmVkKSA9PlxuICAgICAgICAgICAgICBjcmVkZW50aWFsVjFGcm9tQ3JlZGVudGlhbChjcmVkKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbigoaWQpID0+IENvcmVNZXNzYWdlLnNlbGVjdGVkQXV0aE5DcmVkZW50aWFsKGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gQ29yZU1lc3NhZ2UuZXJyb3IoZXJyKTtcbiAgfVxuXG4gIHJldHVybiBDb3JlTWVzc2FnZS5lcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbn1cbiIsIlxuZXhwb3J0IHsgSG9zdCwgSG9zdEV2ZW50cywgRXhwb3J0RXZlbnQsIEltcG9ydEV2ZW50LCBob3N0Q2FsbCB9IGZyb20gXCIuL2hvc3RcIlxuXG5pbXBvcnQgeyBXZWJIb3N0IH0gZnJvbSBcIi4vd2ViSG9zdFwiXG5pbXBvcnQgeyBNb2NrSG9zdCB9IGZyb20gXCIuLi9tb2NrL21vY2tIb3N0XCJcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vY29uZmlndXJhdGlvblwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIb3N0KGNvbmZpZzogQ29uZmlndXJhdGlvbikge1xuICAgIGlmIChjb25maWcubW9jaykge1xuICAgICAgICBpZiAoY29uZmlnLm1vY2suaG9zdCkge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5tb2NrLmhvc3QgaW5zdGFuY2VvZiBGdW5jdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnLm1vY2suaG9zdCgpO1xuICAgICAgICAgICAgZWxzZSBcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1vY2tIb3N0KGNvbmZpZyk7IFxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgV2ViSG9zdChjb25maWcpO1xufSIsImltcG9ydCB7IEhvc3QsIEhvc3RFdmVudHMsIEltcG9ydEV2ZW50LCBFeHBvcnRFdmVudCB9IGZyb20gXCIuL2hvc3RcIjtcbmltcG9ydCB7IENvbnNvbGVMb2csIExvZyB9IGZyb20gXCIuLi9sb2dcIjtcbmltcG9ydCB7XG4gIEtleUhhbmRsZSxcbiAgQ2VydEhhbmRsZSxcbiAgRmVhdHVyZUZsYWdSZXF1ZXN0LFxuICBGZWF0dXJlRmxhZ1Jlc3BvbnNlLFxuICBQYXRoVHlwZSxcbiAgSG9zdEZpbGVQYXRoLFxuICBQcm9tcHREZXRhaWwsXG4gIENsaWVudEVudmlyb25tZW50LFxuICBDcmVkZW50aWFsVjEsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgSG9zdE1lc3NhZ2UsIENvcmVNZXNzYWdlIH0gZnJvbSBcIi4uL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyBFbnZpcm9ubWVudCB9IGZyb20gXCIuLi9lbnZcIjtcblxuLyoqXG4gKiBUaGUgV2ViSG9zdCBpcyB0aGUgbGl2ZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgSG9zdCBpbnRlcmZhY2UuXG4gKiBJdCBpcyByZXNwb25zaWJsZSBmb3IgZGlzcGF0Y2hpbmcgbWVzc2FnZXMgZnJvbSBDb3JlIHRvIHRoZVxuICogRW5jbGF2ZSwgb3IgRGV2aWNlUXVlcnksIG9yIHRoZSBVSS5cbiAqL1xuZXhwb3J0IGNsYXNzIFdlYkhvc3QgaW1wbGVtZW50cyBIb3N0LCBIb3N0RXZlbnRzIHtcbiAgbG9nZ2VyOiBMb2c7XG5cbiAgb25leHBvcnQ/OiAodGhpczogSG9zdCwgZXY6IEV4cG9ydEV2ZW50KSA9PiB2b2lkO1xuICBvbmltcG9ydD86ICh0aGlzOiBIb3N0LCBldjogSW1wb3J0RXZlbnQpID0+IHZvaWQ7XG5cbiAgcXVlcnlGZWF0dXJlRmxhZzogKGZsYWc6IHN0cmluZykgPT4gYm9vbGVhbjtcbiAgb25TZWxlY3RDcmVkZW50aWFsVjE/OiAoXG4gICAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxWMVtdXG4gICkgPT4gUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+O1xuXG4gIGdldCBldmVudHMoKTogSG9zdEV2ZW50cyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbmZpZ3VyYXRpb24pIHtcbiAgICAvLyBJbnN0YWxsIGEgZGVmYXVsdCBmZWF0dXJlIGZsYWcgcHJvdmlkZXIuXG4gICAgdGhpcy5xdWVyeUZlYXR1cmVGbGFnID0gKHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5sb2dnZXIgPSBjb25maWcubG9nID8gY29uZmlnLmxvZyA6IG5ldyBDb25zb2xlTG9nKCk7XG4gIH1cblxuICBjaGVja0ZlYXR1cmVGbGFncyhcbiAgICBmZWF0dXJlX2ZsYWdzOiBGZWF0dXJlRmxhZ1JlcXVlc3RbXVxuICApOiBGZWF0dXJlRmxhZ1Jlc3BvbnNlW10ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGV4cG9ydFN0YXJ0ZWQodG9rZW46IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLm9uZXhwb3J0KSB0aGlzLm9uZXhwb3J0KHsgdHlwZTogXCJzdGFydGVkXCIsIGRhdGE6IHRva2VuIH0pO1xuICB9XG5cbiAgZXhwb3J0VG9rZW5UaW1lb3V0KHJlbmRlenZvdXNfdG9rZW46IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLm9uZXhwb3J0KVxuICAgICAgdGhpcy5vbmV4cG9ydCh7IHR5cGU6IFwidGltZW91dFwiLCBkYXRhOiByZW5kZXp2b3VzX3Rva2VuIH0pO1xuICB9XG5cbiAgZXhwb3J0UmVxdWVzdFJlY2VpdmVkKHJlcXVlc3RzOiBNYXA8c3RyaW5nLCBVaW50OEFycmF5Pik6IHZvaWQge1xuICAgIGlmICh0aGlzLm9uZXhwb3J0KVxuICAgICAgdGhpcy5vbmV4cG9ydCh7IHR5cGU6IFwicmVxdWVzdFJlY2VpdmVkXCIsIGRhdGE6IHJlcXVlc3RzIH0pO1xuICB9XG5cbiAgZ2V0Q2xpZW50RW52aXJvbm1lbnQoKTogQ2xpZW50RW52aXJvbm1lbnQge1xuICAgIC8vIGNyeXB0b1NvdXJjZSBzaGFsbCBiZSBzZXQgdG8gXCJIb3N0XCIgc28gdGhhdCBXb3JrZm9yY2UgZmxvd3MgXG4gICAgLy8gKHJlZ2lzdGVyLCBpbXBvcnQsIGV4cG9ydCwgb2lkY1B1YmxpYywgb2lkY0NvbmZpZGVudGlhbCwgLi4uKSBcbiAgICAvLyB3aWxsIG9ubHkgZXZlciB1c2UgdGhlIEhvc3QtYmFzZWQgQ3J5cHRvUHJvdmlkZXIgYW5kIG5ldmVyIHRoZSBcbiAgICAvLyBIQUwtYmFzZWQgQ3J5cHRvIFByb3ZpZGVyOyB0aGF0IGlzLCBIQUwgc2hhbGwgKm9ubHkqIGJlIGNvbnN0cnVjdGVkIFxuICAgIC8vIGZvciBQTEcgZmxvd3MgKGJpbmRDcmVkZW50aWFsLCBhdXRoZW50aWNhdGUpLlxuIFxuICAgIC8vIFRoZSBIb3N0LWJhc2VkIENyeXB0byBwcm92aWRlciBleGFtaW5lcyB0aGUgdmFsdWUgb2YgXG4gICAgLy8gYHdpbmRvdy5sb2NhbFN0b3JhZ2UuRW5hYmxlV2ViYXV0aG5gOlxuICAgIC8vICogaWYgXCJ0cnVlXCIsIHRoZW4gdGhlIENyeXB0b1Byb3ZpZGVyIHdpbGwgdHJ5IHRvIHVzZSBXZWJBdXRobiBmb3IgXG4gICAgLy8ga2V5IGdlbmVyYXRpb24uIFxuICAgIC8vICogb3RoZXJ3aXNlLCB0aGUgQ3J5cHRvUHJvdmlkZXIgd2lsbCB1c2UgU3VidGxlIENyeXB0byBmb3Iga2V5XG4gICAgLy8gZ2VuZXJhdGlvbi5cbiAgICAvLyBgd2luZG93LmxvY2FsU3RvcmFnZS5FbmFibGVXZWJhdXRobmAgaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHQsIGFuZCBcbiAgICAvLyBjYW4gb25seSBiZSBzZXQgbWFudWFsbHkgcGVyIGJyb3dzZXIsIGVmZmVjdGl2ZWx5IHJlc3RyaWN0aW5nIFxuICAgIC8vIFdvcmtmb3JjZSB0byB1c2UgU3VidGxlIENyeXB0byBrZXlzLiBUaGlzIGlzIGNvbnNpc3RlbnQgd2l0aCBcbiAgICAvLyBjdXJyZW50IFdvcmtmb3JjZSBkZXBsb3ltZW50cy5cblxuICAgIC8vIGtleVN0b3JhZ2VTdHJhdGVneSBzaGFsbCBiZSBzZXQgdG8gXCJUZWVJZkF2YWlsYWJsZVwiIHNvIHRoYXQgSEFMIFxuICAgIC8vIHdpbGwgYWx3YXlzIHRyeSB0byB1c2UgV2ViQXV0aG4gZm9yIGtleSBnZW5lcmF0aW9uLiBBcyBIQUwgaXMgXG4gICAgLy8gb25seSBjb25zdHJ1Y3RlZCBmb3IgUExHIGZsb3dzLCB0aGlzIHZhbHVlIG9ubHkgYWZmZWN0cyB0aGUga2V5IFxuICAgIC8vIGdlbmVyYXRpb24gZHVyaW5nIFBMRydzIGJpbmRDcmVkZW50aWFsIGZ1bmN0aW9uLlxuXG4gICAgLy8gSEFMIGRvZXMgbm90IGV4YW1pbmUgYHdpbmRvdy5sb2NhbFN0b3JhZ2UuRW5hYmxlV2ViYXV0aG5gIHRvIFxuICAgIC8vIGRldGVybWluZSBrZXkgZ2VuZXJhdGlvbiBzdHJhdGVneS5cblxuICAgIHJldHVybiB7XG4gICAgICBjcnlwdG9Tb3VyY2U6IFwiSG9zdFwiLFxuICAgICAga2V5U3RvcmFnZVN0cmF0ZWd5OiBcIlRlZUlmQXZhaWxhYmxlXCIsXG4gICAgfTtcbiAgfVxuXG4gIGdldERldmljZUdhdGV3YXlVcmwoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gRW52aXJvbm1lbnQuZGV2aWNlR2F0ZXdheVVybDtcbiAgfVxuXG4gIGdldEZpbGVQYXRoKHBhdGhfdHlwZTogUGF0aFR5cGUpOiBIb3N0RmlsZVBhdGgge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBwYXRoX3R5cGUsXG4gICAgICBwYXRoOiBcIlwiLFxuICAgIH07XG4gIH1cblxuICBpbXBvcnRTdGFydGVkKHRva2VuOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5vbmltcG9ydCkge1xuICAgICAgdGhpcy5vbmltcG9ydCh7IHR5cGU6IFwic3RhcnRlZFwiLCBkYXRhOiB0b2tlbiB9KTtcbiAgICB9XG4gIH1cblxuICBpbXBvcnRNYW5pZmVzdFJlY2VpdmVkKG1hbmlmZXN0czogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub25pbXBvcnQpIHtcbiAgICAgIHRoaXMub25pbXBvcnQoeyB0eXBlOiBcIm1hbmlmZXN0c1JlY2VpdmVkXCIsIGRhdGE6IG1hbmlmZXN0cyB9KTtcbiAgICB9XG4gIH1cblxuICBpbXBvcnRSZXF1ZXN0c1RvU2lnbihyZXF1ZXN0czogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub25pbXBvcnQpIHtcbiAgICAgIHRoaXMub25pbXBvcnQoeyB0eXBlOiBcInJlcXVlc3RzVG9TaWduXCIsIGRhdGE6IHJlcXVlc3RzIH0pO1xuICAgIH1cbiAgfVxuXG4gIGltcG9ydFJlY2VpdmVkU2lnbmVkKHNpZ25lZDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub25pbXBvcnQpIHtcbiAgICAgIHRoaXMub25pbXBvcnQoeyB0eXBlOiBcInJlY2VpdmVkU2lnbmVkXCIsIGRhdGE6IHNpZ25lZCB9KTtcbiAgICB9XG4gIH1cblxuICBhc2socHJvZmlsZV9oYW5kbGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXV0aGVudGljYXRpb25Qcm9tcHQoYXBwX25hbWU6IHN0cmluZywgZGV0YWlsX2xpc3Q6IFByb21wdERldGFpbFtdKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBsb2cobXNnOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmxvZ2dlci53cml0ZShtc2cpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHNlbGVjdENyZWRlbnRpYWxWMShjcmVkZW50aWFsczogQ3JlZGVudGlhbFYxW10pOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgIGlmICh0aGlzLm9uU2VsZWN0Q3JlZGVudGlhbFYxKSB7XG4gICAgICByZXR1cm4gdGhpcy5vblNlbGVjdENyZWRlbnRpYWxWMShjcmVkZW50aWFscyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY3JlZGVudGlhbHNbMF0uaWQpO1xuICB9XG59XG4iLCJcbi8qKlxuICogSW50ZXJmYWNlIGJ5IHdoaWNoIHRoZSBob3N0IHdpbGwgYmUgbm90aWZpZWQgdG8gbG9nIGRhdGEuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTG9nIHtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBieSB0aGUgaG9zdCB0byBsb2cgZGF0YS5cbiAgICAgKiBAcGFyYW0gZGF0YSB2YWx1ZXMgdG8gYmUgbG9nZ2VkLCB0eXBpY2FsbHkgYSBzdHJpbmcuXG4gICAgICovXG4gICAgd3JpdGUoLi4uZGF0YTogYW55KTogdm9pZDtcbn1cblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlubyBvZiB0aGUgTG9nIGludGVyZmFjZS5cbiAqIERhdGEgaXMgbG9nZ2VkIHRvIHRoZSBkZWJ1ZyBjb25zb2xlLlxuICovXG5leHBvcnQgY2xhc3MgQ29uc29sZUxvZyBpbXBsZW1lbnRzIExvZyB7XG4gICAgd3JpdGUoLi4uZGF0YTogYW55KTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIE1lc3NhZ2luZyBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHtcbiAgUmVnaXN0cmF0aW9uUmVxdWVzdCxcbiAgUmVjb3ZlclJlcXVlc3QsXG4gIFBrY2VDb2RlQ2hhbGxlbmdlLFxuICBUcnVzdGVkU291cmNlLFxuICBDbGllbnRFbnZpcm9ubWVudCxcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmZ1bmN0aW9uIG1ha2VFcnJvcihlcnI6IGFueSkge1xuICBpZiAodHlwZW9mIGVyciA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG5ldyBFcnJvcihlcnIpO1xuICBlbHNlIGlmIChcIm1lc3NhZ2VcIiBpbiBlcnIpIHJldHVybiA8RXJyb3I+ZXJyO1xuICBlbHNlIHJldHVybiBuZXcgRXJyb3IoZXJyKTtcbn1cblxuLyoqXG4gKiBDb3JlIE1lc3NhZ2VzXG4gKiAtLS0tLS0tLS0tLS0tXG4gKiBUaGVzZSBtZXNzYWdlcyBhcmUgcGFzc2VkIGludG8gS21jIGFzIGEgcmVzcG9uc2UgdG8gYSBIb3N0IGNhbGwuXG4gKlxuICogQnl0ZXMoVmVjPHU4PiksXG4gKiBEZXZpY2VHYXRld2F5VXJsKFN0cmluZyksXG4gKiBEZXZpY2VJbmZvKFN0cmluZyksIC8vIEJhc2U2NCBlbmNvZGVkIHByb3RvXG4gKiBCb29sKGJvb2wpLFxuICogRmVhdHVyZUZsYWdzKFZlYzxGZWF0dXJlRmxhZ1Jlc3BvbnNlPiksXG4gKiBGaWxlUGF0aChIb3N0RmlsZVBhdGgpLFxuICogVW5pdCxcbiAqIFBlbmRpbmcsXG4gKi9cblxuZXhwb3J0IHR5cGUgQm9vbFJlc3BvbnNlID0ge1xuICBCb29sOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgQnl0ZXNSZXNwb25zZSA9IHtcbiAgQnl0ZXM6IG51bWJlcltdO1xufTtcblxuZXhwb3J0IHR5cGUgRGV2aWNlR2F0ZXdheVVybFJlc3BvbnNlID0ge1xuICBEZXZpY2VHYXRld2F5VXJsOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBEZXZpY2VJbmZvUmVzcG9uc2UgPSB7XG4gIERldmljZUluZm86IHN0cmluZzsgLy8gQmFzZTY0IGVuY29kZWQgcHJvdG9cbn07XG5cbmV4cG9ydCB0eXBlIEZlYXR1cmVGbGFnc1Jlc3BvbnNlID0ge1xuICBGZWF0dXJlRmxhZ3M6IE1lc3NhZ2luZy5GZWF0dXJlRmxhZ1Jlc3BvbnNlW107XG59O1xuXG5leHBvcnQgdHlwZSBGaWxlUGF0aFJlc3BvbnNlID0ge1xuICBGaWxlUGF0aDogTWVzc2FnaW5nLkhvc3RGaWxlUGF0aDtcbn07XG5cbmV4cG9ydCB0eXBlIENsaWVudEVudmlyb25tZW50UmVzcG9uc2UgPSB7XG4gIENsaWVudEVudmlyb25tZW50OiBNZXNzYWdpbmcuQ2xpZW50RW52aXJvbm1lbnQ7XG59O1xuXG5leHBvcnQgdHlwZSBQZW5kaW5nUmVzcG9uc2UgPSB7XG4gIFBlbmRpbmc6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEF1dGhOQ3JlZGVudGlhbElkUmVzcG9uc2UgPSB7XG4gIFNlbGVjdGVkQXV0aE5DcmVkZW50aWFsSWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIENvcmVSZXNwb25zZSA9XG4gIHwgQnl0ZXNSZXNwb25zZVxuICB8IERldmljZUdhdGV3YXlVcmxSZXNwb25zZVxuICB8IERldmljZUluZm9SZXNwb25zZVxuICB8IEZlYXR1cmVGbGFnc1Jlc3BvbnNlXG4gIHwgRmlsZVBhdGhSZXNwb25zZVxuICB8IENsaWVudEVudmlyb25tZW50UmVzcG9uc2VcbiAgfCBBdXRoTkNyZWRlbnRpYWxJZFJlc3BvbnNlXG4gIHwgQm9vbFJlc3BvbnNlXG4gIHwgXCJVbml0XCI7XG5cbmV4cG9ydCB0eXBlIENvcmVSZXN1bHQgPSB7IE9rOiBDb3JlUmVzcG9uc2UgfSB8IHsgRXJyOiBzdHJpbmcgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIG9rKHJzcD86IENvcmVSZXNwb25zZSk6IENvcmVSZXN1bHQge1xuICByZXR1cm4geyBPazogcnNwID8gcnNwIDogXCJVbml0XCIgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yKGVycjogYW55KTogQ29yZVJlc3VsdCB7XG4gIHJldHVybiB7IEVycjogbWFrZUVycm9yKGVycikubWVzc2FnZSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZUZsYWdSZXNwb25zZShcbiAgZmxhZ3M6IE1lc3NhZ2luZy5GZWF0dXJlRmxhZ1Jlc3BvbnNlW11cbik6IENvcmVSZXN1bHQge1xuICByZXR1cm4gb2soeyBGZWF0dXJlRmxhZ3M6IGZsYWdzIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGV2aWNlR2F0ZXdheVVybCh1cmw6IHN0cmluZyk6IENvcmVSZXN1bHQge1xuICByZXR1cm4gb2soeyBEZXZpY2VHYXRld2F5VXJsOiB1cmwgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGllbnRFbnZpcm9ubWVudChcbiAgY2xpZW50RW52aXJvbm1lbnQ6IENsaWVudEVudmlyb25tZW50XG4pOiBDb3JlUmVzdWx0IHtcbiAgcmV0dXJuIG9rKHtcbiAgICBDbGllbnRFbnZpcm9ubWVudDoge1xuICAgICAgY3J5cHRvX3NvdXJjZTogY2xpZW50RW52aXJvbm1lbnQuY3J5cHRvU291cmNlLFxuICAgICAga2V5X3N0b3JhZ2Vfc3RyYXRlZ3k6IGNsaWVudEVudmlyb25tZW50LmtleVN0b3JhZ2VTdHJhdGVneSxcbiAgICB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRldmljZUluZm8oaW5mbzogc3RyaW5nKTogQ29yZVJlc3VsdCB7XG4gIHJldHVybiBvayh7IERldmljZUluZm86IGluZm8gfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxlUGF0aChwYXRoOiBNZXNzYWdpbmcuSG9zdEZpbGVQYXRoKTogQ29yZVJlc3VsdCB7XG4gIHJldHVybiBvayh7IEZpbGVQYXRoOiBwYXRoIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYm9vbCh2YWx1ZTogYm9vbGVhbik6IENvcmVSZXN1bHQge1xuICByZXR1cm4gb2soeyBCb29sOiB2YWx1ZSB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzKGRhdGE6IFVpbnQ4QXJyYXkpOiBDb3JlUmVzdWx0IHtcbiAgcmV0dXJuIG9rKHsgQnl0ZXM6IEFycmF5LmZyb20oZGF0YSkgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZEF1dGhOQ3JlZGVudGlhbChpZD86IHN0cmluZykge1xuICByZXR1cm4gb2soeyBTZWxlY3RlZEF1dGhOQ3JlZGVudGlhbElkOiBpZCB9KTtcbn1cbiIsImltcG9ydCB7XG4gIFJlZ2lzdHJhdGlvblN0YXR1cyxcbiAgUHJvbXB0RGV0YWlsLFxuICBGZWF0dXJlRmxhZ1JlcXVlc3QsXG4gIFBhdGhUeXBlLFxuICBQcm9maWxlLFxuICBQa2NlLFxuICBDb3JlQ3JlZGVudGlhbFYxLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIEhvc3QgTWVzc2FnZXNcbiAqIC0tLS0tLS0tLS0tLS1cbiAqIFRoZXNlIG1lc3NhZ2VzIGFyZSBwYXNzZWQgZnJvbSBLbWMgdG8gdGhlIEhvc3QsIHNvbWV0aW1lc1xuICogYXMgY2FsbGJhY2ssIHNvbWV0aW1lcyBhcyB0aGUgcmVzdWx0IG9mIGEgQ29yZSBSZXF1ZXN0LlxuICogSG9zdCBSZXNwb25zZXMgYXJlIG5vdCB3cmFwcGVkIGluIFwiT2tcIi9cIkVyclwiIHdyYXBwZXJzIGxpa2VcbiAqIENvcmUgcmVzcG9uc2VzLlxuICpcbiAqIEhvc3QgUmVxdWVzdHNcbiAqIC0tLS0tLS0tLS0tLS1cbiAqXG4gKiBBc2soc3RyaW5nKSxcbiAqIEF1dGhlbnRpY2F0aW9uUHJvbXB0IHtcbiAqICAgICBhcHBfbmFtZTogc3RyaW5nLFxuICogICAgIGRldGFpbF9saXN0OiBWZWM8UHJvbXB0RGV0YWlsPixcbiAqIH0sXG4gKiBDaGVja0ZlYXR1cmVGbGFncyhWZWM8RmVhdHVyZUZsYWdSZXF1ZXN0PiksXG4gKiBDcmVhdGVVc2VyKENyZWF0ZVVzZXJSZXNwb25zZSksXG4gKiBSZWNvdmVyVXNlcihSZWNvdmVyVXNlclJlc3BvbnNlKSxcbiAqIENyZWF0ZVBrY2UoUGtjZSksXG4gKiBEZWNyeXB0KHN0cmluZywgVmVjPHU4PiksXG4gKiBEZWxldGVDZXJ0cyhWZWM8c3RyaW5nPiksXG4gKiBEZWxldGVLZXlzdHJpbmcsXG4gKiBFbWJlZGRlZENvbmZpZGVudGlhbE9pZGMoRW1iZWRkZWRDb25maWRlbnRpYWxPaWRjUmVzcG9uc2UpLFxuICogRW1iZWRkZWRQdWJsaWNPaWRjKEVtYmVkZGVkUHVibGljT2lkY1Jlc3BvbnNlKSxcbiAqIEVuY3J5cHQoc3RyaW5nLCBWZWM8dTg+KSxcbiAqIEV4cG9ydFJlcXVlc3RSZWNlaXZlZChIYXNoTWFwPHN0cmluZywgVmVjPHU4Pj4pLFxuICogRXhwb3J0U3RhcnRlZHN0cmluZyxcbiAqIEV4cG9ydFRva2VuVGltZW91dHN0cmluZyxcbiAqIEdldENlcnRzdHJpbmcsXG4gKiBHZXREZXZpY2VHYXRld2F5VXJsLFxuICogR2V0RGV2aWNlSW5mbyxcbiAqIEdldEZpbGVQYXRoKFBhdGhUeXBlKSxcbiAqIEltcG9ydE1hbmlmZXN0UmVjZWl2ZWRzdHJpbmcsIC8vIFRPRE86IHRha2UgbWFuaWZlc3QgdHlwZVxuICogSW1wb3J0UmVjZWl2ZWRTaWduZWRzdHJpbmcsICAgLy8gVE9ETzogdGFrZSBzaWduZWQgcmVxdWVzdHNcbiAqIEltcG9ydFJlcXVlc3RzVG9TaWduc3RyaW5nLCAgIC8vIFRPRE86IHRha2UgaGFzaG1hcFxuICogSW1wb3J0U3RhcnRlZHN0cmluZyxcbiAqIExvZ3N0cmluZyxcbiAqIE5ld0tleXN0cmluZyxcbiAqIFB1YmxpY0tleXN0cmluZyxcbiAqIFB1dENlcnQoVmVjPHU4PiksXG4gKiBTaWduKHN0cmluZywgVmVjPHU4PiksXG4gKiBVcmxSZXNwb25zZShIYW5kbGVVcmxSZXNwb25zZSksXG4gKlxuICogSG9zdCBSZXNwb25zZXNcbiAqIC0tLS0tLS0tLS0tLS0tXG4gKiBDb25uZWN0aXZpdHlTdGF0ZShDb25uZWN0aXZpdHlTdGF0ZSksXG4gKiBDaGVja1JldGlyZVJlc3BvbnNlKGdycGM6OnJldGlyZTo6Q2hlY2tSZXRpcmVSZXNwb25zZSksXG4gKiBQcm9maWxlKFByb2ZpbGUpLFxuICogUHJvZmlsZXMoVmVjPFByb2ZpbGU+KSxcbiAqIFVuaXQsXG4gKiBCb29sKGJvb2wpLFxuICpcbiAqL1xuXG5leHBvcnQgdHlwZSBBc2tSZXF1ZXN0ID0ge1xuICBBc2s6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEF1dGhlbnRpY2F0aW9uUHJvbXB0UmVxdWVzdCA9IHtcbiAgQXV0aGVudGljYXRpb25Qcm9tcHQ6IHtcbiAgICBhcHBOYW1lOiBzdHJpbmc7XG4gICAgZGV0YWlsTGlzdDogUHJvbXB0RGV0YWlsW107XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBDaGVja0ZlYXR1cmVGbGFnc1JlcXVlc3QgPSB7XG4gIENoZWNrRmVhdHVyZUZsYWdzOiBGZWF0dXJlRmxhZ1JlcXVlc3RbXTtcbn07XG5cbi8vIEZJWE1FOiBzaG91bGQgYmUgbnVtYmVyW11cbmV4cG9ydCB0eXBlIEV4cG9ydFJlcXVlc3RSZWNlaXZlZFJlcXVlc3QgPSB7XG4gIEV4cG9ydFJlcXVlc3RSZWNlaXZlZDogTWFwPHN0cmluZywgVWludDhBcnJheT47XG59O1xuXG5leHBvcnQgdHlwZSBFeHBvcnRTdGFydGVkUmVxdWVzdCA9IHtcbiAgRXhwb3J0U3RhcnRlZDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgRXhwb3J0VG9rZW5UaW1lb3V0UmVxdWVzdCA9IHtcbiAgRXhwb3J0VG9rZW5UaW1lb3V0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBHZXREZXZpY2VHYXRld2F5VXJsUmVxdWVzdCA9IHtcbiAgR2V0RGV2aWNlR2F0ZXdheVVybDogdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgR2V0RGV2aWNlSW5mb1JlcXVlc3QgPSB7XG4gIEdldERldmljZUluZm86IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIEdldEZpbGVQYXRoUmVxdWVzdCA9IHtcbiAgR2V0RmlsZVBhdGg6IFBhdGhUeXBlO1xufTtcblxuZXhwb3J0IHR5cGUgSW1wb3J0TWFuaWZlc3RSZWNlaXZlZFJlcXVlc3QgPSB7XG4gIEltcG9ydE1hbmlmZXN0UmVjZWl2ZWQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEltcG9ydFJlY2VpdmVkU2lnbmVkUmVxdWVzdCA9IHtcbiAgSW1wb3J0UmVjZWl2ZWRTaWduZWQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEltcG9ydFJlcXVlc3RzVG9TaWduUmVxdWVzdCA9IHtcbiAgSW1wb3J0UmVxdWVzdHNUb1NpZ246IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEltcG9ydFN0YXJ0ZWRSZXF1ZXN0ID0ge1xuICBJbXBvcnRTdGFydGVkOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBMb2dSZXF1ZXN0ID0ge1xuICBMb2c6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFNlbGVjdEF1dGhOQ3JlZGVudGlhbFJlcXVlc3QgPSB7XG4gIFNlbGVjdEF1dGhOQ3JlZGVudGlhbDogQ29yZUNyZWRlbnRpYWxWMVtdO1xufTtcblxuZXhwb3J0IHR5cGUgSG9zdFJlcXVlc3QgPVxuICB8IEFza1JlcXVlc3RcbiAgfCBBdXRoZW50aWNhdGlvblByb21wdFJlcXVlc3RcbiAgfCBDaGVja0ZlYXR1cmVGbGFnc1JlcXVlc3RcbiAgfCBFeHBvcnRSZXF1ZXN0UmVjZWl2ZWRSZXF1ZXN0XG4gIHwgRXhwb3J0U3RhcnRlZFJlcXVlc3RcbiAgfCBFeHBvcnRUb2tlblRpbWVvdXRSZXF1ZXN0XG4gIHwgR2V0RGV2aWNlR2F0ZXdheVVybFJlcXVlc3RcbiAgfCBHZXREZXZpY2VJbmZvUmVxdWVzdFxuICB8IEdldEZpbGVQYXRoUmVxdWVzdFxuICB8IEltcG9ydE1hbmlmZXN0UmVjZWl2ZWRSZXF1ZXN0XG4gIHwgSW1wb3J0UmVjZWl2ZWRTaWduZWRSZXF1ZXN0XG4gIHwgSW1wb3J0UmVxdWVzdHNUb1NpZ25SZXF1ZXN0XG4gIHwgSW1wb3J0U3RhcnRlZFJlcXVlc3RcbiAgfCBMb2dSZXF1ZXN0XG4gIHwgU2VsZWN0QXV0aE5DcmVkZW50aWFsUmVxdWVzdDtcbiIsIlxuZXhwb3J0ICogYXMgVHlwZXMgZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCAqIGFzIENvcmVNZXNzYWdlIGZyb20gXCIuL2NvcmVNZXNzYWdlXCI7XG5leHBvcnQgKiBhcyBIb3N0TWVzc2FnZSBmcm9tIFwiLi9ob3N0TWVzc2FnZVwiO1xuXG5cbmltcG9ydCB7IEhvc3QgfSBmcm9tIFwiLi4vaG9zdFwiO1xuaW1wb3J0IHsgQ29yZVJlc3BvbnNlLCBDb3JlUmVzdWx0IH0gZnJvbSBcIi4vY29yZU1lc3NhZ2VcIjtcbmltcG9ydCB7IEhvc3RSZXF1ZXN0IH0gZnJvbSBcIi4vaG9zdE1lc3NhZ2VcIjtcblxudHlwZSBNZXNzYWdlID0gQ29yZVJlc3BvbnNlIHwgQ29yZVJlc3VsdCB8IEhvc3RSZXF1ZXN0O1xuXG4vKiogXG4gKiBSZXR1cm5zIHRoZSB0eXBlIHRoZSByZXF1ZXN0L3Jlc3BvbnNlIHR5cGUgZnJvbSB0aGUgaW50ZXJmYWNlLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXNzYWdlVHlwZShtc2c6IE1lc3NhZ2UpOiBzdHJpbmcge1xuICAgIGlmICh0eXBlb2YgbXNnID09PSBcInN0cmluZ1wiKSBcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICBlbHNlIFxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoPGFueT5tc2cpWzBdO1xufVxuXG5mdW5jdGlvbiBvayhyZXM6IENvcmVSZXN1bHQpOiByZXMgaXMge1wiT2tcIjogQ29yZVJlc3BvbnNlfSB7XG4gICAgcmV0dXJuIG1lc3NhZ2VUeXBlKHJlcykgPT0gXCJPa1wiO1xufVxuXG4vKipcbiAqIFdyaXRlcyBhIGNvcmUgcmVzdWx0IGFzIGEgSlNPTiBzdHJpbmcuXG4gKiBAcGFyYW0gcmVzIFRoZSByZXN1bHQgdG8gYmUgc2VyaWFsaXplZC5cbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVSZXNwb25zZShyZXM6IENvcmVSZXN1bHQpOiBzdHJpbmcge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShyZXMpO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhIGhvc3QgcmVxdWVzdCBmcm9tIGEgSlNPTiBzdHJpbmdcbiAqIEBwYXJhbSByZXEgdGhlIHJlcXVlc3QgdG8gcGFyc2UuIFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZFJlcXVlc3QocmVxOiBzdHJpbmcpOiBIb3N0UmVxdWVzdCB7XG4gICAgcmV0dXJuIDxIb3N0UmVxdWVzdD5KU09OLnBhcnNlKHJlcSk7XG59XG4iLCIvKipcbiAqIFRoZXNlIG1lc3NhZ2luZyB0eXBlcyBhcmUgZHVwbGljYXRlcyBvZiB0aGUgYXBwbGljYXRpb24gdHlwZXNcbiAqIHdpdGggdGhlIGV4Y2VwdGlvbiB0aGF0IHRoZXkgaGF2ZSBzbmFrZV9jYXNlIHNwZWxsaW5nc1xuICogc28gdGhhdCB0aGV5IGFyZSBwcm9wZXJseSBzZXJpYWxpemVkIGludG8vb3V0IG9mIENvcmUuXG4gKlxuICogU29tZSB0eXBlcyBoYXZlIHRoZSBzYW1lIHNwZWxsaW5nLCBzbyB0aGV5IGFyZSByZS1leHBvcnRzXG4gKiBvZiB0aGUgYXBwbGljYXRpb24gdHlwZXMuXG4gKi9cblxuaW1wb3J0IHtcbiAgQ3JlZGVudGlhbCxcbiAgQ3JlZGVudGlhbFYxLFxuICBQa2NlQ29kZUNoYWxsZW5nZSxcbiAgVXJsUmVzcG9uc2UsXG4gIENyeXB0b1NvdXJjZSxcbiAgS2V5U3RvcmFnZVN0cmF0ZWd5LFxuICBQYXRoVHlwZSxcbiAgU3RhdGUsXG4gIEludGVncml0eUZhaWx1cmVFcnJvcixcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmV4cG9ydCB7XG4gIFRydXN0ZWRTb3VyY2UsXG4gIFBrY2VDb2RlQ2hhbGxlbmdlLFxuICBSZWdpc3RyYXRpb25TdGF0dXMsXG4gIFByb21wdERldGFpbCxcbiAgRmVhdHVyZUZsYWdSZXF1ZXN0LFxuICBGZWF0dXJlRmxhZ1Jlc3BvbnNlLFxuICBQYXRoVHlwZSxcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbi8qKlxuICogQSBQcm9maWxlIGlzIGlkZW50aWNhbCB0byBhIENyZWRlbnRpYWwsIGJ1dFxuICogaXMgbmFtZWQgZGlmZmVyZW50bHkgZm9yIGxlZ2FjeSByZWFzb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb2ZpbGUge1xuICBzdGF0ZTogU3RhdGU7XG4gIGNyZWF0ZWQ6IHN0cmluZztcbiAgaGFuZGxlOiBzdHJpbmc7XG4gIGtleV9oYW5kbGU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBpbWFnZV91cmw6IHN0cmluZztcbiAgbG9naW5fdXJpPzogc3RyaW5nO1xuICBlbnJvbGxfdXJpPzogc3RyaW5nO1xuICBjaGFpbjogc3RyaW5nW107XG4gIHJvb3RfZmluZ2VycHJpbnQ6IHN0cmluZztcbiAgdXNlcl9pZD86IFVpbnQ4QXJyYXk7XG5cbiAga2V5X3R5cGU/OiBcInN1YnRsZVwiIHwgXCJ3ZWJhdXRoblwiO1xufVxuXG4vKipcbiAqIE9rIG9yIEVyci5cbiAqIEZJWE1FOiBwYXJhbWV0ZXJpemUgdGhpcyBvdmVyIHRoZSBcIk9rXCIgdHlwZS5cbiAqL1xuZXhwb3J0IHR5cGUgSW50ZWdyaXR5UmVzdWx0ID0geyBPazogc3RyaW5nIH0gfCB7IEVycjogSW50ZWdyaXR5RmFpbHVyZUVycm9yIH07XG5cbi8qKlxuICogUmV0dXJuZWQgZnJvbSBrbWNfYWxsX2NyZWRlbnRpYWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZUNyZWRlbnRpYWwge1xuICBjcmVhdGVkOiBJbnRlZ3JpdHlSZXN1bHQ7XG4gIHN0YXRlOiBTdGF0ZTtcbiAgaGFuZGxlOiBJbnRlZ3JpdHlSZXN1bHQ7XG4gIGtleV9oYW5kbGU6IEludGVncml0eVJlc3VsdDtcbiAgbmFtZTogc3RyaW5nO1xuICBpbWFnZV91cmw6IHN0cmluZztcbiAgY2hhaW5faGFuZGxlczogSW50ZWdyaXR5UmVzdWx0W107XG4gIGVucm9sbF91cmk6IHN0cmluZztcbiAgbG9naW5fdXJpOiBzdHJpbmc7XG4gIGRlc2t0b3BfbG9naW5fdXJsOiBzdHJpbmc7XG4gIGRldmljZV9nYXRld2F5X3VybDogc3RyaW5nO1xuICBtaWdyYXRlX2FkZHI6IHN0cmluZztcbiAgcm9vdF9maW5nZXJwcmludDogSW50ZWdyaXR5UmVzdWx0O1xuICB1c2VyPzogVXNlcjtcbiAgZGV2aWNlX2NyZWRlbnRpYWw/OiBEZXZpY2VDcmVkZW50aWFsO1xuICBzc2lkczogW3t9XTsgLy8gdW51c2VkXG5cbiAga2V5X3R5cGU/OiBcInN1YnRsZVwiIHwgXCJ3ZWJhdXRoblwiO1xufVxuXG5pbnRlcmZhY2UgVXNlciB7fVxuXG5pbnRlcmZhY2UgRGV2aWNlQ3JlZGVudGlhbCB7fVxuXG4vKiogSGVscGVyIG1ldGhvZCBmb3IgY29uc3RydWN0aW5nIENyZWRlbnRpYWxzIGZyb20gcnVzdCBQcm9maWxlIG9iamVjdHMuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlZGVudGlhbEZyb21Qcm9maWxlKHByb2ZpbGU6IFByb2ZpbGUpOiBDcmVkZW50aWFsIHtcbiAgcmV0dXJuIHtcbiAgICBzdGF0ZTogcHJvZmlsZS5zdGF0ZSxcbiAgICBjcmVhdGVkOiBwcm9maWxlLmNyZWF0ZWQsXG4gICAgaGFuZGxlOiBwcm9maWxlLmhhbmRsZSxcbiAgICBrZXlIYW5kbGU6IHByb2ZpbGUua2V5X2hhbmRsZSxcbiAgICBrZXlUeXBlOiBwcm9maWxlLmtleV90eXBlLFxuICAgIG5hbWU6IHByb2ZpbGUubmFtZSxcbiAgICBpbWFnZVVSTDogcHJvZmlsZS5pbWFnZV91cmwsXG4gICAgbG9naW5VUkk6IHByb2ZpbGUubG9naW5fdXJpLFxuICAgIGVucm9sbFVSSTogcHJvZmlsZS5lbnJvbGxfdXJpLFxuICAgIGNoYWluOiBwcm9maWxlLmNoYWluLFxuICAgIHJvb3RGaW5nZXJwcmludDogcHJvZmlsZS5yb290X2ZpbmdlcnByaW50LFxuICAgIHVzZXJJZDogcHJvZmlsZS51c2VyX2lkLFxuICB9O1xufVxuXG5mdW5jdGlvbiB1bndyYXBTdHJpbmcoXG4gIHJlc3VsdDogSW50ZWdyaXR5UmVzdWx0LFxuICBuYW1lOiBzdHJpbmcsXG4gIGVycm9yczogUmVjb3JkPHN0cmluZywgSW50ZWdyaXR5RmFpbHVyZUVycm9yPlxuKTogc3RyaW5nIHtcbiAgaWYgKFwiT2tcIiBpbiByZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0W1wiT2tcIl07XG4gIH0gZWxzZSB7XG4gICAgZXJyb3JzW25hbWVdID0gcmVzdWx0W1wiRXJyXCJdID8/IFwiUmVzdWx0UGFyc2VcIjtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bndyYXBTdHJpbmdBcnJheShcbiAgcmVzdWx0czogSW50ZWdyaXR5UmVzdWx0W10sXG4gIG5hbWU6IHN0cmluZyxcbiAgZXJyb3JzOiBSZWNvcmQ8c3RyaW5nLCBJbnRlZ3JpdHlGYWlsdXJlRXJyb3I+XG4pOiBzdHJpbmdbXSB7XG4gIHJldHVybiByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiB7XG4gICAgcmV0dXJuIHVud3JhcFN0cmluZyhyZXN1bHQsIG5hbWUsIGVycm9ycyk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlZGVudGlhbEZyb21Db3JlKGNyZWQ6IENvcmVDcmVkZW50aWFsKTogQ3JlZGVudGlhbCB7XG4gIGxldCBlcnJvcnMgPSB7fTtcbiAgbGV0IG5ld0NyZWQ6IENyZWRlbnRpYWwgPSB7XG4gICAgc3RhdGU6IGNyZWQuc3RhdGUsXG4gICAgY3JlYXRlZDogdW53cmFwU3RyaW5nKGNyZWQuY3JlYXRlZCwgXCJjcmVhdGVkXCIsIGVycm9ycyksXG4gICAgaGFuZGxlOiB1bndyYXBTdHJpbmcoY3JlZC5oYW5kbGUsIFwiaGFuZGxlXCIsIGVycm9ycyksXG4gICAga2V5SGFuZGxlOiB1bndyYXBTdHJpbmcoY3JlZC5rZXlfaGFuZGxlLCBcImtleUhhbmRsZVwiLCBlcnJvcnMpLFxuICAgIGtleVR5cGU6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiBjcmVkLm5hbWUsXG4gICAgaW1hZ2VVUkw6IGNyZWQuaW1hZ2VfdXJsLFxuICAgIGxvZ2luVVJJOiBjcmVkLmxvZ2luX3VyaSxcbiAgICBlbnJvbGxVUkk6IGNyZWQuZW5yb2xsX3VyaSxcbiAgICBjaGFpbjogdW53cmFwU3RyaW5nQXJyYXkoY3JlZC5jaGFpbl9oYW5kbGVzLCBcImNoYWluXCIsIGVycm9ycyksXG4gICAgcm9vdEZpbmdlcnByaW50OiB1bndyYXBTdHJpbmcoXG4gICAgICBjcmVkLnJvb3RfZmluZ2VycHJpbnQsXG4gICAgICBcInJvb3RGaW5nZXJwcmludFwiLFxuICAgICAgZXJyb3JzXG4gICAgKSxcbiAgICB1c2VySWQ6IHVuZGVmaW5lZCxcbiAgICB1c2VyOiB7fSxcbiAgICBkZXZpY2VDcmVkZW50aWFsOiB7fSxcbiAgICBpbnRlZ3JpdHlGYWlsdXJlczogT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggPyBlcnJvcnMgOiB1bmRlZmluZWQsXG4gIH07XG4gIHJldHVybiBuZXdDcmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhhbmRsZVNlbGZJc3N1ZVVybFJlc3BvbnNlIHtcbiAgb3BlcmF0aW9uOiBzdHJpbmc7XG4gIHByb2ZpbGU6IFByb2ZpbGU7XG4gIHJlZGlyZWN0X3VybDogc3RyaW5nO1xuICBoYW5kbGVkX3JlZGlyZWN0X2V4dGVybmFsbHk/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhhbmRsZVJlZ2lzdGVyVXJsUmVzcG9uc2Uge1xuICBvcGVyYXRpb246IHN0cmluZztcbiAgcHJvZmlsZTogUHJvZmlsZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIYW5kbGVCaUF1dGhlbnRpY2F0ZVVybFJlc3BvbnNlIHtcbiAgb3BlcmF0aW9uOiBzdHJpbmc7XG4gIHJlZGlyZWN0X3VybDogc3RyaW5nO1xuICBtZXNzYWdlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhhbmRsZUJpbmRDcmVkZW50aWFsVXJsUmVzcG9uc2Uge1xuICBjcmVkZW50aWFsOiBDcmVkZW50aWFsVjE7XG4gIHBvc3RfYmluZGluZ19yZWRpcmVjdF91cmk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIEhhbmRsZVVybFJlc3BvbnNlID1cbiAgfCB7IFNlbGZJc3N1ZTogSGFuZGxlU2VsZklzc3VlVXJsUmVzcG9uc2UgfVxuICB8IHsgUmVnaXN0cmF0aW9uOiBIYW5kbGVSZWdpc3RlclVybFJlc3BvbnNlIH1cbiAgfCB7IEJpQXV0aGVudGljYXRlOiBIYW5kbGVCaUF1dGhlbnRpY2F0ZVVybFJlc3BvbnNlIH1cbiAgfCB7IEJpbmRDcmVkZW50aWFsOiBIYW5kbGVCaW5kQ3JlZGVudGlhbFVybFJlc3BvbnNlIH07XG5cbi8qKiBIZWxwZXIgbWV0aG9kIGZvciBjb25zdHJ1Y3RpbmcgVXJsUmVzcG9uc2UgZnJvbSBydXN0IEhhbmRsZVVybFJlc3BvbmUgb2JqZWN0cy4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1VybFJlc3BvbnNlKHJzcDogSGFuZGxlVXJsUmVzcG9uc2UpOiBVcmxSZXNwb25zZSB7XG4gIGlmIChcIlNlbGZJc3N1ZVwiIGluIHJzcCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInNlbGZJc3N1ZVwiLFxuICAgICAgc2VsZklzc3VlOiB7XG4gICAgICAgIGNyZWRlbnRpYWw6IGNyZWRlbnRpYWxGcm9tUHJvZmlsZShyc3BbXCJTZWxmSXNzdWVcIl0ucHJvZmlsZSksXG4gICAgICAgIHJlZGlyZWN0VVJMOiByc3BbXCJTZWxmSXNzdWVcIl0ucmVkaXJlY3RfdXJsLFxuICAgICAgICBoYW5kbGVkUmVkaXJlY3RFeHRlcm5hbGx5OiByc3BbXCJTZWxmSXNzdWVcIl0uaGFuZGxlZF9yZWRpcmVjdF9leHRlcm5hbGx5LFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2UgaWYgKFwiUmVnaXN0cmF0aW9uXCIgaW4gcnNwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwicmVnaXN0cmF0aW9uXCIsXG4gICAgICByZWdpc3RyYXRpb246IHtcbiAgICAgICAgY3JlZGVudGlhbDogY3JlZGVudGlhbEZyb21Qcm9maWxlKHJzcFtcIlJlZ2lzdHJhdGlvblwiXS5wcm9maWxlKSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIGlmIChcIkJpQXV0aGVudGljYXRlXCIgaW4gcnNwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiYmlBdXRoZW50aWNhdGVcIixcbiAgICAgIGJpQXV0aGVudGljYXRlOiB7XG4gICAgICAgIHJlZGlyZWN0VVJMOiByc3BbXCJCaUF1dGhlbnRpY2F0ZVwiXS5yZWRpcmVjdF91cmwsXG4gICAgICAgIG1lc3NhZ2U6IHJzcFtcIkJpQXV0aGVudGljYXRlXCJdLm1lc3NhZ2UsXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSBpZiAoXCJCaW5kQ3JlZGVudGlhbFwiIGluIHJzcCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImJpbmRDcmVkZW50aWFsXCIsXG4gICAgICBiaW5kQ3JlZGVudGlhbDoge1xuICAgICAgICBjcmVkZW50aWFsOiByc3BbXCJCaW5kQ3JlZGVudGlhbFwiXS5jcmVkZW50aWFsLFxuICAgICAgICBwb3N0QmluZFJlZGlyZWN0OiByc3BbXCJCaW5kQ3JlZGVudGlhbFwiXS5wb3N0X2JpbmRpbmdfcmVkaXJlY3RfdXJpLFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3JcIik7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBIb3N0RmlsZVBhdGgge1xuICBwYXRoX3R5cGU6IFBhdGhUeXBlO1xuICBwYXRoOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIENoZWNrUmV0aXJlUmVzcG9uc2UgPSB7XG4gIHZlcnNpb246IG51bWJlcjtcbiAgaXNfcmV0aXJlZDogYm9vbGVhbjtcbiAgcmVhc29uOiBzdHJpbmc7XG4gIGluZm9fdXJsOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFRva2VuUmVzcG9uc2Uge1xuICBhY2Nlc3NfdG9rZW46IHN0cmluZztcbiAgaWRfdG9rZW46IHN0cmluZztcbiAgdG9rZW5fdHlwZTogc3RyaW5nO1xuICBleHBpcmVzX2luOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlndXJlR2l0IHtcbiAgcmVwb1BhdGg6IHN0cmluZztcbiAga2V5RmluZ2VycHJpbnQ6IHN0cmluZztcbiAgZ3BnQ2xpUGF0aDogc3RyaW5nO1xuICBhbHdheXNTaWduPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWdpc3RyYXRpb25SZXF1ZXN0IHtcbiAgZXh0ZXJuYWxfaWQ6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgdXNlcl9uYW1lOiBzdHJpbmc7XG4gIGRpc3BsYXlfbmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBSZWNvdmVyUmVxdWVzdCA9IHsgZXh0ZXJuYWxfaWQ6IHN0cmluZyB9IHwgeyBpbnRlcm5hbF9pZDogc3RyaW5nIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGtjZSB7XG4gIGNvZGVfdmVyaWZpZXI6IHN0cmluZztcbiAgY29kZV9jaGFsbGVuZ2U6IFBrY2VDb2RlQ2hhbGxlbmdlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudEVudmlyb25tZW50IHtcbiAgY3J5cHRvX3NvdXJjZTogQ3J5cHRvU291cmNlO1xuICBrZXlfc3RvcmFnZV9zdHJhdGVneTogS2V5U3RvcmFnZVN0cmF0ZWd5O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvcmVDcmVkZW50aWFsVjEge1xuICBpZDogc3RyaW5nO1xuICBsb2NhbF9jcmVhdGVkOiBzdHJpbmc7XG4gIGxvY2FsX3VwZGF0ZWQ6IHN0cmluZztcbiAgYXBpX2Jhc2VfdXJsOiBzdHJpbmc7XG4gIHRlbmFudF9pZDogc3RyaW5nO1xuICByZWFsbV9pZDogc3RyaW5nO1xuICBpZGVudGl0eV9pZDogc3RyaW5nO1xuICBrZXlfaGFuZGxlOiBzdHJpbmc7XG4gIHN0YXRlOiBcIkFjdGl2ZVwiIHwgXCJSZXZva2VkXCI7XG4gIGNyZWF0ZWQ6IHN0cmluZztcbiAgdXBkYXRlZDogc3RyaW5nO1xuICByZWFsbTogQ29yZVJlYWxtVjE7XG4gIGlkZW50aXR5OiBDb3JlSWRlbnRpdHlWMTtcbiAgdGhlbWU6IENvcmVUaGVtZVYxO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvcmVSZWFsbVYxIHtcbiAgZGlzcGxheV9uYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZUlkZW50aXR5VjEge1xuICBkaXNwbGF5X25hbWU6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb3JlVGhlbWVWMSB7XG4gIGxvZ29fdXJsX2xpZ2h0OiBzdHJpbmc7XG4gIGxvZ29fdXJsX2Rhcms6IHN0cmluZztcbiAgc3VwcG9ydF91cmw6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWRlbnRpYWxWMUZyb21DcmVkZW50aWFsKFxuICBjb3JlQ3JlZDogQ29yZUNyZWRlbnRpYWxWMVxuKTogQ3JlZGVudGlhbFYxIHtcbiAgbGV0IGNyZWQ6IENyZWRlbnRpYWxWMSA9IHtcbiAgICBpZDogY29yZUNyZWQuaWQsXG4gICAgbG9jYWxDcmVhdGVkOiBjb3JlQ3JlZC5sb2NhbF9jcmVhdGVkLFxuICAgIGxvY2FsVXBkYXRlZDogY29yZUNyZWQubG9jYWxfdXBkYXRlZCxcbiAgICBhcGlCYXNlVXJsOiBjb3JlQ3JlZC5hcGlfYmFzZV91cmwsXG4gICAgdGVuYW50SWQ6IGNvcmVDcmVkLnRlbmFudF9pZCxcbiAgICByZWFsbUlkOiBjb3JlQ3JlZC5yZWFsbV9pZCxcbiAgICBpZGVudGl0eUlkOiBjb3JlQ3JlZC5pZGVudGl0eV9pZCxcbiAgICBrZXlIYW5kbGU6IGNvcmVDcmVkLmtleV9oYW5kbGUsXG4gICAgc3RhdGU6IGNvcmVDcmVkLnN0YXRlLFxuICAgIGNyZWF0ZWQ6IGNvcmVDcmVkLmNyZWF0ZWQsXG4gICAgdXBkYXRlZDogY29yZUNyZWQudXBkYXRlZCxcbiAgICByZWFsbToge1xuICAgICAgZGlzcGxheU5hbWU6IGNvcmVDcmVkLnJlYWxtLmRpc3BsYXlfbmFtZSxcbiAgICB9LFxuICAgIGlkZW50aXR5OiB7XG4gICAgICBkaXNwbGF5TmFtZTogY29yZUNyZWQuaWRlbnRpdHkuZGlzcGxheV9uYW1lLFxuICAgICAgdXNlcm5hbWU6IGNvcmVDcmVkLmlkZW50aXR5LnVzZXJuYW1lLFxuICAgICAgZW1haWxBZGRyZXNzOiBcIlwiLCAvLyBGSVhNRTogZW1haWwgaXMgbWlzc2luZyBmcm9tIENvcmVJZGVudGl0eVYxXG4gICAgfSxcbiAgICB0aGVtZToge1xuICAgICAgbG9nb1VybExpZ2h0OiBjb3JlQ3JlZC50aGVtZS5sb2dvX3VybF9saWdodCxcbiAgICAgIGxvZ29VcmxEYXJrOiBjb3JlQ3JlZC50aGVtZS5sb2dvX3VybF9kYXJrLFxuICAgICAgc3VwcG9ydFVybDogY29yZUNyZWQudGhlbWUuc3VwcG9ydF91cmwsXG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIGNyZWQ7XG59XG5cbmV4cG9ydCB0eXBlIFVybFR5cGUgPSB7IHR5cGU6IFwiQXV0aGVudGljYXRlXCIgfSB8IHsgdHlwZTogXCJCaW5kXCIgfTtcblxuLyoqIEhlbHBlciBtZXRob2QgZm9yIGNvbnN0cnVjdGluZyBVcmxUeXBlIGZyb20gc3RyaW5nLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVXJsVHlwZShyYXdVcmxUeXBlOiBzdHJpbmcpOiBVcmxUeXBlIHtcbiAgc3dpdGNoKHJhd1VybFR5cGUpIHtcbiAgICBjYXNlIFwiQXV0aGVudGljYXRlXCI6IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiQXV0aGVudGljYXRlXCIgfTtcbiAgICB9XG4gICAgY2FzZSBcIkJpbmRcIjoge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJCaW5kXCIgfTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBVcmwgVHlwZVwiKTtcbiAgICB9XG4gIH1cbn1cbiIsIlxuZXhwb3J0IHR5cGUgVm9pZCA9ICgpID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBEYXRhPFQ+ID0gVCB8ICgoKSA9PiBUKTtcbmV4cG9ydCB0eXBlIEFzeW5jVm9pZCA9ICgpID0+IFByb21pc2U8dm9pZD47XG5leHBvcnQgdHlwZSBBc3luY0RhdGE8VD4gPSBUIHwgKCgpID0+IFByb21pc2U8VD4pO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQ+KHg6IERhdGE8VD4pOiBUIHtcbiAgICBpZiAoeCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiB4KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlPFQ+KHg6IEFzeW5jRGF0YTxUPik6IFByb21pc2U8VD4ge1xuICAgIGlmICh4IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh4KCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh4KTtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7IGNyZWF0ZUhvc3QsIEhvc3QgfSBmcm9tIFwiLi4vaG9zdFwiO1xuaW1wb3J0IHsgQ29yZURpc3BhdGNoIH0gZnJvbSBcIi4uL2NvcmVEaXNwYXRjaFwiO1xuaW1wb3J0IHsgRGlzcGF0Y2hEYXRhIH0gZnJvbSBcIi4vbW9ja0NvbmZpZ1wiO1xuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gXCIuL21vY2tEYXRhXCI7XG5pbXBvcnQge1xuICBDcmVkZW50aWFsLFxuICBQa2NlQ29kZUNoYWxsZW5nZSxcbiAgUGtjZSxcbiAgVHJ1c3RlZFNvdXJjZSxcbiAgQXV0aG9yaXphdGlvbkNvZGUsXG4gIFVybFJlc3BvbnNlLFxuICBUb2tlblJlc3BvbnNlLFxuICBDaGVja1JldGlyZVJlc3BvbnNlLFxuICBCcm93c2VySW5mbyxcbiAgQmluZENyZWRlbnRpYWxWMVJlc3VsdCxcbiAgQ3JlZGVudGlhbFYxLFxuICBLZXlUeXBlLFxuICBDcmVkZW50aWFsSWQsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgVXJsVHlwZSB9IGZyb20gXCIuLi9tZXNzYWdpbmcvdHlwZXNcIjtcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vY29uZmlndXJhdGlvblwiO1xuaW1wb3J0IHsgQklBdXRoZW50aWNhdGVVcmxSZXNwb25zZSB9IGZyb20gXCIuLi90eXBlcy9jcmVkZW50aWFsXCI7XG5pbXBvcnQgeyBleGl0Q29kZSB9IGZyb20gXCJwcm9jZXNzXCI7XG5cbmV4cG9ydCBjbGFzcyBNb2NrRGlzcGF0Y2ggaW1wbGVtZW50cyBDb3JlRGlzcGF0Y2gge1xuICBob3N0OiBIb3N0O1xuICBtb2NrOiBEaXNwYXRjaERhdGE7XG5cbiAgLy8gRklYTUU6IHN1cHBseSBkZWZhdWx0IGNvbmZpZyBkYXRhXG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWd1cmF0aW9uKSB7XG4gICAgdGhpcy5tb2NrID0gY29uZmlnLm1vY2sgPyA8RGlzcGF0Y2hEYXRhPmNvbmZpZy5tb2NrLmRpc3BhdGNoIDoge307XG4gICAgdGhpcy5ob3N0ID0gY3JlYXRlSG9zdChjb25maWcpO1xuICB9XG5cbiAgYmluZENyZWRlbnRpYWxVcmwodXJsOiBzdHJpbmcpOiBQcm9taXNlPEJpbmRDcmVkZW50aWFsVjFSZXN1bHQ+IHtcbiAgICBpZiAodGhpcy5tb2NrLmJpbmRDcmVkZW50aWFsKSByZXR1cm4gcmVzb2x2ZSh0aGlzLm1vY2suYmluZENyZWRlbnRpYWwpO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICBjcmVkZW50aWFsOiB7XG4gICAgICAgIGlkOiBcIjEyMy00NTZcIixcbiAgICAgICAgbG9jYWxDcmVhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGxvY2FsVXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBhcGlCYXNlVXJsOiBcInd3dy5leGFtcGxlLmNvbVwiLFxuICAgICAgICB0ZW5hbnRJZDogXCJ0ZW5hbnQtaWRcIixcbiAgICAgICAgcmVhbG1JZDogXCJyZWFsbS1pZFwiLFxuICAgICAgICBpZGVudGl0eUlkOiBcImlkZW50aXR5LWlkXCIsXG4gICAgICAgIGNyZWRlbnRpYWxJZDogXCJhYmNcIixcbiAgICAgICAga2V5SGFuZGxlOiBcImFiY1wiLFxuICAgICAgICBzdGF0ZTogXCJBY3RpdmVcIixcbiAgICAgICAgY3JlYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHJlYWxtOiB7XG4gICAgICAgICAgbmFtZTogXCJyZWFsbVwiLFxuICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIk15IEZpcnN0IFJlYWxtXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGlkZW50aXR5OiB7XG4gICAgICAgICAgZGlzcGxheU5hbWU6IFwiRmlyc3QgVXNlclwiLFxuICAgICAgICAgIHVzZXJuYW1lOiBcIkZpcnN0VXNlclwiLFxuICAgICAgICAgIGVtYWlsQWRkcmVzczogXCJcIixcbiAgICAgICAgfSxcbiAgICAgICAgdGhlbWU6IHtcbiAgICAgICAgICBsb2dvVXJsTGlnaHQ6XG4gICAgICAgICAgICBcImh0dHBzOi8vYXBwLnJvbGxpbmcuYnluZGlkLnJ1bi9zdGF0aWMvaW1nL2xvZ28uZWFkYTRhZWJjODQ1ZmI0NTE0YjUucG5nXCIsXG4gICAgICAgICAgbG9nb1VybERhcms6XG4gICAgICAgICAgICBcImh0dHBzOi8vYXBwLnJvbGxpbmcuYnluZGlkLnJ1bi9zdGF0aWMvaW1nL2xvZ28uZWFkYTRhZWJjODQ1ZmI0NTE0YjUucG5nXCIsXG4gICAgICAgICAgcHJpbWFyeUNvbG9yTGlnaHQ6IFwiIzQ2NzNEM1wiLFxuICAgICAgICAgIHByaW1hcnlDb2xvckRhcms6IFwiI0ZGRkZGRlwiLFxuICAgICAgICAgIHN1cHBvcnRVcmw6XG4gICAgICAgICAgICBcImh0dHBzOi8vYmV5b25kaWRlbnRpdHkuYXRsYXNzaWFuLm5ldC93aWtpL3NwYWNlcy9DUy9vdmVydmlld1wiLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBvc3RCaW5kUmVkaXJlY3Q6IFwiaHR0cHM6Ly9nb29nbGUuY29tXCIsXG4gICAgfSk7XG4gIH1cblxuICBnZXRVcmxUeXBlKHVybDogc3RyaW5nKTogVXJsVHlwZSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJBdXRoZW50aWNhdGVcIiB9O1xuICB9XG5cbiAgdXBkYXRlQ3JlZGVudGlhbChjcmVkZW50aWFsSWQ6IHN0cmluZyk6IFByb21pc2U8Q3JlZGVudGlhbFYxPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICBpZDogXCIxMjMtNDU2XCIsXG4gICAgICBsb2NhbENyZWF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGxvY2FsVXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgYXBpQmFzZVVybDogXCJ3d3cuZXhhbXBsZS5jb21cIixcbiAgICAgIHRlbmFudElkOiBcInRlbmFudC1pZFwiLFxuICAgICAgcmVhbG1JZDogXCJyZWFsbS1pZFwiLFxuICAgICAgaWRlbnRpdHlJZDogXCJpZGVudGl0eS1pZFwiLFxuICAgICAgY3JlZGVudGlhbElkOiBcImFiY1wiLFxuICAgICAga2V5SGFuZGxlOiBcImFiY1wiLFxuICAgICAgc3RhdGU6IFwiUmV2b2tlZFwiLFxuICAgICAgY3JlYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgcmVhbG06IHtcbiAgICAgICAgbmFtZTogXCJyZWFsbVwiLFxuICAgICAgICBkaXNwbGF5TmFtZTogXCJNeSBGaXJzdCBSZWFsbVwiLFxuICAgICAgfSxcbiAgICAgIGlkZW50aXR5OiB7XG4gICAgICAgIGRpc3BsYXlOYW1lOiBcIkZpcnN0IFVzZXJcIixcbiAgICAgICAgdXNlcm5hbWU6IFwiRmlyc3RVc2VyXCIsXG4gICAgICAgIGVtYWlsQWRkcmVzczogXCJcIixcbiAgICAgIH0sXG4gICAgICB0aGVtZToge1xuICAgICAgICBsb2dvVXJsTGlnaHQ6XG4gICAgICAgICAgXCJodHRwczovL2FwcC5yb2xsaW5nLmJ5bmRpZC5ydW4vc3RhdGljL2ltZy9sb2dvLmVhZGE0YWViYzg0NWZiNDUxNGI1LnBuZ1wiLFxuICAgICAgICBsb2dvVXJsRGFyazpcbiAgICAgICAgICBcImh0dHBzOi8vYXBwLnJvbGxpbmcuYnluZGlkLnJ1bi9zdGF0aWMvaW1nL2xvZ28uZWFkYTRhZWJjODQ1ZmI0NTE0YjUucG5nXCIsXG4gICAgICAgIHByaW1hcnlDb2xvckxpZ2h0OiBcIiM0NjczRDNcIixcbiAgICAgICAgcHJpbWFyeUNvbG9yRGFyazogXCIjRkZGRkZGXCIsXG4gICAgICAgIHN1cHBvcnRVcmw6XG4gICAgICAgICAgXCJodHRwczovL2JleW9uZGlkZW50aXR5LmF0bGFzc2lhbi5uZXQvd2lraS9zcGFjZXMvQ1Mvb3ZlcnZpZXdcIixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBtaWdyYXRlRGF0YWJhc2UoYWxsb3dlZERvbWFpbnM/OiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgY2FuY2VsKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLm1vY2suY2FuY2VsKSByZXR1cm4gcmVzb2x2ZSh0aGlzLm1vY2suY2FuY2VsKTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGNyZWF0ZVBrY2UoKTogUHJvbWlzZTxQa2NlPiB7XG4gICAgaWYgKHRoaXMubW9jay5jcmVhdGVQa2NlKSByZXR1cm4gcmVzb2x2ZSh0aGlzLm1vY2suY3JlYXRlUGtjZSk7XG5cbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICBjb2RlVmVyaWZpZXI6IFwiXCIsXG4gICAgICBjb2RlQ2hhbGxlbmdlOiB7XG4gICAgICAgIGNoYWxsZW5nZTogXCIxMjNcIixcbiAgICAgICAgbWV0aG9kOiBcIlwiLFxuICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlQ3JlZGVudGlhbChcbiAgICBoYW5kbGU6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgaW1hZ2VVcmw6IHN0cmluZyxcbiAgICBsb2dpblVyaT86IHN0cmluZyxcbiAgICBlbnJvbGxVcmk/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxDcmVkZW50aWFsPiB7XG4gICAgaWYgKHRoaXMubW9jay5jcmVhdGVDcmVkZW50aWFsKSByZXR1cm4gcmVzb2x2ZSh0aGlzLm1vY2suY3JlYXRlQ3JlZGVudGlhbCk7XG5cbiAgICAvLyByZXR1cm4gdGhlIHByb2ZpbGUuXG4gICAgbGV0IHByb2ZpbGU6IENyZWRlbnRpYWwgPSB7XG4gICAgICBzdGF0ZTogXCJBY3RpdmVcIixcbiAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGhhbmRsZTogXCJhYmNkZVwiLFxuICAgICAga2V5SGFuZGxlOiBcIjEyMzQ1XCIsXG4gICAgICBuYW1lOiBcIkNhcmwgSHVuZ3VzXCIsXG4gICAgICBpbWFnZVVSTDogXCJ3d3cuZXhhbXBsZS5jb21cIixcbiAgICAgIGNoYWluOiBbXCJxd2VydHlcIiwgXCJhc2RmZ1wiXSxcbiAgICAgIHJvb3RGaW5nZXJwcmludDogXCIzXCIsXG4gICAgfTtcbiAgICByZXR1cm4gcHJvZmlsZTtcbiAgfVxuXG4gIGRlbGV0ZUNyZWRlbnRpYWwoaGFuZGxlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5tb2NrLmRlbGV0ZUNyZWRlbnRpYWwpIHJldHVybiByZXNvbHZlKHRoaXMubW9jay5kZWxldGVDcmVkZW50aWFsKTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGRlbGV0ZUNyZWRlbnRpYWxWMShpZDogQ3JlZGVudGlhbElkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgYXN5bmMgYXV0aGVudGljYXRlKFxuICAgIHVybDogc3RyaW5nLFxuICAgIHRydXN0ZWQ6IFRydXN0ZWRTb3VyY2UsXG4gICAgb25TZWxlY3RDcmVkZW50aWFsPzogKFxuICAgICAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxWMVtdXG4gICAgKSA9PiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD5cbiAgKTogUHJvbWlzZTxCSUF1dGhlbnRpY2F0ZVVybFJlc3BvbnNlPiB7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSAoYXdhaXQgcmVzb2x2ZSh0aGlzLm1vY2subGlzdENyZWRlbnRpYWxzKSkgPz8gW1xuICAgICAge1xuICAgICAgICBpZDogXCI0NTYtMTIzXCIsXG4gICAgICAgIGxvY2FsQ3JlYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBsb2NhbFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgYXBpQmFzZVVybDogXCJ3d3cuZXhhbXBsZS5jb21cIixcbiAgICAgICAgdGVuYW50SWQ6IFwidGVuYW50LWlkXCIsXG4gICAgICAgIHJlYWxtSWQ6IFwicmVhbG0taWRcIixcbiAgICAgICAgaWRlbnRpdHlJZDogXCJpZGVudGl0eS1pZC0xXCIsXG4gICAgICAgIGtleUhhbmRsZTogXCJhYmNcIixcbiAgICAgICAgc3RhdGU6IFwiQWN0aXZlXCIsXG4gICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICByZWFsbToge1xuICAgICAgICAgIG5hbWU6IFwicmVhbG1cIixcbiAgICAgICAgICBkaXNwbGF5TmFtZTogXCJNeSBGaXJzdCBSZWFsbVwiLFxuICAgICAgICB9LFxuICAgICAgICBpZGVudGl0eToge1xuICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIkZpcnN0IFVzZXJcIixcbiAgICAgICAgICB1c2VybmFtZTogXCJGaXJzdFVzZXJcIixcbiAgICAgICAgICBlbWFpbEFkZHJlc3M6IFwiXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHRoZW1lOiB7XG4gICAgICAgICAgbG9nb1VybExpZ2h0OlxuICAgICAgICAgICAgXCJodHRwczovL2FwcC5yb2xsaW5nLmJ5bmRpZC5ydW4vc3RhdGljL2ltZy9sb2dvLmVhZGE0YWViYzg0NWZiNDUxNGI1LnBuZ1wiLFxuICAgICAgICAgIGxvZ29VcmxEYXJrOlxuICAgICAgICAgICAgXCJodHRwczovL2FwcC5yb2xsaW5nLmJ5bmRpZC5ydW4vc3RhdGljL2ltZy9sb2dvLmVhZGE0YWViYzg0NWZiNDUxNGI1LnBuZ1wiLFxuICAgICAgICAgIHByaW1hcnlDb2xvckxpZ2h0OiBcIiM0NjczRDNcIixcbiAgICAgICAgICBwcmltYXJ5Q29sb3JEYXJrOiBcIiNGRkZGRkZcIixcbiAgICAgICAgICBzdXBwb3J0VXJsOlxuICAgICAgICAgICAgXCJodHRwczovL2JleW9uZGlkZW50aXR5LmF0bGFzc2lhbi5uZXQvd2lraS9zcGFjZXMvQ1Mvb3ZlcnZpZXdcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiBcIjEyMy00NTZcIixcbiAgICAgICAgbG9jYWxDcmVhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGxvY2FsVXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBhcGlCYXNlVXJsOiBcInd3dy5leGFtcGxlLmNvbVwiLFxuICAgICAgICB0ZW5hbnRJZDogXCJ0ZW5hbnQtaWRcIixcbiAgICAgICAgcmVhbG1JZDogXCJyZWFsbS1pZFwiLFxuICAgICAgICBpZGVudGl0eUlkOiBcImlkZW50aXR5LWlkLTJcIixcbiAgICAgICAga2V5SGFuZGxlOiBcImRlZlwiLFxuICAgICAgICBzdGF0ZTogXCJBY3RpdmVcIixcbiAgICAgICAgY3JlYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHJlYWxtOiB7XG4gICAgICAgICAgbmFtZTogXCJyZWFsbVwiLFxuICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIk15IEZpcnN0IFJlYWxtXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGlkZW50aXR5OiB7XG4gICAgICAgICAgZGlzcGxheU5hbWU6IFwiU2Vjb25kIFVzZXJcIixcbiAgICAgICAgICB1c2VybmFtZTogXCJTZWNvbmRVc2VyXCIsXG4gICAgICAgICAgZW1haWxBZGRyZXNzOiBcIlwiLFxuICAgICAgICB9LFxuICAgICAgICB0aGVtZToge1xuICAgICAgICAgIGxvZ29VcmxMaWdodDpcbiAgICAgICAgICAgIFwiaHR0cHM6Ly9hcHAucm9sbGluZy5ieW5kaWQucnVuL3N0YXRpYy9pbWcvbG9nby5lYWRhNGFlYmM4NDVmYjQ1MTRiNS5wbmdcIixcbiAgICAgICAgICBsb2dvVXJsRGFyazpcbiAgICAgICAgICAgIFwiaHR0cHM6Ly9hcHAucm9sbGluZy5ieW5kaWQucnVuL3N0YXRpYy9pbWcvbG9nby5lYWRhNGFlYmM4NDVmYjQ1MTRiNS5wbmdcIixcbiAgICAgICAgICBwcmltYXJ5Q29sb3JMaWdodDogXCIjNDY3M0QzXCIsXG4gICAgICAgICAgcHJpbWFyeUNvbG9yRGFyazogXCIjRkZGRkZGXCIsXG4gICAgICAgICAgc3VwcG9ydFVybDpcbiAgICAgICAgICAgIFwiaHR0cHM6Ly9iZXlvbmRpZGVudGl0eS5hdGxhc3NpYW4ubmV0L3dpa2kvc3BhY2VzL0NTL292ZXJ2aWV3XCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF07XG5cbiAgICBjb25zdCBzZWxlY3RlZENyZWRlbnRpYWxJZCA9IGF3YWl0IChvblNlbGVjdENyZWRlbnRpYWxcbiAgICAgID8gb25TZWxlY3RDcmVkZW50aWFsKGNyZWRlbnRpYWxzKVxuICAgICAgOiB0aGlzLmhvc3Quc2VsZWN0Q3JlZGVudGlhbFYxKGNyZWRlbnRpYWxzKSk7XG5cbiAgICBpZiAodGhpcy5tb2NrLmF1dGhlbnRpY2F0ZSkge1xuICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgcmVzb2x2ZSh0aGlzLm1vY2suYXV0aGVudGljYXRlKTtcbiAgICAgIGlmIChyZXNwb25zZS50eXBlID09IFwiYmlBdXRoZW50aWNhdGVcIikgcmV0dXJuIHJlc3BvbnNlLmJpQXV0aGVudGljYXRlO1xuICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIHR5cGVcIik7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgcmVkaXJlY3RVUkw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9iaS1hdXRoZW50aWNhdGUtZG9uZVwiLFxuICAgICAgbWVzc2FnZTogXCJva1wiLFxuICAgIH0pO1xuICB9XG5cbiAgYXV0aGVudGljYXRlQ29uZmlkZW50aWFsKFxuICAgIGF1dGhVUkw6IHN0cmluZyxcbiAgICBjbGllbnRJZDogc3RyaW5nLFxuICAgIHJlZGlyZWN0VVJJOiBzdHJpbmcsXG4gICAgc2NvcGU6IHN0cmluZyxcbiAgICBQS0NFQ29kZUNoYWxsZW5nZT86IFBrY2VDb2RlQ2hhbGxlbmdlLFxuICAgIG5vbmNlPzogc3RyaW5nXG4gICk6IFByb21pc2U8QXV0aG9yaXphdGlvbkNvZGU+IHtcbiAgICBpZiAodGhpcy5tb2NrLmF1dGhlbnRpY2F0ZUNvbmZpZGVudGlhbClcbiAgICAgIHJldHVybiByZXNvbHZlKHRoaXMubW9jay5hdXRoZW50aWNhdGVDb25maWRlbnRpYWwpO1xuXG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgY29kZTogXCJsbW5vcFwiLFxuICAgIH07XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7XG4gIH1cblxuICBhdXRoZW50aWNhdGVQdWJsaWMoXG4gICAgYXV0aFVSTDogc3RyaW5nLFxuICAgIHRva2VuVVJMOiBzdHJpbmcsXG4gICAgY2xpZW50SWQ6IHN0cmluZyxcbiAgICByZWRpcmVjdFVSSTogc3RyaW5nLFxuICAgIG5vbmNlPzogc3RyaW5nXG4gICk6IFByb21pc2U8VG9rZW5SZXNwb25zZT4ge1xuICAgIGlmICh0aGlzLm1vY2suYXV0aGVudGljYXRlUHVibGljKVxuICAgICAgcmV0dXJuIHJlc29sdmUodGhpcy5tb2NrLmF1dGhlbnRpY2F0ZVB1YmxpYyk7XG5cbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICBhY2Nlc3NUb2tlbjogXCIxMjNcIixcbiAgICAgIGlkVG9rZW46IFwiYWJjXCIsXG4gICAgICB0b2tlblR5cGU6IFwiYmVhcmVyXCIsXG4gICAgICBleHBpcmVzSW46IDUsXG4gICAgfTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgfVxuXG4gIGV4cG9ydChoYW5kbGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLm1vY2suZXhwb3J0KSByZXR1cm4gcmVzb2x2ZSh0aGlzLm1vY2suZXhwb3J0KTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGdldENyZWRlbnRpYWxzKCk6IFByb21pc2U8Q3JlZGVudGlhbFtdPiB7XG4gICAgaWYgKHRoaXMubW9jay5nZXRDcmVkZW50aWFscykgcmV0dXJuIHJlc29sdmUodGhpcy5tb2NrLmdldENyZWRlbnRpYWxzKTtcblxuICAgIGxldCByZXNwb25zZTogQ3JlZGVudGlhbCA9IHtcbiAgICAgIHN0YXRlOiBcIkFjdGl2ZVwiLFxuICAgICAgY3JlYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgaGFuZGxlOiBcImFiY2RlXCIsXG4gICAgICBrZXlIYW5kbGU6IFwiMTIzNDVcIixcbiAgICAgIG5hbWU6IFwiQ2FybCBIdW5ndXNcIixcbiAgICAgIGltYWdlVVJMOiBcInd3dy5leGFtcGxlLmNvbVwiLFxuICAgICAgY2hhaW46IFtcInF3ZXJ0eVwiLCBcImFzZGZnXCJdLFxuICAgICAgcm9vdEZpbmdlcnByaW50OiBcIjNcIixcbiAgICB9O1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW3Jlc3BvbnNlXSk7XG4gIH1cblxuICBhc3luYyBsaXN0Q3JlZGVudGlhbHMoKTogUHJvbWlzZTxDcmVkZW50aWFsVjFbXT4ge1xuICAgIGxldCByZXNwb25zZTogQ3JlZGVudGlhbFYxID0ge1xuICAgICAgaWQ6IFwiYWJjXCIsXG4gICAgICBsb2NhbENyZWF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGxvY2FsVXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgYXBpQmFzZVVybDogXCJ3d3cuZXhhbXBsZS5jb21cIixcbiAgICAgIHRlbmFudElkOiBcInRlbmFudC1pZFwiLFxuICAgICAgcmVhbG1JZDogXCJyZWFsbS1pZFwiLFxuICAgICAgaWRlbnRpdHlJZDogXCJpZGVudGl0eS1pZFwiLFxuICAgICAga2V5SGFuZGxlOiBcImFiY1wiLFxuICAgICAgc3RhdGU6IFwiQWN0aXZlXCIsXG4gICAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICByZWFsbToge1xuICAgICAgICBkaXNwbGF5TmFtZTogXCJNeSBGaXJzdCBSZWFsbVwiLFxuICAgICAgfSxcbiAgICAgIGlkZW50aXR5OiB7XG4gICAgICAgIGRpc3BsYXlOYW1lOiBcIkZpcnN0IFVzZXJcIixcbiAgICAgICAgdXNlcm5hbWU6IFwiRmlyc3RVc2VyXCIsXG4gICAgICAgIGVtYWlsQWRkcmVzczogXCJcIixcbiAgICAgIH0sXG4gICAgICB0aGVtZToge1xuICAgICAgICBsb2dvVXJsTGlnaHQ6XG4gICAgICAgICAgXCJodHRwczovL2FwcC5yb2xsaW5nLmJ5bmRpZC5ydW4vc3RhdGljL2ltZy9sb2dvLmVhZGE0YWViYzg0NWZiNDUxNGI1LnBuZ1wiLFxuICAgICAgICBsb2dvVXJsRGFyazpcbiAgICAgICAgICBcImh0dHBzOi8vYXBwLnJvbGxpbmcuYnluZGlkLnJ1bi9zdGF0aWMvaW1nL2xvZ28uZWFkYTRhZWJjODQ1ZmI0NTE0YjUucG5nXCIsXG4gICAgICAgIHN1cHBvcnRVcmw6XG4gICAgICAgICAgXCJodHRwczovL2JleW9uZGlkZW50aXR5LmF0bGFzc2lhbi5uZXQvd2lraS9zcGFjZXMvQ1Mvb3ZlcnZpZXdcIixcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAoYXdhaXQgcmVzb2x2ZSh0aGlzLm1vY2subGlzdENyZWRlbnRpYWxzKSkgPz8gUHJvbWlzZS5yZXNvbHZlKFtyZXNwb25zZV0pXG4gICAgKTtcbiAgfVxuXG4gIGdldEtleVR5cGUoa2V5SGFuZGxlOiBzdHJpbmcpOiBQcm9taXNlPEtleVR5cGU+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwic3VidGxlXCIpO1xuICB9XG5cbiAgaGFuZGxlVVJMKHVybDogc3RyaW5nLCB0cnVzdGVkOiBUcnVzdGVkU291cmNlKTogUHJvbWlzZTxVcmxSZXNwb25zZT4ge1xuICAgIGlmICh0aGlzLm1vY2suaGFuZGxlVVJMKSByZXR1cm4gcmVzb2x2ZSh0aGlzLm1vY2suaGFuZGxlVVJMKTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIk5vdCBzdXJlIHdoYXQgdG8gcmV0dXJuIGhlcmUuLi5cIik7XG4gIH1cblxuICBpbXBvcnQodG9rZW46IHN0cmluZyk6IFByb21pc2U8Q3JlZGVudGlhbCB8IHVuZGVmaW5lZD4ge1xuICAgIGlmICh0aGlzLm1vY2suaW1wb3J0KSByZXR1cm4gcmVzb2x2ZSh0aGlzLm1vY2suaW1wb3J0KTtcblxuICAgIGxldCByZXNwb25zZTogQ3JlZGVudGlhbCA9IHtcbiAgICAgIHN0YXRlOiBcIkFjdGl2ZVwiLFxuICAgICAgY3JlYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgaGFuZGxlOiBcImFiY2RlXCIsXG4gICAgICBrZXlIYW5kbGU6IFwiMTIzNDVcIixcbiAgICAgIG5hbWU6IFwiQ2FybCBIdW5ndXNcIixcbiAgICAgIGltYWdlVVJMOiBcInd3dy5leGFtcGxlLmNvbVwiLFxuICAgICAgY2hhaW46IFtcInF3ZXJ0eVwiLCBcImFzZGZnXCJdLFxuICAgICAgcm9vdEZpbmdlcnByaW50OiBcIjNcIixcbiAgICB9O1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICB9XG5cbiAgcmVnaXN0ZXIodXJsOiBzdHJpbmcsIHRydXN0ZWQ6IFRydXN0ZWRTb3VyY2UpOiBQcm9taXNlPFVybFJlc3BvbnNlPiB7XG4gICAgaWYgKHRoaXMubW9jay5yZWdpc3RlcikgcmV0dXJuIHJlc29sdmUodGhpcy5tb2NrLnJlZ2lzdGVyKTtcblxuICAgIGxldCBjcmVkZW50aWFsOiBDcmVkZW50aWFsID0ge1xuICAgICAgc3RhdGU6IFwiQWN0aXZlXCIsXG4gICAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBoYW5kbGU6IFwiYWJjZGVcIixcbiAgICAgIGtleUhhbmRsZTogXCIxMjM0NVwiLFxuICAgICAgbmFtZTogXCJDYXJsIEh1bmd1c1wiLFxuICAgICAgaW1hZ2VVUkw6IFwid3d3LmV4YW1wbGUuY29tXCIsXG4gICAgICBjaGFpbjogW1wicXdlcnR5XCIsIFwiYXNkZmdcIl0sXG4gICAgICByb290RmluZ2VycHJpbnQ6IFwiM1wiLFxuICAgIH07XG4gICAgbGV0IHJlc3BvbnNlOiBVcmxSZXNwb25zZSA9IHtcbiAgICAgIHR5cGU6IFwicmVnaXN0cmF0aW9uXCIsXG4gICAgICByZWdpc3RyYXRpb246IHtcbiAgICAgICAgY3JlZGVudGlhbDogY3JlZGVudGlhbCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgfVxuXG4gIGdldEFwcEluc3RhbmNlSWQgPSBhc3luYyAoKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwiMTIzXCIpO1xuICB9O1xuXG4gIGdldEJyb3dzZXJJbmZvID0gYXN5bmMgKCk6IFByb21pc2U8QnJvd3NlckluZm8+ID0+IHtcbiAgICByZXR1cm4ge307XG4gIH07XG59XG4iLCJpbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gZnJvbSBcIi4uL2NvbmZpZ3VyYXRpb25cIjtcbmltcG9ydCB7IEhvc3QsIEhvc3RFdmVudHMsIEltcG9ydEV2ZW50LCBFeHBvcnRFdmVudCB9IGZyb20gXCIuLi9ob3N0L2hvc3RcIjtcbmltcG9ydCB7XG4gIEtleUhhbmRsZSxcbiAgQ2VydEhhbmRsZSxcbiAgRmVhdHVyZUZsYWdSZXF1ZXN0LFxuICBGZWF0dXJlRmxhZ1Jlc3BvbnNlLFxuICBQYXRoVHlwZSxcbiAgSG9zdEZpbGVQYXRoLFxuICBQcm9tcHREZXRhaWwsXG4gIENsaWVudEVudmlyb25tZW50LFxuICBDcmVkZW50aWFsVjEsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgSG9zdERhdGEgfSBmcm9tIFwiLi9tb2NrQ29uZmlnXCI7XG5pbXBvcnQgeyBnZXQgfSBmcm9tIFwiLi9tb2NrRGF0YVwiO1xuXG5leHBvcnQgY2xhc3MgTW9ja0hvc3QgaW1wbGVtZW50cyBIb3N0LCBIb3N0RXZlbnRzIHtcbiAgbW9jazogSG9zdERhdGE7XG5cbiAgLy8gTm90ZTogdGhlc2UgYXJlIGFzc2lnbmFibGUsIGJ1dCBuZXZlciBjYWxsZWQuXG4gIG9uZXhwb3J0PzogKHRoaXM6IEhvc3QsIGV2OiBFeHBvcnRFdmVudCkgPT4gdm9pZDtcbiAgb25pbXBvcnQ/OiAodGhpczogSG9zdCwgZXY6IEltcG9ydEV2ZW50KSA9PiB2b2lkO1xuICBvblNlbGVjdENyZWRlbnRpYWxWMT86IChcbiAgICBjcmVkZW50aWFsczogQ3JlZGVudGlhbFYxW11cbiAgKSA9PiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD47XG5cbiAgcXVlcnlGZWF0dXJlRmxhZzogKGZsYWc6IHN0cmluZykgPT4gYm9vbGVhbjtcblxuICBnZXQgZXZlbnRzKCk6IEhvc3RFdmVudHMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWd1cmF0aW9uKSB7XG4gICAgdGhpcy5xdWVyeUZlYXR1cmVGbGFnID0gKHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5tb2NrID0gY29uZmlnLm1vY2sgPyA8SG9zdERhdGE+Y29uZmlnLm1vY2suaG9zdCA6IHt9O1xuICB9XG5cbiAgY2hlY2tGZWF0dXJlRmxhZ3MoXG4gICAgZmVhdHVyZV9mbGFnczogRmVhdHVyZUZsYWdSZXF1ZXN0W11cbiAgKTogRmVhdHVyZUZsYWdSZXNwb25zZVtdIHtcbiAgICBpZiAodGhpcy5tb2NrLmNoZWNrRmVhdHVyZUZsYWdzKSByZXR1cm4gZ2V0KHRoaXMubW9jay5jaGVja0ZlYXR1cmVGbGFncyk7XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmltcGxlbWVudGVkXCIpO1xuICB9XG5cbiAgZ2V0Q2xpZW50RW52aXJvbm1lbnQoKTogQ2xpZW50RW52aXJvbm1lbnQge1xuICAgIHJldHVybiB7XG4gICAgICBjcnlwdG9Tb3VyY2U6IFwiSGFsXCIsXG4gICAgICBrZXlTdG9yYWdlU3RyYXRlZ3k6IFwiRm9yY2VTb2Z0d2FyZVwiLFxuICAgIH07XG4gIH1cbiAgZXhwb3J0U3RhcnRlZChyZW5kZXp2b3VzX3Rva2VuOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb2NrLmV4cG9ydFN0YXJ0ZWQpIHJldHVybiBnZXQodGhpcy5tb2NrLmV4cG9ydFN0YXJ0ZWQpO1xuICB9XG5cbiAgZXhwb3J0VG9rZW5UaW1lb3V0KHJlbmRlenZvdXNfdG9rZW46IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLm1vY2suZXhwb3J0VG9rZW5UaW1lb3V0KSByZXR1cm4gZ2V0KHRoaXMubW9jay5leHBvcnRUb2tlblRpbWVvdXQpO1xuICB9XG5cbiAgZXhwb3J0UmVxdWVzdFJlY2VpdmVkKHJlcXVlc3RzOiBNYXA8c3RyaW5nLCBVaW50OEFycmF5Pik6IHZvaWQge1xuICAgIGlmICh0aGlzLm1vY2suZXhwb3J0UmVxdWVzdFJlY2VpdmVkKVxuICAgICAgcmV0dXJuIGdldCh0aGlzLm1vY2suZXhwb3J0UmVxdWVzdFJlY2VpdmVkKTtcbiAgfVxuXG4gIGdldERldmljZUdhdGV3YXlVcmwoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5tb2NrLmdldERldmljZUdhdGV3YXlVcmwpXG4gICAgICByZXR1cm4gZ2V0KHRoaXMubW9jay5nZXREZXZpY2VHYXRld2F5VXJsKTtcblxuICAgIHRocm93IG5ldyBFcnJvcihcInVuaW1wbGVtZW50ZWRcIik7XG4gIH1cblxuICBnZXRGaWxlUGF0aChwYXRoX3R5cGU6IFBhdGhUeXBlKTogSG9zdEZpbGVQYXRoIHtcbiAgICBpZiAodGhpcy5tb2NrLmdldEZpbGVQYXRoKSByZXR1cm4gZ2V0KHRoaXMubW9jay5nZXRGaWxlUGF0aCk7XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmltcGxlbWVudGVkXCIpO1xuICB9XG5cbiAgaW1wb3J0U3RhcnRlZCh0b2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubW9jay5pbXBvcnRTdGFydGVkKSByZXR1cm4gZ2V0KHRoaXMubW9jay5pbXBvcnRTdGFydGVkKTtcbiAgfVxuXG4gIGltcG9ydE1hbmlmZXN0UmVjZWl2ZWQobWFuaWZlc3RzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb2NrLmltcG9ydE1hbmlmZXN0UmVjZWl2ZWQpXG4gICAgICByZXR1cm4gZ2V0KHRoaXMubW9jay5pbXBvcnRNYW5pZmVzdFJlY2VpdmVkKTtcbiAgfVxuXG4gIGltcG9ydFJlcXVlc3RzVG9TaWduKHJlcXVlc3RzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb2NrLmltcG9ydFJlcXVlc3RzVG9TaWduKVxuICAgICAgcmV0dXJuIGdldCh0aGlzLm1vY2suaW1wb3J0UmVxdWVzdHNUb1NpZ24pO1xuICB9XG5cbiAgaW1wb3J0UmVjZWl2ZWRTaWduZWQoc2lnbmVkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb2NrLmltcG9ydFJlY2VpdmVkU2lnbmVkKVxuICAgICAgcmV0dXJuIGdldCh0aGlzLm1vY2suaW1wb3J0UmVjZWl2ZWRTaWduZWQpO1xuICB9XG5cbiAgYXNrKHByb2ZpbGVfaGFuZGxlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5tb2NrLmFzaykgcmV0dXJuIGdldCh0aGlzLm1vY2suYXNrKTtcblxuICAgIHRocm93IG5ldyBFcnJvcihcInVuaW1wbGVtZW50ZWRcIik7XG4gIH1cblxuICBhdXRoZW50aWNhdGlvblByb21wdChhcHBfbmFtZTogc3RyaW5nLCBkZXRhaWxfbGlzdDogUHJvbXB0RGV0YWlsW10pOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5tb2NrLmF1dGhlbnRpY2F0aW9uUHJvbXB0KVxuICAgICAgcmV0dXJuIGdldCh0aGlzLm1vY2suYXV0aGVudGljYXRpb25Qcm9tcHQpO1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidW5pbXBsZW1lbnRlZFwiKTtcbiAgfVxuXG4gIGxvZyhtc2c6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gIH1cblxuICBzZWxlY3RDcmVkZW50aWFsVjEoY3JlZGVudGlhbHM6IENyZWRlbnRpYWxWMVtdKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICBpZiAodGhpcy5vblNlbGVjdENyZWRlbnRpYWxWMSkge1xuICAgICAgcmV0dXJuIHRoaXMub25TZWxlY3RDcmVkZW50aWFsVjEoY3JlZGVudGlhbHMpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNyZWRlbnRpYWxzWzBdLmlkKTtcbiAgfVxufVxuIiwiZXhwb3J0IHsgQ2VydEhhbmRsZSwgS2V5SGFuZGxlLCBQcm9maWxlSGFuZGxlIH0gZnJvbSBcIi4vaGFuZGxlc1wiO1xuZXhwb3J0IHsgQ3JlZGVudGlhbCwgVXJsUmVzcG9uc2UsIEJJQXV0aGVudGljYXRlVXJsUmVzcG9uc2UgfSBmcm9tIFwiLi9jcmVkZW50aWFsXCI7XG5leHBvcnQge1xuICBDcmVkZW50aWFsVjEsXG4gIFJlYWxtVjEsXG4gIFRoZW1lVjEsXG4gIElkZW50aXR5VjEsXG4gIEJpbmRDcmVkZW50aWFsVjFSZXN1bHQsXG4gIENyZWRlbnRpYWxJZCxcbiAgUmVhbG1JZCxcbiAgVGVuYW50SWQsXG4gIElkZW50aXR5SWQsXG4gIENyZWRlbnRpYWxCaW5kaW5nSm9iSWQsXG59IGZyb20gXCIuL3YxXCI7XG5leHBvcnQgeyBTdGF0ZSwgS2V5VHlwZSwgSW50ZWdyaXR5RmFpbHVyZUVycm9yIH0gZnJvbSBcIi4vY3JlZGVudGlhbFwiO1xuZXhwb3J0IHsgUGtjZSwgUGtjZUNvZGVDaGFsbGVuZ2UgfSBmcm9tIFwiLi9wa2NlXCI7XG5leHBvcnQgeyBCcm93c2VySW5mbyB9IGZyb20gXCIuL2Jyb3dzZXJJbmZvXCI7XG5cbmV4cG9ydCB0eXBlIFRydXN0ZWRTb3VyY2UgPVxuICAvLyBUaGlzIGZlYXR1cmUgaXMgaW5hY3RpdmUgZWl0aGVyIGJlY2F1c2UgaXQgaXMgYmVoaW5kIGEgZmVhdHVyZSBmbGFnIG9yXG4gIC8vIG5vdCB1c2VkIGJ5IHRoZSB0ZW5hbnQuXG4gIHwgXCJJbmFjdGl2ZUZlYXR1cmVcIlxuICAvLyBUaGUgSGFuZGxlVXJsIHJlcXVlc3QgaXMgY29taW5nIGZyb20gYW4gdW50cnVzdGVkIHNvdXJjZS5cbiAgfCBcIlVudHJ1c3RlZFNvdXJjZVwiXG4gIC8vIFRoZSBIYW5kbGVVcmwgcmVxdWVzdCBpcyBjb21pbmcgZnJvbSBhIHRydXN0ZWQgc291cmNlLlxuICB8IFwiVHJ1c3RlZFNvdXJjZVwiXG4gIC8vIFRoZSBIYW5kbGVVcmwgcmVxdWVzdCBpcyBjb21pbmcgZnJvbSB0aGUgRW1iZWRkZWQgU0RLLlxuICB8IFwiRW1iZWRkZWRTb3VyY2VcIjtcblxuZXhwb3J0IGludGVyZmFjZSBBdXRob3JpemF0aW9uQ29kZSB7XG4gIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWdpc3RyYXRpb25SZXF1ZXN0IHtcbiAgZXh0ZXJuYWxJZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBkaXNwbGF5TmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBSZWNvdmVyUmVxdWVzdCA9IHsgRXh0ZXJuYWxJRDogc3RyaW5nIH0gfCB7IEludGVybmFsSUQ6IHN0cmluZyB9O1xuXG5leHBvcnQgdHlwZSBGZWF0dXJlRmxhZ1JlcXVlc3QgPSBcIklzSW50ZXJuYWxCdWlsZFwiO1xuXG5leHBvcnQgdHlwZSBGZWF0dXJlRmxhZ1Jlc3BvbnNlID0ge1xuICBJc0ludGVybmFsQnVpbGQ6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb21wdERldGFpbCB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGRldGFpbDogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBSZWdpc3RyYXRpb25TdGF0dXMgPVxuICB8IFwiVXNlclN0YXR1c0FjdGl2ZVwiXG4gIHwgXCJVc2VyU3RhdHVzU3VzcGVuZGVkXCJcbiAgfCBcIlVzZXJTdGF0dXNEZWxldGVkXCI7XG5cbmV4cG9ydCBlbnVtIFBhdGhUeXBlIHtcbiAgb3NRdWVyeSA9IDAsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSG9zdEZpbGVQYXRoIHtcbiAgdHlwZTogUGF0aFR5cGU7XG4gIHBhdGg6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgQ2hlY2tSZXRpcmVSZXNwb25zZSA9IHtcbiAgdmVyc2lvbjogbnVtYmVyO1xuICBpc1JldGlyZWQ6IGJvb2xlYW47XG4gIHJlYXNvbjogc3RyaW5nO1xuICBpbmZvVXJsOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFRva2VuUmVzcG9uc2Uge1xuICBhY2Nlc3NUb2tlbjogc3RyaW5nO1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIHRva2VuVHlwZTogc3RyaW5nO1xuICBleHBpcmVzSW46IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgQ3J5cHRvU291cmNlID0gXCJIb3N0XCIgfCBcIkhhbFwiO1xuZXhwb3J0IHR5cGUgS2V5U3RvcmFnZVN0cmF0ZWd5ID0gXCJUZWVJZkF2YWlsYWJsZVwiIHwgXCJGb3JjZVNvZnR3YXJlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50RW52aXJvbm1lbnQge1xuICBjcnlwdG9Tb3VyY2U6IENyeXB0b1NvdXJjZTtcbiAga2V5U3RvcmFnZVN0cmF0ZWd5OiBLZXlTdG9yYWdlU3RyYXRlZ3k7XG59XG4iLCJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlRXJyb3IoZXJyOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGVyciA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG5ldyBFcnJvcihlcnIpXG4gICAgZWxzZSBpZiAoXCJtZXNzYWdlXCIgaW4gZXJyKSByZXR1cm4gPEVycm9yPmVycjtcbiAgICBlbHNlIHJldHVybiBuZXcgRXJyb3IoZXJyKTtcbn1cbiIsImltcG9ydCAqIGFzIG9wdGltaXplbHlTZGsgZnJvbSBcIkBvcHRpbWl6ZWx5L29wdGltaXplbHktc2RrXCI7XG5pbXBvcnQge0Vudmlyb25tZW50fSBmcm9tIFwiLi4vZW52XCI7XG5cbmV4cG9ydCBjbGFzcyBPcHRpbWl6ZWx5IHtcbiAgLyoqXG4gICAqIFRoZSBvcHRpbWl6ZWx5IGNsaWVudFxuICAgKi9cbiAgY2xpZW50OiBvcHRpbWl6ZWx5U2RrLkNsaWVudDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKGNsaWVudDogb3B0aW1pemVseVNkay5DbGllbnQpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBpbml0KCk6IFByb21pc2U8T3B0aW1pemVseT4ge1xuICAgIGNvbnN0IGNsaWVudCA9IG9wdGltaXplbHlTZGsuY3JlYXRlSW5zdGFuY2Uoe1xuICAgICAgc2RrS2V5OiBFbnZpcm9ubWVudC5vcHRpbWl6ZWx5U2RrS2V5LFxuICAgIH0pO1xuICAgIGNvbnN0IHJlYWR5ID0gYXdhaXQgY2xpZW50Lm9uUmVhZHkoKTtcbiAgICBpZiAoIXJlYWR5LnN1Y2Nlc3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihyZWFkeS5yZWFzb24gPz8gXCJPcHRpbWl6ZWx5IGVycm9yXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9wdGltaXplbHkoY2xpZW50KTtcbiAgfVxuXG4gIHF1ZXJ5RmVhdHVyZUZsYWcoXG4gICAgZmxhZzogc3RyaW5nLFxuICAgIGFwcEluc3RhbmNlSWQ6IHN0cmluZ1xuICApOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKGZsYWcpIHtcbiAgICAgIGNhc2UgXCJjcnlwdG9fcHJvdmlkZXJfaGFsXCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudC5pc0ZlYXR1cmVFbmFibGVkKGZsYWcsIGFwcEluc3RhbmNlSWQpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdsb2JhbCBvcGltaXplbHkgaW5zdGFuY2UuXG4gKlxuICogV2UgcmVhZCBvcHRpbWl6ZWx5IGRhdGEgaW4gcmVzcG9uc2UgdG8gYSBzeW5jaHJvbm91cyBob3N0XG4gKiBjYWxsYmFjaywgc28gd2UgY2FuJ3QgaW5pdCBvcHRpbWl6ZWx5ICYgZ2V0IHRoZSBhcHAgaW5zdGFuY2VcbiAqIGlkIGF0IHRoZSBwb2ludCBvZiB0aGUgY2FsbCAoYm90aCBhc3luYykuIFNvIHdlIGluaXQgb25jZSBhdFxuICogc3RhcnR1cCBhbmQgc2F2ZSB0aGUgZGF0YSBnbG9iYWxseS5cbiAqL1xudmFyIG9wdGltaXplbHk6IE9wdGltaXplbHkgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4iLCJ2YXIgdjEgPSByZXF1aXJlKCcuL3YxJyk7XG52YXIgdjQgPSByZXF1aXJlKCcuL3Y0Jyk7XG5cbnZhciB1dWlkID0gdjQ7XG51dWlkLnYxID0gdjE7XG51dWlkLnY0ID0gdjQ7XG5cbm1vZHVsZS5leHBvcnRzID0gdXVpZDtcbiIsIi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xufVxuXG5mdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICB2YXIgYnRoID0gYnl0ZVRvSGV4O1xuICAvLyBqb2luIHVzZWQgdG8gZml4IG1lbW9yeSBpc3N1ZSBjYXVzZWQgYnkgY29uY2F0ZW5hdGlvbjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzE3NSNjNFxuICByZXR1cm4gKFtcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXVxuICBdKS5qb2luKCcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBieXRlc1RvVXVpZDtcbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xudmFyIF9jbG9ja3NlcTtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7XG5cbiAgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBybmcoKTtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW1xuICAgICAgICBzZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgICAgICBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XVxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG4gIHZhciBkdCA9IChtc2VjcyAtIF9sYXN0TVNlY3MpICsgKG5zZWNzIC0gX2xhc3ROU2VjcykvMTAwMDA7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9XG5cbiAgLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfVxuXG4gIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblxcJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjJyk7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gIC8vIGB0aW1lX2xvd2BcbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjtcblxuICAvLyBgdGltZV9taWRgXG4gIHZhciB0bWggPSAobXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwKSAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gIC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7XG5cbiAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjtcblxuICAvLyBgbm9kZWBcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmID8gYnVmIDogYnl0ZXNUb1V1aWQoYik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjE7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmFtZE8gPSB7fTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdFwibWFpblwiOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiZXhwb3J0IHsgQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25cIjtcbmV4cG9ydCB7IENvcmUsIENvcmVCdWlsZGVyIH0gZnJvbSBcIi4vY29yZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCB7IEltcG9ydEV2ZW50LCBFeHBvcnRFdmVudCB9IGZyb20gXCIuL2hvc3RcIjtcbmV4cG9ydCB7IEVudmlyb25tZW50IH0gZnJvbSBcIi4vZW52XCI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9